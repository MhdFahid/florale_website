(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();const S6="modulepreload",N6=function(r){return"/"+r},dv={},d0=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){let d=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=d(e.map(m=>{if(m=N6(m),m in dv)return;dv[m]=!0;const v=m.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":S6,v||(A.as="script"),A.crossOrigin="",A.href=m,h&&A.setAttribute("nonce",h),document.head.appendChild(A),v)return new Promise((w,M)=>{A.addEventListener("load",w),A.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();var D9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k6(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fv={exports:{}},Cd={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var pv;function A6(){if(pv)return Cd;pv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:r,type:n,key:u,ref:s!==void 0?s:null,props:o}}return Cd.Fragment=t,Cd.jsx=e,Cd.jsxs=e,Cd}var mv;function E6(){return mv||(mv=1,fv.exports=A6()),fv.exports}var E=E6(),gv={exports:{}},Ze={};/**
* @license React
* react.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var yv;function I6(){if(yv)return Ze;yv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),A=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=A&&H[A]||H["@@iterator"],typeof H=="function"?H:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,$={};function B(H,O,K){this.props=H,this.context=O,this.refs=$,this.updater=K||M}B.prototype.isReactComponent={},B.prototype.setState=function(H,O){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,O,"setState")},B.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function et(){}et.prototype=B.prototype;function tt(H,O,K){this.props=H,this.context=O,this.refs=$,this.updater=K||M}var ct=tt.prototype=new et;ct.constructor=tt,F(ct,B.prototype),ct.isPureReactComponent=!0;var At=Array.isArray;function It(){}var Q={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function C(H,O,K){var X=K.ref;return{$$typeof:r,type:H,key:O,ref:X!==void 0?X:null,props:K}}function q(H,O){return C(H.type,O,H.props)}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===r}function R(H){var O={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(K){return O[K]})}var j=/\/+/g;function ot(H,O){return typeof H=="object"&&H!==null&&H.key!=null?R(""+H.key):O.toString(36)}function _t(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(It,It):(H.status="pending",H.then(function(O){H.status==="pending"&&(H.status="fulfilled",H.value=O)},function(O){H.status==="pending"&&(H.status="rejected",H.reason=O)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function nt(H,O,K,X,st){var dt=typeof H;(dt==="undefined"||dt==="boolean")&&(H=null);var yt=!1;if(H===null)yt=!0;else switch(dt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(H.$$typeof){case r:case t:yt=!0;break;case v:return yt=H._init,nt(yt(H._payload),O,K,X,st)}}if(yt)return st=st(H),yt=X===""?"."+ot(H,0):X,At(st)?(K="",yt!=null&&(K=yt.replace(j,"$&/")+"/"),nt(st,O,K,"",function(Mt){return Mt})):st!=null&&(L(st)&&(st=q(st,K+(st.key==null||H&&H.key===st.key?"":(""+st.key).replace(j,"$&/")+"/")+yt)),O.push(st)),1;yt=0;var Tt=X===""?".":X+":";if(At(H))for(var Nt=0;Nt<H.length;Nt++)X=H[Nt],dt=Tt+ot(X,Nt),yt+=nt(X,O,K,dt,st);else if(Nt=w(H),typeof Nt=="function")for(H=Nt.call(H),Nt=0;!(X=H.next()).done;)X=X.value,dt=Tt+ot(X,Nt++),yt+=nt(X,O,K,dt,st);else if(dt==="object"){if(typeof H.then=="function")return nt(_t(H),O,K,X,st);throw O=String(H),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return yt}function ut(H,O,K){if(H==null)return H;var X=[],st=0;return nt(H,X,"","",function(dt){return O.call(K,dt,st++)}),X}function Z(H){if(H._status===-1){var O=H._result;O=O(),O.then(function(K){(H._status===0||H._status===-1)&&(H._status=1,H._result=K)},function(K){(H._status===0||H._status===-1)&&(H._status=2,H._result=K)}),H._status===-1&&(H._status=0,H._result=O)}if(H._status===1)return H._result.default;throw H._result}var bt=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},qt={map:ut,forEach:function(H,O,K){ut(H,function(){O.apply(this,arguments)},K)},count:function(H){var O=0;return ut(H,function(){O++}),O},toArray:function(H){return ut(H,function(O){return O})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Ze.Activity=_,Ze.Children=qt,Ze.Component=B,Ze.Fragment=e,Ze.Profiler=s,Ze.PureComponent=tt,Ze.StrictMode=n,Ze.Suspense=d,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(H){return Q.H.useMemoCache(H)}},Ze.cache=function(H){return function(){return H.apply(null,arguments)}},Ze.cacheSignal=function(){return null},Ze.cloneElement=function(H,O,K){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var X=F({},H.props),st=H.key;if(O!=null)for(dt in O.key!==void 0&&(st=""+O.key),O)!N.call(O,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&O.ref===void 0||(X[dt]=O[dt]);var dt=arguments.length-2;if(dt===1)X.children=K;else if(1<dt){for(var yt=Array(dt),Tt=0;Tt<dt;Tt++)yt[Tt]=arguments[Tt+2];X.children=yt}return C(H.type,st,X)},Ze.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Ze.createElement=function(H,O,K){var X,st={},dt=null;if(O!=null)for(X in O.key!==void 0&&(dt=""+O.key),O)N.call(O,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(st[X]=O[X]);var yt=arguments.length-2;if(yt===1)st.children=K;else if(1<yt){for(var Tt=Array(yt),Nt=0;Nt<yt;Nt++)Tt[Nt]=arguments[Nt+2];st.children=Tt}if(H&&H.defaultProps)for(X in yt=H.defaultProps,yt)st[X]===void 0&&(st[X]=yt[X]);return C(H,dt,st)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(H){return{$$typeof:h,render:H}},Ze.isValidElement=L,Ze.lazy=function(H){return{$$typeof:v,_payload:{_status:-1,_result:H},_init:Z}},Ze.memo=function(H,O){return{$$typeof:m,type:H,compare:O===void 0?null:O}},Ze.startTransition=function(H){var O=Q.T,K={};Q.T=K;try{var X=H(),st=Q.S;st!==null&&st(K,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(It,bt)}catch(dt){bt(dt)}finally{O!==null&&K.types!==null&&(O.types=K.types),Q.T=O}},Ze.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Ze.use=function(H){return Q.H.use(H)},Ze.useActionState=function(H,O,K){return Q.H.useActionState(H,O,K)},Ze.useCallback=function(H,O){return Q.H.useCallback(H,O)},Ze.useContext=function(H){return Q.H.useContext(H)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(H,O){return Q.H.useDeferredValue(H,O)},Ze.useEffect=function(H,O){return Q.H.useEffect(H,O)},Ze.useEffectEvent=function(H){return Q.H.useEffectEvent(H)},Ze.useId=function(){return Q.H.useId()},Ze.useImperativeHandle=function(H,O,K){return Q.H.useImperativeHandle(H,O,K)},Ze.useInsertionEffect=function(H,O){return Q.H.useInsertionEffect(H,O)},Ze.useLayoutEffect=function(H,O){return Q.H.useLayoutEffect(H,O)},Ze.useMemo=function(H,O){return Q.H.useMemo(H,O)},Ze.useOptimistic=function(H,O){return Q.H.useOptimistic(H,O)},Ze.useReducer=function(H,O,K){return Q.H.useReducer(H,O,K)},Ze.useRef=function(H){return Q.H.useRef(H)},Ze.useState=function(H){return Q.H.useState(H)},Ze.useSyncExternalStore=function(H,O,K){return Q.H.useSyncExternalStore(H,O,K)},Ze.useTransition=function(){return Q.H.useTransition()},Ze.version="19.2.0",Ze}var vv;function M1(){return vv||(vv=1,gv.exports=I6()),gv.exports}var Ge=M1();const gp=k6(Ge);var f0={exports:{}},Td={},bv={exports:{}},wv={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var xv;function L6(){return xv||(xv=1,(function(r){function t(nt,ut){var Z=nt.length;nt.push(ut);t:for(;0<Z;){var bt=Z-1>>>1,qt=nt[bt];if(0<s(qt,ut))nt[bt]=ut,nt[Z]=qt,Z=bt;else break t}}function e(nt){return nt.length===0?null:nt[0]}function n(nt){if(nt.length===0)return null;var ut=nt[0],Z=nt.pop();if(Z!==ut){nt[0]=Z;t:for(var bt=0,qt=nt.length,H=qt>>>1;bt<H;){var O=2*(bt+1)-1,K=nt[O],X=O+1,st=nt[X];if(0>s(K,Z))X<qt&&0>s(st,K)?(nt[bt]=st,nt[X]=Z,bt=X):(nt[bt]=K,nt[O]=Z,bt=O);else if(X<qt&&0>s(st,Z))nt[bt]=st,nt[X]=Z,bt=X;else break t}}return ut}function s(nt,ut){var Z=nt.sortIndex-ut.sortIndex;return Z!==0?Z:nt.id-ut.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var d=[],m=[],v=1,_=null,A=3,w=!1,M=!1,F=!1,$=!1,B=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function ct(nt){for(var ut=e(m);ut!==null;){if(ut.callback===null)n(m);else if(ut.startTime<=nt)n(m),ut.sortIndex=ut.expirationTime,t(d,ut);else break;ut=e(m)}}function At(nt){if(F=!1,ct(nt),!M)if(e(d)!==null)M=!0,It||(It=!0,R());else{var ut=e(m);ut!==null&&_t(At,ut.startTime-nt)}}var It=!1,Q=-1,N=5,C=-1;function q(){return $?!0:!(r.unstable_now()-C<N)}function L(){if($=!1,It){var nt=r.unstable_now();C=nt;var ut=!0;try{t:{M=!1,F&&(F=!1,et(Q),Q=-1),w=!0;var Z=A;try{e:{for(ct(nt),_=e(d);_!==null&&!(_.expirationTime>nt&&q());){var bt=_.callback;if(typeof bt=="function"){_.callback=null,A=_.priorityLevel;var qt=bt(_.expirationTime<=nt);if(nt=r.unstable_now(),typeof qt=="function"){_.callback=qt,ct(nt),ut=!0;break e}_===e(d)&&n(d),ct(nt)}else n(d);_=e(d)}if(_!==null)ut=!0;else{var H=e(m);H!==null&&_t(At,H.startTime-nt),ut=!1}}break t}finally{_=null,A=Z,w=!1}ut=void 0}}finally{ut?R():It=!1}}}var R;if(typeof tt=="function")R=function(){tt(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ot=j.port2;j.port1.onmessage=L,R=function(){ot.postMessage(null)}}else R=function(){B(L,0)};function _t(nt,ut){Q=B(function(){nt(r.unstable_now())},ut)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(nt){nt.callback=null},r.unstable_forceFrameRate=function(nt){0>nt||125<nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<nt?Math.floor(1e3/nt):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(nt){switch(A){case 1:case 2:case 3:var ut=3;break;default:ut=A}var Z=A;A=ut;try{return nt()}finally{A=Z}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(nt,ut){switch(nt){case 1:case 2:case 3:case 4:case 5:break;default:nt=3}var Z=A;A=nt;try{return ut()}finally{A=Z}},r.unstable_scheduleCallback=function(nt,ut,Z){var bt=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?bt+Z:bt):Z=bt,nt){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=Z+qt,nt={id:v++,callback:ut,priorityLevel:nt,startTime:Z,expirationTime:qt,sortIndex:-1},Z>bt?(nt.sortIndex=Z,t(m,nt),e(d)===null&&nt===e(m)&&(F?(et(Q),Q=-1):F=!0,_t(At,Z-bt))):(nt.sortIndex=qt,t(d,nt),M||w||(M=!0,It||(It=!0,R()))),nt},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(nt){var ut=A;return function(){var Z=A;A=ut;try{return nt.apply(this,arguments)}finally{A=Z}}}})(wv)),wv}var _v;function C6(){return _v||(_v=1,bv.exports=L6()),bv.exports}var p0={exports:{}},ua={};/**
* @license React
* react-dom.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Sv;function T6(){if(Sv)return ua;Sv=1;var r=M1();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:m,implementation:v}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ua.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ua.createPortal=function(d,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,v)},ua.flushSync=function(d){var m=u.T,v=n.p;try{if(u.T=null,n.p=2,d)return d()}finally{u.T=m,n.p=v,n.d.f()}},ua.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(d,m))},ua.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},ua.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?n.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:A,fetchPriority:w}):v==="script"&&n.d.X(d,{crossOrigin:_,integrity:A,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ua.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);n.d.M(d,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(d)},ua.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin);n.d.L(d,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ua.preloadModule=function(d,m){if(typeof d=="string")if(m){var v=h(m.as,m.crossOrigin);n.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(d)},ua.requestFormReset=function(d){n.d.r(d)},ua.unstable_batchedUpdates=function(d,m){return d(m)},ua.useFormState=function(d,m,v){return u.H.useFormState(d,m,v)},ua.useFormStatus=function(){return u.H.useHostTransitionStatus()},ua.version="19.2.0",ua}var Nv;function O4(){if(Nv)return p0.exports;Nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),p0.exports=T6(),p0.exports}/**
* @license React
* react-dom-client.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var kv;function P6(){if(kv)return Td;kv=1;var r=C6(),t=M1(),e=O4();function n(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(n(188))}function m(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(n(188));return a!==i?null:i}for(var l=i,c=a;;){var g=l.return;if(g===null)break;var b=g.alternate;if(b===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===l)return d(g),i;if(b===c)return d(g),a;b=b.sibling}throw Error(n(188))}if(l.return!==c.return)l=g,c=b;else{for(var T=!1,W=g.child;W;){if(W===l){T=!0,l=g,c=b;break}if(W===c){T=!0,c=g,l=b;break}W=W.sibling}if(!T){for(W=b.child;W;){if(W===l){T=!0,l=b,c=g;break}if(W===c){T=!0,c=b,l=g;break}W=W.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:a}function v(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=v(i),a!==null)return a;i=i.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),At=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function R(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var j=Symbol.for("react.client.reference");function ot(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===j?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case F:return"Fragment";case B:return"Profiler";case $:return"StrictMode";case At:return"Suspense";case It:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case tt:return i.displayName||"Context";case et:return(i._context.displayName||"Context")+".Consumer";case ct:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Q:return a=i.displayName||null,a!==null?a:ot(i.type)||"Memo";case N:a=i._payload,i=i._init;try{return ot(i(a))}catch{}}return null}var _t=Array.isArray,nt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},bt=[],qt=-1;function H(i){return{current:i}}function O(i){0>qt||(i.current=bt[qt],bt[qt]=null,qt--)}function K(i,a){qt++,bt[qt]=i.current,i.current=a}var X=H(null),st=H(null),dt=H(null),yt=H(null);function Tt(i,a){switch(K(dt,a),K(st,i),K(X,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?j5(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=j5(a),i=F5(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}O(X),K(X,i)}function Nt(){O(X),O(st),O(dt)}function Mt(i){i.memoizedState!==null&&K(yt,i);var a=X.current,l=F5(a,i.type);a!==l&&(K(st,i),K(X,l))}function Yt(i){st.current===i&&(O(X),O(st)),yt.current===i&&(O(yt),Ad._currentValue=Z)}var te,ne;function jt(i){if(te===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);te=a&&a[1]||"",ne=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+te+i+ne}var lt=!1;function Je(i,a){if(!i||lt)return"";lt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(Rt){var Ot=Rt}Reflect.construct(i,[],Ht)}else{try{Ht.call()}catch(Rt){Ot=Rt}i.call(Ht.prototype)}}else{try{throw Error()}catch(Rt){Ot=Rt}(Ht=i())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(Rt){if(Rt&&Ot&&typeof Rt.stack=="string")return[Rt.stack,Ot.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),T=b[0],W=b[1];if(T&&W){var ht=T.split(`
`),Ct=W.split(`
`);for(g=c=0;c<ht.length&&!ht[c].includes("DetermineComponentFrameRoot");)c++;for(;g<Ct.length&&!Ct[g].includes("DetermineComponentFrameRoot");)g++;if(c===ht.length||g===Ct.length)for(c=ht.length-1,g=Ct.length-1;1<=c&&0<=g&&ht[c]!==Ct[g];)g--;for(;1<=c&&0<=g;c--,g--)if(ht[c]!==Ct[g]){if(c!==1||g!==1)do if(c--,g--,0>g||ht[c]!==Ct[g]){var Bt=`
`+ht[c].replace(" at new "," at ");return i.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",i.displayName)),Bt}while(1<=c&&0<=g);break}}}finally{lt=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?jt(l):""}function qe(i,a){switch(i.tag){case 26:case 27:case 5:return jt(i.type);case 16:return jt("Lazy");case 13:return i.child!==a&&a!==null?jt("Suspense Fallback"):jt("Suspense");case 19:return jt("SuspenseList");case 0:case 15:return Je(i.type,!1);case 11:return Je(i.type.render,!1);case 1:return Je(i.type,!0);case 31:return jt("Activity");default:return""}}function we(i){try{var a="",l=null;do a+=qe(i,l),l=i,i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Wt=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,ee=r.unstable_cancelCallback,Qe=r.unstable_shouldYield,ve=r.unstable_requestPaint,We=r.unstable_now,Re=r.unstable_getCurrentPriorityLevel,De=r.unstable_ImmediatePriority,Sr=r.unstable_UserBlockingPriority,je=r.unstable_NormalPriority,be=r.unstable_LowPriority,Pe=r.unstable_IdlePriority,ge=r.log,Fr=r.unstable_setDisableYieldValue,rr=null,ae=null;function Ne(i){if(typeof ge=="function"&&Fr(i),ae&&typeof ae.setStrictMode=="function")try{ae.setStrictMode(rr,i)}catch{}}var Me=Math.clz32?Math.clz32:ze,Ee=Math.log,ir=Math.LN2;function ze(i){return i>>>=0,i===0?32:31-(Ee(i)/ir|0)|0}var Cr=256,an=262144,Ve=4194304;function ke(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ar(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var g=0,b=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var W=c&134217727;return W!==0?(c=W&~b,c!==0?g=ke(c):(T&=W,T!==0?g=ke(T):l||(l=W&~i,l!==0&&(g=ke(l))))):(W=c&~b,W!==0?g=ke(W):T!==0?g=ke(T):l||(l=c&~i,l!==0&&(g=ke(l)))),g===0?0:a!==0&&a!==g&&(a&b)===0&&(b=g&-g,l=a&-a,b>=l||b===32&&(l&4194048)!==0)?a:g}function ui(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function ti(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ra(){var i=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),i}function Hn(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function xe(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ss(i,a,l,c,g,b){var T=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var W=i.entanglements,ht=i.expirationTimes,Ct=i.hiddenUpdates;for(l=T&~l;0<l;){var Bt=31-Me(l),Ht=1<<Bt;W[Bt]=0,ht[Bt]=-1;var Ot=Ct[Bt];if(Ot!==null)for(Ct[Bt]=null,Bt=0;Bt<Ot.length;Bt++){var Rt=Ot[Bt];Rt!==null&&(Rt.lane&=-536870913)}l&=~Ht}c!==0&&Bi(i,c,0),b!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=b&~(T&~a))}function Bi(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Me(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function Ni(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-Me(l),g=1<<c;g&a|i[c]&a&&(i[c]|=a),l&=~g}}function ki(i,a){var l=a&-a;return l=(l&42)!==0?1:Br(l),(l&(i.suspendedLanes|a))!==0?0:l}function Br(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Yr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function On(){var i=ut.p;return i!==0?i:(i=window.event,i===void 0?32:av(i.type))}function ci(i,a){var l=ut.p;try{return ut.p=i,a()}finally{ut.p=l}}var ei=Math.random().toString(36).slice(2),Tr="__reactFiber$"+ei,zr="__reactProps$"+ei,Rn="__reactContainer$"+ei,Ai="__reactEvents$"+ei,na="__reactListeners$"+ei,Ss="__reactHandles$"+ei,va="__reactResources$"+ei,Ei="__reactMarker$"+ei;function os(i){delete i[Tr],delete i[zr],delete i[Ai],delete i[na],delete i[Ss]}function qi(i){var a=i[Tr];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Rn]||l[Tr]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=V5(i);i!==null;){if(l=i[Tr])return l;i=V5(i)}return a}i=l,l=i.parentNode}return null}function hi(i){if(i=i[Tr]||i[Rn]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function zi(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(n(33))}function ia(i){var a=i[va];return a||(a=i[va]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function dn(i){i[Ei]=!0}var wo=new Set,Ii={};function aa(i,a){ba(i,a),ba(i+"Capture",a)}function ba(i,a){for(Ii[i]=a,i=0;i<a.length;i++)wo.add(a[i])}var $s=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},_o={};function al(i){return Wt.call(_o,i)?!0:Wt.call(xo,i)?!1:$s.test(i)?_o[i]=!0:(xo[i]=!0,!1)}function ls(i,a,l){if(al(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Vi(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function sr(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}function Nn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function us(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wa(i,a,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,b=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){l=""+T,b.call(this,T)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function hr(i){if(!i._valueTracker){var a=us(i)?"checked":"value";i._valueTracker=wa(i,a,""+i[a])}}function di(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=us(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Li(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Vr=/[\n"\\]/g;function fi(i){return i.replace(Vr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function So(i,a,l,c,g,b,T,W){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),a!=null?T==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Nn(a)):i.value!==""+Nn(a)&&(i.value=""+Nn(a)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),a!=null?sl(i,T,Nn(a)):l!=null?sl(i,T,Nn(l)):c!=null&&i.removeAttribute("value"),g==null&&b!=null&&(i.defaultChecked=!!b),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?i.name=""+Nn(W):i.removeAttribute("name")}function Gl(i,a,l,c,g,b,T,W){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){hr(i);return}l=l!=null?""+Nn(l):"",a=a!=null?""+Nn(a):l,W||a===i.value||(i.value=a),i.defaultValue=a}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=W?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),hr(i)}function sl(i,a,l){a==="number"&&Li(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function pi(i,a,l,c){if(i=i.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=a.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Nn(l),a=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function ol(i,a,l){if(a!=null&&(a=""+Nn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Nn(l):""}function cs(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(n(92));if(_t(c)){if(1<c.length)throw Error(n(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Nn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),hr(i)}function kn(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var No=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||No.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function ul(i,a,l){if(a!=null&&typeof a!="object")throw Error(n(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in a)c=a[g],a.hasOwnProperty(g)&&l[g]!==c&&ll(i,g,c)}else for(var b in a)a.hasOwnProperty(b)&&ll(i,b,a[b])}function ko(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ao=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(i){return sa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function _a(){}var hs=null;function Ci(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Te=null,ja=null;function Ws(i){var a=hi(i);if(a&&(i=a.stateNode)){var l=i[zr]||null;t:switch(i=a.stateNode,a.type){case"input":if(So(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+fi(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var g=c[zr]||null;if(!g)throw Error(n(90));So(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&di(c)}break t;case"textarea":ol(i,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&pi(i,!!l.multiple,a,!1)}}}var Eo=!1;function Ns(i,a,l){if(Eo)return i(a,l);Eo=!0;try{var c=i(a);return c}finally{if(Eo=!1,(Te!==null||ja!==null)&&(Gf(),Te&&(a=Te,i=ja,ja=Te=null,Ws(a),i)))for(a=0;a<i.length;a++)Ws(i[a])}}function Kn(i,a){var l=i.stateNode;if(l===null)return null;var c=l[zr]||null;if(c===null)return null;l=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,a,typeof l));return l}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hs=!1;if(jn)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Hs=!1}var $i=null,Ks=null,Sa=null;function ks(){if(Sa)return Sa;var i,a=Ks,l=a.length,c,g="value"in $i?$i.value:$i.textContent,b=g.length;for(i=0;i<l&&a[i]===g[i];i++);var T=l-i;for(c=1;c<=T&&a[l-c]===g[b-c];c++);return Sa=g.slice(i,1<c?1-c:void 0)}function Fa(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ds(){return!0}function Wi(){return!1}function An(i){function a(l,c,g,b,T){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var W in i)i.hasOwnProperty(W)&&(l=i[W],this[W]=l?l(b):b[W]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ds:Wi,this.isPropagationStopped=Wi,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),a}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=An(Hi),Da=_({},Hi,{view:0,detail:0}),As=An(Da),Ma,Ua,Na,Gs=_({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ie,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Na&&(Na&&i.type==="mousemove"?(Ma=i.screenX-Na.screenX,Ua=i.screenY-Na.screenY):Ua=Ma=0,Na=i),Ma)},movementY:function(i){return"movementY"in i?i.movementY:Ua}}),ka=An(Gs),Ki=_({},Gs,{dataTransfer:0}),cl=An(Ki),hl=_({},Da,{relatedTarget:0}),Aa=An(hl),Io=_({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),x=An(Io),D=_({},Hi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),it=An(D),ft=_({},Hi,{data:0}),vt=An(ft),Ut={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},le={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=le[i])?!!a[i]:!1}function Ie(){return de}var ye=_({},Da,{key:function(i){if(i.key){var a=Ut[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Fa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ie,charCode:function(i){return i.type==="keypress"?Fa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mr=An(ye),Jr=_({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$r=An(Jr),p=_({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ie}),k=An(p),P=_({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y=An(P),xt=_({},Gs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Pt=An(xt),Xt=_({},Hi,{newState:0,oldState:0}),$e=An(Xt),Wr=[9,13,27,32],ur=jn&&"CompositionEvent"in window,Or=null;jn&&"documentMode"in document&&(Or=document.documentMode);var ri=jn&&"TextEvent"in window&&!Or,Gi=jn&&(!ur||Or&&8<Or&&11>=Or),Xr=" ",mi=!1;function Ea(i,a){switch(i){case"keyup":return Wr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Es(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Is=!1;function En(i,a){switch(i){case"compositionend":return Es(a);case"keypress":return a.which!==32?null:(mi=!0,Xr);case"textInput":return i=a.data,i===Xr&&mi?null:i;default:return null}}function Qs(i,a){if(Is)return i==="compositionend"||!ur&&Ea(i,a)?(i=ks(),Sa=Ks=$i=null,Is=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Gi&&a.locale!=="ko"?null:a.data;default:return null}}var Ql={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Ql[i.type]:a==="textarea"}function Ia(i,a,l,c){Te?ja?ja.push(c):ja=[c]:Te=c,a=ep(a,"onChange"),0<a.length&&(l=new Ti("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var fs=null,Ys=null;function Ku(i){L5(i,0)}function ps(i){var a=zi(i);if(di(a))return i}function Lo(i,a){if(i==="change")return a}var oa=!1;if(jn){var Qi;if(jn){var Ls="oninput"in document;if(!Ls){var Cs=document.createElement("div");Cs.setAttribute("oninput","return;"),Ls=typeof Cs.oninput=="function"}Qi=Ls}else Qi=!1;oa=Qi&&(!document.documentMode||9<document.documentMode)}function Js(){fs&&(fs.detachEvent("onpropertychange",Yl),Ys=fs=null)}function Yl(i){if(i.propertyName==="value"&&ps(Ys)){var a=[];Ia(a,Ys,i,Ci(i)),Ns(Ku,a)}}function Jl(i,a,l){i==="focusin"?(Js(),fs=a,Ys=l,fs.attachEvent("onpropertychange",Yl)):i==="focusout"&&Js()}function In(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ps(Ys)}function jc(i,a){if(i==="click")return ps(a)}function Ts(i,a){if(i==="input"||i==="change")return ps(a)}function Ps(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var gi=typeof Object.is=="function"?Object.is:Ps;function Xs(i,a){if(gi(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Wt.call(a,g)||!gi(i[g],a[g]))return!1}return!0}function Xl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zl(i,a){var l=Xl(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Xl(l)}}function Zs(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Zs(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function to(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Li(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Li(i.document)}return a}function Os(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var dl=jn&&"documentMode"in document&&11>=document.documentMode,La=null,eo=null,Pi=null,Ba=!1;function Er(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ba||La==null||La!==Li(c)||(c=La,"selectionStart"in c&&Os(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pi&&Xs(Pi,c)||(Pi=c,c=ep(eo,"onSelect"),0<c.length&&(a=new Ti("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=La)))}function xr(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Zr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Ln={},Rs={};jn&&(Rs=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function ms(i){if(Ln[i])return Ln[i];if(!Zr[i])return i;var a=Zr[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Rs)return Ln[i]=a[l];return i}var fl=ms("animationend"),Gu=ms("animationiteration"),Qh=ms("animationstart"),Nf=ms("transitionrun"),kf=ms("transitionstart"),Af=ms("transitioncancel"),Yh=ms("transitionend"),Jh=new Map,pl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pl.push("scrollEnd");function qa(i,a){Jh.set(i,a),aa(a,[i])}var Qu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ca=[],ml=0,Fc=0;function Yu(){for(var i=ml,a=Fc=ml=0;a<i;){var l=Ca[a];Ca[a++]=null;var c=Ca[a];Ca[a++]=null;var g=Ca[a];Ca[a++]=null;var b=Ca[a];if(Ca[a++]=null,c!==null&&g!==null){var T=c.pending;T===null?g.next=g:(g.next=T.next,T.next=g),c.pending=g}b!==0&&Xu(l,g,b)}}function Ju(i,a,l,c){Ca[ml++]=i,Ca[ml++]=a,Ca[ml++]=l,Ca[ml++]=c,Fc|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Dc(i,a,l,c){return Ju(i,a,l,c),Oi(i)}function ro(i,a){return Ju(i,null,null,a),Oi(i)}function Xu(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var g=!1,b=i.return;b!==null;)b.childLanes|=l,c=b.alternate,c!==null&&(c.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(g=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,g&&a!==null&&(g=31-Me(l),i=b.hiddenUpdates,c=i[g],c===null?i[g]=[a]:c.push(a),a.lane=l|536870912),b):null}function Oi(i){if(50<bd)throw bd=0,Fg=null,Error(n(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var yi={};function Mc(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(i,a,l,c){return new Mc(i,a,l,c)}function Uc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function za(i,a){var l=i.alternate;return l===null?(l=Ri(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Zu(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function tu(i,a,l,c,g,b){var T=0;if(c=i,typeof i=="function")Uc(i)&&(T=1);else if(typeof i=="string")T=h6(i,l,X.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=Ri(31,l,a,g),i.elementType=C,i.lanes=b,i;case F:return Co(l.children,g,b,a);case $:T=8,g|=24;break;case B:return i=Ri(12,l,a,g|2),i.elementType=B,i.lanes=b,i;case At:return i=Ri(13,l,a,g),i.elementType=At,i.lanes=b,i;case It:return i=Ri(19,l,a,g),i.elementType=It,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case tt:T=10;break t;case et:T=9;break t;case ct:T=11;break t;case Q:T=14;break t;case N:T=16,c=null;break t}T=29,l=Error(n(130,i===null?"null":typeof i,"")),c=null}return a=Ri(T,l,a,g),a.elementType=i,a.type=c,a.lanes=b,a}function Co(i,a,l,c){return i=Ri(7,i,c,a),i.lanes=l,i}function tc(i,a,l){return i=Ri(6,i,null,a),i.lanes=l,i}function Bc(i){var a=Ri(18,null,null,0);return a.stateNode=i,a}function eu(i,a,l){return a=Ri(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var qc=new WeakMap;function Va(i,a){if(typeof i=="object"&&i!==null){var l=qc.get(i);return l!==void 0?l:(a={value:i,source:a,stack:we(a)},qc.set(i,a),a)}return{value:i,source:a,stack:we(a)}}var ru=[],gl=0,zc=null,ec=0,$a=[],Wa=0,To=null,Ha=1,Ka="";function Ta(i,a){ru[gl++]=ec,ru[gl++]=zc,zc=i,ec=a}function Ef(i,a,l){$a[Wa++]=Ha,$a[Wa++]=Ka,$a[Wa++]=To,To=i;var c=Ha;i=Ka;var g=32-Me(c)-1;c&=~(1<<g),l+=1;var b=32-Me(a)+g;if(30<b){var T=g-g%5;b=(c&(1<<T)-1).toString(32),c>>=T,g-=T,Ha=1<<32-Me(a)+g|l<<g|c,Ka=b+i}else Ha=1<<b|l<<g|c,Ka=i}function Xh(i){i.return!==null&&(Ta(i,1),Ef(i,1,0))}function Vc(i){for(;i===zc;)zc=ru[--gl],ru[gl]=null,ec=ru[--gl],ru[gl]=null;for(;i===To;)To=$a[--Wa],$a[Wa]=null,Ka=$a[--Wa],$a[Wa]=null,Ha=$a[--Wa],$a[Wa]=null}function If(i,a){$a[Wa++]=Ha,$a[Wa++]=Ka,$a[Wa++]=To,Ha=a.id,Ka=a.overflow,To=i}var vi=null,sn=null,dr=!1,Yi=null,bn=!1,gs=Error(n(519));function Po(i){var a=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nu(Va(a,i)),gs}function Zh(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[Tr]=i,a[zr]=c,l){case"dialog":pr("cancel",a),pr("close",a);break;case"iframe":case"object":case"embed":pr("load",a);break;case"video":case"audio":for(l=0;l<xd.length;l++)pr(xd[l],a);break;case"source":pr("error",a);break;case"img":case"image":case"link":pr("error",a),pr("load",a);break;case"details":pr("toggle",a);break;case"input":pr("invalid",a),Gl(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":pr("invalid",a);break;case"textarea":pr("invalid",a),cs(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||O5(a.textContent,l)?(c.popover!=null&&(pr("beforetoggle",a),pr("toggle",a)),c.onScroll!=null&&pr("scroll",a),c.onScrollEnd!=null&&pr("scrollend",a),c.onClick!=null&&(a.onclick=_a),a=!0):a=!1,a||Po(i,!0)}function no(i){for(vi=i.return;vi;)switch(vi.tag){case 5:case 31:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:vi=vi.return}}function bi(i){if(i!==vi)return!1;if(!dr)return no(i),dr=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Jg(i.type,i.memoizedProps)),l=!l),l&&sn&&Po(i),no(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));sn=z5(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));sn=z5(i)}else a===27?(a=sn,yu(i.type)?(i=r0,r0=null,sn=i):sn=a):sn=vi?Ms(i.stateNode.nextSibling):null;return!0}function yl(){sn=vi=null,dr=!1}function td(){var i=Yi;return i!==null&&(Za===null?Za=i:Za.push.apply(Za,i),Yi=null),i}function nu(i){Yi===null?Yi=[i]:Yi.push(i)}var $c=H(null),Oo=null,js=null;function Ro(i,a,l){K($c,a._currentValue),a._currentValue=l}function Ga(i){i._currentValue=$c.current,O($c)}function iu(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function vl(i,a,l,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){var T=g.child;b=b.firstContext;t:for(;b!==null;){var W=b;b=g;for(var ht=0;ht<a.length;ht++)if(W.context===a[ht]){b.lanes|=l,W=b.alternate,W!==null&&(W.lanes|=l),iu(b.return,l,i),c||(T=null);break t}b=W.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(n(341));T.lanes|=l,b=T.alternate,b!==null&&(b.lanes|=l),iu(T,l,i),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===i){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function jo(i,a,l,c){i=null;for(var g=a,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(n(387));if(T=T.memoizedProps,T!==null){var W=g.type;gi(g.pendingProps.value,T.value)||(i!==null?i.push(W):i=[W])}}else if(g===yt.current){if(T=g.alternate,T===null)throw Error(n(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Ad):i=[Ad])}g=g.return}i!==null&&vl(a,i,l,c),a.flags|=262144}function Wc(i){for(i=i.firstContext;i!==null;){if(!gi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Fo(i){Oo=i,js=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function wi(i){return Lf(Oo,i)}function Hc(i,a){return Oo===null&&Fo(i),Lf(i,a)}function Lf(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},js===null){if(i===null)throw Error(n(308));js=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else js=js.next=a;return l}var eg=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},rg=r.unstable_scheduleCallback,ng=r.unstable_NormalPriority,Cn={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function au(){return{controller:new eg,data:new Map,refCount:0}}function rc(i){i.refCount--,i.refCount===0&&rg(ng,function(){i.controller.abort()})}var nc=null,Kc=0,f=0,y=null;function S(i,a){if(nc===null){var l=nc=[];Kc=0,f=zg(),y={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Kc++,a.then(I,I),a}function I(){if(--Kc===0&&nc!==null){y!==null&&(y.status="fulfilled");var i=nc;nc=null,f=0,y=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function U(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var z=nt.S;nt.S=function(i,a){n5=We(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&S(i,a),z!==null&&z(i,a)};var V=H(null);function G(){var i=V.current;return i!==null?i:ln.pooledCache}function J(i,a){a===null?K(V,V.current):K(V,a.pool)}function at(){var i=G();return i===null?null:{parent:Cn._currentValue,pool:i}}var pt=Error(n(460)),Et=Error(n(474)),rt=Error(n(542)),gt={then:function(){}};function St(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Dt(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(_a,_a),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Jt(i),i;default:if(typeof a.status=="string")a.then(_a,_a);else{if(i=ln,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=c}},function(c){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Jt(i),i}throw Ft=a,pt}}function kt(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ft=l,pt):l}}var Ft=null;function Vt(){if(Ft===null)throw Error(n(459));var i=Ft;return Ft=null,i}function Jt(i){if(i===pt||i===rt)throw Error(n(483))}var Kt=null,fe=0;function se(i){var a=fe;return fe+=1,Kt===null&&(Kt=[]),Dt(Kt,i,a)}function He(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function ce(i,a){throw a.$$typeof===A?Error(n(525)):(i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function cr(i){function a(wt,mt){if(i){var Lt=wt.deletions;Lt===null?(wt.deletions=[mt],wt.flags|=16):Lt.push(mt)}}function l(wt,mt){if(!i)return null;for(;mt!==null;)a(wt,mt),mt=mt.sibling;return null}function c(wt){for(var mt=new Map;wt!==null;)wt.key!==null?mt.set(wt.key,wt):mt.set(wt.index,wt),wt=wt.sibling;return mt}function g(wt,mt){return wt=za(wt,mt),wt.index=0,wt.sibling=null,wt}function b(wt,mt,Lt){return wt.index=Lt,i?(Lt=wt.alternate,Lt!==null?(Lt=Lt.index,Lt<mt?(wt.flags|=67108866,mt):Lt):(wt.flags|=67108866,mt)):(wt.flags|=1048576,mt)}function T(wt){return i&&wt.alternate===null&&(wt.flags|=67108866),wt}function W(wt,mt,Lt,$t){return mt===null||mt.tag!==6?(mt=tc(Lt,wt.mode,$t),mt.return=wt,mt):(mt=g(mt,Lt),mt.return=wt,mt)}function ht(wt,mt,Lt,$t){var Ce=Lt.type;return Ce===F?Bt(wt,mt,Lt.props.children,$t,Lt.key):mt!==null&&(mt.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===N&&kt(Ce)===mt.type)?(mt=g(mt,Lt.props),He(mt,Lt),mt.return=wt,mt):(mt=tu(Lt.type,Lt.key,Lt.props,null,wt.mode,$t),He(mt,Lt),mt.return=wt,mt)}function Ct(wt,mt,Lt,$t){return mt===null||mt.tag!==4||mt.stateNode.containerInfo!==Lt.containerInfo||mt.stateNode.implementation!==Lt.implementation?(mt=eu(Lt,wt.mode,$t),mt.return=wt,mt):(mt=g(mt,Lt.children||[]),mt.return=wt,mt)}function Bt(wt,mt,Lt,$t,Ce){return mt===null||mt.tag!==7?(mt=Co(Lt,wt.mode,$t,Ce),mt.return=wt,mt):(mt=g(mt,Lt),mt.return=wt,mt)}function Ht(wt,mt,Lt){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return mt=tc(""+mt,wt.mode,Lt),mt.return=wt,mt;if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case w:return Lt=tu(mt.type,mt.key,mt.props,null,wt.mode,Lt),He(Lt,mt),Lt.return=wt,Lt;case M:return mt=eu(mt,wt.mode,Lt),mt.return=wt,mt;case N:return mt=kt(mt),Ht(wt,mt,Lt)}if(_t(mt)||R(mt))return mt=Co(mt,wt.mode,Lt,null),mt.return=wt,mt;if(typeof mt.then=="function")return Ht(wt,se(mt),Lt);if(mt.$$typeof===tt)return Ht(wt,Hc(wt,mt),Lt);ce(wt,mt)}return null}function Ot(wt,mt,Lt,$t){var Ce=mt!==null?mt.key:null;if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return Ce!==null?null:W(wt,mt,""+Lt,$t);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case w:return Lt.key===Ce?ht(wt,mt,Lt,$t):null;case M:return Lt.key===Ce?Ct(wt,mt,Lt,$t):null;case N:return Lt=kt(Lt),Ot(wt,mt,Lt,$t)}if(_t(Lt)||R(Lt))return Ce!==null?null:Bt(wt,mt,Lt,$t,null);if(typeof Lt.then=="function")return Ot(wt,mt,se(Lt),$t);if(Lt.$$typeof===tt)return Ot(wt,mt,Hc(wt,Lt),$t);ce(wt,Lt)}return null}function Rt(wt,mt,Lt,$t,Ce){if(typeof $t=="string"&&$t!==""||typeof $t=="number"||typeof $t=="bigint")return wt=wt.get(Lt)||null,W(mt,wt,""+$t,Ce);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case w:return wt=wt.get($t.key===null?Lt:$t.key)||null,ht(mt,wt,$t,Ce);case M:return wt=wt.get($t.key===null?Lt:$t.key)||null,Ct(mt,wt,$t,Ce);case N:return $t=kt($t),Rt(wt,mt,Lt,$t,Ce)}if(_t($t)||R($t))return wt=wt.get(Lt)||null,Bt(mt,wt,$t,Ce,null);if(typeof $t.then=="function")return Rt(wt,mt,Lt,se($t),Ce);if($t.$$typeof===tt)return Rt(wt,mt,Lt,Hc(mt,$t),Ce);ce(mt,$t)}return null}function he(wt,mt,Lt,$t){for(var Ce=null,Rr=null,me=mt,or=mt=0,yr=null;me!==null&&or<Lt.length;or++){me.index>or?(yr=me,me=null):yr=me.sibling;var jr=Ot(wt,me,Lt[or],$t);if(jr===null){me===null&&(me=yr);break}i&&me&&jr.alternate===null&&a(wt,me),mt=b(jr,mt,or),Rr===null?Ce=jr:Rr.sibling=jr,Rr=jr,me=yr}if(or===Lt.length)return l(wt,me),dr&&Ta(wt,or),Ce;if(me===null){for(;or<Lt.length;or++)me=Ht(wt,Lt[or],$t),me!==null&&(mt=b(me,mt,or),Rr===null?Ce=me:Rr.sibling=me,Rr=me);return dr&&Ta(wt,or),Ce}for(me=c(me);or<Lt.length;or++)yr=Rt(me,wt,or,Lt[or],$t),yr!==null&&(i&&yr.alternate!==null&&me.delete(yr.key===null?or:yr.key),mt=b(yr,mt,or),Rr===null?Ce=yr:Rr.sibling=yr,Rr=yr);return i&&me.forEach(function(_u){return a(wt,_u)}),dr&&Ta(wt,or),Ce}function Fe(wt,mt,Lt,$t){if(Lt==null)throw Error(n(151));for(var Ce=null,Rr=null,me=mt,or=mt=0,yr=null,jr=Lt.next();me!==null&&!jr.done;or++,jr=Lt.next()){me.index>or?(yr=me,me=null):yr=me.sibling;var _u=Ot(wt,me,jr.value,$t);if(_u===null){me===null&&(me=yr);break}i&&me&&_u.alternate===null&&a(wt,me),mt=b(_u,mt,or),Rr===null?Ce=_u:Rr.sibling=_u,Rr=_u,me=yr}if(jr.done)return l(wt,me),dr&&Ta(wt,or),Ce;if(me===null){for(;!jr.done;or++,jr=Lt.next())jr=Ht(wt,jr.value,$t),jr!==null&&(mt=b(jr,mt,or),Rr===null?Ce=jr:Rr.sibling=jr,Rr=jr);return dr&&Ta(wt,or),Ce}for(me=c(me);!jr.done;or++,jr=Lt.next())jr=Rt(me,wt,or,jr.value,$t),jr!==null&&(i&&jr.alternate!==null&&me.delete(jr.key===null?or:jr.key),mt=b(jr,mt,or),Rr===null?Ce=jr:Rr.sibling=jr,Rr=jr);return i&&me.forEach(function(_6){return a(wt,_6)}),dr&&Ta(wt,or),Ce}function nn(wt,mt,Lt,$t){if(typeof Lt=="object"&&Lt!==null&&Lt.type===F&&Lt.key===null&&(Lt=Lt.props.children),typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case w:t:{for(var Ce=Lt.key;mt!==null;){if(mt.key===Ce){if(Ce=Lt.type,Ce===F){if(mt.tag===7){l(wt,mt.sibling),$t=g(mt,Lt.props.children),$t.return=wt,wt=$t;break t}}else if(mt.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===N&&kt(Ce)===mt.type){l(wt,mt.sibling),$t=g(mt,Lt.props),He($t,Lt),$t.return=wt,wt=$t;break t}l(wt,mt);break}else a(wt,mt);mt=mt.sibling}Lt.type===F?($t=Co(Lt.props.children,wt.mode,$t,Lt.key),$t.return=wt,wt=$t):($t=tu(Lt.type,Lt.key,Lt.props,null,wt.mode,$t),He($t,Lt),$t.return=wt,wt=$t)}return T(wt);case M:t:{for(Ce=Lt.key;mt!==null;){if(mt.key===Ce)if(mt.tag===4&&mt.stateNode.containerInfo===Lt.containerInfo&&mt.stateNode.implementation===Lt.implementation){l(wt,mt.sibling),$t=g(mt,Lt.children||[]),$t.return=wt,wt=$t;break t}else{l(wt,mt);break}else a(wt,mt);mt=mt.sibling}$t=eu(Lt,wt.mode,$t),$t.return=wt,wt=$t}return T(wt);case N:return Lt=kt(Lt),nn(wt,mt,Lt,$t)}if(_t(Lt))return he(wt,mt,Lt,$t);if(R(Lt)){if(Ce=R(Lt),typeof Ce!="function")throw Error(n(150));return Lt=Ce.call(Lt),Fe(wt,mt,Lt,$t)}if(typeof Lt.then=="function")return nn(wt,mt,se(Lt),$t);if(Lt.$$typeof===tt)return nn(wt,mt,Hc(wt,Lt),$t);ce(wt,Lt)}return typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint"?(Lt=""+Lt,mt!==null&&mt.tag===6?(l(wt,mt.sibling),$t=g(mt,Lt),$t.return=wt,wt=$t):(l(wt,mt),$t=tc(Lt,wt.mode,$t),$t.return=wt,wt=$t),T(wt)):l(wt,mt)}return function(wt,mt,Lt,$t){try{fe=0;var Ce=nn(wt,mt,Lt,$t);return Kt=null,Ce}catch(me){if(me===pt||me===rt)throw me;var Rr=Ri(29,me,null,wt.mode);return Rr.lanes=$t,Rr.return=wt,Rr}finally{}}}var on=cr(!0),Xe=cr(!1),oe=!1;function Zt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fn(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Oe(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function nr(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ur&2)!==0){var g=c.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),c.pending=a,a=Oi(i),Xu(i,null,l),a}return Ju(i,c,a,l),Oi(i)}function Dr(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Ni(i,l)}}function Gn(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?g=b=T:b=b.next=T,l=l.next}while(l!==null);b===null?g=b=a:b=b.next=a}else g=b=a;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var xi=!1;function tn(){if(xi){var i=y;if(i!==null)throw i}}function Fn(i,a,l,c){xi=!1;var g=i.updateQueue;oe=!1;var b=g.firstBaseUpdate,T=g.lastBaseUpdate,W=g.shared.pending;if(W!==null){g.shared.pending=null;var ht=W,Ct=ht.next;ht.next=null,T===null?b=Ct:T.next=Ct,T=ht;var Bt=i.alternate;Bt!==null&&(Bt=Bt.updateQueue,W=Bt.lastBaseUpdate,W!==T&&(W===null?Bt.firstBaseUpdate=Ct:W.next=Ct,Bt.lastBaseUpdate=ht))}if(b!==null){var Ht=g.baseState;T=0,Bt=Ct=ht=null,W=b;do{var Ot=W.lane&-536870913,Rt=Ot!==W.lane;if(Rt?(gr&Ot)===Ot:(c&Ot)===Ot){Ot!==0&&Ot===f&&(xi=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});t:{var he=i,Fe=W;Ot=a;var nn=l;switch(Fe.tag){case 1:if(he=Fe.payload,typeof he=="function"){Ht=he.call(nn,Ht,Ot);break t}Ht=he;break t;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Fe.payload,Ot=typeof he=="function"?he.call(nn,Ht,Ot):he,Ot==null)break t;Ht=_({},Ht,Ot);break t;case 2:oe=!0}}Ot=W.callback,Ot!==null&&(i.flags|=64,Rt&&(i.flags|=8192),Rt=g.callbacks,Rt===null?g.callbacks=[Ot]:Rt.push(Ot))}else Rt={lane:Ot,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Bt===null?(Ct=Bt=Rt,ht=Ht):Bt=Bt.next=Rt,T|=Ot;if(W=W.next,W===null){if(W=g.shared.pending,W===null)break;Rt=W,W=Rt.next,Rt.next=null,g.lastBaseUpdate=Rt,g.shared.pending=null}}while(!0);Bt===null&&(ht=Ht),g.baseState=ht,g.firstBaseUpdate=Ct,g.lastBaseUpdate=Bt,b===null&&(g.shared.lanes=0),du|=T,i.lanes=T,i.memoizedState=Ht}}function ji(i,a){if(typeof i!="function")throw Error(n(191,i));i.call(a)}function Dn(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)ji(l[i],a)}var lr=H(null),Nr=H(0);function pn(i,a){i=Il,K(Nr,i),K(lr,a),Il=i|a.baseLanes}function Ir(){K(Nr,Il),K(lr,lr.current)}function Qn(){Il=Nr.current,O(lr),O(Nr)}var mn=H(null),Lr=null;function Tn(i){var a=i.alternate;K(_r,_r.current&1),K(mn,i),Lr===null&&(a===null||lr.current!==null||a.memoizedState!==null)&&(Lr=i)}function Mr(i){K(_r,_r.current),K(mn,i),Lr===null&&(Lr=i)}function Mn(i){i.tag===22?(K(_r,_r.current),K(mn,i),Lr===null&&(Lr=i)):Un()}function Un(){K(_r,_r.current),K(mn,mn.current)}function Hr(i){O(mn),Lr===i&&(Lr=null),O(_r)}var _r=H(0);function Fi(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||t0(l)||e0(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var wn=0,Ae=null,Le=null,kr=null,la=!1,Qa=!1,Ji=!1,Bn=0,Do=0,Mo=null,Gc=0;function en(){throw Error(n(321))}function ed(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!gi(i[l],a[l]))return!1;return!0}function rd(i,a,l,c,g,b){return wn=b,Ae=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,nt.H=i===null||i.memoizedState===null?py:hg,Ji=!1,b=l(c,g),Ji=!1,Qa&&(b=io(a,l,c,g)),Qc(i),b}function Qc(i){nt.H=cd;var a=Le!==null&&Le.next!==null;if(wn=0,kr=Le=Ae=null,la=!1,Do=0,Mo=null,a)throw Error(n(300));i===null||ii||(i=i.dependencies,i!==null&&Wc(i)&&(ii=!0))}function io(i,a,l,c){Ae=i;var g=0;do{if(Qa&&(Mo=null),Do=0,Qa=!1,25<=g)throw Error(n(301));if(g+=1,kr=Le=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}nt.H=my,b=a(l,c)}while(Qa);return b}function ig(){var i=nt.H,a=i.useState()[0];return a=typeof a.then=="function"?Uo(a):a,i=i.useState()[0],(Le!==null?Le.memoizedState:null)!==i&&(Ae.flags|=1024),a}function nd(){var i=Bn!==0;return Bn=0,i}function id(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Yc(i){if(la){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}la=!1}wn=0,kr=Le=Ae=null,Qa=!1,Do=Bn=0,Mo=null}function ni(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Ae.memoizedState=kr=i:kr=kr.next=i,kr}function xn(){if(Le===null){var i=Ae.alternate;i=i!==null?i.memoizedState:null}else i=Le.next;var a=kr===null?Ae.memoizedState:kr.next;if(a!==null)kr=a,Le=i;else{if(i===null)throw Ae.alternate===null?Error(n(467)):Error(n(310));Le=i,i={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},kr===null?Ae.memoizedState=kr=i:kr=kr.next=i}return kr}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(i){var a=Do;return Do+=1,Mo===null&&(Mo=[]),i=Dt(Mo,i,a),a=Ae,(kr===null?a.memoizedState:kr.next)===null&&(a=a.alternate,nt.H=a===null||a.memoizedState===null?py:hg),i}function su(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Uo(i);if(i.$$typeof===tt)return wi(i)}throw Error(n(438,String(i)))}function bl(i){var a=null,l=Ae.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ae.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ic(),Ae.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=q;return a.index++,l}function Fs(i,a){return typeof a=="function"?a(i):a}function Jc(i){var a=xn();return ou(a,Le,i)}function ou(i,a,l){var c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=l;var g=i.baseQueue,b=c.pending;if(b!==null){if(g!==null){var T=g.next;g.next=b.next,b.next=T}a.baseQueue=g=b,c.pending=null}if(b=i.baseState,g===null)i.memoizedState=b;else{a=g.next;var W=T=null,ht=null,Ct=a,Bt=!1;do{var Ht=Ct.lane&-536870913;if(Ht!==Ct.lane?(gr&Ht)===Ht:(wn&Ht)===Ht){var Ot=Ct.revertLane;if(Ot===0)ht!==null&&(ht=ht.next={lane:0,revertLane:0,gesture:null,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null}),Ht===f&&(Bt=!0);else if((wn&Ot)===Ot){Ct=Ct.next,Ot===f&&(Bt=!0);continue}else Ht={lane:0,revertLane:Ct.revertLane,gesture:null,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null},ht===null?(W=ht=Ht,T=b):ht=ht.next=Ht,Ae.lanes|=Ot,du|=Ot;Ht=Ct.action,Ji&&l(b,Ht),b=Ct.hasEagerState?Ct.eagerState:l(b,Ht)}else Ot={lane:Ht,revertLane:Ct.revertLane,gesture:Ct.gesture,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null},ht===null?(W=ht=Ot,T=b):ht=ht.next=Ot,Ae.lanes|=Ht,du|=Ht;Ct=Ct.next}while(Ct!==null&&Ct!==a);if(ht===null?T=b:ht.next=W,!gi(b,i.memoizedState)&&(ii=!0,Bt&&(l=y,l!==null)))throw l;i.memoizedState=b,i.baseState=T,i.baseQueue=ht,c.lastRenderedState=b}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Xc(i){var a=xn(),l=a.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var c=l.dispatch,g=l.pending,b=a.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do b=i(b,T.action),T=T.next;while(T!==g);gi(b,a.memoizedState)||(ii=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),l.lastRenderedState=b}return[b,c]}function Zc(i,a,l){var c=Ae,g=xn(),b=dr;if(b){if(l===void 0)throw Error(n(407));l=l()}else l=a();var T=!gi((Le||g).memoizedState,l);if(T&&(g.memoizedState=l,ii=!0),g=g.queue,ag(sd.bind(null,c,g,i),[i]),g.getSnapshot!==a||T||kr!==null&&kr.memoizedState.tag&1){if(c.flags|=2048,xl(9,{destroy:void 0},ad.bind(null,c,g,l,a),null),ln===null)throw Error(n(349));b||(wn&127)!==0||ao(c,a,l)}return l}function ao(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ae.updateQueue,a===null?(a=ic(),Ae.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function ad(i,a,l,c){a.value=l,a.getSnapshot=c,Cf(a)&&od(i)}function sd(i,a,l){return l(function(){Cf(a)&&od(i)})}function Cf(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!gi(i,l)}catch{return!0}}function od(i){var a=ro(i,2);a!==null&&ts(a,i,2)}function Bo(i){var a=ni();if(typeof i=="function"){var l=i;if(i=l(),Ji){Ne(!0);try{l()}finally{Ne(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:i},a}function Tf(i,a,l,c){return i.baseState=l,ou(i,Le,typeof c=="function"?c:Fs)}function Pf(i,a,l,c,g){if(Ff(i))throw Error(n(485));if(i=a.action,i!==null){var b={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){b.listeners.push(T)}};nt.T!==null?l(!0):b.isTransition=!1,c(b),l=a.pending,l===null?(b.next=a.pending=b,Of(a,b)):(b.next=l.next,a.pending=l.next=b)}}function Of(i,a){var l=a.action,c=a.payload,g=i.state;if(a.isTransition){var b=nt.T,T={};nt.T=T;try{var W=l(g,c),ht=nt.S;ht!==null&&ht(T,W),ld(i,a,W)}catch(Ct){wl(i,a,Ct)}finally{b!==null&&T.types!==null&&(b.types=T.types),nt.T=b}}else try{b=l(g,c),ld(i,a,b)}catch(Ct){wl(i,a,Ct)}}function ld(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Rf(i,a,c)},function(c){return wl(i,a,c)}):Rf(i,a,l)}function Rf(i,a,l){a.status="fulfilled",a.value=l,th(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Of(i,l)))}function wl(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,th(a),a=a.next;while(a!==c)}i.action=null}function th(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function ac(i,a){return a}function Ds(i,a){if(dr){var l=ln.formState;if(l!==null){t:{var c=Ae;if(dr){if(sn){e:{for(var g=sn,b=bn;g.nodeType!==8;){if(!b){g=null;break e}if(g=Ms(g.nextSibling),g===null){g=null;break e}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){sn=Ms(g.nextSibling),c=g.data==="F!";break t}}Po(c)}c=!1}c&&(a=l[0])}}return l=ni(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:a},l.queue=c,l=hy.bind(null,Ae,c),c.dispatch=l,c=Bo(!1),b=cg.bind(null,Ae,!1,c.queue),c=ni(),g={state:a,dispatch:null,action:i,pending:null},c.queue=g,l=Pf.bind(null,Ae,g,b,l),g.dispatch=l,c.memoizedState=i,[a,l,!1]}function so(i){var a=xn();return oo(a,Le,i)}function oo(i,a,l){if(a=ou(i,a,ac)[0],i=Jc(Fs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Uo(a)}catch(T){throw T===pt?rt:T}else c=a;a=xn();var g=a.queue,b=g.dispatch;return l!==a.memoizedState&&(Ae.flags|=2048,xl(9,{destroy:void 0},eh.bind(null,g,l),null)),[c,b,i]}function eh(i,a){i.action=a}function rh(i){var a=xn(),l=Le;if(l!==null)return oo(a,l,i);xn(),a=a.memoizedState,l=xn();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function xl(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Ae.updateQueue,a===null&&(a=ic(),Ae.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function jf(){return xn().memoizedState}function lu(i,a,l,c){var g=ni();Ae.flags|=i,g.memoizedState=xl(1|a,{destroy:void 0},l,c===void 0?null:c)}function uu(i,a,l,c){var g=xn();c=c===void 0?null:c;var b=g.memoizedState.inst;Le!==null&&c!==null&&ed(c,Le.memoizedState.deps)?g.memoizedState=xl(a,b,l,c):(Ae.flags|=i,g.memoizedState=xl(1|a,b,l,c))}function J2(i,a){lu(8390656,8,i,a)}function ag(i,a){uu(2048,8,i,a)}function gS(i){Ae.flags|=4;var a=Ae.updateQueue;if(a===null)a=ic(),Ae.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function X2(i){var a=xn().memoizedState;return gS({ref:a,nextImpl:i}),function(){if((Ur&2)!==0)throw Error(n(440));return a.impl.apply(void 0,arguments)}}function Z2(i,a){return uu(4,2,i,a)}function ty(i,a){return uu(4,4,i,a)}function ey(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function ry(i,a,l){l=l!=null?l.concat([i]):null,uu(4,4,ey.bind(null,a,i),l)}function sg(){}function ny(i,a){var l=xn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&ed(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function iy(i,a){var l=xn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&ed(a,c[1]))return c[0];if(c=i(),Ji){Ne(!0);try{i()}finally{Ne(!1)}}return l.memoizedState=[c,a],c}function og(i,a,l){return l===void 0||(wn&1073741824)!==0&&(gr&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=a5(),Ae.lanes|=i,du|=i,l)}function ay(i,a,l,c){return gi(l,a)?l:lr.current!==null?(i=og(i,l,c),gi(i,a)||(ii=!0),i):(wn&42)===0||(wn&1073741824)!==0&&(gr&261930)===0?(ii=!0,i.memoizedState=l):(i=a5(),Ae.lanes|=i,du|=i,a)}function sy(i,a,l,c,g){var b=ut.p;ut.p=b!==0&&8>b?b:8;var T=nt.T,W={};nt.T=W,cg(i,!1,a,l);try{var ht=g(),Ct=nt.S;if(Ct!==null&&Ct(W,ht),ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var Bt=U(ht,c);ud(i,a,Bt,bs(i))}else ud(i,a,c,bs(i))}catch(Ht){ud(i,a,{then:function(){},status:"rejected",reason:Ht},bs())}finally{ut.p=b,T!==null&&W.types!==null&&(T.types=W.types),nt.T=T}}function yS(){}function lg(i,a,l,c){if(i.tag!==5)throw Error(n(476));var g=oy(i).queue;sy(i,g,a,Z,l===null?yS:function(){return ly(i),l(c)})}function oy(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:Z},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function ly(i){var a=oy(i);a.next===null&&(a=i.alternate.memoizedState),ud(i,a.next.queue,{},bs())}function ug(){return wi(Ad)}function uy(){return xn().memoizedState}function cy(){return xn().memoizedState}function vS(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=bs();i=Oe(l);var c=nr(a,i,l);c!==null&&(ts(c,a,l),Dr(c,a,l)),a={cache:au()},i.payload=a;return}a=a.return}}function bS(i,a,l){var c=bs();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ff(i)?dy(a,l):(l=Dc(i,a,l,c),l!==null&&(ts(l,i,c),fy(l,a,c)))}function hy(i,a,l){var c=bs();ud(i,a,l,c)}function ud(i,a,l,c){var g={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ff(i))dy(a,g);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var T=a.lastRenderedState,W=b(T,l);if(g.hasEagerState=!0,g.eagerState=W,gi(W,T))return Ju(i,a,g,0),ln===null&&Yu(),!1}catch{}finally{}if(l=Dc(i,a,g,c),l!==null)return ts(l,i,c),fy(l,a,c),!0}return!1}function cg(i,a,l,c){if(c={lane:2,revertLane:zg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ff(i)){if(a)throw Error(n(479))}else a=Dc(i,l,c,2),a!==null&&ts(a,i,2)}function Ff(i){var a=i.alternate;return i===Ae||a!==null&&a===Ae}function dy(i,a){Qa=la=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function fy(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Ni(i,l)}}var cd={readContext:wi,use:su,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};cd.useEffectEvent=en;var py={readContext:wi,use:su,useCallback:function(i,a){return ni().memoizedState=[i,a===void 0?null:a],i},useContext:wi,useEffect:J2,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,lu(4194308,4,ey.bind(null,a,i),l)},useLayoutEffect:function(i,a){return lu(4194308,4,i,a)},useInsertionEffect:function(i,a){lu(4,2,i,a)},useMemo:function(i,a){var l=ni();a=a===void 0?null:a;var c=i();if(Ji){Ne(!0);try{i()}finally{Ne(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=ni();if(l!==void 0){var g=l(a);if(Ji){Ne(!0);try{l(a)}finally{Ne(!1)}}}else g=a;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=bS.bind(null,Ae,i),[c.memoizedState,i]},useRef:function(i){var a=ni();return i={current:i},a.memoizedState=i},useState:function(i){i=Bo(i);var a=i.queue,l=hy.bind(null,Ae,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:sg,useDeferredValue:function(i,a){var l=ni();return og(l,i,a)},useTransition:function(){var i=Bo(!1);return i=sy.bind(null,Ae,i.queue,!0,!1),ni().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Ae,g=ni();if(dr){if(l===void 0)throw Error(n(407));l=l()}else{if(l=a(),ln===null)throw Error(n(349));(gr&127)!==0||ao(c,a,l)}g.memoizedState=l;var b={value:l,getSnapshot:a};return g.queue=b,J2(sd.bind(null,c,b,i),[i]),c.flags|=2048,xl(9,{destroy:void 0},ad.bind(null,c,b,l,a),null),l},useId:function(){var i=ni(),a=ln.identifierPrefix;if(dr){var l=Ka,c=Ha;l=(c&~(1<<32-Me(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Bn++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Gc++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:ug,useFormState:Ds,useActionState:Ds,useOptimistic:function(i){var a=ni();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=cg.bind(null,Ae,!0,l),l.dispatch=a,[i,a]},useMemoCache:bl,useCacheRefresh:function(){return ni().memoizedState=vS.bind(null,Ae)},useEffectEvent:function(i){var a=ni(),l={impl:i};return a.memoizedState=l,function(){if((Ur&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},hg={readContext:wi,use:su,useCallback:ny,useContext:wi,useEffect:ag,useImperativeHandle:ry,useInsertionEffect:Z2,useLayoutEffect:ty,useMemo:iy,useReducer:Jc,useRef:jf,useState:function(){return Jc(Fs)},useDebugValue:sg,useDeferredValue:function(i,a){var l=xn();return ay(l,Le.memoizedState,i,a)},useTransition:function(){var i=Jc(Fs)[0],a=xn().memoizedState;return[typeof i=="boolean"?i:Uo(i),a]},useSyncExternalStore:Zc,useId:uy,useHostTransitionStatus:ug,useFormState:so,useActionState:so,useOptimistic:function(i,a){var l=xn();return Tf(l,Le,i,a)},useMemoCache:bl,useCacheRefresh:cy};hg.useEffectEvent=X2;var my={readContext:wi,use:su,useCallback:ny,useContext:wi,useEffect:ag,useImperativeHandle:ry,useInsertionEffect:Z2,useLayoutEffect:ty,useMemo:iy,useReducer:Xc,useRef:jf,useState:function(){return Xc(Fs)},useDebugValue:sg,useDeferredValue:function(i,a){var l=xn();return Le===null?og(l,i,a):ay(l,Le.memoizedState,i,a)},useTransition:function(){var i=Xc(Fs)[0],a=xn().memoizedState;return[typeof i=="boolean"?i:Uo(i),a]},useSyncExternalStore:Zc,useId:uy,useHostTransitionStatus:ug,useFormState:rh,useActionState:rh,useOptimistic:function(i,a){var l=xn();return Le!==null?Tf(l,Le,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:bl,useCacheRefresh:cy};my.useEffectEvent=X2;function dg(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:_({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var fg={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=bs(),g=Oe(c);g.payload=a,l!=null&&(g.callback=l),a=nr(i,g,c),a!==null&&(ts(a,i,c),Dr(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=bs(),g=Oe(c);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=nr(i,g,c),a!==null&&(ts(a,i,c),Dr(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=bs(),c=Oe(l);c.tag=2,a!=null&&(c.callback=a),a=nr(i,c,l),a!==null&&(ts(a,i,l),Dr(a,i,l))}};function gy(i,a,l,c,g,b,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,b,T):a.prototype&&a.prototype.isPureReactComponent?!Xs(l,c)||!Xs(g,b):!0}function yy(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&fg.enqueueReplaceState(a,a.state,null)}function sc(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=_({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}function vy(i){Qu(i)}function by(i){console.error(i)}function wy(i){Qu(i)}function Df(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function xy(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function pg(i,a,l){return l=Oe(l),l.tag=3,l.payload={element:null},l.callback=function(){Df(i,a)},l}function _y(i){return i=Oe(i),i.tag=3,i}function Sy(i,a,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var b=c.value;i.payload=function(){return g(b)},i.callback=function(){xy(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){xy(a,l,c),typeof g!="function"&&(fu===null?fu=new Set([this]):fu.add(this));var W=c.stack;this.componentDidCatch(c.value,{componentStack:W!==null?W:""})})}function wS(i,a,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&jo(a,l,g,!0),l=mn.current,l!==null){switch(l.tag){case 31:case 13:return Lr===null?Qf():l.alternate===null&&qn===0&&(qn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===gt?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Ug(i,c,g)),!1;case 22:return l.flags|=65536,c===gt?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Ug(i,c,g)),!1}throw Error(n(435,l.tag))}return Ug(i,c,g),Qf(),!1}if(dr)return a=mn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,c!==gs&&(i=Error(n(422),{cause:c}),nu(Va(i,l)))):(c!==gs&&(a=Error(n(423),{cause:c}),nu(Va(a,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=Va(c,l),g=pg(i.stateNode,c,g),Gn(i,g),qn!==4&&(qn=2)),!1;var b=Error(n(520),{cause:c});if(b=Va(b,l),vd===null?vd=[b]:vd.push(b),qn!==4&&(qn=2),a===null)return!0;c=Va(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=pg(l.stateNode,c,i),Gn(l,i),!1;case 1:if(a=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(fu===null||!fu.has(b))))return l.flags|=65536,g&=-g,l.lanes|=g,g=_y(g),Sy(g,i,l,c),Gn(l,g),!1}l=l.return}while(l!==null);return!1}var mg=Error(n(461)),ii=!1;function Xi(i,a,l,c){a.child=i===null?Xe(a,null,l,c):on(a,i.child,l,c)}function Ny(i,a,l,c,g){l=l.render;var b=a.ref;if("ref"in c){var T={};for(var W in c)W!=="ref"&&(T[W]=c[W])}else T=c;return Fo(a),c=rd(i,a,l,T,b,g),W=nd(),i!==null&&!ii?(id(i,a,g),_l(i,a,g)):(dr&&W&&Xh(a),a.flags|=1,Xi(i,a,c,g),a.child)}function ky(i,a,l,c,g){if(i===null){var b=l.type;return typeof b=="function"&&!Uc(b)&&b.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=b,Ay(i,a,b,c,g)):(i=tu(l.type,null,c,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!Sg(i,g)){var T=b.memoizedProps;if(l=l.compare,l=l!==null?l:Xs,l(T,c)&&i.ref===a.ref)return _l(i,a,g)}return a.flags|=1,i=za(b,c),i.ref=a.ref,i.return=a,a.child=i}function Ay(i,a,l,c,g){if(i!==null){var b=i.memoizedProps;if(Xs(b,c)&&i.ref===a.ref)if(ii=!1,a.pendingProps=c=b,Sg(i,g))(i.flags&131072)!==0&&(ii=!0);else return a.lanes=i.lanes,_l(i,a,g)}return gg(i,a,l,c,g)}function Ey(i,a,l,c){var g=c.children,b=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,i!==null){for(c=a.child=i.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~b}else c=0,a.child=null;return Iy(i,a,b,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&J(a,b!==null?b.cachePool:null),b!==null?pn(a,b):Ir(),Mn(a);else return c=a.lanes=536870912,Iy(i,a,b!==null?b.baseLanes|l:l,l,c)}else b!==null?(J(a,b.cachePool),pn(a,b),Un(),a.memoizedState=null):(i!==null&&J(a,null),Ir(),Un());return Xi(i,a,g,l),a.child}function hd(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Iy(i,a,l,c,g){var b=G();return b=b===null?null:{parent:Cn._currentValue,pool:b},a.memoizedState={baseLanes:l,cachePool:b},i!==null&&J(a,null),Ir(),Mn(a),i!==null&&jo(i,a,c,!0),a.childLanes=g,null}function Mf(i,a){return a=Bf({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function Ly(i,a,l){return on(a,i.child,null,l),i=Mf(a,a.pendingProps),i.flags|=2,Hr(a),a.memoizedState=null,i}function xS(i,a,l){var c=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(dr){if(c.mode==="hidden")return i=Mf(a,c),a.lanes=536870912,hd(null,i);if(Mr(a),(i=sn)?(i=q5(i,bn),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:To!==null?{id:Ha,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},l=Bc(i),l.return=a,a.child=l,vi=a,sn=null)):i=null,i===null)throw Po(a);return a.lanes=536870912,null}return Mf(a,c)}var b=i.memoizedState;if(b!==null){var T=b.dehydrated;if(Mr(a),g)if(a.flags&256)a.flags&=-257,a=Ly(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(n(558));else if(ii||jo(i,a,l,!1),g=(l&i.childLanes)!==0,ii||g){if(c=ln,c!==null&&(T=ki(c,l),T!==0&&T!==b.retryLane))throw b.retryLane=T,ro(i,T),ts(c,i,T),mg;Qf(),a=Ly(i,a,l)}else i=b.treeContext,sn=Ms(T.nextSibling),vi=a,dr=!0,Yi=null,bn=!1,i!==null&&If(a,i),a=Mf(a,c),a.flags|=4096;return a}return i=za(i.child,{mode:c.mode,children:c.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Uf(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function gg(i,a,l,c,g){return Fo(a),l=rd(i,a,l,c,void 0,g),c=nd(),i!==null&&!ii?(id(i,a,g),_l(i,a,g)):(dr&&c&&Xh(a),a.flags|=1,Xi(i,a,l,g),a.child)}function Cy(i,a,l,c,g,b){return Fo(a),a.updateQueue=null,l=io(a,c,l,g),Qc(i),c=nd(),i!==null&&!ii?(id(i,a,b),_l(i,a,b)):(dr&&c&&Xh(a),a.flags|=1,Xi(i,a,l,b),a.child)}function Ty(i,a,l,c,g){if(Fo(a),a.stateNode===null){var b=yi,T=l.contextType;typeof T=="object"&&T!==null&&(b=wi(T)),b=new l(c,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=fg,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=c,b.state=a.memoizedState,b.refs={},Zt(a),T=l.contextType,b.context=typeof T=="object"&&T!==null?wi(T):yi,b.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(dg(a,l,T,c),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(T=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),T!==b.state&&fg.enqueueReplaceState(b,b.state,null),Fn(a,c,b,g),tn(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){b=a.stateNode;var W=a.memoizedProps,ht=sc(l,W);b.props=ht;var Ct=b.context,Bt=l.contextType;T=yi,typeof Bt=="object"&&Bt!==null&&(T=wi(Bt));var Ht=l.getDerivedStateFromProps;Bt=typeof Ht=="function"||typeof b.getSnapshotBeforeUpdate=="function",W=a.pendingProps!==W,Bt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(W||Ct!==T)&&yy(a,b,c,T),oe=!1;var Ot=a.memoizedState;b.state=Ot,Fn(a,c,b,g),tn(),Ct=a.memoizedState,W||Ot!==Ct||oe?(typeof Ht=="function"&&(dg(a,l,Ht,c),Ct=a.memoizedState),(ht=oe||gy(a,l,ht,c,Ot,Ct,T))?(Bt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Ct),b.props=c,b.state=Ct,b.context=T,c=ht):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{b=a.stateNode,fn(i,a),T=a.memoizedProps,Bt=sc(l,T),b.props=Bt,Ht=a.pendingProps,Ot=b.context,Ct=l.contextType,ht=yi,typeof Ct=="object"&&Ct!==null&&(ht=wi(Ct)),W=l.getDerivedStateFromProps,(Ct=typeof W=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==Ht||Ot!==ht)&&yy(a,b,c,ht),oe=!1,Ot=a.memoizedState,b.state=Ot,Fn(a,c,b,g),tn();var Rt=a.memoizedState;T!==Ht||Ot!==Rt||oe||i!==null&&i.dependencies!==null&&Wc(i.dependencies)?(typeof W=="function"&&(dg(a,l,W,c),Rt=a.memoizedState),(Bt=oe||gy(a,l,Bt,c,Ot,Rt,ht)||i!==null&&i.dependencies!==null&&Wc(i.dependencies))?(Ct||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Rt,ht),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Rt,ht)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&Ot===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Ot===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Rt),b.props=c,b.state=Rt,b.context=ht,c=Bt):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&Ot===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Ot===i.memoizedState||(a.flags|=1024),c=!1)}return b=c,Uf(i,a),c=(a.flags&128)!==0,b||c?(b=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&c?(a.child=on(a,i.child,null,g),a.child=on(a,null,l,g)):Xi(i,a,l,g),a.memoizedState=b.state,i=a.child):i=_l(i,a,g),i}function Py(i,a,l,c){return yl(),a.flags|=256,Xi(i,a,l,c),a.child}var yg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vg(i){return{baseLanes:i,cachePool:at()}}function bg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=vs),i}function Oy(i,a,l){var c=a.pendingProps,g=!1,b=(a.flags&128)!==0,T;if((T=b)||(T=i!==null&&i.memoizedState===null?!1:(_r.current&2)!==0),T&&(g=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,i===null){if(dr){if(g?Tn(a):Un(),(i=sn)?(i=q5(i,bn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:To!==null?{id:Ha,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},l=Bc(i),l.return=a,a.child=l,vi=a,sn=null)):i=null,i===null)throw Po(a);return e0(i)?a.lanes=32:a.lanes=536870912,null}var W=c.children;return c=c.fallback,g?(Un(),g=a.mode,W=Bf({mode:"hidden",children:W},g),c=Co(c,g,l,null),W.return=a,c.return=a,W.sibling=c,a.child=W,c=a.child,c.memoizedState=vg(l),c.childLanes=bg(i,T,l),a.memoizedState=yg,hd(null,c)):(Tn(a),wg(a,W))}var ht=i.memoizedState;if(ht!==null&&(W=ht.dehydrated,W!==null)){if(b)a.flags&256?(Tn(a),a.flags&=-257,a=xg(i,a,l)):a.memoizedState!==null?(Un(),a.child=i.child,a.flags|=128,a=null):(Un(),W=c.fallback,g=a.mode,c=Bf({mode:"visible",children:c.children},g),W=Co(W,g,l,null),W.flags|=2,c.return=a,W.return=a,c.sibling=W,a.child=c,on(a,i.child,null,l),c=a.child,c.memoizedState=vg(l),c.childLanes=bg(i,T,l),a.memoizedState=yg,a=hd(null,c));else if(Tn(a),e0(W)){if(T=W.nextSibling&&W.nextSibling.dataset,T)var Ct=T.dgst;T=Ct,c=Error(n(419)),c.stack="",c.digest=T,nu({value:c,source:null,stack:null}),a=xg(i,a,l)}else if(ii||jo(i,a,l,!1),T=(l&i.childLanes)!==0,ii||T){if(T=ln,T!==null&&(c=ki(T,l),c!==0&&c!==ht.retryLane))throw ht.retryLane=c,ro(i,c),ts(T,i,c),mg;t0(W)||Qf(),a=xg(i,a,l)}else t0(W)?(a.flags|=192,a.child=i.child,a=null):(i=ht.treeContext,sn=Ms(W.nextSibling),vi=a,dr=!0,Yi=null,bn=!1,i!==null&&If(a,i),a=wg(a,c.children),a.flags|=4096);return a}return g?(Un(),W=c.fallback,g=a.mode,ht=i.child,Ct=ht.sibling,c=za(ht,{mode:"hidden",children:c.children}),c.subtreeFlags=ht.subtreeFlags&65011712,Ct!==null?W=za(Ct,W):(W=Co(W,g,l,null),W.flags|=2),W.return=a,c.return=a,c.sibling=W,a.child=c,hd(null,c),c=a.child,W=i.child.memoizedState,W===null?W=vg(l):(g=W.cachePool,g!==null?(ht=Cn._currentValue,g=g.parent!==ht?{parent:ht,pool:ht}:g):g=at(),W={baseLanes:W.baseLanes|l,cachePool:g}),c.memoizedState=W,c.childLanes=bg(i,T,l),a.memoizedState=yg,hd(i.child,c)):(Tn(a),l=i.child,i=l.sibling,l=za(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(T=a.deletions,T===null?(a.deletions=[i],a.flags|=16):T.push(i)),a.child=l,a.memoizedState=null,l)}function wg(i,a){return a=Bf({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Bf(i,a){return i=Ri(22,i,null,a),i.lanes=0,i}function xg(i,a,l){return on(a,i.child,null,l),i=wg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Ry(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),iu(i.return,a,l)}function _g(i,a,l,c,g,b){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g,treeForkCount:b}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=l,T.tailMode=g,T.treeForkCount=b)}function jy(i,a,l){var c=a.pendingProps,g=c.revealOrder,b=c.tail;c=c.children;var T=_r.current,W=(T&2)!==0;if(W?(T=T&1|2,a.flags|=128):T&=1,K(_r,T),Xi(i,a,c,l),c=dr?ec:0,!W&&i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ry(i,l,a);else if(i.tag===19)Ry(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)i=l.alternate,i!==null&&Fi(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),_g(a,!1,g,l,b,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&Fi(i)===null){a.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}_g(a,!0,l,null,b,c);break;case"together":_g(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function _l(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),du|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(jo(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,l=za(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=za(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Sg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Wc(i)))}function _S(i,a,l){switch(a.tag){case 3:Tt(a,a.stateNode.containerInfo),Ro(a,Cn,i.memoizedState.cache),yl();break;case 27:case 5:Mt(a);break;case 4:Tt(a,a.stateNode.containerInfo);break;case 10:Ro(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Mr(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Tn(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Oy(i,a,l):(Tn(a),i=_l(i,a,l),i!==null?i.sibling:null);Tn(a);break;case 19:var g=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(jo(i,a,l,!1),c=(l&a.childLanes)!==0),g){if(c)return jy(i,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),K(_r,_r.current),c)break;return null;case 22:return a.lanes=0,Ey(i,a,l,a.pendingProps);case 24:Ro(a,Cn,i.memoizedState.cache)}return _l(i,a,l)}function Fy(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)ii=!0;else{if(!Sg(i,l)&&(a.flags&128)===0)return ii=!1,_S(i,a,l);ii=(i.flags&131072)!==0}else ii=!1,dr&&(a.flags&1048576)!==0&&Ef(a,ec,a.index);switch(a.lanes=0,a.tag){case 16:t:{var c=a.pendingProps;if(i=kt(a.elementType),a.type=i,typeof i=="function")Uc(i)?(c=sc(i,c),a.tag=1,a=Ty(null,a,i,c,l)):(a.tag=0,a=gg(null,a,i,c,l));else{if(i!=null){var g=i.$$typeof;if(g===ct){a.tag=11,a=Ny(null,a,i,c,l);break t}else if(g===Q){a.tag=14,a=ky(null,a,i,c,l);break t}}throw a=ot(i)||i,Error(n(306,a,""))}}return a;case 0:return gg(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,g=sc(c,a.pendingProps),Ty(i,a,c,g,l);case 3:t:{if(Tt(a,a.stateNode.containerInfo),i===null)throw Error(n(387));c=a.pendingProps;var b=a.memoizedState;g=b.element,fn(i,a),Fn(a,c,null,l);var T=a.memoizedState;if(c=T.cache,Ro(a,Cn,c),c!==b.cache&&vl(a,[Cn],l,!0),tn(),c=T.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=Py(i,a,c,l);break t}else if(c!==g){g=Va(Error(n(424)),a),nu(g),a=Py(i,a,c,l);break t}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(sn=Ms(i.firstChild),vi=a,dr=!0,Yi=null,bn=!0,l=Xe(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(yl(),c===g){a=_l(i,a,l);break t}Xi(i,a,c,l)}a=a.child}return a;case 26:return Uf(i,a),i===null?(l=K5(a.type,null,a.pendingProps,null))?a.memoizedState=l:dr||(l=a.type,i=a.pendingProps,c=rp(dt.current).createElement(l),c[Tr]=a,c[zr]=i,Zi(c,l,i),dn(c),a.stateNode=c):a.memoizedState=K5(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Mt(a),i===null&&dr&&(c=a.stateNode=$5(a.type,a.pendingProps,dt.current),vi=a,bn=!0,g=sn,yu(a.type)?(r0=g,sn=Ms(c.firstChild)):sn=g),Xi(i,a,a.pendingProps.children,l),Uf(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&dr&&((g=c=sn)&&(c=XS(c,a.type,a.pendingProps,bn),c!==null?(a.stateNode=c,vi=a,sn=Ms(c.firstChild),bn=!1,g=!0):g=!1),g||Po(a)),Mt(a),g=a.type,b=a.pendingProps,T=i!==null?i.memoizedProps:null,c=b.children,Jg(g,b)?c=null:T!==null&&Jg(g,T)&&(a.flags|=32),a.memoizedState!==null&&(g=rd(i,a,ig,null,null,l),Ad._currentValue=g),Uf(i,a),Xi(i,a,c,l),a.child;case 6:return i===null&&dr&&((i=l=sn)&&(l=ZS(l,a.pendingProps,bn),l!==null?(a.stateNode=l,vi=a,sn=null,i=!0):i=!1),i||Po(a)),null;case 13:return Oy(i,a,l);case 4:return Tt(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=on(a,null,c,l):Xi(i,a,c,l),a.child;case 11:return Ny(i,a,a.type,a.pendingProps,l);case 7:return Xi(i,a,a.pendingProps,l),a.child;case 8:return Xi(i,a,a.pendingProps.children,l),a.child;case 12:return Xi(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Ro(a,a.type,c.value),Xi(i,a,c.children,l),a.child;case 9:return g=a.type._context,c=a.pendingProps.children,Fo(a),g=wi(g),c=c(g),a.flags|=1,Xi(i,a,c,l),a.child;case 14:return ky(i,a,a.type,a.pendingProps,l);case 15:return Ay(i,a,a.type,a.pendingProps,l);case 19:return jy(i,a,l);case 31:return xS(i,a,l);case 22:return Ey(i,a,l,a.pendingProps);case 24:return Fo(a),c=wi(Cn),i===null?(g=G(),g===null&&(g=ln,b=au(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=l),g=b),a.memoizedState={parent:c,cache:g},Zt(a),Ro(a,Cn,g)):((i.lanes&l)!==0&&(fn(i,a),Fn(a,null,null,l),tn()),g=i.memoizedState,b=a.memoizedState,g.parent!==c?(g={parent:c,cache:c},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Ro(a,Cn,c)):(c=b.cache,Ro(a,Cn,c),c!==g.cache&&vl(a,[Cn],l,!0))),Xi(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function Sl(i){i.flags|=4}function Ng(i,a,l,c,g){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(u5())i.flags|=8192;else throw Ft=gt,Et}else i.flags&=-16777217}function Dy(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!X5(a))if(u5())i.flags|=8192;else throw Ft=gt,Et}function qf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Ra():536870912,i.lanes|=a,sh|=a)}function dd(i,a){if(!dr)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function gn(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function SS(i,a,l){var c=a.pendingProps;switch(Vc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(a),null;case 1:return gn(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ga(Cn),Nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(bi(a)?Sl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,td())),gn(a),null;case 26:var g=a.type,b=a.memoizedState;return i===null?(Sl(a),b!==null?(gn(a),Dy(a,b)):(gn(a),Ng(a,g,null,c,l))):b?b!==i.memoizedState?(Sl(a),gn(a),Dy(a,b)):(gn(a),a.flags&=-16777217):(i=i.memoizedProps,i!==c&&Sl(a),gn(a),Ng(a,g,i,c,l)),null;case 27:if(Yt(a),l=dt.current,g=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Sl(a);else{if(!c){if(a.stateNode===null)throw Error(n(166));return gn(a),null}i=X.current,bi(a)?Zh(a):(i=$5(g,c,l),a.stateNode=i,Sl(a))}return gn(a),null;case 5:if(Yt(a),g=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Sl(a);else{if(!c){if(a.stateNode===null)throw Error(n(166));return gn(a),null}if(b=X.current,bi(a))Zh(a);else{var T=rp(dt.current);switch(b){case 1:b=T.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=T.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=T.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=T.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?b.multiple=!0:c.size&&(b.size=c.size);break;default:b=typeof c.is=="string"?T.createElement(g,{is:c.is}):T.createElement(g)}}b[Tr]=a,b[zr]=c;t:for(T=a.child;T!==null;){if(T.tag===5||T.tag===6)b.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===a)break t;for(;T.sibling===null;){if(T.return===null||T.return===a)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}a.stateNode=b;t:switch(Zi(b,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Sl(a)}}return gn(a),Ng(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Sl(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(n(166));if(i=dt.current,bi(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,g=vi,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[Tr]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||O5(i.nodeValue,l)),i||Po(a,!0)}else i=rp(i).createTextNode(c),i[Tr]=a,a.stateNode=i}return gn(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(c=bi(a),l!==null){if(i===null){if(!c)throw Error(n(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Tr]=a}else yl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;gn(a),i=!1}else l=td(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Hr(a),a):(Hr(a),null);if((a.flags&128)!==0)throw Error(n(558))}return gn(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=bi(a),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Tr]=a}else yl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;gn(a),g=!1}else g=td(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Hr(a),a):(Hr(a),null)}return Hr(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=a.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==g&&(c.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),qf(a,a.updateQueue),gn(a),null);case 4:return Nt(),i===null&&Hg(a.stateNode.containerInfo),gn(a),null;case 10:return Ga(a.type),gn(a),null;case 19:if(O(_r),c=a.memoizedState,c===null)return gn(a),null;if(g=(a.flags&128)!==0,b=c.rendering,b===null)if(g)dd(c,!1);else{if(qn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=Fi(i),b!==null){for(a.flags|=128,dd(c,!1),i=b.updateQueue,a.updateQueue=i,qf(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Zu(l,i),l=l.sibling;return K(_r,_r.current&1|2),dr&&Ta(a,c.treeForkCount),a.child}i=i.sibling}c.tail!==null&&We()>Hf&&(a.flags|=128,g=!0,dd(c,!1),a.lanes=4194304)}else{if(!g)if(i=Fi(b),i!==null){if(a.flags|=128,g=!0,i=i.updateQueue,a.updateQueue=i,qf(a,i),dd(c,!0),c.tail===null&&c.tailMode==="hidden"&&!b.alternate&&!dr)return gn(a),null}else 2*We()-c.renderingStartTime>Hf&&l!==536870912&&(a.flags|=128,g=!0,dd(c,!1),a.lanes=4194304);c.isBackwards?(b.sibling=a.child,a.child=b):(i=c.last,i!==null?i.sibling=b:a.child=b,c.last=b)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=We(),i.sibling=null,l=_r.current,K(_r,g?l&1|2:l&1),dr&&Ta(a,c.treeForkCount),i):(gn(a),null);case 22:case 23:return Hr(a),Qn(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(gn(a),a.subtreeFlags&6&&(a.flags|=8192)):gn(a),l=a.updateQueue,l!==null&&qf(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&O(V),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ga(Cn),gn(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function NS(i,a){switch(Vc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ga(Cn),Nt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Yt(a),null;case 31:if(a.memoizedState!==null){if(Hr(a),a.alternate===null)throw Error(n(340));yl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Hr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));yl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return O(_r),null;case 4:return Nt(),null;case 10:return Ga(a.type),null;case 22:case 23:return Hr(a),Qn(),i!==null&&O(V),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ga(Cn),null;case 25:return null;default:return null}}function My(i,a){switch(Vc(a),a.tag){case 3:Ga(Cn),Nt();break;case 26:case 27:case 5:Yt(a);break;case 4:Nt();break;case 31:a.memoizedState!==null&&Hr(a);break;case 13:Hr(a);break;case 19:O(_r);break;case 10:Ga(a.type);break;case 22:case 23:Hr(a),Qn(),i!==null&&O(V);break;case 24:Ga(Cn)}}function fd(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&i)===i){c=void 0;var b=l.create,T=l.inst;c=b(),T.destroy=c}l=l.next}while(l!==g)}}catch(W){Gr(a,a.return,W)}}function cu(i,a,l){try{var c=a.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var b=g.next;c=b;do{if((c.tag&i)===i){var T=c.inst,W=T.destroy;if(W!==void 0){T.destroy=void 0,g=a;var ht=l,Ct=W;try{Ct()}catch(Bt){Gr(g,ht,Bt)}}}c=c.next}while(c!==b)}}catch(Bt){Gr(a,a.return,Bt)}}function Uy(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Dn(a,l)}catch(c){Gr(i,i.return,c)}}}function By(i,a,l){l.props=sc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Gr(i,a,c)}}function pd(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(g){Gr(i,a,g)}}function qo(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Gr(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Gr(i,a,g)}else l.current=null}function qy(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Gr(i,i.return,g)}}function kg(i,a,l){try{var c=i.stateNode;HS(c,i.type,l,a),c[zr]=a}catch(g){Gr(i,i.return,g)}}function zy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&yu(i.type)||i.tag===4}function Ag(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||zy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&yu(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Eg(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=_a));else if(c!==4&&(c===27&&yu(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Eg(i,a,l),i=i.sibling;i!==null;)Eg(i,a,l),i=i.sibling}function zf(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&yu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(zf(i,a,l),i=i.sibling;i!==null;)zf(i,a,l),i=i.sibling}function Vy(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Zi(a,c,l),a[Tr]=i,a[zr]=l}catch(b){Gr(i,i.return,b)}}var Nl=!1,ai=!1,Ig=!1,$y=typeof WeakSet=="function"?WeakSet:Set,Di=null;function kS(i,a){if(i=i.containerInfo,Qg=up,i=to(i),Os(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break t}var T=0,W=-1,ht=-1,Ct=0,Bt=0,Ht=i,Ot=null;e:for(;;){for(var Rt;Ht!==l||g!==0&&Ht.nodeType!==3||(W=T+g),Ht!==b||c!==0&&Ht.nodeType!==3||(ht=T+c),Ht.nodeType===3&&(T+=Ht.nodeValue.length),(Rt=Ht.firstChild)!==null;)Ot=Ht,Ht=Rt;for(;;){if(Ht===i)break e;if(Ot===l&&++Ct===g&&(W=T),Ot===b&&++Bt===c&&(ht=T),(Rt=Ht.nextSibling)!==null)break;Ht=Ot,Ot=Ht.parentNode}Ht=Rt}l=W===-1||ht===-1?null:{start:W,end:ht}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yg={focusedElem:i,selectionRange:l},up=!1,Di=a;Di!==null;)if(a=Di,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Di=i;else for(;Di!==null;){switch(a=Di,b=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)g=i[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=a,g=b.memoizedProps,b=b.memoizedState,c=l.stateNode;try{var he=sc(l.type,g);i=c.getSnapshotBeforeUpdate(he,b),c.__reactInternalSnapshotBeforeUpdate=i}catch(Fe){Gr(l,l.return,Fe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Zg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Zg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=a.sibling,i!==null){i.return=a.return,Di=i;break}Di=a.return}}function Wy(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Al(i,l),c&4&&fd(5,l);break;case 1:if(Al(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(T){Gr(l,l.return,T)}else{var g=sc(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Gr(l,l.return,T)}}c&64&&Uy(l),c&512&&pd(l,l.return);break;case 3:if(Al(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Dn(i,a)}catch(T){Gr(l,l.return,T)}}break;case 27:a===null&&c&4&&Vy(l);case 26:case 5:Al(i,l),a===null&&c&4&&qy(l),c&512&&pd(l,l.return);break;case 12:Al(i,l);break;case 31:Al(i,l),c&4&&Gy(i,l);break;case 13:Al(i,l),c&4&&Qy(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=RS.bind(null,l),t6(i,l))));break;case 22:if(c=l.memoizedState!==null||Nl,!c){a=a!==null&&a.memoizedState!==null||ai,g=Nl;var b=ai;Nl=c,(ai=a)&&!b?El(i,l,(l.subtreeFlags&8772)!==0):Al(i,l),Nl=g,ai=b}break;case 30:break;default:Al(i,l)}}function Hy(i){var a=i.alternate;a!==null&&(i.alternate=null,Hy(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&os(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _n=null,Ya=!1;function kl(i,a,l){for(l=l.child;l!==null;)Ky(i,a,l),l=l.sibling}function Ky(i,a,l){if(ae&&typeof ae.onCommitFiberUnmount=="function")try{ae.onCommitFiberUnmount(rr,l)}catch{}switch(l.tag){case 26:ai||qo(l,a),kl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ai||qo(l,a);var c=_n,g=Ya;yu(l.type)&&(_n=l.stateNode,Ya=!1),kl(i,a,l),Sd(l.stateNode),_n=c,Ya=g;break;case 5:ai||qo(l,a);case 6:if(c=_n,g=Ya,_n=null,kl(i,a,l),_n=c,Ya=g,_n!==null)if(Ya)try{(_n.nodeType===9?_n.body:_n.nodeName==="HTML"?_n.ownerDocument.body:_n).removeChild(l.stateNode)}catch(b){Gr(l,a,b)}else try{_n.removeChild(l.stateNode)}catch(b){Gr(l,a,b)}break;case 18:_n!==null&&(Ya?(i=_n,U5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),ph(i)):U5(_n,l.stateNode));break;case 4:c=_n,g=Ya,_n=l.stateNode.containerInfo,Ya=!0,kl(i,a,l),_n=c,Ya=g;break;case 0:case 11:case 14:case 15:cu(2,l,a),ai||cu(4,l,a),kl(i,a,l);break;case 1:ai||(qo(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&By(l,a,c)),kl(i,a,l);break;case 21:kl(i,a,l);break;case 22:ai=(c=ai)||l.memoizedState!==null,kl(i,a,l),ai=c;break;default:kl(i,a,l)}}function Gy(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ph(i)}catch(l){Gr(a,a.return,l)}}}function Qy(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ph(i)}catch(l){Gr(a,a.return,l)}}function AS(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new $y),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new $y),a;default:throw Error(n(435,i.tag))}}function Vf(i,a){var l=AS(i);a.forEach(function(c){if(!l.has(c)){l.add(c);var g=jS.bind(null,i,c);c.then(g,g)}})}function Ja(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],b=i,T=a,W=T;t:for(;W!==null;){switch(W.tag){case 27:if(yu(W.type)){_n=W.stateNode,Ya=!1;break t}break;case 5:_n=W.stateNode,Ya=!1;break t;case 3:case 4:_n=W.stateNode.containerInfo,Ya=!0;break t}W=W.return}if(_n===null)throw Error(n(160));Ky(b,T,g),_n=null,Ya=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Yy(a,i),a=a.sibling}var lo=null;function Yy(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ja(a,i),Xa(i),c&4&&(cu(3,i,i.return),fd(3,i),cu(5,i,i.return));break;case 1:Ja(a,i),Xa(i),c&512&&(ai||l===null||qo(l,l.return)),c&64&&Nl&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=lo;if(Ja(a,i),Xa(i),c&512&&(ai||l===null||qo(l,l.return)),c&4){var b=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){t:{c=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(c){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Ei]||b[Tr]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(c),g.head.insertBefore(b,g.querySelector("head > title"))),Zi(b,c,l),b[Tr]=i,dn(b),c=b;break t;case"link":var T=Y5("link","href",g).get(c+(l.href||""));if(T){for(var W=0;W<T.length;W++)if(b=T[W],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(W,1);break e}}b=g.createElement(c),Zi(b,c,l),g.head.appendChild(b);break;case"meta":if(T=Y5("meta","content",g).get(c+(l.content||""))){for(W=0;W<T.length;W++)if(b=T[W],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(W,1);break e}}b=g.createElement(c),Zi(b,c,l),g.head.appendChild(b);break;default:throw Error(n(468,c))}b[Tr]=i,dn(b),c=b}i.stateNode=c}else J5(g,i.type,i.stateNode);else i.stateNode=Q5(g,c,i.memoizedProps);else b!==c?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,c===null?J5(g,i.type,i.stateNode):Q5(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&kg(i,i.memoizedProps,l.memoizedProps)}break;case 27:Ja(a,i),Xa(i),c&512&&(ai||l===null||qo(l,l.return)),l!==null&&c&4&&kg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Ja(a,i),Xa(i),c&512&&(ai||l===null||qo(l,l.return)),i.flags&32){g=i.stateNode;try{kn(g,"")}catch(he){Gr(i,i.return,he)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,kg(i,g,l!==null?l.memoizedProps:g)),c&1024&&(Ig=!0);break;case 6:if(Ja(a,i),Xa(i),c&4){if(i.stateNode===null)throw Error(n(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(he){Gr(i,i.return,he)}}break;case 3:if(ap=null,g=lo,lo=np(a.containerInfo),Ja(a,i),lo=g,Xa(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{ph(a.containerInfo)}catch(he){Gr(i,i.return,he)}Ig&&(Ig=!1,Jy(i));break;case 4:c=lo,lo=np(i.stateNode.containerInfo),Ja(a,i),Xa(i),lo=c;break;case 12:Ja(a,i),Xa(i);break;case 31:Ja(a,i),Xa(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Vf(i,c)));break;case 13:Ja(a,i),Xa(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wf=We()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Vf(i,c)));break;case 22:g=i.memoizedState!==null;var ht=l!==null&&l.memoizedState!==null,Ct=Nl,Bt=ai;if(Nl=Ct||g,ai=Bt||ht,Ja(a,i),ai=Bt,Nl=Ct,Xa(i),c&8192)t:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||ht||Nl||ai||oc(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){ht=l=a;try{if(b=ht.stateNode,g)T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{W=ht.stateNode;var Ht=ht.memoizedProps.style,Ot=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null;W.style.display=Ot==null||typeof Ot=="boolean"?"":(""+Ot).trim()}}catch(he){Gr(ht,ht.return,he)}}}else if(a.tag===6){if(l===null){ht=a;try{ht.stateNode.nodeValue=g?"":ht.memoizedProps}catch(he){Gr(ht,ht.return,he)}}}else if(a.tag===18){if(l===null){ht=a;try{var Rt=ht.stateNode;g?B5(Rt,!0):B5(ht.stateNode,!1)}catch(he){Gr(ht,ht.return,he)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Vf(i,l))));break;case 19:Ja(a,i),Xa(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Vf(i,c)));break;case 30:break;case 21:break;default:Ja(a,i),Xa(i)}}function Xa(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(zy(c)){l=c;break}c=c.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var g=l.stateNode,b=Ag(i);zf(i,b,g);break;case 5:var T=l.stateNode;l.flags&32&&(kn(T,""),l.flags&=-33);var W=Ag(i);zf(i,W,T);break;case 3:case 4:var ht=l.stateNode.containerInfo,Ct=Ag(i);Eg(i,Ct,ht);break;default:throw Error(n(161))}}catch(Bt){Gr(i,i.return,Bt)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Jy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Jy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Al(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Wy(i,a.alternate,a),a=a.sibling}function oc(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:cu(4,a,a.return),oc(a);break;case 1:qo(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&By(a,a.return,l),oc(a);break;case 27:Sd(a.stateNode);case 26:case 5:qo(a,a.return),oc(a);break;case 22:a.memoizedState===null&&oc(a);break;case 30:oc(a);break;default:oc(a)}i=i.sibling}}function El(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,g=i,b=a,T=b.flags;switch(b.tag){case 0:case 11:case 15:El(g,b,l),fd(4,b);break;case 1:if(El(g,b,l),c=b,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Ct){Gr(c,c.return,Ct)}if(c=b,g=c.updateQueue,g!==null){var W=c.stateNode;try{var ht=g.shared.hiddenCallbacks;if(ht!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ht.length;g++)ji(ht[g],W)}catch(Ct){Gr(c,c.return,Ct)}}l&&T&64&&Uy(b),pd(b,b.return);break;case 27:Vy(b);case 26:case 5:El(g,b,l),l&&c===null&&T&4&&qy(b),pd(b,b.return);break;case 12:El(g,b,l);break;case 31:El(g,b,l),l&&T&4&&Gy(g,b);break;case 13:El(g,b,l),l&&T&4&&Qy(g,b);break;case 22:b.memoizedState===null&&El(g,b,l),pd(b,b.return);break;case 30:break;default:El(g,b,l)}a=a.sibling}}function Lg(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&rc(l))}function Cg(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&rc(i))}function uo(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Xy(i,a,l,c),a=a.sibling}function Xy(i,a,l,c){var g=a.flags;switch(a.tag){case 0:case 11:case 15:uo(i,a,l,c),g&2048&&fd(9,a);break;case 1:uo(i,a,l,c);break;case 3:uo(i,a,l,c),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&rc(i)));break;case 12:if(g&2048){uo(i,a,l,c),i=a.stateNode;try{var b=a.memoizedProps,T=b.id,W=b.onPostCommit;typeof W=="function"&&W(T,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ht){Gr(a,a.return,ht)}}else uo(i,a,l,c);break;case 31:uo(i,a,l,c);break;case 13:uo(i,a,l,c);break;case 23:break;case 22:b=a.stateNode,T=a.alternate,a.memoizedState!==null?b._visibility&2?uo(i,a,l,c):md(i,a):b._visibility&2?uo(i,a,l,c):(b._visibility|=2,nh(i,a,l,c,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Lg(T,a);break;case 24:uo(i,a,l,c),g&2048&&Cg(a.alternate,a);break;default:uo(i,a,l,c)}}function nh(i,a,l,c,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=i,T=a,W=l,ht=c,Ct=T.flags;switch(T.tag){case 0:case 11:case 15:nh(b,T,W,ht,g),fd(8,T);break;case 23:break;case 22:var Bt=T.stateNode;T.memoizedState!==null?Bt._visibility&2?nh(b,T,W,ht,g):md(b,T):(Bt._visibility|=2,nh(b,T,W,ht,g)),g&&Ct&2048&&Lg(T.alternate,T);break;case 24:nh(b,T,W,ht,g),g&&Ct&2048&&Cg(T.alternate,T);break;default:nh(b,T,W,ht,g)}a=a.sibling}}function md(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,g=c.flags;switch(c.tag){case 22:md(l,c),g&2048&&Lg(c.alternate,c);break;case 24:md(l,c),g&2048&&Cg(c.alternate,c);break;default:md(l,c)}a=a.sibling}}var gd=8192;function ih(i,a,l){if(i.subtreeFlags&gd)for(i=i.child;i!==null;)Zy(i,a,l),i=i.sibling}function Zy(i,a,l){switch(i.tag){case 26:ih(i,a,l),i.flags&gd&&i.memoizedState!==null&&d6(l,lo,i.memoizedState,i.memoizedProps);break;case 5:ih(i,a,l);break;case 3:case 4:var c=lo;lo=np(i.stateNode.containerInfo),ih(i,a,l),lo=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=gd,gd=16777216,ih(i,a,l),gd=c):ih(i,a,l));break;default:ih(i,a,l)}}function t5(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function yd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Di=c,r5(c,i)}t5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e5(i),i=i.sibling}function e5(i){switch(i.tag){case 0:case 11:case 15:yd(i),i.flags&2048&&cu(9,i,i.return);break;case 3:yd(i);break;case 12:yd(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,$f(i)):yd(i);break;default:yd(i)}}function $f(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Di=c,r5(c,i)}t5(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:cu(8,a,a.return),$f(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,$f(a));break;default:$f(a)}i=i.sibling}}function r5(i,a){for(;Di!==null;){var l=Di;switch(l.tag){case 0:case 11:case 15:cu(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:rc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Di=c;else t:for(l=i;Di!==null;){c=Di;var g=c.sibling,b=c.return;if(Hy(c),c===l){Di=null;break t}if(g!==null){g.return=b,Di=g;break t}Di=b}}}var ES={getCacheForType:function(i){var a=wi(Cn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return wi(Cn).controller.signal}},IS=typeof WeakMap=="function"?WeakMap:Map,Ur=0,ln=null,fr=null,gr=0,Kr=0,ys=null,hu=!1,ah=!1,Tg=!1,Il=0,qn=0,du=0,lc=0,Pg=0,vs=0,sh=0,vd=null,Za=null,Og=!1,Wf=0,n5=0,Hf=1/0,Kf=null,fu=null,_i=0,pu=null,oh=null,Ll=0,Rg=0,jg=null,i5=null,bd=0,Fg=null;function bs(){return(Ur&2)!==0&&gr!==0?gr&-gr:nt.T!==null?zg():On()}function a5(){if(vs===0)if((gr&536870912)===0||dr){var i=an;an<<=1,(an&3932160)===0&&(an=262144),vs=i}else vs=536870912;return i=mn.current,i!==null&&(i.flags|=32),vs}function ts(i,a,l){(i===ln&&(Kr===2||Kr===9)||i.cancelPendingCommit!==null)&&(lh(i,0),mu(i,gr,vs,!1)),xe(i,l),((Ur&2)===0||i!==ln)&&(i===ln&&((Ur&2)===0&&(lc|=l),qn===4&&mu(i,gr,vs,!1)),zo(i))}function s5(i,a,l){if((Ur&6)!==0)throw Error(n(327));var c=!l&&(a&127)===0&&(a&i.expiredLanes)===0||ui(i,a),g=c?TS(i,a):Mg(i,a,!0),b=c;do{if(g===0){ah&&!c&&mu(i,a,0,!1);break}else{if(l=i.current.alternate,b&&!LS(l)){g=Mg(i,a,!1),b=!1;continue}if(g===2){if(b=a,i.errorRecoveryDisabledLanes&b)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var W=i;g=vd;var ht=W.current.memoizedState.isDehydrated;if(ht&&(lh(W,T).flags|=256),T=Mg(W,T,!1),T!==2){if(Tg&&!ht){W.errorRecoveryDisabledLanes|=b,lc|=b,g=4;break t}b=Za,Za=g,b!==null&&(Za===null?Za=b:Za.push.apply(Za,b))}g=T}if(b=!1,g!==2)continue}}if(g===1){lh(i,0),mu(i,a,0,!0);break}t:{switch(c=i,b=g,b){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:mu(c,a,vs,!hu);break t;case 2:Za=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(g=Wf+300-We(),10<g)){if(mu(c,a,vs,!hu),ar(c,0,!0)!==0)break t;Ll=a,c.timeoutHandle=D5(o5.bind(null,c,l,Za,Kf,Og,a,vs,lc,sh,hu,b,"Throttled",-0,0),g);break t}o5(c,l,Za,Kf,Og,a,vs,lc,sh,hu,b,null,-0,0)}}break}while(!0);zo(i)}function o5(i,a,l,c,g,b,T,W,ht,Ct,Bt,Ht,Ot,Rt){if(i.timeoutHandle=-1,Ht=a.subtreeFlags,Ht&8192||(Ht&16785408)===16785408){Ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_a},Zy(a,b,Ht);var he=(b&62914560)===b?Wf-We():(b&4194048)===b?n5-We():0;if(he=f6(Ht,he),he!==null){Ll=b,i.cancelPendingCommit=he(m5.bind(null,i,a,b,l,c,g,T,W,ht,Bt,Ht,null,Ot,Rt)),mu(i,b,T,!Ct);return}}m5(i,a,b,l,c,g,T,W,ht)}function LS(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],b=g.getSnapshot;g=g.value;try{if(!gi(b(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function mu(i,a,l,c){a&=~Pg,a&=~lc,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var g=a;0<g;){var b=31-Me(g),T=1<<b;c[b]=-1,g&=~T}l!==0&&Bi(i,l,a)}function Gf(){return(Ur&6)===0?(wd(0),!1):!0}function Dg(){if(fr!==null){if(Kr===0)var i=fr.return;else i=fr,js=Oo=null,Yc(i),Kt=null,fe=0,i=fr;for(;i!==null;)My(i.alternate,i),i=i.return;fr=null}}function lh(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,QS(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Ll=0,Dg(),ln=i,fr=l=za(i.current,null),gr=a,Kr=0,ys=null,hu=!1,ah=ui(i,a),Tg=!1,sh=vs=Pg=lc=du=qn=0,Za=vd=null,Og=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var g=31-Me(c),b=1<<g;a|=i[g],c&=~b}return Il=a,Yu(),l}function l5(i,a){Ae=null,nt.H=cd,a===pt||a===rt?(a=Vt(),Kr=3):a===Et?(a=Vt(),Kr=4):Kr=a===mg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ys=a,fr===null&&(qn=1,Df(i,Va(a,i.current)))}function u5(){var i=mn.current;return i===null?!0:(gr&4194048)===gr?Lr===null:(gr&62914560)===gr||(gr&536870912)!==0?i===Lr:!1}function c5(){var i=nt.H;return nt.H=cd,i===null?cd:i}function h5(){var i=nt.A;return nt.A=ES,i}function Qf(){qn=4,hu||(gr&4194048)!==gr&&mn.current!==null||(ah=!0),(du&134217727)===0&&(lc&134217727)===0||ln===null||mu(ln,gr,vs,!1)}function Mg(i,a,l){var c=Ur;Ur|=2;var g=c5(),b=h5();(ln!==i||gr!==a)&&(Kf=null,lh(i,a)),a=!1;var T=qn;t:do try{if(Kr!==0&&fr!==null){var W=fr,ht=ys;switch(Kr){case 8:Dg(),T=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(a=!0);var Ct=Kr;if(Kr=0,ys=null,uh(i,W,ht,Ct),l&&ah){T=0;break t}break;default:Ct=Kr,Kr=0,ys=null,uh(i,W,ht,Ct)}}CS(),T=qn;break}catch(Bt){l5(i,Bt)}while(!0);return a&&i.shellSuspendCounter++,js=Oo=null,Ur=c,nt.H=g,nt.A=b,fr===null&&(ln=null,gr=0,Yu()),T}function CS(){for(;fr!==null;)d5(fr)}function TS(i,a){var l=Ur;Ur|=2;var c=c5(),g=h5();ln!==i||gr!==a?(Kf=null,Hf=We()+500,lh(i,a)):ah=ui(i,a);t:do try{if(Kr!==0&&fr!==null){a=fr;var b=ys;e:switch(Kr){case 1:Kr=0,ys=null,uh(i,a,b,1);break;case 2:case 9:if(St(b)){Kr=0,ys=null,f5(a);break}a=function(){Kr!==2&&Kr!==9||ln!==i||(Kr=7),zo(i)},b.then(a,a);break t;case 3:Kr=7;break t;case 4:Kr=5;break t;case 7:St(b)?(Kr=0,ys=null,f5(a)):(Kr=0,ys=null,uh(i,a,b,7));break;case 5:var T=null;switch(fr.tag){case 26:T=fr.memoizedState;case 5:case 27:var W=fr;if(T?X5(T):W.stateNode.complete){Kr=0,ys=null;var ht=W.sibling;if(ht!==null)fr=ht;else{var Ct=W.return;Ct!==null?(fr=Ct,Yf(Ct)):fr=null}break e}}Kr=0,ys=null,uh(i,a,b,5);break;case 6:Kr=0,ys=null,uh(i,a,b,6);break;case 8:Dg(),qn=6;break t;default:throw Error(n(462))}}PS();break}catch(Bt){l5(i,Bt)}while(!0);return js=Oo=null,nt.H=c,nt.A=g,Ur=l,fr!==null?0:(ln=null,gr=0,Yu(),qn)}function PS(){for(;fr!==null&&!Qe();)d5(fr)}function d5(i){var a=Fy(i.alternate,i,Il);i.memoizedProps=i.pendingProps,a===null?Yf(i):fr=a}function f5(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=Cy(l,a,a.pendingProps,a.type,void 0,gr);break;case 11:a=Cy(l,a,a.pendingProps,a.type.render,a.ref,gr);break;case 5:Yc(a);default:My(l,a),a=fr=Zu(a,Il),a=Fy(l,a,Il)}i.memoizedProps=i.pendingProps,a===null?Yf(i):fr=a}function uh(i,a,l,c){js=Oo=null,Yc(a),Kt=null,fe=0;var g=a.return;try{if(wS(i,g,a,l,gr)){qn=1,Df(i,Va(l,i.current)),fr=null;return}}catch(b){if(g!==null)throw fr=g,b;qn=1,Df(i,Va(l,i.current)),fr=null;return}a.flags&32768?(dr||c===1?i=!0:ah||(gr&536870912)!==0?i=!1:(hu=i=!0,(c===2||c===9||c===3||c===6)&&(c=mn.current,c!==null&&c.tag===13&&(c.flags|=16384))),p5(a,i)):Yf(a)}function Yf(i){var a=i;do{if((a.flags&32768)!==0){p5(a,hu);return}i=a.return;var l=SS(a.alternate,a,Il);if(l!==null){fr=l;return}if(a=a.sibling,a!==null){fr=a;return}fr=a=i}while(a!==null);qn===0&&(qn=5)}function p5(i,a){do{var l=NS(i.alternate,i);if(l!==null){l.flags&=32767,fr=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){fr=i;return}fr=i=l}while(i!==null);qn=6,fr=null}function m5(i,a,l,c,g,b,T,W,ht){i.cancelPendingCommit=null;do Jf();while(_i!==0);if((Ur&6)!==0)throw Error(n(327));if(a!==null){if(a===i.current)throw Error(n(177));if(b=a.lanes|a.childLanes,b|=Fc,ss(i,l,b,T,W,ht),i===ln&&(fr=ln=null,gr=0),oh=a,pu=i,Ll=l,Rg=b,jg=g,i5=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,FS(je,function(){return w5(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=nt.T,nt.T=null,g=ut.p,ut.p=2,T=Ur,Ur|=4;try{kS(i,a,l)}finally{Ur=T,ut.p=g,nt.T=c}}_i=1,g5(),y5(),v5()}}function g5(){if(_i===1){_i=0;var i=pu,a=oh,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=nt.T,nt.T=null;var c=ut.p;ut.p=2;var g=Ur;Ur|=4;try{Yy(a,i);var b=Yg,T=to(i.containerInfo),W=b.focusedElem,ht=b.selectionRange;if(T!==W&&W&&W.ownerDocument&&Zs(W.ownerDocument.documentElement,W)){if(ht!==null&&Os(W)){var Ct=ht.start,Bt=ht.end;if(Bt===void 0&&(Bt=Ct),"selectionStart"in W)W.selectionStart=Ct,W.selectionEnd=Math.min(Bt,W.value.length);else{var Ht=W.ownerDocument||document,Ot=Ht&&Ht.defaultView||window;if(Ot.getSelection){var Rt=Ot.getSelection(),he=W.textContent.length,Fe=Math.min(ht.start,he),nn=ht.end===void 0?Fe:Math.min(ht.end,he);!Rt.extend&&Fe>nn&&(T=nn,nn=Fe,Fe=T);var wt=Zl(W,Fe),mt=Zl(W,nn);if(wt&&mt&&(Rt.rangeCount!==1||Rt.anchorNode!==wt.node||Rt.anchorOffset!==wt.offset||Rt.focusNode!==mt.node||Rt.focusOffset!==mt.offset)){var Lt=Ht.createRange();Lt.setStart(wt.node,wt.offset),Rt.removeAllRanges(),Fe>nn?(Rt.addRange(Lt),Rt.extend(mt.node,mt.offset)):(Lt.setEnd(mt.node,mt.offset),Rt.addRange(Lt))}}}}for(Ht=[],Rt=W;Rt=Rt.parentNode;)Rt.nodeType===1&&Ht.push({element:Rt,left:Rt.scrollLeft,top:Rt.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Ht.length;W++){var $t=Ht[W];$t.element.scrollLeft=$t.left,$t.element.scrollTop=$t.top}}up=!!Qg,Yg=Qg=null}finally{Ur=g,ut.p=c,nt.T=l}}i.current=a,_i=2}}function y5(){if(_i===2){_i=0;var i=pu,a=oh,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=nt.T,nt.T=null;var c=ut.p;ut.p=2;var g=Ur;Ur|=4;try{Wy(i,a.alternate,a)}finally{Ur=g,ut.p=c,nt.T=l}}_i=3}}function v5(){if(_i===4||_i===3){_i=0,ve();var i=pu,a=oh,l=Ll,c=i5;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?_i=5:(_i=0,oh=pu=null,b5(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(fu=null),Yr(l),a=a.stateNode,ae&&typeof ae.onCommitFiberRoot=="function")try{ae.onCommitFiberRoot(rr,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=nt.T,g=ut.p,ut.p=2,nt.T=null;try{for(var b=i.onRecoverableError,T=0;T<c.length;T++){var W=c[T];b(W.value,{componentStack:W.stack})}}finally{nt.T=a,ut.p=g}}(Ll&3)!==0&&Jf(),zo(i),g=i.pendingLanes,(l&261930)!==0&&(g&42)!==0?i===Fg?bd++:(bd=0,Fg=i):bd=0,wd(0)}}function b5(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,rc(a)))}function Jf(){return g5(),y5(),v5(),w5()}function w5(){if(_i!==5)return!1;var i=pu,a=Rg;Rg=0;var l=Yr(Ll),c=nt.T,g=ut.p;try{ut.p=32>l?32:l,nt.T=null,l=jg,jg=null;var b=pu,T=Ll;if(_i=0,oh=pu=null,Ll=0,(Ur&6)!==0)throw Error(n(331));var W=Ur;if(Ur|=4,e5(b.current),Xy(b,b.current,T,l),Ur=W,wd(0,!1),ae&&typeof ae.onPostCommitFiberRoot=="function")try{ae.onPostCommitFiberRoot(rr,b)}catch{}return!0}finally{ut.p=g,nt.T=c,b5(i,a)}}function x5(i,a,l){a=Va(l,a),a=pg(i.stateNode,a,2),i=nr(i,a,2),i!==null&&(xe(i,2),zo(i))}function Gr(i,a,l){if(i.tag===3)x5(i,i,l);else for(;a!==null;){if(a.tag===3){x5(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fu===null||!fu.has(c))){i=Va(l,i),l=_y(2),c=nr(a,l,2),c!==null&&(Sy(l,c,a,i),xe(c,2),zo(c));break}}a=a.return}}function Ug(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new IS;var g=new Set;c.set(a,g)}else g=c.get(a),g===void 0&&(g=new Set,c.set(a,g));g.has(l)||(Tg=!0,g.add(l),i=OS.bind(null,i,a,l),a.then(i,i))}function OS(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ln===i&&(gr&l)===l&&(qn===4||qn===3&&(gr&62914560)===gr&&300>We()-Wf?(Ur&2)===0&&lh(i,0):Pg|=l,sh===gr&&(sh=0)),zo(i)}function _5(i,a){a===0&&(a=Ra()),i=ro(i,a),i!==null&&(xe(i,a),zo(i))}function RS(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),_5(i,l)}function jS(i,a){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(n(314))}c!==null&&c.delete(a),_5(i,l)}function FS(i,a){return ie(i,a)}var Xf=null,ch=null,Bg=!1,Zf=!1,qg=!1,gu=0;function zo(i){i!==ch&&i.next===null&&(ch===null?Xf=ch=i:ch=ch.next=i),Zf=!0,Bg||(Bg=!0,MS())}function wd(i,a){if(!qg&&Zf){qg=!0;do for(var l=!1,c=Xf;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var b=0;else{var T=c.suspendedLanes,W=c.pingedLanes;b=(1<<31-Me(42|i)+1)-1,b&=g&~(T&~W),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,A5(c,b))}else b=gr,b=ar(c,c===ln?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||ui(c,b)||(l=!0,A5(c,b));c=c.next}while(l);qg=!1}}function DS(){S5()}function S5(){Zf=Bg=!1;var i=0;gu!==0&&GS()&&(i=gu);for(var a=We(),l=null,c=Xf;c!==null;){var g=c.next,b=N5(c,a);b===0?(c.next=null,l===null?Xf=g:l.next=g,g===null&&(ch=l)):(l=c,(i!==0||(b&3)!==0)&&(Zf=!0)),c=g}_i!==0&&_i!==5||wd(i),gu!==0&&(gu=0)}function N5(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var T=31-Me(b),W=1<<T,ht=g[T];ht===-1?((W&l)===0||(W&c)!==0)&&(g[T]=ti(W,a)):ht<=a&&(i.expiredLanes|=W),b&=~W}if(a=ln,l=gr,l=ar(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(Kr===2||Kr===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ee(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ui(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&ee(c),Yr(l)){case 2:case 8:l=Sr;break;case 32:l=je;break;case 268435456:l=Pe;break;default:l=je}return c=k5.bind(null,i),l=ie(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&ee(c),i.callbackPriority=2,i.callbackNode=null,2}function k5(i,a){if(_i!==0&&_i!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Jf()&&i.callbackNode!==l)return null;var c=gr;return c=ar(i,i===ln?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(s5(i,c,a),N5(i,We()),i.callbackNode!=null&&i.callbackNode===l?k5.bind(null,i):null)}function A5(i,a){if(Jf())return null;s5(i,a,!0)}function MS(){YS(function(){(Ur&6)!==0?ie(De,DS):S5()})}function zg(){if(gu===0){var i=f;i===0&&(i=Cr,Cr<<=1,(Cr&261888)===0&&(Cr=256)),gu=i}return gu}function E5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:xa(""+i)}function I5(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function US(i,a,l,c,g){if(a==="submit"&&l&&l.stateNode===g){var b=E5((g[zr]||null).action),T=c.submitter;T&&(a=(a=T[zr]||null)?E5(a.formAction):T.getAttribute("formAction"),a!==null&&(b=a,T=null));var W=new Ti("action","action",null,c,g);i.push({event:W,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(gu!==0){var ht=T?I5(g,T):new FormData(g);lg(l,{pending:!0,data:ht,method:g.method,action:b},null,ht)}}else typeof b=="function"&&(W.preventDefault(),ht=T?I5(g,T):new FormData(g),lg(l,{pending:!0,data:ht,method:g.method,action:b},b,ht))},currentTarget:g}]})}}for(var Vg=0;Vg<pl.length;Vg++){var $g=pl[Vg],BS=$g.toLowerCase(),qS=$g[0].toUpperCase()+$g.slice(1);qa(BS,"on"+qS)}qa(fl,"onAnimationEnd"),qa(Gu,"onAnimationIteration"),qa(Qh,"onAnimationStart"),qa("dblclick","onDoubleClick"),qa("focusin","onFocus"),qa("focusout","onBlur"),qa(Nf,"onTransitionRun"),qa(kf,"onTransitionStart"),qa(Af,"onTransitionCancel"),qa(Yh,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xd));function L5(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],g=c.event;c=c.listeners;t:{var b=void 0;if(a)for(var T=c.length-1;0<=T;T--){var W=c[T],ht=W.instance,Ct=W.currentTarget;if(W=W.listener,ht!==b&&g.isPropagationStopped())break t;b=W,g.currentTarget=Ct;try{b(g)}catch(Bt){Qu(Bt)}g.currentTarget=null,b=ht}else for(T=0;T<c.length;T++){if(W=c[T],ht=W.instance,Ct=W.currentTarget,W=W.listener,ht!==b&&g.isPropagationStopped())break t;b=W,g.currentTarget=Ct;try{b(g)}catch(Bt){Qu(Bt)}g.currentTarget=null,b=ht}}}}function pr(i,a){var l=a[Ai];l===void 0&&(l=a[Ai]=new Set);var c=i+"__bubble";l.has(c)||(C5(a,i,2,!1),l.add(c))}function Wg(i,a,l){var c=0;a&&(c|=4),C5(l,i,c,a)}var tp="_reactListening"+Math.random().toString(36).slice(2);function Hg(i){if(!i[tp]){i[tp]=!0,wo.forEach(function(l){l!=="selectionchange"&&(zS.has(l)||Wg(l,!1,i),Wg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[tp]||(a[tp]=!0,Wg("selectionchange",!1,a))}}function C5(i,a,l,c){switch(av(a)){case 2:var g=g6;break;case 8:g=y6;break;default:g=o0}l=g.bind(null,a,l,i),g=void 0,!Hs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(a,l,{capture:!0,passive:g}):i.addEventListener(a,l,!0):g!==void 0?i.addEventListener(a,l,{passive:g}):i.addEventListener(a,l,!1)}function Kg(i,a,l,c,g){var b=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var W=c.stateNode.containerInfo;if(W===g)break;if(T===4)for(T=c.return;T!==null;){var ht=T.tag;if((ht===3||ht===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;W!==null;){if(T=qi(W),T===null)return;if(ht=T.tag,ht===5||ht===6||ht===26||ht===27){c=b=T;continue t}W=W.parentNode}}c=c.return}Ns(function(){var Ct=b,Bt=Ci(l),Ht=[];t:{var Ot=Jh.get(i);if(Ot!==void 0){var Rt=Ti,he=i;switch(i){case"keypress":if(Fa(l)===0)break t;case"keydown":case"keyup":Rt=mr;break;case"focusin":he="focus",Rt=Aa;break;case"focusout":he="blur",Rt=Aa;break;case"beforeblur":case"afterblur":Rt=Aa;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=k;break;case fl:case Gu:case Qh:Rt=x;break;case Yh:Rt=Y;break;case"scroll":case"scrollend":Rt=As;break;case"wheel":Rt=Pt;break;case"copy":case"cut":case"paste":Rt=it;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=$r;break;case"toggle":case"beforetoggle":Rt=$e}var Fe=(a&4)!==0,nn=!Fe&&(i==="scroll"||i==="scrollend"),wt=Fe?Ot!==null?Ot+"Capture":null:Ot;Fe=[];for(var mt=Ct,Lt;mt!==null;){var $t=mt;if(Lt=$t.stateNode,$t=$t.tag,$t!==5&&$t!==26&&$t!==27||Lt===null||wt===null||($t=Kn(mt,wt),$t!=null&&Fe.push(_d(mt,$t,Lt))),nn)break;mt=mt.return}0<Fe.length&&(Ot=new Rt(Ot,he,null,l,Bt),Ht.push({event:Ot,listeners:Fe}))}}if((a&7)===0){t:{if(Ot=i==="mouseover"||i==="pointerover",Rt=i==="mouseout"||i==="pointerout",Ot&&l!==hs&&(he=l.relatedTarget||l.fromElement)&&(qi(he)||he[Rn]))break t;if((Rt||Ot)&&(Ot=Bt.window===Bt?Bt:(Ot=Bt.ownerDocument)?Ot.defaultView||Ot.parentWindow:window,Rt?(he=l.relatedTarget||l.toElement,Rt=Ct,he=he?qi(he):null,he!==null&&(nn=o(he),Fe=he.tag,he!==nn||Fe!==5&&Fe!==27&&Fe!==6)&&(he=null)):(Rt=null,he=Ct),Rt!==he)){if(Fe=ka,$t="onMouseLeave",wt="onMouseEnter",mt="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=$r,$t="onPointerLeave",wt="onPointerEnter",mt="pointer"),nn=Rt==null?Ot:zi(Rt),Lt=he==null?Ot:zi(he),Ot=new Fe($t,mt+"leave",Rt,l,Bt),Ot.target=nn,Ot.relatedTarget=Lt,$t=null,qi(Bt)===Ct&&(Fe=new Fe(wt,mt+"enter",he,l,Bt),Fe.target=Lt,Fe.relatedTarget=nn,$t=Fe),nn=$t,Rt&&he)e:{for(Fe=VS,wt=Rt,mt=he,Lt=0,$t=wt;$t;$t=Fe($t))Lt++;$t=0;for(var Ce=mt;Ce;Ce=Fe(Ce))$t++;for(;0<Lt-$t;)wt=Fe(wt),Lt--;for(;0<$t-Lt;)mt=Fe(mt),$t--;for(;Lt--;){if(wt===mt||mt!==null&&wt===mt.alternate){Fe=wt;break e}wt=Fe(wt),mt=Fe(mt)}Fe=null}else Fe=null;Rt!==null&&T5(Ht,Ot,Rt,Fe,!1),he!==null&&nn!==null&&T5(Ht,nn,he,Fe,!0)}}t:{if(Ot=Ct?zi(Ct):window,Rt=Ot.nodeName&&Ot.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&Ot.type==="file")var Rr=Lo;else if(Hu(Ot))if(oa)Rr=Ts;else{Rr=In;var me=Jl}else Rt=Ot.nodeName,!Rt||Rt.toLowerCase()!=="input"||Ot.type!=="checkbox"&&Ot.type!=="radio"?Ct&&ko(Ct.elementType)&&(Rr=Lo):Rr=jc;if(Rr&&(Rr=Rr(i,Ct))){Ia(Ht,Rr,l,Bt);break t}me&&me(i,Ot,Ct),i==="focusout"&&Ct&&Ot.type==="number"&&Ct.memoizedProps.value!=null&&sl(Ot,"number",Ot.value)}switch(me=Ct?zi(Ct):window,i){case"focusin":(Hu(me)||me.contentEditable==="true")&&(La=me,eo=Ct,Pi=null);break;case"focusout":Pi=eo=La=null;break;case"mousedown":Ba=!0;break;case"contextmenu":case"mouseup":case"dragend":Ba=!1,Er(Ht,l,Bt);break;case"selectionchange":if(dl)break;case"keydown":case"keyup":Er(Ht,l,Bt)}var or;if(ur)t:{switch(i){case"compositionstart":var yr="onCompositionStart";break t;case"compositionend":yr="onCompositionEnd";break t;case"compositionupdate":yr="onCompositionUpdate";break t}yr=void 0}else Is?Ea(i,l)&&(yr="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(yr="onCompositionStart");yr&&(Gi&&l.locale!=="ko"&&(Is||yr!=="onCompositionStart"?yr==="onCompositionEnd"&&Is&&(or=ks()):($i=Bt,Ks="value"in $i?$i.value:$i.textContent,Is=!0)),me=ep(Ct,yr),0<me.length&&(yr=new vt(yr,i,null,l,Bt),Ht.push({event:yr,listeners:me}),or?yr.data=or:(or=Es(l),or!==null&&(yr.data=or)))),(or=ri?En(i,l):Qs(i,l))&&(yr=ep(Ct,"onBeforeInput"),0<yr.length&&(me=new vt("onBeforeInput","beforeinput",null,l,Bt),Ht.push({event:me,listeners:yr}),me.data=or)),US(Ht,i,Ct,l,Bt)}L5(Ht,a)})}function _d(i,a,l){return{instance:i,listener:a,currentTarget:l}}function ep(i,a){for(var l=a+"Capture",c=[];i!==null;){var g=i,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Kn(i,l),g!=null&&c.unshift(_d(i,g,b)),g=Kn(i,a),g!=null&&c.push(_d(i,g,b))),i.tag===3)return c;i=i.return}return[]}function VS(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function T5(i,a,l,c,g){for(var b=a._reactName,T=[];l!==null&&l!==c;){var W=l,ht=W.alternate,Ct=W.stateNode;if(W=W.tag,ht!==null&&ht===c)break;W!==5&&W!==26&&W!==27||Ct===null||(ht=Ct,g?(Ct=Kn(l,b),Ct!=null&&T.unshift(_d(l,Ct,ht))):g||(Ct=Kn(l,b),Ct!=null&&T.push(_d(l,Ct,ht)))),l=l.return}T.length!==0&&i.push({event:a,listeners:T})}var $S=/\r\n?/g,WS=/\u0000|\uFFFD/g;function P5(i){return(typeof i=="string"?i:""+i).replace($S,`
`).replace(WS,"")}function O5(i,a){return a=P5(a),P5(i)===a}function rn(i,a,l,c,g,b){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||kn(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&kn(i,""+c);break;case"className":Vi(i,"class",c);break;case"tabIndex":Vi(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(i,l,c);break;case"style":ul(i,c,b);break;case"data":if(a!=="object"){Vi(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=xa(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(a!=="input"&&rn(i,a,"name",g.name,g,null),rn(i,a,"formEncType",g.formEncType,g,null),rn(i,a,"formMethod",g.formMethod,g,null),rn(i,a,"formTarget",g.formTarget,g,null)):(rn(i,a,"encType",g.encType,g,null),rn(i,a,"method",g.method,g,null),rn(i,a,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=xa(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=_a);break;case"onScroll":c!=null&&pr("scroll",i);break;case"onScrollEnd":c!=null&&pr("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=xa(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":pr("beforetoggle",i),pr("toggle",i),ls(i,"popover",c);break;case"xlinkActuate":sr(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":sr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":sr(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":sr(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":sr(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":sr(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":sr(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":sr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":sr(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ls(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ao.get(l)||l,ls(i,l,c))}}function Gg(i,a,l,c,g,b){switch(l){case"style":ul(i,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"children":typeof c=="string"?kn(i,c):(typeof c=="number"||typeof c=="bigint")&&kn(i,""+c);break;case"onScroll":c!=null&&pr("scroll",i);break;case"onScrollEnd":c!=null&&pr("scrollend",i);break;case"onClick":c!=null&&(i.onclick=_a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ii.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),b=i[zr]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(a,b,g),typeof c=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,g);break t}l in i?i[l]=c:c===!0?i.setAttribute(l,""):ls(i,l,c)}}}function Zi(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pr("error",i),pr("load",i);var c=!1,g=!1,b;for(b in l)if(l.hasOwnProperty(b)){var T=l[b];if(T!=null)switch(b){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:rn(i,a,b,T,l,null)}}g&&rn(i,a,"srcSet",l.srcSet,l,null),c&&rn(i,a,"src",l.src,l,null);return;case"input":pr("invalid",i);var W=b=T=g=null,ht=null,Ct=null;for(c in l)if(l.hasOwnProperty(c)){var Bt=l[c];if(Bt!=null)switch(c){case"name":g=Bt;break;case"type":T=Bt;break;case"checked":ht=Bt;break;case"defaultChecked":Ct=Bt;break;case"value":b=Bt;break;case"defaultValue":W=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(n(137,a));break;default:rn(i,a,c,Bt,l,null)}}Gl(i,b,W,ht,Ct,T,g,!1);return;case"select":pr("invalid",i),c=T=b=null;for(g in l)if(l.hasOwnProperty(g)&&(W=l[g],W!=null))switch(g){case"value":b=W;break;case"defaultValue":T=W;break;case"multiple":c=W;default:rn(i,a,g,W,l,null)}a=b,l=T,i.multiple=!!c,a!=null?pi(i,!!c,a,!1):l!=null&&pi(i,!!c,l,!0);return;case"textarea":pr("invalid",i),b=g=c=null;for(T in l)if(l.hasOwnProperty(T)&&(W=l[T],W!=null))switch(T){case"value":c=W;break;case"defaultValue":g=W;break;case"children":b=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(91));break;default:rn(i,a,T,W,l,null)}cs(i,c,g,b);return;case"option":for(ht in l)if(l.hasOwnProperty(ht)&&(c=l[ht],c!=null))switch(ht){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:rn(i,a,ht,c,l,null)}return;case"dialog":pr("beforetoggle",i),pr("toggle",i),pr("cancel",i),pr("close",i);break;case"iframe":case"object":pr("load",i);break;case"video":case"audio":for(c=0;c<xd.length;c++)pr(xd[c],i);break;case"image":pr("error",i),pr("load",i);break;case"details":pr("toggle",i);break;case"embed":case"source":case"link":pr("error",i),pr("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ct in l)if(l.hasOwnProperty(Ct)&&(c=l[Ct],c!=null))switch(Ct){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:rn(i,a,Ct,c,l,null)}return;default:if(ko(a)){for(Bt in l)l.hasOwnProperty(Bt)&&(c=l[Bt],c!==void 0&&Gg(i,a,Bt,c,l,void 0));return}}for(W in l)l.hasOwnProperty(W)&&(c=l[W],c!=null&&rn(i,a,W,c,l,null))}function HS(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,T=null,W=null,ht=null,Ct=null,Bt=null;for(Rt in l){var Ht=l[Rt];if(l.hasOwnProperty(Rt)&&Ht!=null)switch(Rt){case"checked":break;case"value":break;case"defaultValue":ht=Ht;default:c.hasOwnProperty(Rt)||rn(i,a,Rt,null,c,Ht)}}for(var Ot in c){var Rt=c[Ot];if(Ht=l[Ot],c.hasOwnProperty(Ot)&&(Rt!=null||Ht!=null))switch(Ot){case"type":b=Rt;break;case"name":g=Rt;break;case"checked":Ct=Rt;break;case"defaultChecked":Bt=Rt;break;case"value":T=Rt;break;case"defaultValue":W=Rt;break;case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(n(137,a));break;default:Rt!==Ht&&rn(i,a,Ot,Rt,c,Ht)}}So(i,T,W,ht,Ct,Bt,b,g);return;case"select":Rt=T=W=Ot=null;for(b in l)if(ht=l[b],l.hasOwnProperty(b)&&ht!=null)switch(b){case"value":break;case"multiple":Rt=ht;default:c.hasOwnProperty(b)||rn(i,a,b,null,c,ht)}for(g in c)if(b=c[g],ht=l[g],c.hasOwnProperty(g)&&(b!=null||ht!=null))switch(g){case"value":Ot=b;break;case"defaultValue":W=b;break;case"multiple":T=b;default:b!==ht&&rn(i,a,g,b,c,ht)}a=W,l=T,c=Rt,Ot!=null?pi(i,!!l,Ot,!1):!!c!=!!l&&(a!=null?pi(i,!!l,a,!0):pi(i,!!l,l?[]:"",!1));return;case"textarea":Rt=Ot=null;for(W in l)if(g=l[W],l.hasOwnProperty(W)&&g!=null&&!c.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:rn(i,a,W,null,c,g)}for(T in c)if(g=c[T],b=l[T],c.hasOwnProperty(T)&&(g!=null||b!=null))switch(T){case"value":Ot=g;break;case"defaultValue":Rt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==b&&rn(i,a,T,g,c,b)}ol(i,Ot,Rt);return;case"option":for(var he in l)if(Ot=l[he],l.hasOwnProperty(he)&&Ot!=null&&!c.hasOwnProperty(he))switch(he){case"selected":i.selected=!1;break;default:rn(i,a,he,null,c,Ot)}for(ht in c)if(Ot=c[ht],Rt=l[ht],c.hasOwnProperty(ht)&&Ot!==Rt&&(Ot!=null||Rt!=null))switch(ht){case"selected":i.selected=Ot&&typeof Ot!="function"&&typeof Ot!="symbol";break;default:rn(i,a,ht,Ot,c,Rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in l)Ot=l[Fe],l.hasOwnProperty(Fe)&&Ot!=null&&!c.hasOwnProperty(Fe)&&rn(i,a,Fe,null,c,Ot);for(Ct in c)if(Ot=c[Ct],Rt=l[Ct],c.hasOwnProperty(Ct)&&Ot!==Rt&&(Ot!=null||Rt!=null))switch(Ct){case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(n(137,a));break;default:rn(i,a,Ct,Ot,c,Rt)}return;default:if(ko(a)){for(var nn in l)Ot=l[nn],l.hasOwnProperty(nn)&&Ot!==void 0&&!c.hasOwnProperty(nn)&&Gg(i,a,nn,void 0,c,Ot);for(Bt in c)Ot=c[Bt],Rt=l[Bt],!c.hasOwnProperty(Bt)||Ot===Rt||Ot===void 0&&Rt===void 0||Gg(i,a,Bt,Ot,c,Rt);return}}for(var wt in l)Ot=l[wt],l.hasOwnProperty(wt)&&Ot!=null&&!c.hasOwnProperty(wt)&&rn(i,a,wt,null,c,Ot);for(Ht in c)Ot=c[Ht],Rt=l[Ht],!c.hasOwnProperty(Ht)||Ot===Rt||Ot==null&&Rt==null||rn(i,a,Ht,Ot,c,Rt)}function R5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KS(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var g=l[c],b=g.transferSize,T=g.initiatorType,W=g.duration;if(b&&W&&R5(T)){for(T=0,W=g.responseEnd,c+=1;c<l.length;c++){var ht=l[c],Ct=ht.startTime;if(Ct>W)break;var Bt=ht.transferSize,Ht=ht.initiatorType;Bt&&R5(Ht)&&(ht=ht.responseEnd,T+=Bt*(ht<W?1:(W-Ct)/(ht-Ct)))}if(--c,a+=8*(b+T)/(g.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Qg=null,Yg=null;function rp(i){return i.nodeType===9?i:i.ownerDocument}function j5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F5(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Jg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xg=null;function GS(){var i=window.event;return i&&i.type==="popstate"?i===Xg?!1:(Xg=i,!0):(Xg=null,!1)}var D5=typeof setTimeout=="function"?setTimeout:void 0,QS=typeof clearTimeout=="function"?clearTimeout:void 0,M5=typeof Promise=="function"?Promise:void 0,YS=typeof queueMicrotask=="function"?queueMicrotask:typeof M5<"u"?function(i){return M5.resolve(null).then(i).catch(JS)}:D5;function JS(i){setTimeout(function(){throw i})}function yu(i){return i==="head"}function U5(i,a){var l=a,c=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(g),ph(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Sd(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Sd(l);for(var b=l.firstChild;b;){var T=b.nextSibling,W=b.nodeName;b[Ei]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=T}}else l==="body"&&Sd(i.ownerDocument.body);l=g}while(l);ph(a)}function B5(i,a){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function Zg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zg(l),os(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function XS(i,a,l,c){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ei])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence")||b!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ms(i.nextSibling),i===null)break}return null}function ZS(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ms(i.nextSibling),i===null))return null;return i}function q5(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Ms(i.nextSibling),i===null))return null;return i}function t0(i){return i.data==="$?"||i.data==="$~"}function e0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function t6(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Ms(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var r0=null;function z5(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Ms(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function V5(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function $5(i,a,l){switch(a=rp(l),i){case"html":if(i=a.documentElement,!i)throw Error(n(452));return i;case"head":if(i=a.head,!i)throw Error(n(453));return i;case"body":if(i=a.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Sd(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);os(i)}var Us=new Map,W5=new Set;function np(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Cl=ut.d;ut.d={f:e6,r:r6,D:n6,C:i6,L:a6,m:s6,X:l6,S:o6,M:u6};function e6(){var i=Cl.f(),a=Gf();return i||a}function r6(i){var a=hi(i);a!==null&&a.tag===5&&a.type==="form"?ly(a):Cl.r(i)}var hh=typeof document>"u"?null:document;function H5(i,a,l){var c=hh;if(c&&typeof a=="string"&&a){var g=fi(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),W5.has(g)||(W5.add(g),i={rel:i,crossOrigin:l,href:a},c.querySelector(g)===null&&(a=c.createElement("link"),Zi(a,"link",i),dn(a),c.head.appendChild(a)))}}function n6(i){Cl.D(i),H5("dns-prefetch",i,null)}function i6(i,a){Cl.C(i,a),H5("preconnect",i,a)}function a6(i,a,l){Cl.L(i,a,l);var c=hh;if(c&&i&&a){var g='link[rel="preload"][as="'+fi(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+fi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+fi(l.imageSizes)+'"]')):g+='[href="'+fi(i)+'"]';var b=g;switch(a){case"style":b=dh(i);break;case"script":b=fh(i)}Us.has(b)||(i=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Us.set(b,i),c.querySelector(g)!==null||a==="style"&&c.querySelector(Nd(b))||a==="script"&&c.querySelector(kd(b))||(a=c.createElement("link"),Zi(a,"link",i),dn(a),c.head.appendChild(a)))}}function s6(i,a){Cl.m(i,a);var l=hh;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+fi(c)+'"][href="'+fi(i)+'"]',b=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=fh(i)}if(!Us.has(b)&&(i=_({rel:"modulepreload",href:i},a),Us.set(b,i),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(kd(b)))return}c=l.createElement("link"),Zi(c,"link",i),dn(c),l.head.appendChild(c)}}}function o6(i,a,l){Cl.S(i,a,l);var c=hh;if(c&&i){var g=ia(c).hoistableStyles,b=dh(i);a=a||"default";var T=g.get(b);if(!T){var W={loading:0,preload:null};if(T=c.querySelector(Nd(b)))W.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Us.get(b))&&n0(i,l);var ht=T=c.createElement("link");dn(ht),Zi(ht,"link",i),ht._p=new Promise(function(Ct,Bt){ht.onload=Ct,ht.onerror=Bt}),ht.addEventListener("load",function(){W.loading|=1}),ht.addEventListener("error",function(){W.loading|=2}),W.loading|=4,ip(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:W},g.set(b,T)}}}function l6(i,a){Cl.X(i,a);var l=hh;if(l&&i){var c=ia(l).hoistableScripts,g=fh(i),b=c.get(g);b||(b=l.querySelector(kd(g)),b||(i=_({src:i,async:!0},a),(a=Us.get(g))&&i0(i,a),b=l.createElement("script"),dn(b),Zi(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(g,b))}}function u6(i,a){Cl.M(i,a);var l=hh;if(l&&i){var c=ia(l).hoistableScripts,g=fh(i),b=c.get(g);b||(b=l.querySelector(kd(g)),b||(i=_({src:i,async:!0,type:"module"},a),(a=Us.get(g))&&i0(i,a),b=l.createElement("script"),dn(b),Zi(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(g,b))}}function K5(i,a,l,c){var g=(g=dt.current)?np(g):null;if(!g)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=dh(l.href),l=ia(g).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=dh(l.href);var b=ia(g).hoistableStyles,T=b.get(i);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,T),(b=g.querySelector(Nd(i)))&&!b._p&&(T.instance=b,T.state.loading=5),Us.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Us.set(i,l),b||c6(g,i,l,T.state))),a&&c===null)throw Error(n(528,""));return T}if(a&&c!==null)throw Error(n(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=fh(l),l=ia(g).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function dh(i){return'href="'+fi(i)+'"'}function Nd(i){return'link[rel="stylesheet"]['+i+"]"}function G5(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function c6(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Zi(a,"link",l),dn(a),i.head.appendChild(a))}function fh(i){return'[src="'+fi(i)+'"]'}function kd(i){return"script[async]"+i}function Q5(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+fi(l.href)+'"]');if(c)return a.instance=c,dn(c),c;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),dn(c),Zi(c,"style",g),ip(c,l.precedence,i),a.instance=c;case"stylesheet":g=dh(l.href);var b=i.querySelector(Nd(g));if(b)return a.state.loading|=4,a.instance=b,dn(b),b;c=G5(l),(g=Us.get(g))&&n0(c,g),b=(i.ownerDocument||i).createElement("link"),dn(b);var T=b;return T._p=new Promise(function(W,ht){T.onload=W,T.onerror=ht}),Zi(b,"link",c),a.state.loading|=4,ip(b,l.precedence,i),a.instance=b;case"script":return b=fh(l.src),(g=i.querySelector(kd(b)))?(a.instance=g,dn(g),g):(c=l,(g=Us.get(b))&&(c=_({},l),i0(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),dn(g),Zi(g,"link",c),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,ip(c,l.precedence,i));return a.instance}function ip(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,b=g,T=0;T<c.length;T++){var W=c[T];if(W.dataset.precedence===a)b=W;else if(b!==g)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function n0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function i0(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var ap=null;function Y5(i,a,l){if(ap===null){var c=new Map,g=ap=new Map;g.set(l,c)}else g=ap,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var b=l[g];if(!(b[Ei]||b[Tr]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var T=b.getAttribute(a)||"";T=i+T;var W=c.get(T);W?W.push(b):c.set(T,[b])}}return c}function J5(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function h6(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function X5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function d6(i,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=dh(c.href),b=a.querySelector(Nd(g));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=sp.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=b,dn(b);return}b=a.ownerDocument||a,c=G5(c),(g=Us.get(g))&&n0(c,g),b=b.createElement("link"),dn(b);var T=b;T._p=new Promise(function(W,ht){T.onload=W,T.onerror=ht}),Zi(b,"link",c),l.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=sp.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var a0=0;function f6(i,a){return i.stylesheets&&i.count===0&&lp(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&lp(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+a);0<i.imgBytes&&a0===0&&(a0=62500*KS());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&lp(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>a0?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function sp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var op=null;function lp(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,op=new Map,a.forEach(p6,i),op=null,sp.call(i))}function p6(i,a){if(!(a.state.loading&4)){var l=op.get(i);if(l)var c=l.get(null);else{l=new Map,op.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var T=g[b];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}g=a.instance,T=g.getAttribute("data-precedence"),b=l.get(T)||c,b===c&&l.set(null,g),l.set(T,g),this.count++,c=sp.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),b?b.parentNode.insertBefore(g,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var Ad={$$typeof:tt,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function m6(i,a,l,c,g,b,T,W,ht){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ht,this.incompleteTransitions=new Map}function Z5(i,a,l,c,g,b,T,W,ht,Ct,Bt,Ht){return i=new m6(i,a,l,T,ht,Ct,Bt,Ht,W),a=1,b===!0&&(a|=24),b=Ri(3,null,null,a),i.current=b,b.stateNode=i,a=au(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:c,isDehydrated:l,cache:a},Zt(b),i}function tv(i){return i?(i=yi,i):yi}function ev(i,a,l,c,g,b){g=tv(g),c.context===null?c.context=g:c.pendingContext=g,c=Oe(a),c.payload={element:l},b=b===void 0?null:b,b!==null&&(c.callback=b),l=nr(i,c,a),l!==null&&(ts(l,i,a),Dr(l,i,a))}function rv(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function s0(i,a){rv(i,a),(i=i.alternate)&&rv(i,a)}function nv(i){if(i.tag===13||i.tag===31){var a=ro(i,67108864);a!==null&&ts(a,i,67108864),s0(i,67108864)}}function iv(i){if(i.tag===13||i.tag===31){var a=bs();a=Br(a);var l=ro(i,a);l!==null&&ts(l,i,a),s0(i,a)}}var up=!0;function g6(i,a,l,c){var g=nt.T;nt.T=null;var b=ut.p;try{ut.p=2,o0(i,a,l,c)}finally{ut.p=b,nt.T=g}}function y6(i,a,l,c){var g=nt.T;nt.T=null;var b=ut.p;try{ut.p=8,o0(i,a,l,c)}finally{ut.p=b,nt.T=g}}function o0(i,a,l,c){if(up){var g=l0(c);if(g===null)Kg(i,a,c,cp,l),sv(i,c);else if(b6(g,i,a,l,c))c.stopPropagation();else if(sv(i,c),a&4&&-1<v6.indexOf(i)){for(;g!==null;){var b=hi(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var T=ke(b.pendingLanes);if(T!==0){var W=b;for(W.pendingLanes|=2,W.entangledLanes|=2;T;){var ht=1<<31-Me(T);W.entanglements[1]|=ht,T&=~ht}zo(b),(Ur&6)===0&&(Hf=We()+500,wd(0))}}break;case 31:case 13:W=ro(b,2),W!==null&&ts(W,b,2),Gf(),s0(b,2)}if(b=l0(c),b===null&&Kg(i,a,c,cp,l),b===g)break;g=b}g!==null&&c.stopPropagation()}else Kg(i,a,c,null,l)}}function l0(i){return i=Ci(i),u0(i)}var cp=null;function u0(i){if(cp=null,i=qi(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=h(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return cp=i,null}function av(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case De:return 2;case Sr:return 8;case je:case be:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var c0=!1,vu=null,bu=null,wu=null,Ed=new Map,Id=new Map,xu=[],v6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(i,a){switch(i){case"focusin":case"focusout":vu=null;break;case"dragenter":case"dragleave":bu=null;break;case"mouseover":case"mouseout":wu=null;break;case"pointerover":case"pointerout":Ed.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(a.pointerId)}}function Ld(i,a,l,c,g,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:b,targetContainers:[g]},a!==null&&(a=hi(a),a!==null&&nv(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function b6(i,a,l,c,g){switch(a){case"focusin":return vu=Ld(vu,i,a,l,c,g),!0;case"dragenter":return bu=Ld(bu,i,a,l,c,g),!0;case"mouseover":return wu=Ld(wu,i,a,l,c,g),!0;case"pointerover":var b=g.pointerId;return Ed.set(b,Ld(Ed.get(b)||null,i,a,l,c,g)),!0;case"gotpointercapture":return b=g.pointerId,Id.set(b,Ld(Id.get(b)||null,i,a,l,c,g)),!0}return!1}function ov(i){var a=qi(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,ci(i.priority,function(){iv(l)});return}}else if(a===31){if(a=h(l),a!==null){i.blockedOn=a,ci(i.priority,function(){iv(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=l0(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);hs=c,l.target.dispatchEvent(c),hs=null}else return a=hi(l),a!==null&&nv(a),i.blockedOn=l,!1;a.shift()}return!0}function lv(i,a,l){hp(i)&&l.delete(a)}function w6(){c0=!1,vu!==null&&hp(vu)&&(vu=null),bu!==null&&hp(bu)&&(bu=null),wu!==null&&hp(wu)&&(wu=null),Ed.forEach(lv),Id.forEach(lv)}function dp(i,a){i.blockedOn===a&&(i.blockedOn=null,c0||(c0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,w6)))}var fp=null;function uv(i){fp!==i&&(fp=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fp===i&&(fp=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],g=i[a+2];if(typeof c!="function"){if(u0(c||l)===null)continue;break}var b=hi(l);b!==null&&(i.splice(a,3),a-=3,lg(b,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function ph(i){function a(ht){return dp(ht,i)}vu!==null&&dp(vu,i),bu!==null&&dp(bu,i),wu!==null&&dp(wu,i),Ed.forEach(a),Id.forEach(a);for(var l=0;l<xu.length;l++){var c=xu[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<xu.length&&(l=xu[0],l.blockedOn===null);)ov(l),l.blockedOn===null&&xu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],b=l[c+1],T=g[zr]||null;if(typeof b=="function")T||uv(l);else if(T){var W=null;if(b&&b.hasAttribute("formAction")){if(g=b,T=b[zr]||null)W=T.formAction;else if(u0(g)!==null)continue}else W=T.action;typeof W=="function"?l[c+1]=W:(l.splice(c,3),c-=3),uv(l)}}}function cv(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(T){return g=T})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function h0(i){this._internalRoot=i}pp.prototype.render=h0.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));var l=a.current,c=bs();ev(l,c,i,a,null,null)},pp.prototype.unmount=h0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ev(i.current,2,null,i,null,null),Gf(),a[Rn]=null}};function pp(i){this._internalRoot=i}pp.prototype.unstable_scheduleHydration=function(i){if(i){var a=On();i={blockedOn:null,target:i,priority:a};for(var l=0;l<xu.length&&a!==0&&a<xu[l].priority;l++);xu.splice(l,0,i),l===0&&ov(i)}};var hv=t.version;if(hv!=="19.2.0")throw Error(n(527,hv,"19.2.0"));ut.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=m(a),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var x6={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:nt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{rr=mp.inject(x6),ae=mp}catch{}}return Td.createRoot=function(i,a){if(!s(i))throw Error(n(299));var l=!1,c="",g=vy,b=by,T=wy;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),a=Z5(i,1,!1,null,null,l,c,null,g,b,T,cv),i[Rn]=a.current,Hg(i),new h0(a)},Td.hydrateRoot=function(i,a,l){if(!s(i))throw Error(n(299));var c=!1,g="",b=vy,T=by,W=wy,ht=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(W=l.onRecoverableError),l.formState!==void 0&&(ht=l.formState)),a=Z5(i,1,!0,a,l??null,c,g,ht,b,T,W,cv),a.context=tv(null),l=a.current,c=bs(),c=Br(c),g=Oe(c),g.callback=null,nr(l,g,c),l=c,a.current.lanes=l,xe(a,l),zo(a),i[Rn]=a.current,Hg(i),new pp(a)},Td.version="19.2.0",Td}var Av;function O6(){if(Av)return f0.exports;Av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),f0.exports=P6(),f0.exports}var R6=O6();const Ev=r=>{let t;const e=new Set,n=(h,d)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const v=t;t=d??(typeof m!="object"||m===null)?m:Object.assign({},t,m),e.forEach(_=>_(t,v))}},s=()=>t,o={setState:n,getState:s,getInitialState:()=>u,subscribe:h=>(e.add(h),()=>e.delete(h))},u=t=r(n,s,o);return o},j6=(r=>r?Ev(r):Ev),F6=r=>r;function D6(r,t=F6){const e=gp.useSyncExternalStore(r.subscribe,gp.useCallback(()=>t(r.getState()),[r,t]),gp.useCallback(()=>t(r.getInitialState()),[r,t]));return gp.useDebugValue(e),e}const M6=r=>{const t=j6(r),e=n=>D6(t,n);return Object.assign(e,t),e},R4=(r=>M6),Iv={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_NAME:"Florale",VITE_FIREBASE_API_KEY:"AIzaSyB2rtytlB_03Rhxbo90cps8fhuKvKw7Au0",VITE_FIREBASE_APP_ID:"1:1076135996607:web:4f6ab12ec99816c6f8aa0a",VITE_FIREBASE_AUTH_DOMAIN:"florale-53f36.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"1076135996607",VITE_FIREBASE_PROJECT_ID:"florale-53f36",VITE_FIREBASE_STORAGE_BUCKET:"florale-53f36.firebasestorage.app"},Yd=new Map,yp=r=>{const t=Yd.get(r);return t?Object.fromEntries(Object.entries(t.stores).map(([e,n])=>[e,n.getState()])):{}},U6=(r,t,e)=>{if(r===void 0)return{type:"untracked",connection:t.connect(e)};const n=Yd.get(e.name);if(n)return{type:"tracked",store:r,...n};const s={connection:t.connect(e),stores:{}};return Yd.set(e.name,s),{type:"tracked",store:r,...s}},B6=(r,t)=>{if(t===void 0)return;const e=Yd.get(r);e&&(delete e.stores[t],Object.keys(e.stores).length===0&&Yd.delete(r))},q6=r=>{var t,e;if(!r)return;const n=r.split(`
`),s=n.findIndex(u=>u.includes("api.setState"));if(s<0)return;const o=((t=n[s+1])==null?void 0:t.trim())||"";return(e=/.+ (.+) .+/.exec(o))==null?void 0:e[1]},z6=(r,t={})=>(e,n,s)=>{const{enabled:o,anonymousActionType:u,store:h,...d}=t;let m;try{m=(o??(Iv?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!m)return r(e,n,s);const{connection:v,..._}=U6(h,m,d);let A=!0;s.setState=((F,$,B)=>{const et=e(F,$);if(!A)return et;const tt=B===void 0?{type:u||q6(new Error().stack)||"anonymous"}:typeof B=="string"?{type:B}:B;return h===void 0?(v?.send(tt,n()),et):(v?.send({...tt,type:`${h}/${tt.type}`},{...yp(d.name),[h]:s.getState()}),et)}),s.devtools={cleanup:()=>{v&&typeof v.unsubscribe=="function"&&v.unsubscribe(),B6(d.name,h)}};const w=(...F)=>{const $=A;A=!1,e(...F),A=$},M=r(s.setState,n,s);if(_.type==="untracked"?v?.init(M):(_.stores[_.store]=s,v?.init(Object.fromEntries(Object.entries(_.stores).map(([F,$])=>[F,F===_.store?M:$.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let F=!1;const $=s.dispatch;s.dispatch=(...B)=>{(Iv?"production":void 0)!=="production"&&B[0].type==="__setState"&&!F&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),F=!0),$(...B)}}return v.subscribe(F=>{var $;switch(F.type){case"ACTION":if(typeof F.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return m0(F.payload,B=>{if(B.type==="__setState"){if(h===void 0){w(B.state);return}Object.keys(B.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const et=B.state[h];if(et==null)return;JSON.stringify(s.getState())!==JSON.stringify(et)&&w(et);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(B)});case"DISPATCH":switch(F.payload.type){case"RESET":return w(M),h===void 0?v?.init(s.getState()):v?.init(yp(d.name));case"COMMIT":if(h===void 0){v?.init(s.getState());return}return v?.init(yp(d.name));case"ROLLBACK":return m0(F.state,B=>{if(h===void 0){w(B),v?.init(s.getState());return}w(B[h]),v?.init(yp(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return m0(F.state,B=>{if(h===void 0){w(B);return}JSON.stringify(s.getState())!==JSON.stringify(B[h])&&w(B[h])});case"IMPORT_STATE":{const{nextLiftedState:B}=F.payload,et=($=B.computedStates.slice(-1)[0])==null?void 0:$.state;if(!et)return;w(h===void 0?et:et[h]),v?.send(null,B);return}case"PAUSE_RECORDING":return A=!A}return}}),M},j4=z6,m0=(r,t)=>{let e;try{e=JSON.parse(r)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}e!==void 0&&t(e)};function V6(r,t){let e;try{e=r()}catch{return}return{getItem:n=>{var s;const o=h=>h===null?null:JSON.parse(h,void 0),u=(s=e.getItem(n))!=null?s:null;return u instanceof Promise?u.then(o):o(u)},setItem:(n,s)=>e.setItem(n,JSON.stringify(s,void 0)),removeItem:n=>e.removeItem(n)}}const e1=r=>t=>{try{const e=r(t);return e instanceof Promise?e:{then(n){return e1(n)(e)},catch(n){return this}}}catch(e){return{then(n){return this},catch(n){return e1(n)(e)}}}},$6=(r,t)=>(e,n,s)=>{let o={storage:V6(()=>localStorage),partialize:F=>F,version:0,merge:(F,$)=>({...$,...F}),...t},u=!1;const h=new Set,d=new Set;let m=o.storage;if(!m)return r((...F)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),e(...F)},n,s);const v=()=>{const F=o.partialize({...n()});return m.setItem(o.name,{state:F,version:o.version})},_=s.setState;s.setState=(F,$)=>(_(F,$),v());const A=r((...F)=>(e(...F),v()),n,s);s.getInitialState=()=>A;let w;const M=()=>{var F,$;if(!m)return;u=!1,h.forEach(et=>{var tt;return et((tt=n())!=null?tt:A)});const B=(($=o.onRehydrateStorage)==null?void 0:$.call(o,(F=n())!=null?F:A))||void 0;return e1(m.getItem.bind(m))(o.name).then(et=>{if(et)if(typeof et.version=="number"&&et.version!==o.version){if(o.migrate){const tt=o.migrate(et.state,et.version);return tt instanceof Promise?tt.then(ct=>[!0,ct]):[!0,tt]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,et.state];return[!1,void 0]}).then(et=>{var tt;const[ct,At]=et;if(w=o.merge(At,(tt=n())!=null?tt:A),e(w,!0),ct)return v()}).then(()=>{B?.(w,void 0),w=n(),u=!0,d.forEach(et=>et(w))}).catch(et=>{B?.(void 0,et)})};return s.persist={setOptions:F=>{o={...o,...F},F.storage&&(m=F.storage)},clearStorage:()=>{m?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>M(),hasHydrated:()=>u,onHydrate:F=>(h.add(F),()=>{h.delete(F)}),onFinishHydration:F=>(d.add(F),()=>{d.delete(F)})},o.skipHydration||M(),w||A},W6=$6;R4()(j4(W6(r=>({user:null,isAuthenticated:!1,theme:"light",sidebarOpen:!0,isLoading:!1,setUser:t=>r({user:t,isAuthenticated:!!t},!1,"setUser"),logout:()=>r({user:null,isAuthenticated:!1},!1,"logout"),toggleTheme:()=>r(t=>({theme:t.theme==="light"?"dark":"light"}),!1,"toggleTheme"),toggleSidebar:()=>r(t=>({sidebarOpen:!t.sidebarOpen}),!1,"toggleSidebar"),setLoading:t=>r({isLoading:t},!1,"setLoading")}),{name:"florale-storage",partialize:r=>({theme:r.theme,sidebarOpen:r.sidebarOpen})}),{name:"AppStore"}));const H6=()=>{};var Lv={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const F4=function(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},K6=function(r){const t=[];let e=0,n=0;for(;e<r.length;){const s=r[e++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=r[e++];t[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=r[e++],u=r[e++],h=r[e++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[n++]=String.fromCharCode(55296+(d>>10)),t[n++]=String.fromCharCode(56320+(d&1023))}else{const o=r[e++],u=r[e++];t[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return t.join("")},D4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const o=r[s],u=s+1<r.length,h=u?r[s+1]:0,d=s+2<r.length,m=d?r[s+2]:0,v=o>>2,_=(o&3)<<4|h>>4;let A=(h&15)<<2|m>>6,w=m&63;d||(w=64,u||(A=64)),n.push(e[v],e[_],e[A],e[w])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(F4(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):K6(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const o=e[r.charAt(s++)],u=s<r.length?e[r.charAt(s)]:0;++s;const h=s<r.length?e[r.charAt(s)]:64;++s;const d=s<r.length?e[r.charAt(s)]:64;if(++s,o==null||u==null||h==null||d==null)throw new G6;const m=o<<2|u>>4;if(n.push(m),h!==64){const v=u<<4&240|h>>2;if(n.push(v),d!==64){const _=h<<6&192|d;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class G6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q6=function(r){const t=F4(r);return D4.encodeByteArray(t,!0)},Zp=function(r){return Q6(r).replace(/\./g,"")},M4=function(r){try{return D4.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Y6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const J6=()=>Y6().__FIREBASE_DEFAULTS__,X6=()=>{if(typeof process>"u"||typeof Lv>"u")return;const r=Lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Z6=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&M4(r[1]);return t&&JSON.parse(t)},km=()=>{try{return H6()||J6()||X6()||Z6()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},U4=r=>km()?.emulatorHosts?.[r],B4=r=>{const t=U4(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},q4=()=>km()?.config,z4=r=>km()?.[`_${r}`];/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U1(r){return(await fetch(r,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function V4(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",s=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zp(JSON.stringify(e)),Zp(JSON.stringify(u)),""].join(".")}const zd={};function eN(){const r={prod:[],emulator:[]};for(const t of Object.keys(zd))zd[t]?r.emulator.push(t):r.prod.push(t);return r}function rN(r){let t=document.getElementById(r),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),e=!0),{created:e,element:t}}let Cv=!1;function B1(r,t){if(typeof window>"u"||typeof document>"u"||!Vu(window.location.host)||zd[r]===t||zd[r]||Cv)return;zd[r]=t;function e(_){return`__firebase__banner__${_}`}const n="__firebase__banner",s=eN().prod.length>0;function o(){const _=document.getElementById(n);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,A){_.setAttribute("width","24"),_.setAttribute("id",A),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Cv=!0,o()},_}function m(_,A){_.setAttribute("id",A),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=rN(n),A=e("text"),w=document.getElementById(A)||document.createElement("span"),M=e("learnmore"),F=document.getElementById(M)||document.createElement("a"),$=e("preprendIcon"),B=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const et=_.element;u(et),m(F,M);const tt=d();h(B,$),et.append(B,w,F,tt),document.body.appendChild(et)}s?(w.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ya(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ya())}function iN(){const r=km()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sN(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function oN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lN(){const r=ya();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uN(){return!iN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cN(){try{return typeof indexedDB=="object"}catch{return!1}}function hN(){return new Promise((r,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(e){t(e)}})}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dN="FirebaseError";class rl extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=dN,Object.setPrototypeOf(this,rl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cf.prototype.create)}}class cf{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],u=o?fN(o,n):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new rl(s,h,n)}}function fN(r,t){return r.replace(pN,(e,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const pN=/\{\$([^}]+)}/g;function mN(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function bc(r,t){if(r===t)return!0;const e=Object.keys(r),n=Object.keys(t);for(const s of e){if(!n.includes(s))return!1;const o=r[s],u=t[s];if(Tv(o)&&Tv(u)){if(!bc(o,u))return!1}else if(o!==u)return!1}for(const s of n)if(!e.includes(s))return!1;return!0}function Tv(r){return r!==null&&typeof r=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hf(r){const t=[];for(const[e,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Fd(r){const t={};return r.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,s]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(s)}}),t}function Dd(r){const t=r.indexOf("?");if(!t)return"";const e=r.indexOf("#",t);return r.substring(t,e>0?e:void 0)}function gN(r,t){const e=new yN(r,t);return e.subscribe.bind(e)}class yN{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let s;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");vN(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:n},s.next===void 0&&(s.next=g0),s.error===void 0&&(s.error=g0),s.complete===void 0&&(s.complete=g0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vN(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function g0(){}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hn(r){return r&&r._delegate?r._delegate:r}class ju{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uc="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bN{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new tN;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),n=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xN(t))try{this.getOrInitializeService({instanceIdentifier:uc})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(t=uc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=uc){return this.instances.has(t)}getOptions(t=uc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);n===h&&u.resolve(s)}return s}onInit(t,e){const n=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(n)??new Set;s.add(t),this.onInitCallbacks.set(n,s);const o=this.instances.get(n);return o&&t(o,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:wN(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=uc){return this.component?this.component.multipleInstances?t:uc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wN(r){return r===uc?void 0:r}function xN(r){return r.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _N{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new bN(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var vr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(vr||(vr={}));const SN={debug:vr.DEBUG,verbose:vr.VERBOSE,info:vr.INFO,warn:vr.WARN,error:vr.ERROR,silent:vr.SILENT},NN=vr.INFO,kN={[vr.DEBUG]:"log",[vr.VERBOSE]:"log",[vr.INFO]:"info",[vr.WARN]:"warn",[vr.ERROR]:"error"},AN=(r,t,...e)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),s=kN[t];if(s)console[s](`[${n}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class q1{constructor(t){this.name=t,this._logLevel=NN,this._logHandler=AN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in vr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,vr.DEBUG,...t),this._logHandler(this,vr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,vr.VERBOSE,...t),this._logHandler(this,vr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,vr.INFO,...t),this._logHandler(this,vr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,vr.WARN,...t),this._logHandler(this,vr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,vr.ERROR,...t),this._logHandler(this,vr.ERROR,...t)}}const EN=(r,t)=>t.some(e=>r instanceof e);let Pv,Ov;function IN(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LN(){return Ov||(Ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $4=new WeakMap,r1=new WeakMap,W4=new WeakMap,y0=new WeakMap,z1=new WeakMap;function CN(r){const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("success",o),r.removeEventListener("error",u)},o=()=>{e(Tu(r.result)),s()},u=()=>{n(r.error),s()};r.addEventListener("success",o),r.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&$4.set(e,r)}).catch(()=>{}),z1.set(t,r),t}function TN(r){if(r1.has(r))return;const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",u),r.removeEventListener("abort",u)},o=()=>{e(),s()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",o),r.addEventListener("error",u),r.addEventListener("abort",u)});r1.set(r,t)}let n1={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return r1.get(r);if(t==="objectStoreNames")return r.objectStoreNames||W4.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Tu(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function PN(r){n1=r(n1)}function ON(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=r.call(v0(this),t,...e);return W4.set(n,t.sort?t.sort():[t]),Tu(n)}:LN().includes(r)?function(...t){return r.apply(v0(this),t),Tu($4.get(this))}:function(...t){return Tu(r.apply(v0(this),t))}}function RN(r){return typeof r=="function"?ON(r):(r instanceof IDBTransaction&&TN(r),EN(r,IN())?new Proxy(r,n1):r)}function Tu(r){if(r instanceof IDBRequest)return CN(r);if(y0.has(r))return y0.get(r);const t=RN(r);return t!==r&&(y0.set(r,t),z1.set(t,r)),t}const v0=r=>z1.get(r);function jN(r,t,{blocked:e,upgrade:n,blocking:s,terminated:o}={}){const u=indexedDB.open(r,t),h=Tu(u);return n&&u.addEventListener("upgradeneeded",d=>{n(Tu(u.result),d.oldVersion,d.newVersion,Tu(u.transaction),d)}),e&&u.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const FN=["get","getKey","getAll","getAllKeys","count"],DN=["put","add","delete","clear"],b0=new Map;function Rv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(b0.get(t))return b0.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,s=DN.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||FN.includes(e)))return;const o=async function(u,...h){const d=this.transaction(u,s?"readwrite":"readonly");let m=d.store;return n&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),s&&d.done]))[0]};return b0.set(t,o),o}PN(r=>({...r,get:(t,e,n)=>Rv(t,e)||r.get(t,e,n),has:(t,e)=>!!Rv(t,e)||r.has(t,e)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class MN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UN(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}else return null}).filter(t=>t).join(" ")}}function UN(r){return r.getComponent()?.type==="VERSION"}const i1="@firebase/app",jv="0.14.4";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ql=new q1("@firebase/app"),BN="@firebase/app-compat",qN="@firebase/analytics-compat",zN="@firebase/analytics",VN="@firebase/app-check-compat",$N="@firebase/app-check",WN="@firebase/auth",HN="@firebase/auth-compat",KN="@firebase/database",GN="@firebase/data-connect",QN="@firebase/database-compat",YN="@firebase/functions",JN="@firebase/functions-compat",XN="@firebase/installations",ZN="@firebase/installations-compat",tk="@firebase/messaging",ek="@firebase/messaging-compat",rk="@firebase/performance",nk="@firebase/performance-compat",ik="@firebase/remote-config",ak="@firebase/remote-config-compat",sk="@firebase/storage",ok="@firebase/storage-compat",lk="@firebase/firestore",uk="@firebase/ai",ck="@firebase/firestore-compat",hk="firebase",dk="12.4.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const a1="[DEFAULT]",fk={[i1]:"fire-core",[BN]:"fire-core-compat",[zN]:"fire-analytics",[qN]:"fire-analytics-compat",[$N]:"fire-app-check",[VN]:"fire-app-check-compat",[WN]:"fire-auth",[HN]:"fire-auth-compat",[KN]:"fire-rtdb",[GN]:"fire-data-connect",[QN]:"fire-rtdb-compat",[YN]:"fire-fn",[JN]:"fire-fn-compat",[XN]:"fire-iid",[ZN]:"fire-iid-compat",[tk]:"fire-fcm",[ek]:"fire-fcm-compat",[rk]:"fire-perf",[nk]:"fire-perf-compat",[ik]:"fire-rc",[ak]:"fire-rc-compat",[sk]:"fire-gcs",[ok]:"fire-gcs-compat",[lk]:"fire-fst",[ck]:"fire-fst-compat",[uk]:"fire-vertex","fire-js":"fire-js",[hk]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tm=new Map,pk=new Map,s1=new Map;function Fv(r,t){try{r.container.addComponent(t)}catch(e){ql.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function wc(r){const t=r.name;if(s1.has(t))return ql.debug(`There were multiple attempts to register component ${t}.`),!1;s1.set(t,r);for(const e of tm.values())Fv(e,r);for(const e of pk.values())Fv(e,r);return!0}function Am(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function Oa(r){return r==null?!1:r.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pu=new cf("app","Firebase",mk);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gk{constructor(t,e,n){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ju("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pu.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Lc=dk;function H4(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const n={name:a1,automaticDataCollectionEnabled:!0,...t},s=n.name;if(typeof s!="string"||!s)throw Pu.create("bad-app-name",{appName:String(s)});if(e||(e=q4()),!e)throw Pu.create("no-options");const o=tm.get(s);if(o){if(bc(e,o.options)&&bc(n,o.config))return o;throw Pu.create("duplicate-app",{appName:s})}const u=new _N(s);for(const d of s1.values())u.addComponent(d);const h=new gk(e,n,u);return tm.set(s,h),h}function V1(r=a1){const t=tm.get(r);if(!t&&r===a1&&q4())return H4();if(!t)throw Pu.create("no-app",{appName:r});return t}function Go(r,t,e){let n=fk[r]??r;e&&(n+=`-${e}`);const s=n.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const u=[`Unable to register library "${n}" with version "${t}":`];s&&u.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ql.warn(u.join(" "));return}wc(new ju(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const yk="firebase-heartbeat-database",vk=1,Jd="firebase-heartbeat-store";let w0=null;function K4(){return w0||(w0=jN(yk,vk,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Jd)}catch(e){console.warn(e)}}}}).catch(r=>{throw Pu.create("idb-open",{originalErrorMessage:r.message})})),w0}async function bk(r){try{const t=(await K4()).transaction(Jd),e=await t.objectStore(Jd).get(G4(r));return await t.done,e}catch(t){if(t instanceof rl)ql.warn(t.message);else{const e=Pu.create("idb-get",{originalErrorMessage:t?.message});ql.warn(e.message)}}}async function Dv(r,t){try{const e=(await K4()).transaction(Jd,"readwrite");await e.objectStore(Jd).put(t,G4(r)),await e.done}catch(e){if(e instanceof rl)ql.warn(e.message);else{const n=Pu.create("idb-set",{originalErrorMessage:e?.message});ql.warn(n.message)}}}function G4(r){return`${r.name}!${r.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wk=1024,xk=30;class _k{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Nk(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=Mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===e||this._heartbeatsCache.heartbeats.some(n=>n.date===e))return;if(this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats.length>xk){const n=kk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(n,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ql.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Mv(),{heartbeatsToSend:e,unsentEntries:n}=Sk(this._heartbeatsCache.heartbeats),s=Zp(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ql.warn(t),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function Sk(r,t=wk){const e=[];let n=r.slice();for(const s of r){const o=e.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),Uv(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),Uv(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class Nk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cN()?hN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const e=await this.read();return Dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??e.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const e=await this.read();return Dv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??e.lastSentHeartbeatDate,heartbeats:[...e.heartbeats,...t.heartbeats]})}else return}}function Uv(r){return Zp(JSON.stringify({version:2,heartbeats:r})).length}function kk(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let n=1;n<r.length;n++)r[n].date<e&&(e=r[n].date,t=n);return t}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ak(r){wc(new ju("platform-logger",t=>new MN(t),"PRIVATE")),wc(new ju("heartbeat",t=>new _k(t),"PRIVATE")),Go(i1,jv,r),Go(i1,jv,"esm2020"),Go("fire-js","")}Ak("");var Ek="firebase",Ik="12.4.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Go(Ek,Ik,"app");function Q4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lk=Q4,Y4=new cf("auth","Firebase",Q4());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const em=new q1("@firebase/auth");function Ck(r,...t){em.logLevel<=vr.WARN&&em.warn(`Auth (${Lc}): ${r}`,...t)}function Fp(r,...t){em.logLevel<=vr.ERROR&&em.error(`Auth (${Lc}): ${r}`,...t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vs(r,...t){throw W1(r,...t)}function fo(r,...t){return W1(r,...t)}function $1(r,t,e){const n={...Lk(),[t]:e};return new cf("auth","Firebase",n).create(t,{appName:r.name})}function Qo(r){return $1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tk(r,t,e){const n=e;if(!(t instanceof n))throw n.name!==t.constructor.name&&Vs(r,"argument-error"),$1(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function W1(r,...t){if(typeof r!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(e,...n)}return Y4.create(r,...t)}function Ue(r,t,...e){if(!r)throw W1(t,...e)}function Ml(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Fp(t),new Error(t)}function zl(r,t){r||Ml(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function o1(){return typeof self<"u"&&self.location?.href||""}function Pk(){return Bv()==="http:"||Bv()==="https:"}function Bv(){return typeof self<"u"&&self.location?.protocol||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ok(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pk()||sN()||"connection"in navigator)?navigator.onLine:!0}function Rk(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class df{constructor(t,e){this.shortDelay=t,this.longDelay=e,zl(e>t,"Short delay should be less than long delay!"),this.isMobile=nN()||oN()}get(){return Ok()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function H1(r,t){zl(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J4{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ml("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ml("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ml("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dk=new df(3e4,6e4);function Hl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function yo(r,t,e,n,s={}){return X4(r,s,async()=>{let o={},u={};n&&(t==="GET"?u=n:o={body:JSON.stringify(n)});const h=hf({key:r.config.apiKey,...u}).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const m={method:t,headers:d,...o};return aN()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&Vu(r.emulatorConfig.host)&&(m.credentials="include"),J4.fetch()(await Z4(r,r.config.apiHost,e,h),m)})}async function X4(r,t,e){r._canInitEmulator=!1;const n={...jk,...t};try{const s=new Uk(r),o=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw vp(r,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vp(r,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw vp(r,"email-already-in-use",u);if(d==="USER_DISABLED")throw vp(r,"user-disabled",u);const v=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw $1(r,v,m);Vs(r,v)}}catch(s){if(s instanceof rl)throw s;Vs(r,"network-request-failed",{message:String(s)})}}async function ff(r,t,e,n,s={}){const o=await yo(r,t,e,n,s);return"mfaPendingCredential"in o&&Vs(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function Z4(r,t,e,n){const s=`${t}${e}?${n}`,o=r,u=o.config.emulator?H1(r.config,s):`${r.config.apiScheme}://${s}`;return Fk.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function Mk(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Uk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(fo(this.auth,"network-request-failed")),Dk.get())})}}function vp(r,t,e){const n={appName:r.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const s=fo(r,t,n);return s.customData._tokenResponse=e,s}function qv(r){return r!==void 0&&r.enterprise!==void 0}class Bk{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Mk(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qk(r,t){return yo(r,"GET","/v2/recaptchaConfig",Hl(r,t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function zk(r,t){return yo(r,"POST","/v1/accounts:delete",t)}async function rm(r,t){return yo(r,"POST","/v1/accounts:lookup",t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Vd(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Vk(r,t=!1){const e=hn(r),n=await e.getIdToken(t),s=K1(n);Ue(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:n,authTime:Vd(x0(s.auth_time)),issuedAtTime:Vd(x0(s.iat)),expirationTime:Vd(x0(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function x0(r){return Number(r)*1e3}function K1(r){const[t,e,n]=r.split(".");if(t===void 0||e===void 0||n===void 0)return Fp("JWT malformed, contained fewer than 3 sections"),null;try{const s=M4(e);return s?JSON.parse(s):(Fp("Failed to decode base64 JWT payload"),null)}catch(s){return Fp("Caught error parsing JWT payload as JSON",s?.toString()),null}}function zv(r){const t=K1(r);return Ue(t,"internal-error"),Ue(typeof t.exp<"u","internal-error"),Ue(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function xc(r,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof rl&&$k(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function $k({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wk{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class l1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vd(this.lastLoginAt),this.creationTime=Vd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function nm(r){const t=r.auth,e=await r.getIdToken(),n=await xc(r,rm(t,{idToken:e}));Ue(n?.users.length,t,"internal-error");const s=n.users[0];r._notifyReloadListener(s);const o=s.providerUserInfo?.length?t3(s.providerUserInfo):[],u=Kk(r.providerData,o),h=r.isAnonymous,d=!(r.email&&s.passwordHash)&&!u?.length,m=h?d:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new l1(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(r,v)}async function Hk(r){const t=hn(r);await nm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Kk(r,t){return[...r.filter(e=>!t.some(n=>n.providerId===e.providerId)),...t]}function t3(r){return r.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Gk(r,t){const e=await X4(r,{},async()=>{const n=hf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=r.config,u=await Z4(r,s,"/v1/token",`key=${o}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:n};return r.emulatorConfig&&Vu(r.emulatorConfig.host)&&(d.credentials="include"),J4.fetch()(u,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function Qk(r,t){return yo(r,"POST","/v2/accounts:revokeToken",Hl(r,t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Eh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ue(t.idToken,"internal-error"),Ue(typeof t.idToken<"u","internal-error"),Ue(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ue(t.length!==0,"internal-error");const e=zv(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:s,expiresIn:o}=await Gk(t,e);this.updateTokensAndExpiration(n,s,Number(o))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:s,expirationTime:o}=e,u=new Eh;return n&&(Ue(typeof n=="string","internal-error",{appName:t}),u.refreshToken=n),s&&(Ue(typeof s=="string","internal-error",{appName:t}),u.accessToken=s),o&&(Ue(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Eh,this.toJSON())}_performRefresh(){return Ml("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Su(r,t){Ue(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ho{constructor({uid:t,auth:e,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new Wk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new l1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await xc(this,this.stsTokenManager.getToken(this.auth,t));return Ue(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Vk(this,t)}reload(){return Hk(this)}_assign(t){this!==t&&(Ue(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ho({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await nm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oa(this.auth.app))return Promise.reject(Qo(this.auth));const t=await this.getIdToken();return await xc(this,zk(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const n=e.displayName??void 0,s=e.email??void 0,o=e.phoneNumber??void 0,u=e.photoURL??void 0,h=e.tenantId??void 0,d=e._redirectEventId??void 0,m=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:_,emailVerified:A,isAnonymous:w,providerData:M,stsTokenManager:F}=e;Ue(_&&F,t,"internal-error");const $=Eh.fromJSON(this.name,F);Ue(typeof _=="string",t,"internal-error"),Su(n,t.name),Su(s,t.name),Ue(typeof A=="boolean",t,"internal-error"),Ue(typeof w=="boolean",t,"internal-error"),Su(o,t.name),Su(u,t.name),Su(h,t.name),Su(d,t.name),Su(m,t.name),Su(v,t.name);const B=new ho({uid:_,auth:t,email:s,emailVerified:A,displayName:n,isAnonymous:w,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:$,createdAt:m,lastLoginAt:v});return M&&Array.isArray(M)&&(B.providerData=M.map(et=>({...et}))),d&&(B._redirectEventId=d),B}static async _fromIdTokenResponse(t,e,n=!1){const s=new Eh;s.updateFromServerResponse(e);const o=new ho({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await nm(o),o}static async _fromGetAccountInfoResponse(t,e,n){const s=e.users[0];Ue(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?t3(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,h=new Eh;h.updateFromIdToken(n);const d=new ho({uid:s.localId,auth:t,stsTokenManager:h,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new l1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,m),d}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Vv=new Map;function Ul(r){zl(r instanceof Function,"Expected a class definition");let t=Vv.get(r);return t?(zl(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Vv.set(r,t),t)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class e3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}e3.type="NONE";const $v=e3;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Dp(r,t,e){return`firebase:${r}:${t}:${e}`}class Ih{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:s,name:o}=this.auth;this.fullUserKey=Dp(this.userKey,s.apiKey,o),this.fullPersistenceKey=Dp("persistence",s.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await rm(this.auth,{idToken:t}).catch(()=>{});return e?ho._fromGetAccountInfoResponse(this.auth,e,t):null}return ho._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new Ih(Ul($v),t,n);const s=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||Ul($v);const u=Dp(n,t.config.apiKey,t.name);let h=null;for(const m of e)try{const v=await m._get(u);if(v){let _;if(typeof v=="string"){const A=await rm(t,{idToken:v}).catch(()=>{});if(!A)break;_=await ho._fromGetAccountInfoResponse(t,A,v)}else _=ho._fromJSON(t,v);m!==o&&(h=_),o=m;break}}catch{}const d=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ih(o,t,n):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Ih(o,t,n))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(a3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(r3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(o3(t))return"Blackberry";if(l3(t))return"Webos";if(n3(t))return"Safari";if((t.includes("chrome/")||i3(t))&&!t.includes("edge/"))return"Chrome";if(s3(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(e);if(n?.length===2)return n[1]}return"Other"}function r3(r=ya()){return/firefox\//i.test(r)}function n3(r=ya()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function i3(r=ya()){return/crios\//i.test(r)}function a3(r=ya()){return/iemobile/i.test(r)}function s3(r=ya()){return/android/i.test(r)}function o3(r=ya()){return/blackberry/i.test(r)}function l3(r=ya()){return/webos/i.test(r)}function G1(r=ya()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Yk(r=ya()){return G1(r)&&!!window.navigator?.standalone}function Jk(){return lN()&&document.documentMode===10}function u3(r=ya()){return G1(r)||s3(r)||l3(r)||o3(r)||/windows phone/i.test(r)||a3(r)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function c3(r,t=[]){let e;switch(r){case"Browser":e=Wv(ya());break;case"Worker":e=`${Wv(ya())}-${r}`;break;default:e=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Lc}/${n}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=o=>new Promise((u,h)=>{try{const d=t(o);u(d)}catch(d){h(d)}});n.onAbort=e,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Zk(r,t={}){return yo(r,"GET","/v2/passwordPolicy",Hl(r,t))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tA=6;class eA{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??tA,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let s=0;s<t.length;s++)n=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rA{constructor(t,e,n,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new Xk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ul(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ih.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await rm(this,{idToken:t}),n=await ho._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Oa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let n=e,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=n?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===u)&&h?.user&&(n=h.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await nm(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Rk()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Oa(this.app))return Promise.reject(Qo(this));const e=t?hn(t):null;return e&&Ue(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ue(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Oa(this.app)?Promise.reject(Qo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Oa(this.app)?Promise.reject(Qo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ul(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Zk(this),e=new eA(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new cf("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await Qk(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ul(t)||this._popupRedirectResolver;Ue(e,this,"argument-error"),this.redirectPersistenceManager=await Ih.create(this,[Ul(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,s){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,n,s);return()=>{u=!0,d()}}else{const d=t.addObserver(e);return()=>{u=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=c3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){if(Oa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Ck(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Kl(r){return hn(r)}class Hv{constructor(t){this.auth=t,this.observer=null,this.addObserver=gN(e=>this.observer=e)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nA(r){Em=r}function h3(r){return Em.loadJS(r)}function iA(){return Em.recaptchaEnterpriseScript}function aA(){return Em.gapiScript}function sA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class oA{constructor(){this.enterprise=new lA}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class lA{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const uA="recaptcha-enterprise",d3="NO_RECAPTCHA";class cA{constructor(t){this.type=uA,this.auth=Kl(t)}async verify(t="verify",e=!1){async function n(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{qk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new Bk(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function s(o,u,h){const d=window.grecaptcha;qv(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(m=>{u(m)}).catch(()=>{u(d3)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oA().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{n(this.auth).then(h=>{if(!e&&qv(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=iA();d.length!==0&&(d+=h),h3(d).then(()=>{s(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function Kv(r,t,e,n=!1,s=!1){const o=new cA(r);let u;if(s)u=d3;else try{u=await o.verify(e)}catch{u=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return n?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function im(r,t,e,n,s){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Kv(r,t,e,e==="getOobCode");return n(r,o)}else return n(r,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Kv(r,t,e,e==="getOobCode");return n(r,u)}else return Promise.reject(o)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hA(r,t){const e=Am(r,"auth");if(e.isInitialized()){const n=e.getImmediate(),s=e.getOptions();if(bc(s,t??{}))return n;Vs(n,"already-initialized")}return e.initialize({options:t})}function dA(r,t){const e=t?.persistence||[],n=(Array.isArray(e)?e:[e]).map(Ul);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t?.popupRedirectResolver)}function fA(r,t,e){const n=Kl(r);Ue(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!1,o=f3(t),{host:u,port:h}=pA(t),d=h===null?"":`:${h}`,m={url:`${o}//${u}${d}/`},v=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Ue(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ue(bc(m,n.config.emulator)&&bc(v,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=m,n.emulatorConfig=v,n.settings.appVerificationDisabledForTesting=!0,Vu(u)?(U1(`${o}//${u}${d}`),B1("Auth",!0)):mA()}function f3(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function pA(r){const t=f3(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const o=s[1];return{host:o,port:Gv(n.substr(o.length+1))}}else{const[o,u]=n.split(":");return{host:o,port:Gv(u)}}}function Gv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function mA(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q1{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ml("not implemented")}_getIdTokenResponse(t){return Ml("not implemented")}_linkToIdToken(t,e){return Ml("not implemented")}_getReauthenticationResolver(t){return Ml("not implemented")}}async function gA(r,t){return yo(r,"POST","/v1/accounts:update",t)}async function yA(r,t){return yo(r,"POST","/v1/accounts:signUp",t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function vA(r,t){return ff(r,"POST","/v1/accounts:signInWithPassword",Hl(r,t))}async function p3(r,t){return yo(r,"POST","/v1/accounts:sendOobCode",Hl(r,t))}async function bA(r,t){return p3(r,t)}async function wA(r,t){return p3(r,t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function xA(r,t){return ff(r,"POST","/v1/accounts:signInWithEmailLink",Hl(r,t))}async function _A(r,t){return ff(r,"POST","/v1/accounts:signInWithEmailLink",Hl(r,t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xd extends Q1{constructor(t,e,n,s=null){super("password",n),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new Xd(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Xd(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(t,e,"signInWithPassword",vA);case"emailLink":return xA(t,{email:this._email,oobCode:this._password});default:Vs(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const n={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(t,n,"signUpPassword",yA);case"emailLink":return _A(t,{idToken:e,email:this._email,oobCode:this._password});default:Vs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Lh(r,t){return ff(r,"POST","/v1/accounts:signInWithIdp",Hl(r,t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SA="http://localhost";class _c extends Q1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new _c(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Vs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s,...o}=e;if(!n||!s)return null;const u=new _c(n,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Lh(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Lh(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Lh(t,e)}buildRequest(){const t={requestUri:SA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=hf(e)}return t}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function NA(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kA(r){const t=Fd(Dd(r)).link,e=t?Fd(Dd(t)).deep_link_id:null,n=Fd(Dd(r)).deep_link_id;return(n?Fd(Dd(n)).link:null)||n||e||t||r}class Y1{constructor(t){const e=Fd(Dd(t)),n=e.apiKey??null,s=e.oobCode??null,o=NA(e.mode??null);Ue(n&&s&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=s,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=kA(t);try{return new Y1(e)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vh{constructor(){this.providerId=Vh.PROVIDER_ID}static credential(t,e){return Xd._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Y1.parseLink(e);return Ue(n,"argument-error"),Xd._fromEmailAndCode(t,n.code,n.tenantId)}}Vh.PROVIDER_ID="password";Vh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class J1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pf extends J1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Au extends pf{constructor(){super("facebook.com")}static credential(t){return _c._fromParams({providerId:Au.PROVIDER_ID,signInMethod:Au.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Au.credentialFromTaggedObject(t)}static credentialFromError(t){return Au.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Au.credential(t.oauthAccessToken)}catch{return null}}}Au.FACEBOOK_SIGN_IN_METHOD="facebook.com";Au.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fl extends pf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return _c._fromParams({providerId:Fl.PROVIDER_ID,signInMethod:Fl.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Fl.credentialFromTaggedObject(t)}static credentialFromError(t){return Fl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return Fl.credential(e,n)}catch{return null}}}Fl.GOOGLE_SIGN_IN_METHOD="google.com";Fl.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dl extends pf{constructor(){super("github.com")}static credential(t){return _c._fromParams({providerId:Dl.PROVIDER_ID,signInMethod:Dl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dl.credentialFromTaggedObject(t)}static credentialFromError(t){return Dl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dl.credential(t.oauthAccessToken)}catch{return null}}}Dl.GITHUB_SIGN_IN_METHOD="github.com";Dl.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Eu extends pf{constructor(){super("twitter.com")}static credential(t,e){return _c._fromParams({providerId:Eu.PROVIDER_ID,signInMethod:Eu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Eu.credentialFromTaggedObject(t)}static credentialFromError(t){return Eu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Eu.credential(e,n)}catch{return null}}}Eu.TWITTER_SIGN_IN_METHOD="twitter.com";Eu.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function AA(r,t){return ff(r,"POST","/v1/accounts:signUp",Hl(r,t))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,s=!1){const o=await ho._fromIdTokenResponse(t,n,s),u=Qv(n);return new Sc({user:o,providerId:u,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const s=Qv(n);return new Sc({user:t,providerId:s,_tokenResponse:n,operationType:e})}}function Qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class am extends rl{constructor(t,e,n,s){super(e.code,e.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,am.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,s){return new am(t,e,n,s)}}function m3(r,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?am._fromErrorAndOperation(r,s,t,n):s})}async function EA(r,t,e=!1){const n=await xc(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return Sc._forOperation(r,"link",n)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function IA(r,t,e=!1){const{auth:n}=r;if(Oa(n.app))return Promise.reject(Qo(n));const s="reauthenticate";try{const o=await xc(r,m3(n,s,t,r),e);Ue(o.idToken,n,"internal-error");const u=K1(o.idToken);Ue(u,n,"internal-error");const{sub:h}=u;return Ue(r.uid===h,n,"user-mismatch"),Sc._forOperation(r,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Vs(n,"user-mismatch"),o}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function g3(r,t,e=!1){if(Oa(r.app))return Promise.reject(Qo(r));const n="signIn",s=await m3(r,n,t),o=await Sc._fromIdTokenResponse(r,n,s);return e||await r._updateCurrentUser(o.user),o}async function LA(r,t){return g3(Kl(r),t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function y3(r){const t=Kl(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function CA(r,t,e){const n=Kl(r);await im(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wA)}async function TA(r,t,e){if(Oa(r.app))return Promise.reject(Qo(r));const n=Kl(r),s=await im(n,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AA).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&y3(r),u}),o=await Sc._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function PA(r,t,e){return Oa(r.app)?Promise.reject(Qo(r)):LA(hn(r),Vh.credential(t,e)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&y3(r),n})}async function OA(r,t){const e=hn(r),n={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:s}=await bA(e.auth,n);s!==r.email&&await r.reload()}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function RA(r,t){return yo(r,"POST","/v1/accounts:update",t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Yv(r,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const n=hn(r),s={idToken:await n.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},o=await xc(n,RA(n.auth,s));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const u=n.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function jA(r,t){const e=hn(r);return Oa(e.auth.app)?Promise.reject(Qo(e.auth)):v3(e,t,null)}function FA(r,t){return v3(hn(r),null,t)}async function v3(r,t,e){const{auth:n}=r,s={idToken:await r.getIdToken(),returnSecureToken:!0};t&&(s.email=t),e&&(s.password=e);const o=await xc(r,gA(n,s));await r._updateTokensIfNecessary(o,!0)}function DA(r,t,e,n){return hn(r).onIdTokenChanged(t,e,n)}function MA(r,t,e){return hn(r).beforeAuthStateChanged(t,e)}function UA(r){return hn(r).signOut()}const sm="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b3{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(sm,"1"),this.storage.removeItem(sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const BA=1e3,qA=10;class w3 extends b3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),s=this.localCache[e];n!==s&&t(e,s,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const n=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(n);!e&&this.localCache[n]===u||this.notifyListeners(n,u)},o=this.storage.getItem(n);Jk()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,qA):s()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},BA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}w3.type="LOCAL";const zA=w3;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class x3 extends b3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}x3.type="SESSION";const _3=x3;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function VA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Im{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const n=new Im(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:s,data:o}=e.data,u=this.handlersMap[s];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const h=Array.from(u).map(async m=>m(e.origin,o)),d=await VA(h);e.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Im.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function X1(r="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return r+e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $A{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const m=X1("",20);s.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},n);u={messageChannel:s,onMessage(_){const A=_;if(A.data.eventId===m)switch(A.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(A.data.response);break;default:clearTimeout(v),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Yo(){return window}function WA(r){Yo().location.href=r}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function S3(){return typeof Yo().WorkerGlobalScope<"u"&&typeof Yo().importScripts=="function"}async function HA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KA(){return navigator?.serviceWorker?.controller||null}function GA(){return S3()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N3="firebaseLocalStorageDb",QA=1,om="firebaseLocalStorage",k3="fbase_key";class mf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Lm(r,t){return r.transaction([om],t?"readwrite":"readonly").objectStore(om)}function YA(){const r=indexedDB.deleteDatabase(N3);return new mf(r).toPromise()}function u1(){const r=indexedDB.open(N3,QA);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(om,{keyPath:k3})}catch(s){e(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(om)?t(n):(n.close(),await YA(),t(await u1()))})})}async function Jv(r,t,e){const n=Lm(r,!0).put({[k3]:t,value:e});return new mf(n).toPromise()}async function JA(r,t){const e=Lm(r,!1).get(t),n=await new mf(e).toPromise();return n===void 0?null:n.value}function Xv(r,t){const e=Lm(r,!0).delete(t);return new mf(e).toPromise()}const XA=800,ZA=3;class A3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await u1(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>ZA)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Im._getInstance(GA()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HA(),!this.activeServiceWorker)return;this.sender=new $A(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await u1();return await Jv(t,sm,"1"),await Xv(t,sm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jv(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>JA(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Xv(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=Lm(s,!1).getAll();return new mf(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A3.type="LOCAL";const tE=A3;new df(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function E3(r,t){return t?Ul(t):(Ue(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z1 extends Q1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Lh(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Lh(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Lh(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function eE(r){return g3(r.auth,new Z1(r),r.bypassAuthState)}function rE(r){const{auth:t,user:e}=r;return Ue(e,t,"internal-error"),IA(e,new Z1(r),r.bypassAuthState)}async function nE(r){const{auth:t,user:e}=r;return Ue(e,t,"internal-error"),EA(e,new Z1(r),r.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I3{constructor(t,e,n,s,o=!1){this.auth=t,this.resolver=n,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:s,tenantId:o,error:u,type:h}=t;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:e,sessionId:n,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eE;case"linkViaPopup":case"linkViaRedirect":return nE;case"reauthViaPopup":case"reauthViaRedirect":return rE;default:Vs(this.auth,"internal-error")}}resolve(t){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const iE=new df(2e3,1e4);async function Zv(r,t,e){if(Oa(r.app))return Promise.reject(fo(r,"operation-not-supported-in-this-environment"));const n=Kl(r);Tk(r,t,J1);const s=E3(n,e);return new dc(n,"signInViaPopup",t,s).executeNotNull()}class dc extends I3{constructor(t,e,n,s,o){super(t,e,s,o),this.provider=n,this.authWindow=null,this.pollId=null,dc.currentPopupAction&&dc.currentPopupAction.cancel(),dc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ue(t,this.auth,"internal-error"),t}async onExecution(){zl(this.filter.length===1,"Popup operations only handle one event");const t=X1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(fo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dc.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iE.get())};t()}}dc.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aE="pendingRedirect",Mp=new Map;class sE extends I3{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=Mp.get(this.auth._key());if(!t){try{const e=await oE(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}Mp.set(this.auth._key(),t)}return this.bypassAuthState||Mp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oE(r,t){const e=cE(t),n=uE(r);if(!await n._isAvailable())return!1;const s=await n._get(e)==="true";return await n._remove(e),s}function lE(r,t){Mp.set(r._key(),t)}function uE(r){return Ul(r._redirectPersistence)}function cE(r){return Dp(aE,r.config.apiKey,r.name)}async function hE(r,t,e=!1){if(Oa(r.app))return Promise.reject(Qo(r));const n=Kl(r),s=E3(n,t),o=await new sE(n,s,e).execute();return o&&!e&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dE=600*1e3;class fE{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pE(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!L3(t)){const n=t.error.code?.split("auth/")[1]||"internal-error";e.onError(fo(this.auth,n))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dE&&this.cachedEventUids.clear(),this.cachedEventUids.has(tb(t))}saveEventToCache(t){this.cachedEventUids.add(tb(t)),this.lastProcessedEventTime=Date.now()}}function tb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function L3({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function pE(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L3(r);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function mE(r,t={}){return yo(r,"GET","/v1/projects",t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yE=/^https?/;async function vE(r){if(r.config.emulator)return;const{authorizedDomains:t}=await mE(r);for(const e of t)try{if(bE(e))return}catch{}Vs(r,"unauthorized-domain")}function bE(r){const t=o1(),{protocol:e,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const o=new URL(r);return o.hostname===""&&n===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===n}if(!yE.test(e))return!1;if(gE.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wE=new df(3e4,6e4);function eb(){const r=Yo().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function xE(r){return new Promise((t,e)=>{function n(){eb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{eb(),e(fo(r,"network-request-failed"))},timeout:wE.get()})}if(Yo().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Yo().gapi?.load)n();else{const s=sA("iframefcb");return Yo()[s]=()=>{gapi.load?n():e(fo(r,"network-request-failed"))},h3(`${aA()}?onload=${s}`).catch(o=>e(o))}}).catch(t=>{throw Up=null,t})}let Up=null;function _E(r){return Up=Up||xE(r),Up}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SE=new df(5e3,15e3),NE="__/auth/iframe",kE="emulator/auth/iframe",AE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IE(r){const t=r.config;Ue(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?H1(t,kE):`https://${r.config.authDomain}/${NE}`,n={apiKey:t.apiKey,appName:r.name,v:Lc},s=EE.get(r.config.apiHost);s&&(n.eid=s);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${e}?${hf(n).slice(1)}`}async function LE(r){const t=await _E(r),e=Yo().gapi;return Ue(e,r,"internal-error"),t.open({where:document.body,url:IE(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AE,dontclear:!0},n=>new Promise(async(s,o)=>{await n.restyle({setHideOnLeave:!1});const u=fo(r,"network-request-failed"),h=Yo().setTimeout(()=>{o(u)},SE.get());function d(){Yo().clearTimeout(h),s(n)}n.ping(d).then(d,()=>{o(u)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const CE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TE=500,PE=600,OE="_blank",RE="http://localhost";class rb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jE(r,t,e,n=TE,s=PE){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let h="";const d={...CE,width:n.toString(),height:s.toString(),top:o,left:u},m=ya().toLowerCase();e&&(h=i3(m)?OE:e),r3(m)&&(t=t||RE,d.scrollbars="yes");const v=Object.entries(d).reduce((A,[w,M])=>`${A}${w}=${M},`,"");if(Yk(m)&&h!=="_self")return FE(t||"",h),new rb(null);const _=window.open(t||"",h,v);Ue(_,r,"popup-blocked");try{_.focus()}catch{}return new rb(_)}function FE(r,t){const e=document.createElement("a");e.href=r,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DE="__/auth/handler",ME="emulator/auth/handler",UE=encodeURIComponent("fac");async function nb(r,t,e,n,s,o){Ue(r.config.authDomain,r,"auth-domain-config-required"),Ue(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:n,v:Lc,eventId:s};if(t instanceof J1){t.setDefaultLanguage(r.languageCode),u.providerId=t.providerId||"",mN(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(t instanceof pf){const v=t.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}r.tenantId&&(u.tid=r.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const d=await r._getAppCheckToken(),m=d?`#${UE}=${encodeURIComponent(d)}`:"";return`${BE(r)}?${hf(h).slice(1)}${m}`}function BE({config:r}){return r.emulator?H1(r,ME):`https://${r.authDomain}/${DE}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _0="webStorageSupport";class qE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_3,this._completeRedirectFn=hE,this._overrideRedirectResult=lE}async _openPopup(t,e,n,s){zl(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await nb(t,e,n,o1(),s);return jE(t,o,X1())}async _openRedirect(t,e,n,s){await this._originValidation(t);const o=await nb(t,e,n,o1(),s);return WA(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:o}=this.eventManagers[e];return s?Promise.resolve(s):(zl(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await LE(t),n=new fE(t);return e.register("authEvent",s=>(Ue(s?.authEvent,t,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(_0,{type:_0},n=>{const s=n?.[0]?.[_0];s!==void 0&&e(!!s),Vs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=vE(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return u3()||n3()||G1()}}const zE=qE;var ib="@firebase/auth",ab="1.11.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VE{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $E(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WE(r){wc(new ju("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=n.options;Ue(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:u,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:c3(r)},m=new rA(n,s,o,d);return dA(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),wc(new ju("auth-internal",t=>{const e=Kl(t.getProvider("auth").getImmediate());return(n=>new VE(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Go(ib,ab,$E(r)),Go(ib,ab,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const HE=300,KE=z4("authIdTokenMaxAge")||HE;let sb=null;const GE=r=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>KE)return;const s=e?.token;sb!==s&&(sb=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function QE(r=V1()){const t=Am(r,"auth");if(t.isInitialized())return t.getImmediate();const e=hA(r,{popupRedirectResolver:zE,persistence:[tE,zA,_3]}),n=z4("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const u=GE(o.toString());MA(e,u,()=>u(e.currentUser)),DA(e,h=>u(h))}}const s=U4("auth");return s&&fA(e,`http://${s}`),e}function YE(){return document.getElementsByTagName("head")?.[0]??document}nA({loadJS(r){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=s=>{const o=fo("internal-error");o.customData=s,e(o)},n.type="text/javascript",n.charset="UTF-8",YE().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WE("Browser");var ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ou,C3;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(Q,N){function C(){}C.prototype=N.prototype,Q.F=N.prototype,Q.prototype=new C,Q.prototype.constructor=Q,Q.D=function(q,L,R){for(var j=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)j[ot-2]=arguments[ot];return N.prototype[L].apply(q,j)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,e),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(Q,N,C){C||(C=0);const q=Array(16);if(typeof N=="string")for(var L=0;L<16;++L)q[L]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(L=0;L<16;++L)q[L]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=Q.g[0],C=Q.g[1],L=Q.g[2];let R=Q.g[3],j;j=N+(R^C&(L^R))+q[0]+3614090360&4294967295,N=C+(j<<7&4294967295|j>>>25),j=R+(L^N&(C^L))+q[1]+3905402710&4294967295,R=N+(j<<12&4294967295|j>>>20),j=L+(C^R&(N^C))+q[2]+606105819&4294967295,L=R+(j<<17&4294967295|j>>>15),j=C+(N^L&(R^N))+q[3]+3250441966&4294967295,C=L+(j<<22&4294967295|j>>>10),j=N+(R^C&(L^R))+q[4]+4118548399&4294967295,N=C+(j<<7&4294967295|j>>>25),j=R+(L^N&(C^L))+q[5]+1200080426&4294967295,R=N+(j<<12&4294967295|j>>>20),j=L+(C^R&(N^C))+q[6]+2821735955&4294967295,L=R+(j<<17&4294967295|j>>>15),j=C+(N^L&(R^N))+q[7]+4249261313&4294967295,C=L+(j<<22&4294967295|j>>>10),j=N+(R^C&(L^R))+q[8]+1770035416&4294967295,N=C+(j<<7&4294967295|j>>>25),j=R+(L^N&(C^L))+q[9]+2336552879&4294967295,R=N+(j<<12&4294967295|j>>>20),j=L+(C^R&(N^C))+q[10]+4294925233&4294967295,L=R+(j<<17&4294967295|j>>>15),j=C+(N^L&(R^N))+q[11]+2304563134&4294967295,C=L+(j<<22&4294967295|j>>>10),j=N+(R^C&(L^R))+q[12]+1804603682&4294967295,N=C+(j<<7&4294967295|j>>>25),j=R+(L^N&(C^L))+q[13]+4254626195&4294967295,R=N+(j<<12&4294967295|j>>>20),j=L+(C^R&(N^C))+q[14]+2792965006&4294967295,L=R+(j<<17&4294967295|j>>>15),j=C+(N^L&(R^N))+q[15]+1236535329&4294967295,C=L+(j<<22&4294967295|j>>>10),j=N+(L^R&(C^L))+q[1]+4129170786&4294967295,N=C+(j<<5&4294967295|j>>>27),j=R+(C^L&(N^C))+q[6]+3225465664&4294967295,R=N+(j<<9&4294967295|j>>>23),j=L+(N^C&(R^N))+q[11]+643717713&4294967295,L=R+(j<<14&4294967295|j>>>18),j=C+(R^N&(L^R))+q[0]+3921069994&4294967295,C=L+(j<<20&4294967295|j>>>12),j=N+(L^R&(C^L))+q[5]+3593408605&4294967295,N=C+(j<<5&4294967295|j>>>27),j=R+(C^L&(N^C))+q[10]+38016083&4294967295,R=N+(j<<9&4294967295|j>>>23),j=L+(N^C&(R^N))+q[15]+3634488961&4294967295,L=R+(j<<14&4294967295|j>>>18),j=C+(R^N&(L^R))+q[4]+3889429448&4294967295,C=L+(j<<20&4294967295|j>>>12),j=N+(L^R&(C^L))+q[9]+568446438&4294967295,N=C+(j<<5&4294967295|j>>>27),j=R+(C^L&(N^C))+q[14]+3275163606&4294967295,R=N+(j<<9&4294967295|j>>>23),j=L+(N^C&(R^N))+q[3]+4107603335&4294967295,L=R+(j<<14&4294967295|j>>>18),j=C+(R^N&(L^R))+q[8]+1163531501&4294967295,C=L+(j<<20&4294967295|j>>>12),j=N+(L^R&(C^L))+q[13]+2850285829&4294967295,N=C+(j<<5&4294967295|j>>>27),j=R+(C^L&(N^C))+q[2]+4243563512&4294967295,R=N+(j<<9&4294967295|j>>>23),j=L+(N^C&(R^N))+q[7]+1735328473&4294967295,L=R+(j<<14&4294967295|j>>>18),j=C+(R^N&(L^R))+q[12]+2368359562&4294967295,C=L+(j<<20&4294967295|j>>>12),j=N+(C^L^R)+q[5]+4294588738&4294967295,N=C+(j<<4&4294967295|j>>>28),j=R+(N^C^L)+q[8]+2272392833&4294967295,R=N+(j<<11&4294967295|j>>>21),j=L+(R^N^C)+q[11]+1839030562&4294967295,L=R+(j<<16&4294967295|j>>>16),j=C+(L^R^N)+q[14]+4259657740&4294967295,C=L+(j<<23&4294967295|j>>>9),j=N+(C^L^R)+q[1]+2763975236&4294967295,N=C+(j<<4&4294967295|j>>>28),j=R+(N^C^L)+q[4]+1272893353&4294967295,R=N+(j<<11&4294967295|j>>>21),j=L+(R^N^C)+q[7]+4139469664&4294967295,L=R+(j<<16&4294967295|j>>>16),j=C+(L^R^N)+q[10]+3200236656&4294967295,C=L+(j<<23&4294967295|j>>>9),j=N+(C^L^R)+q[13]+681279174&4294967295,N=C+(j<<4&4294967295|j>>>28),j=R+(N^C^L)+q[0]+3936430074&4294967295,R=N+(j<<11&4294967295|j>>>21),j=L+(R^N^C)+q[3]+3572445317&4294967295,L=R+(j<<16&4294967295|j>>>16),j=C+(L^R^N)+q[6]+76029189&4294967295,C=L+(j<<23&4294967295|j>>>9),j=N+(C^L^R)+q[9]+3654602809&4294967295,N=C+(j<<4&4294967295|j>>>28),j=R+(N^C^L)+q[12]+3873151461&4294967295,R=N+(j<<11&4294967295|j>>>21),j=L+(R^N^C)+q[15]+530742520&4294967295,L=R+(j<<16&4294967295|j>>>16),j=C+(L^R^N)+q[2]+3299628645&4294967295,C=L+(j<<23&4294967295|j>>>9),j=N+(L^(C|~R))+q[0]+4096336452&4294967295,N=C+(j<<6&4294967295|j>>>26),j=R+(C^(N|~L))+q[7]+1126891415&4294967295,R=N+(j<<10&4294967295|j>>>22),j=L+(N^(R|~C))+q[14]+2878612391&4294967295,L=R+(j<<15&4294967295|j>>>17),j=C+(R^(L|~N))+q[5]+4237533241&4294967295,C=L+(j<<21&4294967295|j>>>11),j=N+(L^(C|~R))+q[12]+1700485571&4294967295,N=C+(j<<6&4294967295|j>>>26),j=R+(C^(N|~L))+q[3]+2399980690&4294967295,R=N+(j<<10&4294967295|j>>>22),j=L+(N^(R|~C))+q[10]+4293915773&4294967295,L=R+(j<<15&4294967295|j>>>17),j=C+(R^(L|~N))+q[1]+2240044497&4294967295,C=L+(j<<21&4294967295|j>>>11),j=N+(L^(C|~R))+q[8]+1873313359&4294967295,N=C+(j<<6&4294967295|j>>>26),j=R+(C^(N|~L))+q[15]+4264355552&4294967295,R=N+(j<<10&4294967295|j>>>22),j=L+(N^(R|~C))+q[6]+2734768916&4294967295,L=R+(j<<15&4294967295|j>>>17),j=C+(R^(L|~N))+q[13]+1309151649&4294967295,C=L+(j<<21&4294967295|j>>>11),j=N+(L^(C|~R))+q[4]+4149444226&4294967295,N=C+(j<<6&4294967295|j>>>26),j=R+(C^(N|~L))+q[11]+3174756917&4294967295,R=N+(j<<10&4294967295|j>>>22),j=L+(N^(R|~C))+q[2]+718787259&4294967295,L=R+(j<<15&4294967295|j>>>17),j=C+(R^(L|~N))+q[9]+3951481745&4294967295,Q.g[0]=Q.g[0]+N&4294967295,Q.g[1]=Q.g[1]+(L+(j<<21&4294967295|j>>>11))&4294967295,Q.g[2]=Q.g[2]+L&4294967295,Q.g[3]=Q.g[3]+R&4294967295}n.prototype.v=function(Q,N){N===void 0&&(N=Q.length);const C=N-this.blockSize,q=this.C;let L=this.h,R=0;for(;R<N;){if(L==0)for(;R<=C;)s(this,Q,R),R+=this.blockSize;if(typeof Q=="string"){for(;R<N;)if(q[L++]=Q.charCodeAt(R++),L==this.blockSize){s(this,q),L=0;break}}else for(;R<N;)if(q[L++]=Q[R++],L==this.blockSize){s(this,q),L=0;break}}this.h=L,this.o+=N},n.prototype.A=function(){var Q=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Q[0]=128;for(var N=1;N<Q.length-8;++N)Q[N]=0;N=this.o*8;for(var C=Q.length-8;C<Q.length;++C)Q[C]=N&255,N/=256;for(this.v(Q),Q=Array(16),N=0,C=0;C<4;++C)for(let q=0;q<32;q+=8)Q[N++]=this.g[C]>>>q&255;return Q};function o(Q,N){var C=h;return Object.prototype.hasOwnProperty.call(C,Q)?C[Q]:C[Q]=N(Q)}function u(Q,N){this.h=N;const C=[];let q=!0;for(let L=Q.length-1;L>=0;L--){const R=Q[L]|0;q&&R==N||(C[L]=R,q=!1)}this.g=C}var h={};function d(Q){return-128<=Q&&Q<128?o(Q,function(N){return new u([N|0],N<0?-1:0)}):new u([Q|0],Q<0?-1:0)}function m(Q){if(isNaN(Q)||!isFinite(Q))return _;if(Q<0)return $(m(-Q));const N=[];let C=1;for(let q=0;Q>=C;q++)N[q]=Q/C|0,C*=4294967296;return new u(N,0)}function v(Q,N){if(Q.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Q.charAt(0)=="-")return $(v(Q.substring(1),N));if(Q.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(N,8));let q=_;for(let R=0;R<Q.length;R+=8){var L=Math.min(8,Q.length-R);const j=parseInt(Q.substring(R,R+L),N);L<8?(L=m(Math.pow(N,L)),q=q.j(L).add(m(j))):(q=q.j(C),q=q.add(m(j)))}return q}var _=d(0),A=d(1),w=d(16777216);r=u.prototype,r.m=function(){if(F(this))return-$(this).m();let Q=0,N=1;for(let C=0;C<this.g.length;C++){const q=this.i(C);Q+=(q>=0?q:4294967296+q)*N,N*=4294967296}return Q},r.toString=function(Q){if(Q=Q||10,Q<2||36<Q)throw Error("radix out of range: "+Q);if(M(this))return"0";if(F(this))return"-"+$(this).toString(Q);const N=m(Math.pow(Q,6));var C=this;let q="";for(;;){const L=ct(C,N).g;C=B(C,L.j(N));let R=((C.g.length>0?C.g[0]:C.h)>>>0).toString(Q);if(C=L,M(C))return R+q;for(;R.length<6;)R="0"+R;q=R+q}},r.i=function(Q){return Q<0?0:Q<this.g.length?this.g[Q]:this.h};function M(Q){if(Q.h!=0)return!1;for(let N=0;N<Q.g.length;N++)if(Q.g[N]!=0)return!1;return!0}function F(Q){return Q.h==-1}r.l=function(Q){return Q=B(this,Q),F(Q)?-1:M(Q)?0:1};function $(Q){const N=Q.g.length,C=[];for(let q=0;q<N;q++)C[q]=~Q.g[q];return new u(C,~Q.h).add(A)}r.abs=function(){return F(this)?$(this):this},r.add=function(Q){const N=Math.max(this.g.length,Q.g.length),C=[];let q=0;for(let L=0;L<=N;L++){let R=q+(this.i(L)&65535)+(Q.i(L)&65535),j=(R>>>16)+(this.i(L)>>>16)+(Q.i(L)>>>16);q=j>>>16,R&=65535,j&=65535,C[L]=j<<16|R}return new u(C,C[C.length-1]&-2147483648?-1:0)};function B(Q,N){return Q.add($(N))}r.j=function(Q){if(M(this)||M(Q))return _;if(F(this))return F(Q)?$(this).j($(Q)):$($(this).j(Q));if(F(Q))return $(this.j($(Q)));if(this.l(w)<0&&Q.l(w)<0)return m(this.m()*Q.m());const N=this.g.length+Q.g.length,C=[];for(var q=0;q<2*N;q++)C[q]=0;for(q=0;q<this.g.length;q++)for(let L=0;L<Q.g.length;L++){const R=this.i(q)>>>16,j=this.i(q)&65535,ot=Q.i(L)>>>16,_t=Q.i(L)&65535;C[2*q+2*L]+=j*_t,et(C,2*q+2*L),C[2*q+2*L+1]+=R*_t,et(C,2*q+2*L+1),C[2*q+2*L+1]+=j*ot,et(C,2*q+2*L+1),C[2*q+2*L+2]+=R*ot,et(C,2*q+2*L+2)}for(Q=0;Q<N;Q++)C[Q]=C[2*Q+1]<<16|C[2*Q];for(Q=N;Q<2*N;Q++)C[Q]=0;return new u(C,0)};function et(Q,N){for(;(Q[N]&65535)!=Q[N];)Q[N+1]+=Q[N]>>>16,Q[N]&=65535,N++}function tt(Q,N){this.g=Q,this.h=N}function ct(Q,N){if(M(N))throw Error("division by zero");if(M(Q))return new tt(_,_);if(F(Q))return N=ct($(Q),N),new tt($(N.g),$(N.h));if(F(N))return N=ct(Q,$(N)),new tt($(N.g),N.h);if(Q.g.length>30){if(F(Q)||F(N))throw Error("slowDivide_ only works with positive integers.");for(var C=A,q=N;q.l(Q)<=0;)C=At(C),q=At(q);var L=It(C,1),R=It(q,1);for(q=It(q,2),C=It(C,2);!M(q);){var j=R.add(q);j.l(Q)<=0&&(L=L.add(C),R=j),q=It(q,1),C=It(C,1)}return N=B(Q,L.j(N)),new tt(L,N)}for(L=_;Q.l(N)>=0;){for(C=Math.max(1,Math.floor(Q.m()/N.m())),q=Math.ceil(Math.log(C)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),R=m(C),j=R.j(N);F(j)||j.l(Q)>0;)C-=q,R=m(C),j=R.j(N);M(R)&&(R=A),L=L.add(R),Q=B(Q,j)}return new tt(L,Q)}r.B=function(Q){return ct(this,Q).h},r.and=function(Q){const N=Math.max(this.g.length,Q.g.length),C=[];for(let q=0;q<N;q++)C[q]=this.i(q)&Q.i(q);return new u(C,this.h&Q.h)},r.or=function(Q){const N=Math.max(this.g.length,Q.g.length),C=[];for(let q=0;q<N;q++)C[q]=this.i(q)|Q.i(q);return new u(C,this.h|Q.h)},r.xor=function(Q){const N=Math.max(this.g.length,Q.g.length),C=[];for(let q=0;q<N;q++)C[q]=this.i(q)^Q.i(q);return new u(C,this.h^Q.h)};function At(Q){const N=Q.g.length+1,C=[];for(let q=0;q<N;q++)C[q]=Q.i(q)<<1|Q.i(q-1)>>>31;return new u(C,Q.h)}function It(Q,N){const C=N>>5;N%=32;const q=Q.g.length-C,L=[];for(let R=0;R<q;R++)L[R]=N>0?Q.i(R+C)>>>N|Q.i(R+C+1)<<32-N:Q.i(R+C);return new u(L,Q.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,C3=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ou=u}).apply(typeof ob<"u"?ob:typeof self<"u"?self:typeof window<"u"?window:{});var bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T3,Md,P3,Bp,c1,O3,R3,j3;(function(){var r,t=Object.defineProperty;function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof bp=="object"&&bp];for(var k=0;k<p.length;++k){var P=p[k];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=e(this);function s(p,k){if(k)t:{var P=n;p=p.split(".");for(var Y=0;Y<p.length-1;Y++){var xt=p[Y];if(!(xt in P))break t;P=P[xt]}p=p[p.length-1],Y=P[p],k=k(Y),k!=Y&&k!=null&&t(P,p,{configurable:!0,writable:!0,value:k})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(k){var P=[],Y;for(Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&P.push([Y,k[Y]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function h(p){var k=typeof p;return k=="object"&&p!=null||k=="function"}function d(p,k,P){return p.call.apply(p.bind,arguments)}function m(p,k,P){return m=d,m.apply(null,arguments)}function v(p,k){var P=Array.prototype.slice.call(arguments,1);return function(){var Y=P.slice();return Y.push.apply(Y,arguments),p.apply(this,Y)}}function _(p,k){function P(){}P.prototype=k.prototype,p.Z=k.prototype,p.prototype=new P,p.prototype.constructor=p,p.Ob=function(Y,xt,Pt){for(var Xt=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Xt[$e-2]=arguments[$e];return k.prototype[xt].apply(Y,Xt)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const k=p.length;if(k>0){const P=Array(k);for(let Y=0;Y<k;Y++)P[Y]=p[Y];return P}return[]}function M(p,k){for(let Y=1;Y<arguments.length;Y++){const xt=arguments[Y];var P=typeof xt;if(P=P!="object"?P:xt?Array.isArray(xt)?"array":P:"null",P=="array"||P=="object"&&typeof xt.length=="number"){P=p.length||0;const Pt=xt.length||0;p.length=P+Pt;for(let Xt=0;Xt<Pt;Xt++)p[P+Xt]=xt[Xt]}else p.push(xt)}}class F{constructor(k,P){this.i=k,this.j=P,this.h=0,this.g=null}get(){let k;return this.h>0?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function $(p){u.setTimeout(()=>{throw p},0)}function B(){var p=Q;let k=null;return p.g&&(k=p.g,p.g=p.g.next,p.g||(p.h=null),k.next=null),k}class et{constructor(){this.h=this.g=null}add(k,P){const Y=tt.get();Y.set(k,P),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var tt=new F(()=>new ct,p=>p.reset());class ct{constructor(){this.next=this.g=this.h=null}set(k,P){this.h=k,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let At,It=!1,Q=new et,N=()=>{const p=Promise.resolve(void 0);At=()=>{p.then(C)}};function C(){for(var p;p=B();){try{p.h.call(p.g)}catch(P){$(P)}var k=tt;k.j(p),k.h<100&&(k.h++,p.next=k.g,k.g=p)}It=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(p,k){this.type=p,this.g=this.target=k,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,k=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const P=()=>{};u.addEventListener("test",P,k),u.removeEventListener("test",P,k)}catch{}return p})();function j(p){return/^[\s\xa0]*$/.test(p)}function ot(p,k){L.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,k)}_(ot,L),ot.prototype.init=function(p,k){const P=this.type=p.type,Y=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=k,k=p.relatedTarget,k||(P=="mouseover"?k=p.fromElement:P=="mouseout"&&(k=p.toElement)),this.relatedTarget=k,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),nt=0;function ut(p,k,P,Y,xt){this.listener=p,this.proxy=null,this.src=k,this.type=P,this.capture=!!Y,this.ha=xt,this.key=++nt,this.da=this.fa=!1}function Z(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function bt(p,k,P){for(const Y in p)k.call(P,p[Y],Y,p)}function qt(p,k){for(const P in p)k.call(void 0,p[P],P,p)}function H(p){const k={};for(const P in p)k[P]=p[P];return k}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(p,k){let P,Y;for(let xt=1;xt<arguments.length;xt++){Y=arguments[xt];for(P in Y)p[P]=Y[P];for(let Pt=0;Pt<O.length;Pt++)P=O[Pt],Object.prototype.hasOwnProperty.call(Y,P)&&(p[P]=Y[P])}}function X(p){this.src=p,this.g={},this.h=0}X.prototype.add=function(p,k,P,Y,xt){const Pt=p.toString();p=this.g[Pt],p||(p=this.g[Pt]=[],this.h++);const Xt=dt(p,k,Y,xt);return Xt>-1?(k=p[Xt],P||(k.fa=!1)):(k=new ut(k,this.src,Pt,!!Y,xt),k.fa=P,p.push(k)),k};function st(p,k){const P=k.type;if(P in p.g){var Y=p.g[P],xt=Array.prototype.indexOf.call(Y,k,void 0),Pt;(Pt=xt>=0)&&Array.prototype.splice.call(Y,xt,1),Pt&&(Z(k),p.g[P].length==0&&(delete p.g[P],p.h--))}}function dt(p,k,P,Y){for(let xt=0;xt<p.length;++xt){const Pt=p[xt];if(!Pt.da&&Pt.listener==k&&Pt.capture==!!P&&Pt.ha==Y)return xt}return-1}var yt="closure_lm_"+(Math.random()*1e6|0),Tt={};function Nt(p,k,P,Y,xt){if(Array.isArray(k)){for(let Pt=0;Pt<k.length;Pt++)Nt(p,k[Pt],P,Y,xt);return null}return P=we(P),p&&p[_t]?p.J(k,P,h(Y)?!!Y.capture:!1,xt):Mt(p,k,P,!1,Y,xt)}function Mt(p,k,P,Y,xt,Pt){if(!k)throw Error("Invalid event type");const Xt=h(xt)?!!xt.capture:!!xt;let $e=Je(p);if($e||(p[yt]=$e=new X(p)),P=$e.add(k,P,Y,Xt,Pt),P.proxy)return P;if(Y=Yt(),P.proxy=Y,Y.src=p,Y.listener=P,p.addEventListener)R||(xt=Xt),xt===void 0&&(xt=!1),p.addEventListener(k.toString(),Y,xt);else if(p.attachEvent)p.attachEvent(jt(k.toString()),Y);else if(p.addListener&&p.removeListener)p.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Yt(){function p(P){return k.call(p.src,p.listener,P)}const k=lt;return p}function te(p,k,P,Y,xt){if(Array.isArray(k))for(var Pt=0;Pt<k.length;Pt++)te(p,k[Pt],P,Y,xt);else Y=h(Y)?!!Y.capture:!!Y,P=we(P),p&&p[_t]?(p=p.i,Pt=String(k).toString(),Pt in p.g&&(k=p.g[Pt],P=dt(k,P,Y,xt),P>-1&&(Z(k[P]),Array.prototype.splice.call(k,P,1),k.length==0&&(delete p.g[Pt],p.h--)))):p&&(p=Je(p))&&(k=p.g[k.toString()],p=-1,k&&(p=dt(k,P,Y,xt)),(P=p>-1?k[p]:null)&&ne(P))}function ne(p){if(typeof p!="number"&&p&&!p.da){var k=p.src;if(k&&k[_t])st(k.i,p);else{var P=p.type,Y=p.proxy;k.removeEventListener?k.removeEventListener(P,Y,p.capture):k.detachEvent?k.detachEvent(jt(P),Y):k.addListener&&k.removeListener&&k.removeListener(Y),(P=Je(k))?(st(P,p),P.h==0&&(P.src=null,k[yt]=null)):Z(p)}}}function jt(p){return p in Tt?Tt[p]:Tt[p]="on"+p}function lt(p,k){if(p.da)p=!0;else{k=new ot(k,this);const P=p.listener,Y=p.ha||p.src;p.fa&&ne(p),p=P.call(Y,k)}return p}function Je(p){return p=p[yt],p instanceof X?p:null}var qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function we(p){return typeof p=="function"?p:(p[qe]||(p[qe]=function(k){return p.handleEvent(k)}),p[qe])}function Wt(){q.call(this),this.i=new X(this),this.M=this,this.G=null}_(Wt,q),Wt.prototype[_t]=!0,Wt.prototype.removeEventListener=function(p,k,P,Y){te(this,p,k,P,Y)};function ie(p,k){var P,Y=p.G;if(Y)for(P=[];Y;Y=Y.G)P.push(Y);if(p=p.M,Y=k.type||k,typeof k=="string")k=new L(k,p);else if(k instanceof L)k.target=k.target||p;else{var xt=k;k=new L(Y,p),K(k,xt)}xt=!0;let Pt,Xt;if(P)for(Xt=P.length-1;Xt>=0;Xt--)Pt=k.g=P[Xt],xt=ee(Pt,Y,!0,k)&&xt;if(Pt=k.g=p,xt=ee(Pt,Y,!0,k)&&xt,xt=ee(Pt,Y,!1,k)&&xt,P)for(Xt=0;Xt<P.length;Xt++)Pt=k.g=P[Xt],xt=ee(Pt,Y,!1,k)&&xt}Wt.prototype.N=function(){if(Wt.Z.N.call(this),this.i){var p=this.i;for(const k in p.g){const P=p.g[k];for(let Y=0;Y<P.length;Y++)Z(P[Y]);delete p.g[k],p.h--}}this.G=null},Wt.prototype.J=function(p,k,P,Y){return this.i.add(String(p),k,!1,P,Y)},Wt.prototype.K=function(p,k,P,Y){return this.i.add(String(p),k,!0,P,Y)};function ee(p,k,P,Y){if(k=p.i.g[String(k)],!k)return!0;k=k.concat();let xt=!0;for(let Pt=0;Pt<k.length;++Pt){const Xt=k[Pt];if(Xt&&!Xt.da&&Xt.capture==P){const $e=Xt.listener,Wr=Xt.ha||Xt.src;Xt.fa&&st(p.i,Xt),xt=$e.call(Wr,Y)!==!1&&xt}}return xt&&!Y.defaultPrevented}function Qe(p,k){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=m(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(k)>2147483647?-1:u.setTimeout(p,k||0)}function ve(p){p.g=Qe(()=>{p.g=null,p.i&&(p.i=!1,ve(p))},p.l);const k=p.h;p.h=null,p.m.apply(null,k)}class We extends q{constructor(k,P){super(),this.m=k,this.l=P,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:ve(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Re(p){q.call(this),this.h=p,this.g={}}_(Re,q);var De=[];function Sr(p){bt(p.g,function(k,P){this.g.hasOwnProperty(P)&&ne(k)},p),p.g={}}Re.prototype.N=function(){Re.Z.N.call(this),Sr(this)},Re.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=u.JSON.stringify,be=u.JSON.parse,Pe=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function ge(){}function Fr(){}var rr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ae(){L.call(this,"d")}_(ae,L);function Ne(){L.call(this,"c")}_(Ne,L);var Me={},Ee=null;function ir(){return Ee=Ee||new Wt}Me.Ia="serverreachability";function ze(p){L.call(this,Me.Ia,p)}_(ze,L);function Cr(p){const k=ir();ie(k,new ze(k))}Me.STAT_EVENT="statevent";function an(p,k){L.call(this,Me.STAT_EVENT,p),this.stat=k}_(an,L);function Ve(p){const k=ir();ie(k,new an(k,p))}Me.Ja="timingevent";function ke(p,k){L.call(this,Me.Ja,p),this.size=k}_(ke,L);function ar(p,k){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},k)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function ti(p,k,P,Y,xt,Pt){p.info(function(){if(p.g)if(Pt){var Xt="",$e=Pt.split("&");for(let ur=0;ur<$e.length;ur++){var Wr=$e[ur].split("=");if(Wr.length>1){const Or=Wr[0];Wr=Wr[1];const ri=Or.split("_");Xt=ri.length>=2&&ri[1]=="type"?Xt+(Or+"="+Wr+"&"):Xt+(Or+"=redacted&")}}}else Xt=null;else Xt=Pt;return"XMLHTTP REQ ("+Y+") [attempt "+xt+"]: "+k+`
`+P+`
`+Xt})}function Ra(p,k,P,Y,xt,Pt,Xt){p.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+xt+"]: "+k+`
`+P+`
`+Pt+" "+Xt})}function Hn(p,k,P,Y){p.info(function(){return"XMLHTTP TEXT ("+k+"): "+ss(p,P)+(Y?" "+Y:"")})}function xe(p,k){p.info(function(){return"TIMEOUT: "+k})}ui.prototype.info=function(){};function ss(p,k){if(!p.g)return k;if(!k)return null;try{const Pt=JSON.parse(k);if(Pt){for(p=0;p<Pt.length;p++)if(Array.isArray(Pt[p])){var P=Pt[p];if(!(P.length<2)){var Y=P[1];if(Array.isArray(Y)&&!(Y.length<1)){var xt=Y[0];if(xt!="noop"&&xt!="stop"&&xt!="close")for(let Xt=1;Xt<Y.length;Xt++)Y[Xt]=""}}}}return je(Pt)}catch{return k}}var Bi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ni={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ki;function Br(){}_(Br,ge),Br.prototype.g=function(){return new XMLHttpRequest},ki=new Br;function Yr(p){return encodeURIComponent(String(p))}function On(p){var k=1;p=p.split(":");const P=[];for(;k>0&&p.length;)P.push(p.shift()),k--;return p.length&&P.push(p.join(":")),P}function ci(p,k,P,Y){this.j=p,this.i=k,this.l=P,this.S=Y||1,this.V=new Re(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Tr={},zr={};function Rn(p,k,P){p.M=1,p.A=di(sr(k)),p.u=P,p.R=!0,Ai(p,null)}function Ai(p,k){p.F=Date.now(),Ei(p),p.B=sr(p.A);var P=p.B,Y=p.S;Array.isArray(Y)||(Y=[String(Y)]),ko(P.i,"t",Y),p.C=0,P=p.j.L,p.h=new ei,p.g=le(p.j,P?k:null,!p.u),p.P>0&&(p.O=new We(m(p.Y,p,p.g),p.P)),k=p.V,P=p.g,Y=p.ba;var xt="readystatechange";Array.isArray(xt)||(xt&&(De[0]=xt.toString()),xt=De);for(let Pt=0;Pt<xt.length;Pt++){const Xt=Nt(P,xt[Pt],Y||k.handleEvent,!1,k.h||k);if(!Xt)break;k.g[Xt.key]=Xt}k=p.J?H(p.J):{},p.u?(p.v||(p.v="POST"),k["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,k)):(p.v="GET",p.g.ea(p.B,p.v,null,k)),Cr(),ti(p.i,p.v,p.B,p.l,p.S,p.u)}ci.prototype.ba=function(p){p=p.target;const k=this.O;k&&Wi(p)==3?k.j():this.Y(p)},ci.prototype.Y=function(p){try{if(p==this.g)t:{const $e=Wi(this.g),Wr=this.g.ya(),ur=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||An(this.g)))){this.K||$e!=4||Wr==7||(Wr==8||ur<=0?Cr(3):Cr(2)),qi(this);var k=this.g.ca();this.X=k;var P=na(this);if(this.o=k==200,Ra(this.i,this.v,this.B,this.l,this.S,$e,k),this.o){if(this.U&&!this.L){e:{if(this.g){var Y,xt=this.g;if((Y=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Y)){var Pt=Y;break e}}Pt=null}if(p=Pt)Hn(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ia(this,p);else{this.o=!1,this.m=3,Ve(12),zi(this),hi(this);break t}}if(this.R){p=!0;let Or;for(;!this.K&&this.C<P.length;)if(Or=va(this,P),Or==zr){$e==4&&(this.m=4,Ve(14),p=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Or==Tr){this.m=4,Ve(15),Hn(this.i,this.l,P,"[Invalid Chunk]"),p=!1;break}else Hn(this.i,this.l,Or,null),ia(this,Or);if(Ss(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||P.length!=0||this.h.h||(this.m=1,Ve(16),p=!1),this.o=this.o&&p,!p)Hn(this.i,this.l,P,"[Invalid Chunked Response]"),zi(this),hi(this);else if(P.length>0&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.aa&&!Xt.P&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Io(Xt),Xt.P=!0,Ve(11))}}else Hn(this.i,this.l,P,null),ia(this,P);$e==4&&zi(this),this.o&&!this.K&&($e==4?it(this.j,this):(this.o=!1,Ei(this)))}else Hi(this.g),k==400&&P.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),zi(this),hi(this)}}}catch{}finally{}};function na(p){if(!Ss(p))return p.g.la();const k=An(p.g);if(k==="")return"";let P="";const Y=k.length,xt=Wi(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return zi(p),hi(p),"";p.h.i=new u.TextDecoder}for(let Pt=0;Pt<Y;Pt++)p.h.h=!0,P+=p.h.i.decode(k[Pt],{stream:!(xt&&Pt==Y-1)});return k.length=0,p.h.g+=P,p.C=0,p.h.g}function Ss(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function va(p,k){var P=p.C,Y=k.indexOf(`
`,P);return Y==-1?zr:(P=Number(k.substring(P,Y)),isNaN(P)?Tr:(Y+=1,Y+P>k.length?zr:(k=k.slice(Y,Y+P),p.C=Y+P,k)))}ci.prototype.cancel=function(){this.K=!0,zi(this)};function Ei(p){p.T=Date.now()+p.H,os(p,p.H)}function os(p,k){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ar(m(p.aa,p),k)}function qi(p){p.D&&(u.clearTimeout(p.D),p.D=null)}ci.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(xe(this.i,this.B),this.M!=2&&(Cr(),Ve(17)),zi(this),this.m=2,hi(this)):os(this,this.T-p)};function hi(p){p.j.I==0||p.K||it(p.j,p)}function zi(p){qi(p);var k=p.O;k&&typeof k.dispose=="function"&&k.dispose(),p.O=null,Sr(p.V),p.g&&(k=p.g,p.g=null,k.abort(),k.dispose())}function ia(p,k){try{var P=p.j;if(P.I!=0&&(P.g==p||ba(P.h,p))){if(!p.L&&ba(P.h,p)&&P.I==3){try{var Y=P.Ba.g.parse(k)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var xt=Y;if(xt[0]==0){t:if(!P.v){if(P.g)if(P.g.F+3e3<p.F)D(P),Ma(P);else break t;Aa(P),Ve(18)}}else P.xa=xt[1],0<P.xa-P.K&&xt[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=ar(m(P.Va,P),6e3));aa(P.h)<=1&&P.ta&&(P.ta=void 0)}else vt(P,11)}else if((p.L||P.g==p)&&D(P),!j(k))for(xt=P.Ba.g.parse(k),k=0;k<xt.length;k++){let ur=xt[k];const Or=ur[0];if(!(Or<=P.K))if(P.K=Or,ur=ur[1],P.I==2)if(ur[0]=="c"){P.M=ur[1],P.ba=ur[2];const ri=ur[3];ri!=null&&(P.ka=ri,P.j.info("VER="+P.ka));const Gi=ur[4];Gi!=null&&(P.za=Gi,P.j.info("SVER="+P.za));const Xr=ur[5];Xr!=null&&typeof Xr=="number"&&Xr>0&&(Y=1.5*Xr,P.O=Y,P.j.info("backChannelRequestTimeoutMs_="+Y)),Y=P;const mi=p.g;if(mi){const Ea=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var Pt=Y.h;Pt.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(Pt.j=Pt.l,Pt.g=new Set,Pt.h&&($s(Pt,Pt.h),Pt.h=null))}if(Y.G){const Es=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Es&&(Y.wa=Es,hr(Y.J,Y.G,Es))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-p.F,P.j.info("Handshake RTT: "+P.T+"ms")),Y=P;var Xt=p;if(Y.na=Qt(Y,Y.L?Y.ba:null,Y.W),Xt.L){xo(Y.h,Xt);var $e=Xt,Wr=Y.O;Wr&&($e.H=Wr),$e.D&&(qi($e),Ei($e)),Y.g=Xt}else hl(Y);P.i.length>0&&Na(P)}else ur[0]!="stop"&&ur[0]!="close"||vt(P,7);else P.I==3&&(ur[0]=="stop"||ur[0]=="close"?ur[0]=="stop"?vt(P,7):As(P):ur[0]!="noop"&&P.l&&P.l.qa(ur),P.A=0)}}Cr(4)}catch{}}var dn=class{constructor(p,k){this.g=p,this.map=k}};function wo(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ii(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function aa(p){return p.h?1:p.g?p.g.size:0}function ba(p,k){return p.h?p.h==k:p.g?p.g.has(k):!1}function $s(p,k){p.g?p.g.add(k):p.h=k}function xo(p,k){p.h&&p.h==k?p.h=null:p.g&&p.g.has(k)&&p.g.delete(k)}wo.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function _o(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let k=p.i;for(const P of p.g.values())k=k.concat(P.G);return k}return w(p.i)}var al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ls(p,k){if(p){p=p.split("&");for(let P=0;P<p.length;P++){const Y=p[P].indexOf("=");let xt,Pt=null;Y>=0?(xt=p[P].substring(0,Y),Pt=p[P].substring(Y+1)):xt=p[P],k(xt,Pt?decodeURIComponent(Pt.replace(/\+/g," ")):"")}}}function Vi(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let k;p instanceof Vi?(this.l=p.l,Nn(this,p.j),this.o=p.o,this.g=p.g,us(this,p.u),this.h=p.h,wa(this,Ao(p.i)),this.m=p.m):p&&(k=String(p).match(al))?(this.l=!1,Nn(this,k[1]||"",!0),this.o=Li(k[2]||""),this.g=Li(k[3]||"",!0),us(this,k[4]),this.h=Li(k[5]||"",!0),wa(this,k[6]||"",!0),this.m=Li(k[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}Vi.prototype.toString=function(){const p=[];var k=this.j;k&&p.push(Vr(k,So,!0),":");var P=this.g;return(P||k=="file")&&(p.push("//"),(k=this.o)&&p.push(Vr(k,So,!0),"@"),p.push(Yr(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&p.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&p.push("/"),p.push(Vr(P,P.charAt(0)=="/"?sl:Gl,!0))),(P=this.i.toString())&&p.push("?",P),(P=this.m)&&p.push("#",Vr(P,ol)),p.join("")},Vi.prototype.resolve=function(p){const k=sr(this);let P=!!p.j;P?Nn(k,p.j):P=!!p.o,P?k.o=p.o:P=!!p.g,P?k.g=p.g:P=p.u!=null;var Y=p.h;if(P)us(k,p.u);else if(P=!!p.h){if(Y.charAt(0)!="/")if(this.g&&!this.h)Y="/"+Y;else{var xt=k.h.lastIndexOf("/");xt!=-1&&(Y=k.h.slice(0,xt+1)+Y)}if(xt=Y,xt==".."||xt==".")Y="";else if(xt.indexOf("./")!=-1||xt.indexOf("/.")!=-1){Y=xt.lastIndexOf("/",0)==0,xt=xt.split("/");const Pt=[];for(let Xt=0;Xt<xt.length;){const $e=xt[Xt++];$e=="."?Y&&Xt==xt.length&&Pt.push(""):$e==".."?((Pt.length>1||Pt.length==1&&Pt[0]!="")&&Pt.pop(),Y&&Xt==xt.length&&Pt.push("")):(Pt.push($e),Y=!0)}Y=Pt.join("/")}else Y=xt}return P?k.h=Y:P=p.i.toString()!=="",P?wa(k,Ao(p.i)):P=!!p.m,P&&(k.m=p.m),k};function sr(p){return new Vi(p)}function Nn(p,k,P){p.j=P?Li(k,!0):k,p.j&&(p.j=p.j.replace(/:$/,""))}function us(p,k){if(k){if(k=Number(k),isNaN(k)||k<0)throw Error("Bad port number "+k);p.u=k}else p.u=null}function wa(p,k,P){k instanceof cs?(p.i=k,xa(p.i,p.l)):(P||(k=Vr(k,pi)),p.i=new cs(k,p.l))}function hr(p,k,P){p.i.set(k,P)}function di(p){return hr(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Li(p,k){return p?k?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Vr(p,k,P){return typeof p=="string"?(p=encodeURI(p).replace(k,fi),P&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function fi(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var So=/[#\/\?@]/g,Gl=/[#\?:]/g,sl=/[#\?]/g,pi=/[#\?@]/g,ol=/#/g;function cs(p,k){this.h=this.g=null,this.i=p||null,this.j=!!k}function kn(p){p.g||(p.g=new Map,p.h=0,p.i&&ls(p.i,function(k,P){p.add(decodeURIComponent(k.replace(/\+/g," ")),P)}))}r=cs.prototype,r.add=function(p,k){kn(this),this.i=null,p=sa(this,p);let P=this.g.get(p);return P||this.g.set(p,P=[]),P.push(k),this.h+=1,this};function No(p,k){kn(p),k=sa(p,k),p.g.has(k)&&(p.i=null,p.h-=p.g.get(k).length,p.g.delete(k))}function ll(p,k){return kn(p),k=sa(p,k),p.g.has(k)}r.forEach=function(p,k){kn(this),this.g.forEach(function(P,Y){P.forEach(function(xt){p.call(k,xt,Y,this)},this)},this)};function ul(p,k){kn(p);let P=[];if(typeof k=="string")ll(p,k)&&(P=P.concat(p.g.get(sa(p,k))));else for(p=Array.from(p.g.values()),k=0;k<p.length;k++)P=P.concat(p[k]);return P}r.set=function(p,k){return kn(this),this.i=null,p=sa(this,p),ll(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[k]),this.h+=1,this},r.get=function(p,k){return p?(p=ul(this,p),p.length>0?String(p[0]):k):k};function ko(p,k,P){No(p,k),P.length>0&&(p.i=null,p.g.set(sa(p,k),w(P)),p.h+=P.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],k=Array.from(this.g.keys());for(let Y=0;Y<k.length;Y++){var P=k[Y];const xt=Yr(P);P=ul(this,P);for(let Pt=0;Pt<P.length;Pt++){let Xt=xt;P[Pt]!==""&&(Xt+="="+Yr(P[Pt])),p.push(Xt)}}return this.i=p.join("&")};function Ao(p){const k=new cs;return k.i=p.i,p.g&&(k.g=new Map(p.g),k.h=p.h),k}function sa(p,k){return k=String(k),p.j&&(k=k.toLowerCase()),k}function xa(p,k){k&&!p.j&&(kn(p),p.i=null,p.g.forEach(function(P,Y){const xt=Y.toLowerCase();Y!=xt&&(No(this,Y),ko(this,xt,P))},p)),p.j=k}function _a(p,k){const P=new ui;if(u.Image){const Y=new Image;Y.onload=v(Ci,P,"TestLoadImage: loaded",!0,k,Y),Y.onerror=v(Ci,P,"TestLoadImage: error",!1,k,Y),Y.onabort=v(Ci,P,"TestLoadImage: abort",!1,k,Y),Y.ontimeout=v(Ci,P,"TestLoadImage: timeout",!1,k,Y),u.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=p}else k(!1)}function hs(p,k){const P=new ui,Y=new AbortController,xt=setTimeout(()=>{Y.abort(),Ci(P,"TestPingServer: timeout",!1,k)},1e4);fetch(p,{signal:Y.signal}).then(Pt=>{clearTimeout(xt),Pt.ok?Ci(P,"TestPingServer: ok",!0,k):Ci(P,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(xt),Ci(P,"TestPingServer: error",!1,k)})}function Ci(p,k,P,Y,xt){try{xt&&(xt.onload=null,xt.onerror=null,xt.onabort=null,xt.ontimeout=null),Y(P)}catch{}}function Te(){this.g=new Pe}function ja(p){this.i=p.Sb||null,this.h=p.ab||!1}_(ja,ge),ja.prototype.g=function(){return new Ws(this.i,this.h)};function Ws(p,k){Wt.call(this),this.H=p,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Ws,Wt),r=Ws.prototype,r.open=function(p,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=k,this.readyState=1,Kn(this)},r.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const k={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(k.body=p),(this.H||u).fetch(new Request(this.D,k)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},r.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Eo(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Eo(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}r.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var k=p.value?p.value:new Uint8Array(0);(k=this.B.decode(k,{stream:!p.done}))&&(this.response=this.responseText+=k)}p.done?Ns(this):Kn(this),this.readyState==3&&Eo(this)}},r.Oa=function(p){this.g&&(this.response=this.responseText=p,Ns(this))},r.Na=function(p){this.g&&(this.response=p,Ns(this))},r.ga=function(){this.g&&Ns(this)};function Ns(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Kn(p)}r.setRequestHeader=function(p,k){this.A.append(p,k)},r.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],k=this.h.entries();for(var P=k.next();!P.done;)P=P.value,p.push(P[0]+": "+P[1]),P=k.next();return p.join(`\r
`)};function Kn(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function jn(p){let k="";return bt(p,function(P,Y){k+=Y,k+=":",k+=P,k+=`\r
`}),k}function Hs(p,k,P){t:{for(Y in P){var Y=!1;break t}Y=!0}Y||(P=jn(P),typeof p=="string"?P!=null&&Yr(P):hr(p,k,P))}function Pr(p){Wt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Pr,Wt);var $i=/^https?$/i,Ks=["POST","PUT"];r=Pr.prototype,r.Fa=function(p){this.H=p},r.ea=function(p,k,P,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);k=k?k.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ki.g(),this.g.onreadystatechange=A(m(this.Ca,this));try{this.B=!0,this.g.open(k,String(p),!0),this.B=!1}catch(Pt){Sa(this,Pt);return}if(p=P||"",P=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var xt in Y)P.set(xt,Y[xt]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const Pt of Y.keys())P.set(Pt,Y.get(Pt));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(P.keys()).find(Pt=>Pt.toLowerCase()=="content-type"),xt=u.FormData&&p instanceof u.FormData,!(Array.prototype.indexOf.call(Ks,k,void 0)>=0)||Y||xt||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pt,Xt]of P)this.g.setRequestHeader(Pt,Xt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(Pt){Sa(this,Pt)}};function Sa(p,k){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=k,p.o=5,ks(p),ds(p)}function ks(p){p.A||(p.A=!0,ie(p,"complete"),ie(p,"error"))}r.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,ie(this,"complete"),ie(this,"abort"),ds(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),Pr.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Fa(this):this.Xa())},r.Xa=function(){Fa(this)};function Fa(p){if(p.h&&typeof o<"u"){if(p.v&&Wi(p)==4)setTimeout(p.Ca.bind(p),0);else if(ie(p,"readystatechange"),Wi(p)==4){p.h=!1;try{const Pt=p.ca();t:switch(Pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break t;default:k=!1}var P;if(!(P=k)){var Y;if(Y=Pt===0){let Xt=String(p.D).match(al)[1]||null;!Xt&&u.self&&u.self.location&&(Xt=u.self.location.protocol.slice(0,-1)),Y=!$i.test(Xt?Xt.toLowerCase():"")}P=Y}if(P)ie(p,"complete"),ie(p,"success");else{p.o=6;try{var xt=Wi(p)>2?p.g.statusText:""}catch{xt=""}p.l=xt+" ["+p.ca()+"]",ks(p)}}finally{ds(p)}}}}function ds(p,k){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const P=p.g;p.g=null,k||ie(p,"ready");try{P.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wi(p){return p.g?p.g.readyState:0}r.ca=function(){try{return Wi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(p){if(this.g){var k=this.g.responseText;return p&&k.indexOf(p)==0&&(k=k.substring(p.length)),be(k)}};function An(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(p){const k={};p=(p.g&&Wi(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<p.length;Y++){if(j(p[Y]))continue;var P=On(p[Y]);const xt=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const Pt=k[xt]||[];k[xt]=Pt,Pt.push(P)}qt(k,function(Y){return Y.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(p,k,P){return P&&P.internalChannelParams&&P.internalChannelParams[p]||k}function Da(p){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,p),this.Za=Ti("retryDelaySeedMs",1e4,p),this.Ta=Ti("forwardChannelMaxRetries",2,p),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(p&&p.concurrentRequestLimit),this.Ba=new Te,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Da.prototype,r.ka=8,r.I=1,r.connect=function(p,k,P,Y){Ve(0),this.W=p,this.H=k||{},P&&Y!==void 0&&(this.H.OSID=P,this.H.OAID=Y),this.F=this.X,this.J=Qt(this,null,this.W),Na(this)};function As(p){if(Ua(p),p.I==3){var k=p.V++,P=sr(p.J);if(hr(P,"SID",p.M),hr(P,"RID",k),hr(P,"TYPE","terminate"),Ki(p,P),k=new ci(p,p.j,k),k.M=2,k.A=di(sr(P)),P=!1,u.navigator&&u.navigator.sendBeacon)try{P=u.navigator.sendBeacon(k.A.toString(),"")}catch{}!P&&u.Image&&(new Image().src=k.A,P=!0),P||(k.g=le(k.j,null),k.g.ea(k.A)),k.F=Date.now(),Ei(k)}Ut(p)}function Ma(p){p.g&&(Io(p),p.g.cancel(),p.g=null)}function Ua(p){Ma(p),p.v&&(u.clearTimeout(p.v),p.v=null),D(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&u.clearTimeout(p.m),p.m=null)}function Na(p){if(!Ii(p.h)&&!p.m){p.m=!0;var k=p.Ea;At||N(),It||(At(),It=!0),Q.add(k,p),p.D=0}}function Gs(p,k){return aa(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=k.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ar(m(p.Ea,p,k),ft(p,p.D)),p.D++,!0)}r.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const xt=new ci(this,this.j,p);let Pt=this.o;if(this.U&&(Pt?(Pt=H(Pt),K(Pt,this.U)):Pt=this.U),this.u!==null||this.R||(xt.J=Pt,Pt=null),this.S)t:{for(var k=0,P=0;P<this.i.length;P++){e:{var Y=this.i[P];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break e}Y=void 0}if(Y===void 0)break;if(k+=Y,k>4096){k=P;break t}if(k===4096||P===this.i.length-1){k=P+1;break t}}k=1e3}else k=1e3;k=cl(this,xt,k),P=sr(this.J),hr(P,"RID",p),hr(P,"CVER",22),this.G&&hr(P,"X-HTTP-Session-Id",this.G),Ki(this,P),Pt&&(this.R?k="headers="+Yr(jn(Pt))+"&"+k:this.u&&Hs(P,this.u,Pt)),$s(this.h,xt),this.Ra&&hr(P,"TYPE","init"),this.S?(hr(P,"$req",k),hr(P,"SID","null"),xt.U=!0,Rn(xt,P,null)):Rn(xt,P,k),this.I=2}}else this.I==3&&(p?ka(this,p):this.i.length==0||Ii(this.h)||ka(this))};function ka(p,k){var P;k?P=k.l:P=p.V++;const Y=sr(p.J);hr(Y,"SID",p.M),hr(Y,"RID",P),hr(Y,"AID",p.K),Ki(p,Y),p.u&&p.o&&Hs(Y,p.u,p.o),P=new ci(p,p.j,P,p.D+1),p.u===null&&(P.J=p.o),k&&(p.i=k.G.concat(p.i)),k=cl(p,P,1e3),P.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),$s(p.h,P),Rn(P,Y,k)}function Ki(p,k){p.H&&bt(p.H,function(P,Y){hr(k,Y,P)}),p.l&&bt({},function(P,Y){hr(k,Y,P)})}function cl(p,k,P){P=Math.min(p.i.length,P);const Y=p.l?m(p.l.Ka,p.l,p):null;t:{var xt=p.i;let $e=-1;for(;;){const Wr=["count="+P];$e==-1?P>0?($e=xt[0].g,Wr.push("ofs="+$e)):$e=0:Wr.push("ofs="+$e);let ur=!0;for(let Or=0;Or<P;Or++){var Pt=xt[Or].g;const ri=xt[Or].map;if(Pt-=$e,Pt<0)$e=Math.max(0,xt[Or].g-100),ur=!1;else try{Pt="req"+Pt+"_"||"";try{var Xt=ri instanceof Map?ri:Object.entries(ri);for(const[Gi,Xr]of Xt){let mi=Xr;h(Xr)&&(mi=je(Xr)),Wr.push(Pt+Gi+"="+encodeURIComponent(mi))}}catch(Gi){throw Wr.push(Pt+"type="+encodeURIComponent("_badmap")),Gi}}catch{Y&&Y(ri)}}if(ur){Xt=Wr.join("&");break t}}Xt=void 0}return p=p.i.splice(0,P),k.G=p,Xt}function hl(p){if(!p.g&&!p.v){p.Y=1;var k=p.Da;At||N(),It||(At(),It=!0),Q.add(k,p),p.A=0}}function Aa(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ar(m(p.Da,p),ft(p,p.A)),p.A++,!0)}r.Da=function(){if(this.v=null,x(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ar(m(this.Wa,this),p)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),Ma(this),x(this))};function Io(p){p.B!=null&&(u.clearTimeout(p.B),p.B=null)}function x(p){p.g=new ci(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var k=sr(p.na);hr(k,"RID","rpc"),hr(k,"SID",p.M),hr(k,"AID",p.K),hr(k,"CI",p.F?"0":"1"),!p.F&&p.ia&&hr(k,"TO",p.ia),hr(k,"TYPE","xmlhttp"),Ki(p,k),p.u&&p.o&&Hs(k,p.u,p.o),p.O&&(p.g.H=p.O);var P=p.g;p=p.ba,P.M=1,P.A=di(sr(k)),P.u=null,P.R=!0,Ai(P,p)}r.Va=function(){this.C!=null&&(this.C=null,Ma(this),Aa(this),Ve(19))};function D(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function it(p,k){var P=null;if(p.g==k){D(p),Io(p),p.g=null;var Y=2}else if(ba(p.h,k))P=k.G,xo(p.h,k),Y=1;else return;if(p.I!=0){if(k.o)if(Y==1){P=k.u?k.u.length:0,k=Date.now()-k.F;var xt=p.D;Y=ir(),ie(Y,new ke(Y,P)),Na(p)}else hl(p);else if(xt=k.m,xt==3||xt==0&&k.X>0||!(Y==1&&Gs(p,k)||Y==2&&Aa(p)))switch(P&&P.length>0&&(k=p.h,k.i=k.i.concat(P)),xt){case 1:vt(p,5);break;case 4:vt(p,10);break;case 3:vt(p,6);break;default:vt(p,2)}}}function ft(p,k){let P=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(P*=2),P*k}function vt(p,k){if(p.j.info("Error code "+k),k==2){var P=m(p.bb,p),Y=p.Ua;const xt=!Y;Y=new Vi(Y||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Nn(Y,"https"),di(Y),xt?_a(Y.toString(),P):hs(Y.toString(),P)}else Ve(2);p.I=0,p.l&&p.l.pa(k),Ut(p),Ua(p)}r.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Ut(p){if(p.I=0,p.ja=[],p.l){const k=_o(p.h);(k.length!=0||p.i.length!=0)&&(M(p.ja,k),M(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function Qt(p,k,P){var Y=P instanceof Vi?sr(P):new Vi(P);if(Y.g!="")k&&(Y.g=k+"."+Y.g),us(Y,Y.u);else{var xt=u.location;Y=xt.protocol,k=k?k+"."+xt.hostname:xt.hostname,xt=+xt.port;const Pt=new Vi(null);Y&&Nn(Pt,Y),k&&(Pt.g=k),xt&&us(Pt,xt),P&&(Pt.h=P),Y=Pt}return P=p.G,k=p.wa,P&&k&&hr(Y,P,k),hr(Y,"VER",p.ka),Ki(p,Y),Y}function le(p,k,P){if(k&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return k=p.Aa&&!p.ma?new Pr(new ja({ab:P})):new Pr(p.ma),k.Fa(p.L),k}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function de(){}r=de.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ie(){}Ie.prototype.g=function(p,k){return new ye(p,k)};function ye(p,k){Wt.call(this),this.g=new Da(k),this.l=p,this.h=k&&k.messageUrlParams||null,p=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(p?p["X-WebChannel-Content-Type"]=k.messageContentType:p={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.sa&&(p?p["X-WebChannel-Client-Profile"]=k.sa:p={"X-WebChannel-Client-Profile":k.sa}),this.g.U=p,(p=k&&k.Qb)&&!j(p)&&(this.g.u=p),this.A=k&&k.supportsCrossDomainXhr||!1,this.v=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!j(k)&&(this.g.G=k,p=this.h,p!==null&&k in p&&(p=this.h,k in p&&delete p[k])),this.j=new $r(this)}_(ye,Wt),ye.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ye.prototype.close=function(){As(this.g)},ye.prototype.o=function(p){var k=this.g;if(typeof p=="string"){var P={};P.__data__=p,p=P}else this.v&&(P={},P.__data__=je(p),p=P);k.i.push(new dn(k.Ya++,p)),k.I==3&&Na(k)},ye.prototype.N=function(){this.g.l=null,delete this.j,As(this.g),delete this.g,ye.Z.N.call(this)};function mr(p){ae.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var k=p.__sm__;if(k){t:{for(const P in k){p=P;break t}p=void 0}(this.i=p)&&(p=this.i,k=k!==null&&p in k?k[p]:void 0),this.data=k}else this.data=p}_(mr,ae);function Jr(){Ne.call(this),this.status=1}_(Jr,Ne);function $r(p){this.g=p}_($r,de),$r.prototype.ra=function(){ie(this.g,"a")},$r.prototype.qa=function(p){ie(this.g,new mr(p))},$r.prototype.pa=function(p){ie(this.g,new Jr)},$r.prototype.oa=function(){ie(this.g,"b")},Ie.prototype.createWebChannel=Ie.prototype.g,ye.prototype.send=ye.prototype.o,ye.prototype.open=ye.prototype.m,ye.prototype.close=ye.prototype.close,j3=function(){return new Ie},R3=function(){return ir()},O3=Me,c1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Bp=Bi,Ni.COMPLETE="complete",P3=Ni,Fr.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",Wt.prototype.listen=Wt.prototype.J,Md=Fr,Pr.prototype.listenOnce=Pr.prototype.K,Pr.prototype.getLastError=Pr.prototype.Ha,Pr.prototype.getLastErrorCode=Pr.prototype.ya,Pr.prototype.getStatus=Pr.prototype.ca,Pr.prototype.getResponseJson=Pr.prototype.La,Pr.prototype.getResponseText=Pr.prototype.la,Pr.prototype.send=Pr.prototype.ea,Pr.prototype.setWithCredentials=Pr.prototype.Fa,T3=Pr}).apply(typeof bp<"u"?bp:typeof self<"u"?self:typeof window<"u"?window:{});const lb="@firebase/firestore",ub="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ma{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ma.UNAUTHENTICATED=new ma(null),ma.GOOGLE_CREDENTIALS=new ma("google-credentials-uid"),ma.FIRST_PARTY=new ma("first-party-uid"),ma.MOCK_USER=new ma("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let $h="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Nc=new q1("@firebase/firestore");function bh(){return Nc.logLevel}function ue(r,...t){if(Nc.logLevel<=vr.DEBUG){const e=t.map(t2);Nc.debug(`Firestore (${$h}): ${r}`,...e)}}function Vl(r,...t){if(Nc.logLevel<=vr.ERROR){const e=t.map(t2);Nc.error(`Firestore (${$h}): ${r}`,...e)}}function Fh(r,...t){if(Nc.logLevel<=vr.WARN){const e=t.map(t2);Nc.warn(`Firestore (${$h}): ${r}`,...e)}}function t2(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Be(r,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,F3(r,n,e)}function F3(r,t,e){let n=`FIRESTORE (${$h}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw Vl(n),new Error(n)}function qr(r,t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,r||F3(t,s,n)}function er(r,t){return r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends rl{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bl{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class D3{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class JE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ma.UNAUTHENTICATED)))}shutdown(){}}class XE{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class ZE{constructor(t){this.t=t,this.currentUser=ma.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){qr(this.o===void 0,42304);let n=this.i;const s=d=>this.i!==n?(n=this.i,e(d)):Promise.resolve();let o=new Bl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bl,t.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const d=o;t.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},h=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bl)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((n=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(qr(typeof n.accessToken=="string",31837,{l:n}),new D3(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qr(t===null||typeof t=="string",2055,{h:t}),new ma(t)}}class tI{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=ma.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eI{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new tI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ma.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Oa(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){qr(this.o===void 0,3512);const n=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>n(o)))};const s=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(qr(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new cb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class e2{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=nI(40);for(let o=0;o<s.length;++o)n.length<20&&s[o]<e&&(n+=t.charAt(s[o]%62))}return n}}function br(r,t){return r<t?-1:r>t?1:0}function h1(r,t){const e=Math.min(r.length,t.length);for(let n=0;n<e;n++){const s=r.charAt(n),o=t.charAt(n);if(s!==o)return S0(s)===S0(o)?br(s,o):S0(s)?1:-1}return br(r.length,t.length)}const iI=55296,aI=57343;function S0(r){const t=r.charCodeAt(0);return t>=iI&&t<=aI}function Dh(r,t,e){return r.length===t.length&&r.every(((n,s)=>e(n,t[s])))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hb="__name__";class Wo{constructor(t,e,n){e===void 0?e=0:e>t.length&&Be(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&Be(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return Wo.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Wo?t.forEach((n=>{e.push(n)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const o=Wo.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return br(t.length,e.length)}static compareSegments(t,e){const n=Wo.isNumericId(t),s=Wo.isNumericId(e);return n&&!s?-1:!n&&s?1:n&&s?Wo.extractNumericId(t).compare(Wo.extractNumericId(e)):h1(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ou.fromString(t.substring(4,t.length-2))}}class cn extends Wo{construct(t,e,n){return new cn(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new re(zt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((s=>s.length>0)))}return new cn(e)}static emptyPath(){return new cn([])}}const sI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ea extends Wo{construct(t,e,n){return new ea(t,e,n)}static isValidIdentifier(t){return sI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ea.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hb}static keyField(){return new ea([hb])}static fromServerFormat(t){const e=[];let n="",s=0;const o=()=>{if(n.length===0)throw new re(zt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let u=!1;for(;s<t.length;){const h=t[s];if(h==="\\"){if(s+1===t.length)throw new re(zt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new re(zt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(n+=h,s++):(o(),s++)}if(o(),u)throw new re(zt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ea(e)}static emptyPath(){return new ea([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Se{constructor(t){this.path=t}static fromPath(t){return new Se(cn.fromString(t))}static fromName(t){return new Se(cn.fromString(t).popFirst(5))}static empty(){return new Se(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&cn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return cn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Se(new cn(t.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function M3(r,t,e){if(!e)throw new re(zt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function oI(r,t,e,n){if(t===!0&&n===!0)throw new re(zt.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function db(r){if(!Se.isDocumentKey(r))throw new re(zt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fb(r){if(Se.isDocumentKey(r))throw new re(zt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function U3(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Cm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(e){return e.constructor?e.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Be(12329,{type:typeof r})}function is(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new re(zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Cm(r);throw new re(zt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}function lI(r,t){if(t<=0)throw new re(zt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function li(r,t){const e={typeString:r};return t&&(e.value=t),e}function gf(r,t){if(!U3(r))throw new re(zt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const n in t)if(t[n]){const s=t[n].typeString,o="value"in t[n]?{value:t[n].value}:void 0;if(!(n in r)){e=`JSON missing required field: '${n}'`;break}const u=r[n];if(s&&typeof u!==s){e=`JSON field '${n}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${n}' field to equal '${o.value}'`;break}}if(e)throw new re(zt.INVALID_ARGUMENT,e);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pb=-62135596800,mb=1e6;class yn{static now(){return yn.fromMillis(Date.now())}static fromDate(t){return yn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*mb);return new yn(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new re(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new re(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<pb)throw new re(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new re(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mb}_compareTo(t){return this.seconds===t.seconds?br(this.nanoseconds,t.nanoseconds):br(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(gf(t,yn._jsonSchema))return new yn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yn._jsonSchemaVersion="firestore/timestamp/1.0",yn._jsonSchema={type:li("string",yn._jsonSchemaVersion),seconds:li("number"),nanoseconds:li("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ye{static fromTimestamp(t){return new Ye(t)}static min(){return new Ye(new yn(0,0))}static max(){return new Ye(new yn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Zd=-1;function uI(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=Ye.fromTimestamp(n===1e9?new yn(e+1,0):new yn(e,n));return new Fu(s,Se.empty(),t)}function cI(r){return new Fu(r.readTime,r.key,Zd)}class Fu{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Fu(Ye.min(),Se.empty(),Zd)}static max(){return new Fu(Ye.max(),Se.empty(),Zd)}}function hI(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=Se.comparator(r.documentKey,t.documentKey),e!==0?e:br(r.largestBatchId,t.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const dI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Wh(r){if(r.code!==zt.FAILED_PRECONDITION||r.message!==dI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Gt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Gt(((n,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(n,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(n,s)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Gt?e:Gt.resolve(e)}catch(e){return Gt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Gt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Gt.reject(e)}static resolve(t){return new Gt(((e,n)=>{e(t)}))}static reject(t){return new Gt(((e,n)=>{n(t)}))}static waitFor(t){return new Gt(((e,n)=>{let s=0,o=0,u=!1;t.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&e()}),(d=>n(d)))})),u=!0,o===s&&e()}))}static or(t){let e=Gt.resolve(!1);for(const n of t)e=e.next((s=>s?Gt.resolve(s):n()));return e}static forEach(t,e){const n=[];return t.forEach(((s,o)=>{n.push(e.call(this,s,o))})),this.waitFor(n)}static mapArray(t,e){return new Gt(((n,s)=>{const o=t.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;e(t[m]).next((v=>{u[m]=v,++h,h===o&&n(u)}),(v=>s(v)))}}))}static doWhile(t,e){return new Gt(((n,s)=>{const o=()=>{t()===!0?e().next((()=>{o()}),s):n()};o()}))}}function pI(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Hh(r){return r.name==="IndexedDbTransactionError"}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>e.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Tm.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const r2=-1;function Pm(r){return r==null}function lm(r){return r===0&&1/r==-1/0}function mI(r){return typeof r=="number"&&Number.isInteger(r)&&!lm(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const B3="";function gI(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=gb(t)),t=yI(r.get(e),t);return gb(t)}function yI(r,t){let e=t;const n=r.length;for(let s=0;s<n;s++){const o=r.charAt(s);switch(o){case"\0":e+="";break;case B3:e+="";break;default:e+=o}}return e}function gb(r){return r+B3+""}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yb(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function $u(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function q3(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pn{constructor(t,e){this.comparator=t,this.root=e||ta.EMPTY}insert(t,e){return new Pn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ta.BLACK,null,null))}remove(t){return new Pn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ta.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return e+n.left.size;s<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wp(this.root,t,this.comparator,!1)}getReverseIterator(){return new wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wp(this.root,t,this.comparator,!0)}}class wp{constructor(t,e,n,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?n(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ta{constructor(t,e,n,s,o){this.key=t,this.value=e,this.color=n??ta.RED,this.left=s??ta.EMPTY,this.right=o??ta.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,s,o){return new ta(t??this.key,e??this.value,n??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let s=this;const o=n(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,n),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ta.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return ta.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ta.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ta.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Be(27949);return t+(this.isRed()?0:1)}}ta.EMPTY=null,ta.RED=!0,ta.BLACK=!1;ta.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(r,t,e,n,s){return this}insert(r,t,e){return new ta(r,t)}remove(r,t){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Si{constructor(t){this.comparator=t,this.data=new Pn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new vb(this.data.getIterator())}getIteratorFrom(t){return new vb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((n=>{e=e.add(n)})),e}isEqual(t){if(!(t instanceof Si)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=n.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Si(this.comparator);return e.data=t,e}}class vb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xs{constructor(t){this.fields=t,t.sort(ea.comparator)}static empty(){return new xs([])}unionWith(t){let e=new Si(ea.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new xs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Dh(this.fields,t.fields,((e,n)=>e.isEqual(n)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class z3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ra{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(n){try{return atob(n)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new z3("Invalid base64 string: "+s):s}})(t);return new ra(e)}static fromUint8Array(t){const e=(function(n){let s="";for(let o=0;o<n.length;++o)s+=String.fromCharCode(n[o]);return s})(t);return new ra(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return br(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ra.EMPTY_BYTE_STRING=new ra("");const vI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Du(r){if(qr(!!r,39018),typeof r=="string"){let t=0;const e=vI.exec(r);if(qr(!!e,46558,{timestamp:r}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Yn(r.seconds),nanos:Yn(r.nanos)}}function Yn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Mu(r){return typeof r=="string"?ra.fromBase64String(r):ra.fromUint8Array(r)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V3="server_timestamp",$3="__type__",W3="__previous_value__",H3="__local_write_time__";function Om(r){return(r?.mapValue?.fields||{})[$3]?.stringValue===V3}function Rm(r){const t=r.mapValue.fields[W3];return Om(t)?Rm(t):t}function tf(r){const t=Du(r.mapValue.fields[H3].timestampValue);return new yn(t.seconds,t.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bI{constructor(t,e,n,s,o,u,h,d,m,v){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=v}}const um="(default)";class ef{constructor(t,e){this.projectId=t,this.database=e||um}static empty(){return new ef("","")}get isDefaultDatabase(){return this.database===um}isEqual(t){return t instanceof ef&&t.projectId===this.projectId&&t.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K3="__type__",wI="__max__",xp={mapValue:{}},G3="__vector__",cm="value";function Uu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Om(r)?4:_I(r)?9007199254740991:xI(r)?10:11:Be(28295,{value:r})}function el(r,t){if(r===t)return!0;const e=Uu(r);if(e!==Uu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return tf(r).isEqual(tf(t));case 3:return(function(n,s){if(typeof n.timestampValue=="string"&&typeof s.timestampValue=="string"&&n.timestampValue.length===s.timestampValue.length)return n.timestampValue===s.timestampValue;const o=Du(n.timestampValue),u=Du(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(n,s){return Mu(n.bytesValue).isEqual(Mu(s.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(n,s){return Yn(n.geoPointValue.latitude)===Yn(s.geoPointValue.latitude)&&Yn(n.geoPointValue.longitude)===Yn(s.geoPointValue.longitude)})(r,t);case 2:return(function(n,s){if("integerValue"in n&&"integerValue"in s)return Yn(n.integerValue)===Yn(s.integerValue);if("doubleValue"in n&&"doubleValue"in s){const o=Yn(n.doubleValue),u=Yn(s.doubleValue);return o===u?lm(o)===lm(u):isNaN(o)&&isNaN(u)}return!1})(r,t);case 9:return Dh(r.arrayValue.values||[],t.arrayValue.values||[],el);case 10:case 11:return(function(n,s){const o=n.mapValue.fields||{},u=s.mapValue.fields||{};if(yb(o)!==yb(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(u[h]===void 0||!el(o[h],u[h])))return!1;return!0})(r,t);default:return Be(52216,{left:r})}}function rf(r,t){return(r.values||[]).find((e=>el(e,t)))!==void 0}function Mh(r,t){if(r===t)return 0;const e=Uu(r),n=Uu(t);if(e!==n)return br(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return br(r.booleanValue,t.booleanValue);case 2:return(function(s,o){const u=Yn(s.integerValue||s.doubleValue),h=Yn(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(r,t);case 3:return bb(r.timestampValue,t.timestampValue);case 4:return bb(tf(r),tf(t));case 5:return h1(r.stringValue,t.stringValue);case 6:return(function(s,o){const u=Mu(s),h=Mu(o);return u.compareTo(h)})(r.bytesValue,t.bytesValue);case 7:return(function(s,o){const u=s.split("/"),h=o.split("/");for(let d=0;d<u.length&&d<h.length;d++){const m=br(u[d],h[d]);if(m!==0)return m}return br(u.length,h.length)})(r.referenceValue,t.referenceValue);case 8:return(function(s,o){const u=br(Yn(s.latitude),Yn(o.latitude));return u!==0?u:br(Yn(s.longitude),Yn(o.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return wb(r.arrayValue,t.arrayValue);case 10:return(function(s,o){const u=s.fields||{},h=o.fields||{},d=u[cm]?.arrayValue,m=h[cm]?.arrayValue,v=br(d?.values?.length||0,m?.values?.length||0);return v!==0?v:wb(d,m)})(r.mapValue,t.mapValue);case 11:return(function(s,o){if(s===xp.mapValue&&o===xp.mapValue)return 0;if(s===xp.mapValue)return 1;if(o===xp.mapValue)return-1;const u=s.fields||{},h=Object.keys(u),d=o.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let v=0;v<h.length&&v<m.length;++v){const _=h1(h[v],m[v]);if(_!==0)return _;const A=Mh(u[h[v]],d[m[v]]);if(A!==0)return A}return br(h.length,m.length)})(r.mapValue,t.mapValue);default:throw Be(23264,{he:e})}}function bb(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return br(r,t);const e=Du(r),n=Du(t),s=br(e.seconds,n.seconds);return s!==0?s:br(e.nanos,n.nanos)}function wb(r,t){const e=r.values||[],n=t.values||[];for(let s=0;s<e.length&&s<n.length;++s){const o=Mh(e[s],n[s]);if(o)return o}return br(e.length,n.length)}function Uh(r){return d1(r)}function d1(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const e=Du(t);return`time(${e.seconds},${e.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Mu(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Se.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let e="[",n=!0;for(const s of t.values||[])n?n=!1:e+=",",e+=d1(s);return e+"]"})(r.arrayValue):"mapValue"in r?(function(t){const e=Object.keys(t.fields||{}).sort();let n="{",s=!0;for(const o of e)s?s=!1:n+=",",n+=`${o}:${d1(t.fields[o])}`;return n+"}"})(r.mapValue):Be(61005,{value:r})}function qp(r){switch(Uu(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rm(r);return t?16+qp(t):16;case 5:return 2*r.stringValue.length;case 6:return Mu(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(e){return(e.values||[]).reduce(((n,s)=>n+qp(s)),0)})(r.arrayValue);case 10:case 11:return(function(e){let n=0;return $u(e.fields,((s,o)=>{n+=s.length+qp(o)})),n})(r.mapValue);default:throw Be(13486,{value:r})}}function hm(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function f1(r){return!!r&&"integerValue"in r}function n2(r){return!!r&&"arrayValue"in r}function xb(r){return!!r&&"nullValue"in r}function _b(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zp(r){return!!r&&"mapValue"in r}function xI(r){return(r?.mapValue?.fields||{})[K3]?.stringValue===G3}function $d(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return $u(r.mapValue.fields,((e,n)=>t.mapValue.fields[e]=$d(n))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=$d(r.arrayValue.values[e]);return t}return{...r}}function _I(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===wI}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ns{constructor(t){this.value=t}static empty(){return new ns({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!zp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=$d(e)}setAll(t){let e=ea.emptyPath(),n={},s=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,n,s),n={},s=[],e=h.popLast()}u?n[h.lastSegment()]=$d(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,n,s)}delete(t){const e=this.field(t.popLast());zp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return el(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let s=e.mapValue.fields[t.get(n)];zp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,n){$u(e,((s,o)=>t[s]=o));for(const s of n)delete t[s]}clone(){return new ns($d(this.value))}}function Q3(r){const t=[];return $u(r.fields,((e,n)=>{const s=new ea([e]);if(zp(n)){const o=Q3(n.mapValue).fields;if(o.length===0)t.push(s);else for(const u of o)t.push(s.child(u))}else t.push(s)})),new xs(t)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ga{constructor(t,e,n,s,o,u,h){this.key=t,this.documentType=e,this.version=n,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new ga(t,0,Ye.min(),Ye.min(),Ye.min(),ns.empty(),0)}static newFoundDocument(t,e,n,s){return new ga(t,1,e,Ye.min(),n,s,0)}static newNoDocument(t,e){return new ga(t,2,e,Ye.min(),Ye.min(),ns.empty(),0)}static newUnknownDocument(t,e){return new ga(t,3,e,Ye.min(),Ye.min(),ns.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ga&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ga(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bh{constructor(t,e){this.position=t,this.inclusive=e}}function Sb(r,t,e){let n=0;for(let s=0;s<r.position.length;s++){const o=t[s],u=r.position[s];if(o.field.isKeyField()?n=Se.comparator(Se.fromName(u.referenceValue),e.key):n=Mh(u,e.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Nb(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!el(r.position[e],t.position[e]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nf{constructor(t,e="asc"){this.field=t,this.dir=e}}function SI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Y3{}class oi extends Y3{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new kI(t,e,n):e==="array-contains"?new II(t,n):e==="in"?new LI(t,n):e==="not-in"?new CI(t,n):e==="array-contains-any"?new TI(t,n):new oi(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new AI(t,n):new EI(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Mh(e,this.value)):e!==null&&Uu(this.value)===Uu(e)&&this.matchesComparison(Mh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class po extends Y3{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new po(t,e)}matches(t){return J3(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function J3(r){return r.op==="and"}function X3(r){return NI(r)&&J3(r)}function NI(r){for(const t of r.filters)if(t instanceof po)return!1;return!0}function p1(r){if(r instanceof oi)return r.field.canonicalString()+r.op.toString()+Uh(r.value);if(X3(r))return r.filters.map((t=>p1(t))).join(",");{const t=r.filters.map((e=>p1(e))).join(",");return`${r.op}(${t})`}}function Z3(r,t){return r instanceof oi?(function(e,n){return n instanceof oi&&e.op===n.op&&e.field.isEqual(n.field)&&el(e.value,n.value)})(r,t):r instanceof po?(function(e,n){return n instanceof po&&e.op===n.op&&e.filters.length===n.filters.length?e.filters.reduce(((s,o,u)=>s&&Z3(o,n.filters[u])),!0):!1})(r,t):void Be(19439)}function tx(r){return r instanceof oi?(function(t){return`${t.field.canonicalString()} ${t.op} ${Uh(t.value)}`})(r):r instanceof po?(function(t){return t.op.toString()+" {"+t.getFilters().map(tx).join(" ,")+"}"})(r):"Filter"}class kI extends oi{constructor(t,e,n){super(t,e,n),this.key=Se.fromName(n.referenceValue)}matches(t){const e=Se.comparator(t.key,this.key);return this.matchesComparison(e)}}class AI extends oi{constructor(t,e){super(t,"in",e),this.keys=ex("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class EI extends oi{constructor(t,e){super(t,"not-in",e),this.keys=ex("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function ex(r,t){return(t.arrayValue?.values||[]).map((e=>Se.fromName(e.referenceValue)))}class II extends oi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return n2(e)&&rf(e.arrayValue,this.value)}}class LI extends oi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&rf(this.value.arrayValue,e)}}class CI extends oi{constructor(t,e){super(t,"not-in",e)}matches(t){if(rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!rf(this.value.arrayValue,e)}}class TI extends oi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!n2(e)||!e.arrayValue.values)&&e.arrayValue.values.some((n=>rf(this.value.arrayValue,n)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PI{constructor(t,e=null,n=[],s=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function kb(r,t=null,e=[],n=[],s=null,o=null,u=null){return new PI(r,t,e,n,s,o,u)}function i2(r){const t=er(r);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((n=>p1(n))).join(","),e+="|ob:",e+=t.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),Pm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((n=>Uh(n))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((n=>Uh(n))).join(",")),t.Te=e}return t.Te}function a2(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!SI(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!Z3(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Nb(r.startAt,t.startAt)&&Nb(r.endAt,t.endAt)}function m1(r){return Se.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cc{constructor(t,e=null,n=[],s=[],o=null,u="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OI(r,t,e,n,s,o,u,h){return new Cc(r,t,e,n,s,o,u,h)}function jm(r){return new Cc(r)}function Ab(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function s2(r){return r.collectionGroup!==null}function Ch(r){const t=er(r);if(t.Ie===null){t.Ie=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Si(ea.comparator);return s.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(o=o.add(h.field))}))})),o})(t).forEach((s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new nf(s,n))})),e.has(ea.keyField().canonicalString())||t.Ie.push(new nf(ea.keyField(),n))}return t.Ie}function Jo(r){const t=er(r);return t.Ee||(t.Ee=RI(t,Ch(r))),t.Ee}function RI(r,t){if(r.limitType==="F")return kb(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new nf(s.field,o)}));const e=r.endAt?new Bh(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Bh(r.startAt.position,r.startAt.inclusive):null;return kb(r.path,r.collectionGroup,t,r.filters,r.limit,e,n)}}function g1(r,t){const e=r.filters.concat([t]);return new Cc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function dm(r,t,e){return new Cc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function Fm(r,t){return a2(Jo(r),Jo(t))&&r.limitType===t.limitType}function rx(r){return`${i2(Jo(r))}|lt:${r.limitType}`}function wh(r){return`Query(target=${(function(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((n=>tx(n))).join(", ")}]`),Pm(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((n=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(n))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((n=>Uh(n))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((n=>Uh(n))).join(",")),`Target(${e})`})(Jo(r))}; limitType=${r.limitType})`}function Dm(r,t){return t.isFoundDocument()&&(function(e,n){const s=n.key.path;return e.collectionGroup!==null?n.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):Se.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s)})(r,t)&&(function(e,n){for(const s of Ch(e))if(!s.field.isKeyField()&&n.data.field(s.field)===null)return!1;return!0})(r,t)&&(function(e,n){for(const s of e.filters)if(!s.matches(n))return!1;return!0})(r,t)&&(function(e,n){return!(e.startAt&&!(function(s,o,u){const h=Sb(s,o,u);return s.inclusive?h<=0:h<0})(e.startAt,Ch(e),n)||e.endAt&&!(function(s,o,u){const h=Sb(s,o,u);return s.inclusive?h>=0:h>0})(e.endAt,Ch(e),n))})(r,t)}function jI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nx(r){return(t,e)=>{let n=!1;for(const s of Ch(r)){const o=FI(s,t,e);if(o!==0)return o;n=n||s.field.isKeyField()}return 0}}function FI(r,t,e){const n=r.field.isKeyField()?Se.comparator(t.key,e.key):(function(s,o,u){const h=o.data.field(s),d=u.data.field(s);return h!==null&&d!==null?Mh(h,d):Be(42886)})(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Be(19790,{direction:r.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[s,o]of n)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],t))return n.length===1?delete this.inner[e]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(t){$u(this.inner,((e,n)=>{for(const[s,o]of n)t(s,o)}))}isEmpty(){return q3(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DI=new Pn(Se.comparator);function $l(){return DI}const ix=new Pn(Se.comparator);function Ud(...r){let t=ix;for(const e of r)t=t.insert(e.key,e);return t}function ax(r){let t=ix;return r.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function fc(){return Wd()}function sx(){return Wd()}function Wd(){return new Tc((r=>r.toString()),((r,t)=>r.isEqual(t)))}const MI=new Pn(Se.comparator),UI=new Si(Se.comparator);function wr(...r){let t=UI;for(const e of r)t=t.add(e);return t}const BI=new Si(br);function qI(){return BI}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function o2(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lm(t)?"-0":t}}function ox(r){return{integerValue:""+r}}function zI(r,t){return mI(t)?ox(t):o2(r,t)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mm{constructor(){this._=void 0}}function VI(r,t,e){return r instanceof af?(function(n,s){const o={fields:{[$3]:{stringValue:V3},[H3]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return s&&Om(s)&&(s=Rm(s)),s&&(o.fields[W3]=s),{mapValue:o}})(e,t):r instanceof sf?ux(r,t):r instanceof of?cx(r,t):(function(n,s){const o=lx(n,s),u=Eb(o)+Eb(n.Ae);return f1(o)&&f1(n.Ae)?ox(u):o2(n.serializer,u)})(r,t)}function $I(r,t,e){return r instanceof sf?ux(r,t):r instanceof of?cx(r,t):e}function lx(r,t){return r instanceof fm?(function(e){return f1(e)||(function(n){return!!n&&"doubleValue"in n})(e)})(t)?t:{integerValue:0}:null}class af extends Mm{}class sf extends Mm{constructor(t){super(),this.elements=t}}function ux(r,t){const e=hx(t);for(const n of r.elements)e.some((s=>el(s,n)))||e.push(n);return{arrayValue:{values:e}}}class of extends Mm{constructor(t){super(),this.elements=t}}function cx(r,t){let e=hx(t);for(const n of r.elements)e=e.filter((s=>!el(s,n)));return{arrayValue:{values:e}}}class fm extends Mm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Eb(r){return Yn(r.integerValue||r.doubleValue)}function hx(r){return n2(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WI{constructor(t,e){this.field=t,this.transform=e}}function HI(r,t){return r.field.isEqual(t.field)&&(function(e,n){return e instanceof sf&&n instanceof sf||e instanceof of&&n instanceof of?Dh(e.elements,n.elements,el):e instanceof fm&&n instanceof fm?el(e.Ae,n.Ae):e instanceof af&&n instanceof af})(r.transform,t.transform)}class KI{constructor(t,e){this.version=t,this.transformResults=e}}class zs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new zs}static exists(t){return new zs(void 0,t)}static updateTime(t){return new zs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vp(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Um{}function dx(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new l2(r.key,zs.none()):new yf(r.key,r.data,zs.none());{const e=r.data,n=ns.empty();let s=new Si(ea.comparator);for(let o of t.fields)if(!s.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?n.delete(o):n.set(o,u),s=s.add(o)}return new Wu(r.key,n,new xs(s.toArray()),zs.none())}}function GI(r,t,e){r instanceof yf?(function(n,s,o){const u=n.value.clone(),h=Lb(n.fieldTransforms,s,o.transformResults);u.setAll(h),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(r,t,e):r instanceof Wu?(function(n,s,o){if(!Vp(n.precondition,s))return void s.convertToUnknownDocument(o.version);const u=Lb(n.fieldTransforms,s,o.transformResults),h=s.data;h.setAll(fx(n)),h.setAll(u),s.convertToFoundDocument(o.version,h).setHasCommittedMutations()})(r,t,e):(function(n,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,e)}function Hd(r,t,e,n){return r instanceof yf?(function(s,o,u,h){if(!Vp(s.precondition,o))return u;const d=s.value.clone(),m=Cb(s.fieldTransforms,h,o);return d.setAll(m),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(r,t,e,n):r instanceof Wu?(function(s,o,u,h){if(!Vp(s.precondition,o))return u;const d=Cb(s.fieldTransforms,h,o),m=o.data;return m.setAll(fx(s)),m.setAll(d),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((v=>v.field)))})(r,t,e,n):(function(s,o,u){return Vp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(r,t,e)}function QI(r,t){let e=null;for(const n of r.fieldTransforms){const s=t.data.field(n.field),o=lx(n.transform,s||null);o!=null&&(e===null&&(e=ns.empty()),e.set(n.field,o))}return e||null}function Ib(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(e,n){return e===void 0&&n===void 0||!(!e||!n)&&Dh(e,n,((s,o)=>HI(s,o)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class yf extends Um{constructor(t,e,n,s=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wu extends Um{constructor(t,e,n,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fx(r){const t=new Map;return r.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}})),t}function Lb(r,t,e){const n=new Map;qr(r.length===e.length,32656,{Re:e.length,Ve:r.length});for(let s=0;s<e.length;s++){const o=r[s],u=o.transform,h=t.data.field(o.field);n.set(o.field,$I(u,h,e[s]))}return n}function Cb(r,t,e){const n=new Map;for(const s of r){const o=s.transform,u=e.data.field(s.field);n.set(s.field,VI(o,u,t))}return n}class l2 extends Um{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YI extends Um{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JI{constructor(t,e,n,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&GI(o,t,n[s])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Hd(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Hd(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=sx();return this.mutations.forEach((s=>{const o=t.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(s.key)?null:h;const d=dx(u,h);d!==null&&n.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(Ye.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),wr())}isEqual(t){return this.batchId===t.batchId&&Dh(this.mutations,t.mutations,((e,n)=>Ib(e,n)))&&Dh(this.baseMutations,t.baseMutations,((e,n)=>Ib(e,n)))}}class u2{constructor(t,e,n,s){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=s}static from(t,e,n){qr(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let s=(function(){return MI})();const o=t.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,n[u].version);return new u2(t,e,n,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class XI{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ZI{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var si,Ar;function t8(r){switch(r){case zt.OK:return Be(64938);case zt.CANCELLED:case zt.UNKNOWN:case zt.DEADLINE_EXCEEDED:case zt.RESOURCE_EXHAUSTED:case zt.INTERNAL:case zt.UNAVAILABLE:case zt.UNAUTHENTICATED:return!1;case zt.INVALID_ARGUMENT:case zt.NOT_FOUND:case zt.ALREADY_EXISTS:case zt.PERMISSION_DENIED:case zt.FAILED_PRECONDITION:case zt.ABORTED:case zt.OUT_OF_RANGE:case zt.UNIMPLEMENTED:case zt.DATA_LOSS:return!0;default:return Be(15467,{code:r})}}function px(r){if(r===void 0)return Vl("GRPC error has no .code"),zt.UNKNOWN;switch(r){case si.OK:return zt.OK;case si.CANCELLED:return zt.CANCELLED;case si.UNKNOWN:return zt.UNKNOWN;case si.DEADLINE_EXCEEDED:return zt.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return zt.RESOURCE_EXHAUSTED;case si.INTERNAL:return zt.INTERNAL;case si.UNAVAILABLE:return zt.UNAVAILABLE;case si.UNAUTHENTICATED:return zt.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return zt.INVALID_ARGUMENT;case si.NOT_FOUND:return zt.NOT_FOUND;case si.ALREADY_EXISTS:return zt.ALREADY_EXISTS;case si.PERMISSION_DENIED:return zt.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return zt.FAILED_PRECONDITION;case si.ABORTED:return zt.ABORTED;case si.OUT_OF_RANGE:return zt.OUT_OF_RANGE;case si.UNIMPLEMENTED:return zt.UNIMPLEMENTED;case si.DATA_LOSS:return zt.DATA_LOSS;default:return Be(39323,{code:r})}}(Ar=si||(si={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function e8(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const r8=new Ou([4294967295,4294967295],0);function Tb(r){const t=e8().encode(r),e=new C3;return e.update(t),new Uint8Array(e.digest())}function Pb(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ou([e,n],0),new Ou([s,o],0)]}class c2{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Bd(`Invalid padding: ${e}`);if(n<0)throw new Bd(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Bd(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new Bd(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Ou.fromNumber(this.ge)}ye(t,e,n){let s=t.add(e.multiply(Ou.fromNumber(n)));return s.compare(r8)===1&&(s=new Ou([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Tb(t),[n,s]=Pb(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(n,s,o);if(!this.we(u))return!1}return!0}static create(t,e,n){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new c2(o,s,e);return n.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=Tb(t),[n,s]=Pb(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(n,s,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Bd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bm{constructor(t,e,n,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const s=new Map;return s.set(t,vf.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Bm(Ye.min(),s,new Pn(br),$l(),wr())}}class vf{constructor(t,e,n,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new vf(n,e,wr(),wr(),wr())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $p{constructor(t,e,n,s){this.be=t,this.removedTargetIds=e,this.key=n,this.De=s}}class mx{constructor(t,e){this.targetId=t,this.Ce=e}}class gx{constructor(t,e,n=ra.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=s}}class Ob{constructor(){this.ve=0,this.Fe=Rb(),this.Me=ra.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=wr(),e=wr(),n=wr();return this.Fe.forEach(((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:n=n.add(s);break;default:Be(38017,{changeType:o})}})),new vf(this.Me,this.xe,t,e,n)}qe(){this.Oe=!1,this.Fe=Rb()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class n8{constructor(t){this.Ge=t,this.ze=new Map,this.je=$l(),this.Je=_p(),this.He=_p(),this.Ye=new Pn(br)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const n=this.nt(e);switch(t.state){case 0:this.rt(e)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),n.Le(t.resumeToken));break;default:Be(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((n,s)=>{this.rt(s)&&e(s)}))}st(t){const e=t.targetId,n=t.Ce.count,s=this.ot(e);if(s){const o=s.target;if(m1(o))if(n===0){const u=new Se(o.path);this.et(e,u,ga.newNoDocument(u,Ye.min()))}else qr(n===1,20013,{expectedCount:n});else{const u=this._t(e);if(u!==n){const h=this.ut(t),d=h?this.ct(h,t,u):1;if(d!==0){this.it(e);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:o=0}=e;let u,h;try{u=Mu(n).toUint8Array()}catch(d){if(d instanceof z3)return Fh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new c2(u,s,o)}catch(d){return Fh(d instanceof Bd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,e,n){return e.Ce.count===n-this.Pt(t,e.targetId)?0:2}Pt(t,e){const n=this.Ge.getRemoteKeysForTarget(e);let s=0;return n.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),s++)})),s}Tt(t){const e=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&m1(h.target)){const d=new Se(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,ga.newNoDocument(d,t))}o.Be&&(e.set(u,o.ke()),o.qe())}}));let n=wr();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(n=n.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(t)));const s=new Bm(t,e,this.Ye,this.je,n);return this.je=$l(),this.Je=_p(),this.He=_p(),this.Ye=new Pn(br),s}Xe(t,e){if(!this.rt(t))return;const n=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,n),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,n){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),n&&(this.je=this.je.insert(e,n))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Ob,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Si(br),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Si(br),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ue("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ob),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function _p(){return new Pn(Se.comparator)}function Rb(){return new Pn(Se.comparator)}const i8={asc:"ASCENDING",desc:"DESCENDING"},a8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s8={and:"AND",or:"OR"};class o8{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function y1(r,t){return r.useProto3Json||Pm(t)?t:{value:t}}function pm(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yx(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function l8(r,t){return pm(r,t.toTimestamp())}function Xo(r){return qr(!!r,49232),Ye.fromTimestamp((function(t){const e=Du(t);return new yn(e.seconds,e.nanos)})(r))}function h2(r,t){return v1(r,t).canonicalString()}function v1(r,t){const e=(function(n){return new cn(["projects",n.projectId,"databases",n.database])})(r).child("documents");return t===void 0?e:e.child(t)}function vx(r){const t=cn.fromString(r);return qr(Sx(t),10190,{key:t.toString()}),t}function b1(r,t){return h2(r.databaseId,t.path)}function N0(r,t){const e=vx(t);if(e.get(1)!==r.databaseId.projectId)throw new re(zt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new re(zt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new Se(wx(e))}function bx(r,t){return h2(r.databaseId,t)}function u8(r){const t=vx(r);return t.length===4?cn.emptyPath():wx(t)}function w1(r){return new cn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wx(r){return qr(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jb(r,t,e){return{name:b1(r,t),fields:e.value.mapValue.fields}}function c8(r,t){let e;if("targetChange"in t){t.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Be(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=(function(d,m){return d.useProto3Json?(qr(m===void 0||typeof m=="string",58123),ra.fromBase64String(m||"")):(qr(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),ra.fromUint8Array(m||new Uint8Array))})(r,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(d){const m=d.code===void 0?zt.UNKNOWN:px(d.code);return new re(m,d.message||"")})(u);e=new gx(n,s,o,h||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const s=N0(r,n.document.name),o=Xo(n.document.updateTime),u=n.document.createTime?Xo(n.document.createTime):Ye.min(),h=new ns({mapValue:{fields:n.document.fields}}),d=ga.newFoundDocument(s,o,u,h),m=n.targetIds||[],v=n.removedTargetIds||[];e=new $p(m,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const s=N0(r,n.document),o=n.readTime?Xo(n.readTime):Ye.min(),u=ga.newNoDocument(s,o),h=n.removedTargetIds||[];e=new $p([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const s=N0(r,n.document),o=n.removedTargetIds||[];e=new $p([],o,s,null)}else{if(!("filter"in t))return Be(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:s=0,unchangedNames:o}=n,u=new ZI(s,o),h=n.targetId;e=new mx(h,u)}}return e}function h8(r,t){let e;if(t instanceof yf)e={update:jb(r,t.key,t.value)};else if(t instanceof l2)e={delete:b1(r,t.key)};else if(t instanceof Wu)e={update:jb(r,t.key,t.data),updateMask:w8(t.fieldMask)};else{if(!(t instanceof YI))return Be(16599,{Vt:t.type});e={verify:b1(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((n=>(function(s,o){const u=o.transform;if(u instanceof af)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof sf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof of)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof fm)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw Be(20930,{transform:o.transform})})(0,n)))),t.precondition.isNone||(e.currentDocument=(function(n,s){return s.updateTime!==void 0?{updateTime:l8(n,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Be(27497)})(r,t.precondition)),e}function d8(r,t){return r&&r.length>0?(qr(t!==void 0,14353),r.map((e=>(function(n,s){let o=n.updateTime?Xo(n.updateTime):Xo(s);return o.isEqual(Ye.min())&&(o=Xo(s)),new KI(o,n.transformResults||[])})(e,t)))):[]}function f8(r,t){return{documents:[bx(r,t.path)]}}function p8(r,t){const e={structuredQuery:{}},n=t.path;let s;t.collectionGroup!==null?(s=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=bx(r,s);const o=(function(d){if(d.length!==0)return _x(po.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((m=>(function(v){return{field:xh(v.field),direction:y8(v.dir)}})(m)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=y1(r,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:s}}function m8(r){let t=u8(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let s=null;if(n>0){qr(n===1,65062);const v=e.from[0];v.allDescendants?s=v.collectionId:t=t.child(v.collectionId)}let o=[];e.where&&(o=(function(v){const _=xx(v);return _ instanceof po&&X3(_)?_.getFilters():[_]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((_=>(function(A){return new nf(_h(A.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(_)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let _;return _=typeof v=="object"?v.value:v,Pm(_)?null:_})(e.limit));let d=null;e.startAt&&(d=(function(v){const _=!!v.before,A=v.values||[];return new Bh(A,_)})(e.startAt));let m=null;return e.endAt&&(m=(function(v){const _=!v.before,A=v.values||[];return new Bh(A,_)})(e.endAt)),OI(t,s,u,o,h,"F",d,m)}function g8(r,t){const e=(function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:n})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function xx(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=_h(t.unaryFilter.field);return oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=_h(t.unaryFilter.field);return oi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_h(t.unaryFilter.field);return oi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_h(t.unaryFilter.field);return oi.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(r):r.fieldFilter!==void 0?(function(t){return oi.create(_h(t.fieldFilter.field),(function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return po.create(t.compositeFilter.filters.map((e=>xx(e))),(function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(t.compositeFilter.op))})(r):Be(30097,{filter:r})}function y8(r){return i8[r]}function v8(r){return a8[r]}function b8(r){return s8[r]}function xh(r){return{fieldPath:r.canonicalString()}}function _h(r){return ea.fromServerFormat(r.fieldPath)}function _x(r){return r instanceof oi?(function(t){if(t.op==="=="){if(_b(t.value))return{unaryFilter:{field:xh(t.field),op:"IS_NAN"}};if(xb(t.value))return{unaryFilter:{field:xh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_b(t.value))return{unaryFilter:{field:xh(t.field),op:"IS_NOT_NAN"}};if(xb(t.value))return{unaryFilter:{field:xh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xh(t.field),op:v8(t.op),value:t.value}}})(r):r instanceof po?(function(t){const e=t.getFilters().map((n=>_x(n)));return e.length===1?e[0]:{compositeFilter:{op:b8(t.op),filters:e}}})(r):Be(54877,{filter:r})}function w8(r){const t=[];return r.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Sx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lu{constructor(t,e,n,s,o=Ye.min(),u=Ye.min(),h=ra.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new Lu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class x8{constructor(t){this.yt=t}}function _8(r){const t=m8({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(t,t.limit,"L"):t}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S8{constructor(){this.Cn=new N8}addToCollectionParentIndex(t,e){return this.Cn.add(e),Gt.resolve()}getCollectionParents(t,e){return Gt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Gt.resolve()}deleteFieldIndex(t,e){return Gt.resolve()}deleteAllFieldIndexes(t){return Gt.resolve()}createTargetIndexes(t,e){return Gt.resolve()}getDocumentsMatchingTarget(t,e){return Gt.resolve(null)}getIndexType(t,e){return Gt.resolve(0)}getFieldIndexes(t,e){return Gt.resolve([])}getNextCollectionGroupToUpdate(t){return Gt.resolve(null)}getMinOffset(t,e){return Gt.resolve(Fu.min())}getMinOffsetFromCollectionGroup(t,e){return Gt.resolve(Fu.min())}updateCollectionGroup(t,e,n){return Gt.resolve()}updateIndexEntries(t,e){return Gt.resolve()}}class N8{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e]||new Si(cn.comparator),o=!s.has(n);return this.index[e]=s.add(n),o}has(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e];return s&&s.has(n)}getEntries(t){return(this.index[t]||new Si(cn.comparator)).toArray()}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Fb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nx=41943040;class rs{static withCacheSize(t){return new rs(t,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/rs.DEFAULT_COLLECTION_PERCENTILE=10,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rs.DEFAULT=new rs(Nx,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rs.DISABLED=new rs(-1,0,0);/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qh{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new qh(0)}static cr(){return new qh(-1)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Db="LruGarbageCollector",k8=1048576;function Mb([r,t],[e,n]){const s=br(r,e);return s===0?br(t,n):s}class A8{constructor(t){this.Ir=t,this.buffer=new Si(Mb),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();Mb(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class E8{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ue(Db,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Hh(e)?ue(Db,"Ignoring IndexedDB error during garbage collection: ",e):await Wh(e)}await this.Vr(3e5)}))}}class I8{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((n=>Math.floor(e/100*n)))}nthSequenceNumber(t,e){if(e===0)return Gt.resolve(Tm.ce);const n=new A8(e);return this.mr.forEachTarget(t,(s=>n.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>n.Ar(s))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.mr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Gt.resolve(Fb)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fb):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let n,s,o,u,h,d,m;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(t,s)))).next((_=>(n=_,h=Date.now(),this.removeTargets(t,n,e)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(t,n)))).next((_=>(m=Date.now(),bh()<=vr.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(m-d)+`ms
Total Duration: ${m-v}ms`),Gt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_}))))}}function L8(r,t){return new I8(r,t)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C8{constructor(){this.changes=new Tc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ga.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?Gt.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class T8{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P8{constructor(t,e,n,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=s}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((s=>(n=s,this.remoteDocumentCache.getEntry(t,e)))).next((s=>(n!==null&&Hd(n.mutation,s,xs.empty(),yn.now()),s)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((n=>this.getLocalViewOfDocuments(t,n,wr()).next((()=>n))))}getLocalViewOfDocuments(t,e,n=wr()){const s=fc();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,n).next((o=>{let u=Ud();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const n=fc();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,wr())))}populateOverlays(t,e,n){const s=[];return n.forEach((o=>{e.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(t,s).next((o=>{o.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,n,s){let o=$l();const u=Wd(),h=(function(){return Wd()})();return e.forEach(((d,m)=>{const v=n.get(m.key);s.has(m.key)&&(v===void 0||v.mutation instanceof Wu)?o=o.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Hd(v.mutation,m,v.mutation.getFieldMask(),yn.now())):u.set(m.key,xs.empty())})),this.recalculateAndSaveOverlays(t,o).next((d=>(d.forEach(((m,v)=>u.set(m,v))),e.forEach(((m,v)=>h.set(m,new T8(v,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const n=Wd();let s=new Pn(((u,h)=>u-h)),o=wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((d=>{const m=e.get(d);if(m===null)return;let v=n.get(d)||xs.empty();v=h.applyToLocalView(m,v),n.set(d,v);const _=(s.get(h.batchId)||wr()).add(d);s=s.insert(h.batchId,_)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,v=d.value,_=sx();v.forEach((A=>{if(!o.has(A)){const w=dx(e.get(A),n.get(A));w!==null&&_.set(A,w),o=o.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(t,m,_))}return Gt.waitFor(u)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,e,n,s){return(function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):s2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,s):this.getDocumentsMatchingCollectionQuery(t,e,n,s)}getNextDocuments(t,e,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,s-o.size):Gt.resolve(fc());let h=Zd,d=o;return u.next((m=>Gt.forEach(m,((v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(v)?Gt.resolve():this.remoteDocumentCache.getEntry(t,v).next((A=>{d=d.insert(v,A)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,d,m,wr()))).next((v=>({batchId:h,changes:ax(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Se(e)).next((n=>{let s=Ud();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,s){const o=e.collectionGroup;let u=Ud();return this.indexManager.getCollectionParents(t,o).next((h=>Gt.forEach(h,(d=>{const m=(function(v,_){return new Cc(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,n,s).next((v=>{v.forEach(((_,A)=>{u=u.insert(_,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,o,s)))).next((u=>{o.forEach(((d,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,ga.newInvalidDocument(v)))}));let h=Ud();return u.forEach(((d,m)=>{const v=o.get(d);v!==void 0&&Hd(v.mutation,m,xs.empty(),yn.now()),Dm(e,m)&&(h=h.insert(d,m))})),h}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O8{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Gt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(n){return{id:n.id,version:n.version,createTime:Xo(n.createTime)}})(e)),Gt.resolve()}getNamedQuery(t,e){return Gt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(n){return{name:n.name,query:_8(n.bundledQuery),readTime:Xo(n.readTime)}})(e)),Gt.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R8{constructor(){this.overlays=new Pn(Se.comparator),this.qr=new Map}getOverlay(t,e){return Gt.resolve(this.overlays.get(e))}getOverlays(t,e){const n=fc();return Gt.forEach(e,(s=>this.getOverlay(t,s).next((o=>{o!==null&&n.set(s,o)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((s,o)=>{this.St(t,e,o)})),Gt.resolve()}removeOverlaysForBatchId(t,e,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),Gt.resolve()}getOverlaysForCollection(t,e,n){const s=fc(),o=e.length+1,u=new Se(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>n&&s.set(d.getKey(),d)}return Gt.resolve(s)}getOverlaysForCollectionGroup(t,e,n,s){let o=new Pn(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>n){let v=o.get(m.largestBatchId);v===null&&(v=fc(),o=o.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=fc(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=s)););return Gt.resolve(h)}St(t,e,n){const s=this.overlays.get(n.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new XI(e,n));let o=this.qr.get(e);o===void 0&&(o=wr(),this.qr.set(e,o)),this.qr.set(e,o.add(n.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class j8{constructor(){this.sessionToken=ra.EMPTY_BYTE_STRING}getSessionToken(t){return Gt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Gt.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class d2{constructor(){this.Qr=new Si(Mi.$r),this.Ur=new Si(Mi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const n=new Mi(t,e);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,e){t.forEach((n=>this.addReference(n,e)))}removeReference(t,e){this.Gr(new Mi(t,e))}zr(t,e){t.forEach((n=>this.removeReference(n,e)))}jr(t){const e=new Se(new cn([])),n=new Mi(e,t),s=new Mi(e,t+1),o=[];return this.Ur.forEachInRange([n,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Se(new cn([])),n=new Mi(e,t),s=new Mi(e,t+1);let o=wr();return this.Ur.forEachInRange([n,s],(u=>{o=o.add(u.key)})),o}containsKey(t){const e=new Mi(t,0),n=this.Qr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class Mi{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Se.comparator(t.key,e.key)||br(t.Yr,e.Yr)}static Kr(t,e){return br(t.Yr,e.Yr)||Se.comparator(t.key,e.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class F8{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Si(Mi.$r)}checkEmpty(t){return Gt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new JI(o,e,n,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new Mi(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return Gt.resolve(u)}lookupMutationBatch(t,e){return Gt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,s=this.ei(n),o=s<0?0:s;return Gt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Gt.resolve(this.mutationQueue.length===0?r2:this.tr-1)}getAllMutationBatches(t){return Gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Mi(e,0),s=new Mi(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,s],(u=>{const h=this.Xr(u.Yr);o.push(h)})),Gt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Si(br);return e.forEach((s=>{const o=new Mi(s,0),u=new Mi(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{n=n.add(h.Yr)}))})),Gt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,s=n.length+1;let o=n;Se.isDocumentKey(o)||(o=o.child(""));const u=new Mi(new Se(o),0);let h=new Si(br);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!n.isPrefixOf(m)&&(m.length===s&&(h=h.add(d.Yr)),!0)}),u),Gt.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((n=>{const s=this.Xr(n);s!==null&&e.push(s)})),e}removeMutationBatch(t,e){qr(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Gt.forEach(e.mutations,(s=>{const o=new Mi(s.key,e.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=n}))}ir(t){}containsKey(t,e){const n=new Mi(e,0),s=this.Zr.firstAfterOrEqual(n);return Gt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,Gt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class D8{constructor(t){this.ri=t,this.docs=(function(){return new Pn(Se.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,s=this.docs.get(n),o=s?s.size:0,u=this.ri(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Gt.resolve(n?n.document.mutableCopy():ga.newInvalidDocument(e))}getEntries(t,e){let n=$l();return e.forEach((s=>{const o=this.docs.get(s);n=n.insert(s,o?o.document.mutableCopy():ga.newInvalidDocument(s))})),Gt.resolve(n)}getDocumentsMatchingQuery(t,e,n,s){let o=$l();const u=e.path,h=new Se(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||hI(cI(v),n)<=0||(s.has(v.key)||Dm(e,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Gt.resolve(o)}getAllFromCollectionGroup(t,e,n,s){Be(9500)}ii(t,e){return Gt.forEach(this.docs,(n=>e(n)))}newChangeBuffer(t){return new M8(this)}getSize(t){return Gt.resolve(this.size)}}class M8 extends C8{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(n)})),Gt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U8{constructor(t){this.persistence=t,this.si=new Tc((e=>i2(e)),a2),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.oi=0,this._i=new d2,this.targetCount=0,this.ai=qh.ur()}forEachTarget(t,e){return this.si.forEach(((n,s)=>e(s))),Gt.resolve()}getLastRemoteSnapshotVersion(t){return Gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Gt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Gt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.oi&&(this.oi=e),Gt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new qh(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Gt.resolve()}updateTargetData(t,e){return this.Pr(e),Gt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Gt.resolve()}removeTargets(t,e,n){let s=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=e&&n.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),s++)})),Gt.waitFor(o).next((()=>s))}getTargetCount(t){return Gt.resolve(this.targetCount)}getTargetData(t,e){const n=this.si.get(e)||null;return Gt.resolve(n)}addMatchingKeys(t,e,n){return this._i.Wr(e,n),Gt.resolve()}removeMatchingKeys(t,e,n){this._i.zr(e,n);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach((u=>{o.push(s.markPotentiallyOrphaned(t,u))})),Gt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Gt.resolve()}getMatchingKeysForTargetId(t,e){const n=this._i.Hr(e);return Gt.resolve(n)}containsKey(t,e){return Gt.resolve(this._i.containsKey(e))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class kx{constructor(t,e){this.ui={},this.overlays={},this.ci=new Tm(0),this.li=!1,this.li=!0,this.hi=new j8,this.referenceDelegate=t(this),this.Pi=new U8(this),this.indexManager=new S8,this.remoteDocumentCache=(function(n){return new D8(n)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new x8(e),this.Ii=new O8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new R8,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ui[t.toKey()];return n||(n=new F8(e,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,n){ue("MemoryPersistence","Starting transaction:",t);const s=new B8(this.ci.next());return this.referenceDelegate.Ei(),n(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(t,e){return Gt.or(Object.values(this.ui).map((n=>()=>n.containsKey(t,e))))}}class B8 extends fI{constructor(t){super(),this.currentSequenceNumber=t}}class f2{constructor(t){this.persistence=t,this.Ri=new d2,this.Vi=null}static mi(t){return new f2(t)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(t,e,n){return this.Ri.addReference(n,e),this.fi.delete(n.toString()),Gt.resolve()}removeReference(t,e,n){return this.Ri.removeReference(n,e),this.fi.add(n.toString()),Gt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Gt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((s=>this.fi.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gt.forEach(this.fi,(n=>{const s=Se.fromPath(n);return this.gi(t,s).next((o=>{o||e.removeEntry(s,Ye.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((n=>{n?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Gt.or([()=>Gt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class mm{constructor(t,e){this.persistence=t,this.pi=new Tc((n=>gI(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=L8(this,e)}static mi(t,e){return new mm(t,e)}Ei(){}di(t){return Gt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>e.next((s=>n+s))))}wr(t){let e=0;return this.pr(t,(n=>{e++})).next((()=>e))}pr(t,e){return Gt.forEach(this.pi,((n,s)=>this.br(t,n,s).next((o=>o?Gt.resolve():e(s)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(t,(u=>this.br(t,u,e).next((h=>{h||(n++,o.removeEntry(u,Ye.min()))})))).next((()=>o.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Gt.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),Gt.resolve()}removeReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),Gt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Gt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=qp(t.data.value)),e}br(t,e,n){return Gt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return Gt.resolve(s!==void 0&&s>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class p2{constructor(t,e,n,s){this.targetId=t,this.fromCache=e,this.Es=n,this.ds=s}static As(t,e){let n=wr(),s=wr();for(const o of e.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new p2(t,e.fromCache,n,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class q8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class z8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uN()?8:pI(ya())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,n,s){const o={result:null};return this.ys(t,e).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(t,e,s,n).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new q8;return this.Ss(t,e,u).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,u,h.size)}))})).next((()=>o.result))}bs(t,e,n,s){return n.documentReadCount<this.fs?(bh()<=vr.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",wh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Gt.resolve()):(bh()<=vr.DEBUG&&ue("QueryEngine","Query:",wh(e),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(bh()<=vr.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",wh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Jo(e))):Gt.resolve())}ys(t,e){if(Ab(e))return Gt.resolve(null);let n=Jo(e);return this.indexManager.getIndexType(t,n).next((s=>s===0?null:(e.limit!==null&&s===1&&(e=dm(e,null,"F"),n=Jo(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((o=>{const u=wr(...o);return this.ps.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,n).next((d=>{const m=this.Ds(e,h);return this.Cs(e,m,u,d.readTime)?this.ys(t,dm(e,null,"F")):this.vs(t,m,e,d)}))))})))))}ws(t,e,n,s){return Ab(e)||s.isEqual(Ye.min())?Gt.resolve(null):this.ps.getDocuments(t,n).next((o=>{const u=this.Ds(e,o);return this.Cs(e,u,n,s)?Gt.resolve(null):(bh()<=vr.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wh(e)),this.vs(t,u,e,uI(s,Zd)).next((h=>h)))}))}Ds(t,e){let n=new Si(nx(t));return e.forEach(((s,o)=>{Dm(t,o)&&(n=n.add(o))})),n}Cs(t,e,n,s){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(t,e,n){return bh()<=vr.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",wh(e)),this.ps.getDocumentsMatchingQuery(t,e,Fu.min(),n)}vs(t,e,n,s){return this.ps.getDocumentsMatchingQuery(t,n,s).next((o=>(e.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const m2="LocalStore",V8=3e8;class $8{constructor(t,e,n,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new Pn(br),this.xs=new Tc((o=>i2(o)),a2),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new P8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function W8(r,t,e,n){return new $8(r,t,e,n)}async function Ax(r,t){const e=er(r);return await e.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return e.mutationQueue.getAllMutationBatches(n).next((o=>(s=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(n)))).next((o=>{const u=[],h=[];let d=wr();for(const m of s){u.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}for(const m of o){h.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}return e.localDocuments.getDocuments(n,d).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function H8(r,t){const e=er(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,d,m){const v=d.batch,_=v.keys();let A=Gt.resolve();return _.forEach((w=>{A=A.next((()=>m.getEntry(h,w))).next((M=>{const F=d.docVersions.get(w);qr(F!==null,48541),M.version.compareTo(F)<0&&(v.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),m.addEntry(M)))}))})),A.next((()=>u.mutationQueue.removeMutationBatch(h,v)))})(e,n,t,o).next((()=>o.apply(n))).next((()=>e.mutationQueue.performConsistencyCheck(n))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(n,s,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let h=wr();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(h=h.add(u.batch.mutations[d].key));return h})(t)))).next((()=>e.localDocuments.getDocuments(n,s)))}))}function Ex(r){const t=er(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function K8(r,t){const e=er(r),n=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const h=[];t.targetChanges.forEach(((v,_)=>{const A=s.get(_);if(!A)return;h.push(e.Pi.removeMatchingKeys(o,v.removedDocuments,_).next((()=>e.Pi.addMatchingKeys(o,v.addedDocuments,_))));let w=A.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?w=w.withResumeToken(ra.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,n)),s=s.insert(_,w),(function(M,F,$){return M.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=V8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(A,w,v)&&h.push(e.Pi.updateTargetData(o,w))}));let d=$l(),m=wr();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(G8(o,u,t.documentUpdates).next((v=>{d=v.ks,m=v.qs}))),!n.isEqual(Ye.min())){const v=e.Pi.getLastRemoteSnapshotVersion(o).next((_=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));h.push(v)}return Gt.waitFor(h).next((()=>u.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(e.Ms=s,o)))}function G8(r,t,e){let n=wr(),s=wr();return e.forEach((o=>n=n.add(o))),t.getEntries(r,n).next((o=>{let u=$l();return e.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(Ye.min())?(t.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d),u=u.insert(h,d)):ue(m2,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{ks:u,qs:s}}))}function Q8(r,t){const e=er(r);return e.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=r2),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function Y8(r,t){const e=er(r);return e.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return e.Pi.getTargetData(n,t).next((o=>o?(s=o,Gt.resolve(s)):e.Pi.allocateTargetId(n).next((u=>(s=new Lu(t,u,"TargetPurposeListen",n.currentSequenceNumber),e.Pi.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=e.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(n.targetId,n),e.xs.set(t,n.targetId)),n}))}async function x1(r,t,e){const n=er(r),s=n.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",o,(u=>n.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Hh(u))throw u;ue(m2,`Failed to update sequence numbers for target ${t}: ${u}`)}n.Ms=n.Ms.remove(t),n.xs.delete(s.target)}function Ub(r,t,e){const n=er(r);let s=Ye.min(),o=wr();return n.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,d,m){const v=er(h),_=v.xs.get(m);return _!==void 0?Gt.resolve(v.Ms.get(_)):v.Pi.getTargetData(d,m)})(n,u,Jo(t)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>n.Fs.getDocumentsMatchingQuery(u,t,e?s:Ye.min(),e?o:wr()))).next((h=>(J8(n,jI(t),h),{documents:h,Qs:o})))))}function J8(r,t,e){let n=r.Os.get(t)||Ye.min();e.forEach(((s,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),r.Os.set(t,n)}class Bb{constructor(){this.activeTargetIds=qI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class X8{constructor(){this.Mo=new Bb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,n){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Bb,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z8{Oo(t){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qb="ConnectivityMonitor";class zb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(qb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ue(qb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Sp=null;function _1(){return Sp===null?Sp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sp++,"0x"+Sp.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k0="RestConnection",tL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eL{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===um?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(t,e,n,s,o){const u=_1(),h=this.zo(t,e.toUriEncodedString());ue(k0,`Sending RPC '${t}' ${u}:`,h,n);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:m}=new URL(h),v=Vu(m);return this.Jo(t,h,d,n,v).then((_=>(ue(k0,`Received RPC '${t}' ${u}: `,_),_)),(_=>{throw Fh(k0,`RPC '${t}' ${u} failed with error: `,_,"url: ",h,"request:",n),_}))}Ho(t,e,n,s,o,u){return this.Go(t,e,n,s,o)}jo(t,e,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$h})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((s,o)=>t[o]=s)),n&&n.headers.forEach(((s,o)=>t[o]=s))}zo(t,e){const n=tL[t];return`${this.Uo}/v1/${e}:${n}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rL{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ca="WebChannelConnection";class nL extends eL{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,n,s,o){const u=_1();return new Promise(((h,d)=>{const m=new T3;m.setWithCredentials(!0),m.listenOnce(P3.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Bp.NO_ERROR:const _=m.getResponseJson();ue(ca,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(_)),h(_);break;case Bp.TIMEOUT:ue(ca,`RPC '${t}' ${u} timed out`),d(new re(zt.DEADLINE_EXCEEDED,"Request time out"));break;case Bp.HTTP_ERROR:const A=m.getStatus();if(ue(ca,`RPC '${t}' ${u} failed with status:`,A,"response text:",m.getResponseText()),A>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const M=w?.error;if(M&&M.status&&M.message){const F=(function($){const B=$.toLowerCase().replace(/_/g,"-");return Object.values(zt).indexOf(B)>=0?B:zt.UNKNOWN})(M.status);d(new re(F,M.message))}else d(new re(zt.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new re(zt.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:t,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ue(ca,`RPC '${t}' ${u} completed.`)}}));const v=JSON.stringify(s);ue(ca,`RPC '${t}' ${u} sending request:`,s),m.send(e,"POST",v,n,15)}))}T_(t,e,n){const s=_1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=j3(),h=R3(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,e,n),d.encodeInitMessageHeaders=!0;const v=o.join("");ue(ca,`Creating RPC '${t}' stream ${s}: ${v}`,d);const _=u.createWebChannel(v,d);this.I_(_);let A=!1,w=!1;const M=new rL({Yo:$=>{w?ue(ca,`Not sending because RPC '${t}' stream ${s} is closed:`,$):(A||(ue(ca,`Opening RPC '${t}' stream ${s} transport.`),_.open(),A=!0),ue(ca,`RPC '${t}' stream ${s} sending:`,$),_.send($))},Zo:()=>_.close()}),F=($,B,et)=>{$.listen(B,(tt=>{try{et(tt)}catch(ct){setTimeout((()=>{throw ct}),0)}}))};return F(_,Md.EventType.OPEN,(()=>{w||(ue(ca,`RPC '${t}' stream ${s} transport opened.`),M.o_())})),F(_,Md.EventType.CLOSE,(()=>{w||(w=!0,ue(ca,`RPC '${t}' stream ${s} transport closed`),M.a_(),this.E_(_))})),F(_,Md.EventType.ERROR,($=>{w||(w=!0,Fh(ca,`RPC '${t}' stream ${s} transport errored. Name:`,$.name,"Message:",$.message),M.a_(new re(zt.UNAVAILABLE,"The operation could not be completed")))})),F(_,Md.EventType.MESSAGE,($=>{if(!w){const B=$.data[0];qr(!!B,16349);const et=B,tt=et?.error||et[0]?.error;if(tt){ue(ca,`RPC '${t}' stream ${s} received error:`,tt);const ct=tt.status;let At=(function(Q){const N=si[Q];if(N!==void 0)return px(N)})(ct),It=tt.message;At===void 0&&(At=zt.INTERNAL,It="Unknown error status: "+ct+" with message "+tt.message),w=!0,M.a_(new re(At,It)),_.close()}else ue(ca,`RPC '${t}' stream ${s} received:`,B),M.u_(B)}})),F(h,O3.STAT_EVENT,($=>{$.stat===c1.PROXY?ue(ca,`RPC '${t}' stream ${s} detected buffering proxy`):$.stat===c1.NOPROXY&&ue(ca,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function A0(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qm(r){return new o8(r,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ix{constructor(t,e,n=1e3,s=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=n,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-n);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Vb="PersistentStream";class Lx{constructor(t,e,n,s,o,u,h,d){this.Mi=t,this.S_=n,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ix(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===zt.RESOURCE_EXHAUSTED?(Vl(e.toString()),Vl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===zt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.D_===e&&this.G_(n,s)}),(n=>{t((()=>{const s=new re(zt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)}))}))}G_(t,e){const n=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{n((()=>this.z_(s)))})),this.stream.onMessage((s=>{n((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ue(Vb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ue(Vb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iL extends Lx{constructor(t,e,n,s,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,s,u),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=c8(this.serializer,t),n=(function(s){if(!("targetChange"in s))return Ye.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ye.min():o.readTime?Xo(o.readTime):Ye.min()})(t);return this.listener.H_(e,n)}Y_(t){const e={};e.database=w1(this.serializer),e.addTarget=(function(s,o){let u;const h=o.target;if(u=m1(h)?{documents:f8(s,h)}:{query:p8(s,h).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=yx(s,o.resumeToken);const d=y1(s,o.expectedCount);d!==null&&(u.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ye.min())>0){u.readTime=pm(s,o.snapshotVersion.toTimestamp());const d=y1(s,o.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,t);const n=g8(this.serializer,t);n&&(e.labels=n),this.q_(e)}Z_(t){const e={};e.database=w1(this.serializer),e.removeTarget=t,this.q_(e)}}class aL extends Lx{constructor(t,e,n,s,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return qr(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qr(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qr(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=d8(t.writeResults,t.commitTime),n=Xo(t.commitTime);return this.listener.na(n,e)}ra(){const t={};t.database=w1(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((n=>h8(this.serializer,n)))};this.q_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sL{}class oL extends sL{constructor(t,e,n,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new re(zt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(t,v1(e,n),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(zt.UNKNOWN,o.toString())}))}Ho(t,e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(t,v1(e,n),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(zt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vl(e),this.aa=!1):ue("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const kc="RemoteStore";class uL{constructor(t,e,n,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{n.enqueueAndForget((async()=>{Pc(this)&&(ue(kc,"Restarting streams for network reachability change."),await(async function(h){const d=er(h);d.Ea.add(4),await bf(d),d.Ra.set("Unknown"),d.Ea.delete(4),await zm(d)})(this))}))})),this.Ra=new lL(n,s)}}async function zm(r){if(Pc(r))for(const t of r.da)await t(!0)}async function bf(r){for(const t of r.da)await t(!1)}function Cx(r,t){const e=er(r);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),b2(e)?v2(e):Kh(e).O_()&&y2(e,t))}function g2(r,t){const e=er(r),n=Kh(e);e.Ia.delete(t),n.O_()&&Tx(e,t),e.Ia.size===0&&(n.O_()?n.L_():Pc(e)&&e.Ra.set("Unknown"))}function y2(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ye.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Kh(r).Y_(t)}function Tx(r,t){r.Va.Ue(t),Kh(r).Z_(t)}function v2(r){r.Va=new n8({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Kh(r).start(),r.Ra.ua()}function b2(r){return Pc(r)&&!Kh(r).x_()&&r.Ia.size>0}function Pc(r){return er(r).Ea.size===0}function Px(r){r.Va=void 0}async function cL(r){r.Ra.set("Online")}async function hL(r){r.Ia.forEach(((t,e)=>{y2(r,t)}))}async function dL(r,t){Px(r),b2(r)?(r.Ra.ha(t),v2(r)):r.Ra.set("Unknown")}async function fL(r,t,e){if(r.Ra.set("Online"),t instanceof gx&&t.state===2&&t.cause)try{await(async function(n,s){const o=s.cause;for(const u of s.targetIds)n.Ia.has(u)&&(await n.remoteSyncer.rejectListen(u,o),n.Ia.delete(u),n.Va.removeTarget(u))})(r,t)}catch(n){ue(kc,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await gm(r,n)}else if(t instanceof $p?r.Va.Ze(t):t instanceof mx?r.Va.st(t):r.Va.tt(t),!e.isEqual(Ye.min()))try{const n=await Ex(r.localStore);e.compareTo(n)>=0&&await(function(s,o){const u=s.Va.Tt(o);return u.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.Ia.get(d);m&&s.Ia.set(d,m.withResumeToken(h.resumeToken,o))}})),u.targetMismatches.forEach(((h,d)=>{const m=s.Ia.get(h);if(!m)return;s.Ia.set(h,m.withResumeToken(ra.EMPTY_BYTE_STRING,m.snapshotVersion)),Tx(s,h);const v=new Lu(m.target,h,d,m.sequenceNumber);y2(s,v)})),s.remoteSyncer.applyRemoteEvent(u)})(r,e)}catch(n){ue(kc,"Failed to raise snapshot:",n),await gm(r,n)}}async function gm(r,t,e){if(!Hh(t))throw t;r.Ea.add(1),await bf(r),r.Ra.set("Offline"),e||(e=()=>Ex(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(kc,"Retrying IndexedDB access"),await e(),r.Ea.delete(1),await zm(r)}))}function Ox(r,t){return t().catch((e=>gm(r,e,t)))}async function Vm(r){const t=er(r),e=Bu(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:r2;for(;pL(t);)try{const s=await Q8(t.localStore,n);if(s===null){t.Ta.length===0&&e.L_();break}n=s.batchId,mL(t,s)}catch(s){await gm(t,s)}Rx(t)&&jx(t)}function pL(r){return Pc(r)&&r.Ta.length<10}function mL(r,t){r.Ta.push(t);const e=Bu(r);e.O_()&&e.X_&&e.ea(t.mutations)}function Rx(r){return Pc(r)&&!Bu(r).x_()&&r.Ta.length>0}function jx(r){Bu(r).start()}async function gL(r){Bu(r).ra()}async function yL(r){const t=Bu(r);for(const e of r.Ta)t.ea(e.mutations)}async function vL(r,t,e){const n=r.Ta.shift(),s=u2.from(n,t,e);await Ox(r,(()=>r.remoteSyncer.applySuccessfulWrite(s))),await Vm(r)}async function bL(r,t){t&&Bu(r).X_&&await(async function(e,n){if((function(s){return t8(s)&&s!==zt.ABORTED})(n.code)){const s=e.Ta.shift();Bu(e).B_(),await Ox(e,(()=>e.remoteSyncer.rejectFailedWrite(s.batchId,n))),await Vm(e)}})(r,t),Rx(r)&&jx(r)}async function $b(r,t){const e=er(r);e.asyncQueue.verifyOperationInProgress(),ue(kc,"RemoteStore received new credentials");const n=Pc(e);e.Ea.add(3),await bf(e),n&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await zm(e)}async function wL(r,t){const e=er(r);t?(e.Ea.delete(2),await zm(e)):t||(e.Ea.add(2),await bf(e),e.Ra.set("Unknown"))}function Kh(r){return r.ma||(r.ma=(function(t,e,n){const s=er(t);return s.sa(),new iL(e,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)})(r.datastore,r.asyncQueue,{Xo:cL.bind(null,r),t_:hL.bind(null,r),r_:dL.bind(null,r),H_:fL.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),b2(r)?v2(r):r.Ra.set("Unknown")):(await r.ma.stop(),Px(r))}))),r.ma}function Bu(r){return r.fa||(r.fa=(function(t,e,n){const s=er(t);return s.sa(),new aL(e,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:gL.bind(null,r),r_:bL.bind(null,r),ta:yL.bind(null,r),na:vL.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Vm(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(kc,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class w2{constructor(t,e,n,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=s,this.removalCallback=o,this.deferred=new Bl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,s,o){const u=Date.now()+n,h=new w2(t,e,u,s,o);return h.start(n),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(zt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x2(r,t){if(Vl("AsyncQueue",`${t}: ${r}`),Hh(r))return new re(zt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Th{static emptySet(t){return new Th(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||Se.comparator(e.key,n.key):(e,n)=>Se.comparator(e.key,n.key),this.keyedMap=Ud(),this.sortedSet=new Pn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Th)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=n.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new Th;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wb{constructor(){this.ga=new Pn(Se.comparator)}track(t){const e=t.doc.key,n=this.ga.get(e);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(e,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(e):t.type===1&&n.type===2?this.ga=this.ga.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Be(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,n)=>{t.push(n)})),t}}class zh{constructor(t,e,n,s,o,u,h,d,m){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(t,e,n,s,o){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new zh(t,e,Th.emptySet(e),u,n,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==n[s].type||!e[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class _L{constructor(){this.queries=Hb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,e){const n=er(t),s=n.queries;n.queries=Hb(),s.forEach(((o,u)=>{for(const h of u.Sa)h.onError(e)}))})(this,new re(zt.ABORTED,"Firestore shutting down"))}}function Hb(){return new Tc((r=>rx(r)),Fm)}async function _2(r,t){const e=er(r);let n=3;const s=t.query;let o=e.queries.get(s);o?!o.ba()&&t.Da()&&(n=2):(o=new xL,n=t.Da()?0:1);try{switch(n){case 0:o.wa=await e.onListen(s,!0);break;case 1:o.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(u){const h=x2(u,`Initialization of query '${wh(t.query)}' failed`);return void t.onError(h)}e.queries.set(s,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&N2(e)}async function S2(r,t){const e=er(r),n=t.query;let s=3;const o=e.queries.get(n);if(o){const u=o.Sa.indexOf(t);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=t.Da()?0:1:!o.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function SL(r,t){const e=er(r);let n=!1;for(const s of t){const o=s.query,u=e.queries.get(o);if(u){for(const h of u.Sa)h.Fa(s)&&(n=!0);u.wa=s}}n&&N2(e)}function NL(r,t,e){const n=er(r),s=n.queries.get(t);if(s)for(const o of s.Sa)o.onError(e);n.queries.delete(t)}function N2(r){r.Ca.forEach((t=>{t.next()}))}var S1,Kb;(Kb=S1||(S1={})).Ma="default",Kb.Cache="cache";class k2{constructor(t,e,n){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const s of t.docChanges)s.type!==3&&n.push(s);t=new zh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const n=e!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=zh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==S1.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fx{constructor(t){this.key=t}}class Dx{constructor(t){this.key=t}}class kL{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wr(),this.mutatedKeys=wr(),this.eu=nx(t),this.tu=new Th(this.eu)}get nu(){return this.Ya}ru(t,e){const n=e?e.iu:new Wb,s=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,u=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((v,_)=>{const A=s.get(v),w=Dm(this.query,_)?_:null,M=!!A&&this.mutatedKeys.has(A.key),F=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let $=!1;A&&w?A.data.isEqual(w.data)?M!==F&&(n.track({type:3,doc:w}),$=!0):this.su(A,w)||(n.track({type:2,doc:w}),$=!0,(d&&this.eu(w,d)>0||m&&this.eu(w,m)<0)&&(h=!0)):!A&&w?(n.track({type:0,doc:w}),$=!0):A&&!w&&(n.track({type:1,doc:A}),$=!0,(d||m)&&(h=!0)),$&&(w?(u=u.add(w),o=F?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),n.track({type:1,doc:v})}return{tu:u,iu:n,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,s){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((v,_)=>(function(A,w){const M=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:F})}};return M(A)-M(w)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(n),s=s??!1;const h=e&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,m=d!==this.Za;return this.Za=d,u.length!==0||m?{snapshot:new zh(this.query,t.tu,o,u,t.mutatedKeys,d===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=wr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const e=[];return t.forEach((n=>{this.Xa.has(n)||e.push(new Dx(n))})),this.Xa.forEach((n=>{t.has(n)||e.push(new Fx(n))})),e}cu(t){this.Ya=t.Qs,this.Xa=wr();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return zh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const A2="SyncEngine";class AL{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class EL{constructor(t){this.key=t,this.hu=!1}}class IL{constructor(t,e,n,s,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Tc((h=>rx(h)),Fm),this.Iu=new Map,this.Eu=new Set,this.du=new Pn(Se.comparator),this.Au=new Map,this.Ru=new d2,this.Vu={},this.mu=new Map,this.fu=qh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LL(r,t,e=!0){const n=Vx(r);let s;const o=n.Tu.get(t);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await Mx(n,t,e,!0),s}async function CL(r,t){const e=Vx(r);await Mx(e,t,!0,!1)}async function Mx(r,t,e,n){const s=await Y8(r.localStore,Jo(t)),o=s.targetId,u=r.sharedClientState.addLocalQueryTarget(o,e);let h;return n&&(h=await TL(r,t,o,u==="current",s.resumeToken)),r.isPrimaryClient&&e&&Cx(r.remoteStore,s),h}async function TL(r,t,e,n,s){r.pu=(_,A,w)=>(async function(M,F,$,B){let et=F.view.ru($);et.Cs&&(et=await Ub(M.localStore,F.query,!1).then((({documents:It})=>F.view.ru(It,et))));const tt=B&&B.targetChanges.get(F.targetId),ct=B&&B.targetMismatches.get(F.targetId)!=null,At=F.view.applyChanges(et,M.isPrimaryClient,tt,ct);return Qb(M,F.targetId,At.au),At.snapshot})(r,_,A,w);const o=await Ub(r.localStore,t,!0),u=new kL(t,o.Qs),h=u.ru(o.documents),d=vf.createSynthesizedTargetChangeForCurrentChange(e,n&&r.onlineState!=="Offline",s),m=u.applyChanges(h,r.isPrimaryClient,d);Qb(r,e,m.au);const v=new AL(t,e,u);return r.Tu.set(t,v),r.Iu.has(e)?r.Iu.get(e).push(t):r.Iu.set(e,[t]),m.snapshot}async function PL(r,t,e){const n=er(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);if(o.length>1)return n.Iu.set(s.targetId,o.filter((u=>!Fm(u,t)))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await x1(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),e&&g2(n.remoteStore,s.targetId),N1(n,s.targetId)})).catch(Wh)):(N1(n,s.targetId),await x1(n.localStore,s.targetId,!0))}async function OL(r,t){const e=er(r),n=e.Tu.get(t),s=e.Iu.get(n.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),g2(e.remoteStore,n.targetId))}async function RL(r,t,e){const n=qL(r);try{const s=await(function(o,u){const h=er(o),d=yn.now(),m=u.reduce(((A,w)=>A.add(w.key)),wr());let v,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let w=$l(),M=wr();return h.Ns.getEntries(A,m).next((F=>{w=F,w.forEach((($,B)=>{B.isValidDocument()||(M=M.add($))}))})).next((()=>h.localDocuments.getOverlayedDocuments(A,w))).next((F=>{v=F;const $=[];for(const B of u){const et=QI(B,v.get(B.key).overlayedDocument);et!=null&&$.push(new Wu(B.key,et,Q3(et.value.mapValue),zs.exists(!0)))}return h.mutationQueue.addMutationBatch(A,d,$,u)})).next((F=>{_=F;const $=F.applyToLocalDocumentSet(v,M);return h.documentOverlayCache.saveOverlays(A,F.batchId,$)}))})).then((()=>({batchId:_.batchId,changes:ax(v)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(s.batchId),(function(o,u,h){let d=o.Vu[o.currentUser.toKey()];d||(d=new Pn(br)),d=d.insert(u,h),o.Vu[o.currentUser.toKey()]=d})(n,s.batchId,e),await wf(n,s.changes),await Vm(n.remoteStore)}catch(s){const o=x2(s,"Failed to persist write");e.reject(o)}}async function Ux(r,t){const e=er(r);try{const n=await K8(e.localStore,t);t.targetChanges.forEach(((s,o)=>{const u=e.Au.get(o);u&&(qr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?qr(u.hu,14607):s.removedDocuments.size>0&&(qr(u.hu,42227),u.hu=!1))})),await wf(e,n,t)}catch(n){await Wh(n)}}function Gb(r,t,e){const n=er(r);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const s=[];n.Tu.forEach(((o,u)=>{const h=u.view.va(t);h.snapshot&&s.push(h.snapshot)})),(function(o,u){const h=er(o);h.onlineState=u;let d=!1;h.queries.forEach(((m,v)=>{for(const _ of v.Sa)_.va(u)&&(d=!0)})),d&&N2(h)})(n.eventManager,t),s.length&&n.Pu.H_(s),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function jL(r,t,e){const n=er(r);n.sharedClientState.updateQueryState(t,"rejected",e);const s=n.Au.get(t),o=s&&s.key;if(o){let u=new Pn(Se.comparator);u=u.insert(o,ga.newNoDocument(o,Ye.min()));const h=wr().add(o),d=new Bm(Ye.min(),new Map,new Pn(br),u,h);await Ux(n,d),n.du=n.du.remove(o),n.Au.delete(t),E2(n)}else await x1(n.localStore,t,!1).then((()=>N1(n,t,e))).catch(Wh)}async function FL(r,t){const e=er(r),n=t.batch.batchId;try{const s=await H8(e.localStore,t);qx(e,n,null),Bx(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await wf(e,s)}catch(s){await Wh(s)}}async function DL(r,t,e){const n=er(r);try{const s=await(function(o,u){const h=er(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let m;return h.mutationQueue.lookupMutationBatch(d,u).next((v=>(qr(v!==null,37113),m=v.keys(),h.mutationQueue.removeMutationBatch(d,v)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m))).next((()=>h.localDocuments.getDocuments(d,m)))}))})(n.localStore,t);qx(n,t,e),Bx(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),await wf(n,s)}catch(s){await Wh(s)}}function Bx(r,t){(r.mu.get(t)||[]).forEach((e=>{e.resolve()})),r.mu.delete(t)}function qx(r,t,e){const n=er(r);let s=n.Vu[n.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),n.Vu[n.currentUser.toKey()]=s}}function N1(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.Iu.get(t))r.Tu.delete(n),e&&r.Pu.yu(n,e);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((n=>{r.Ru.containsKey(n)||zx(r,n)}))}function zx(r,t){r.Eu.delete(t.path.canonicalString());const e=r.du.get(t);e!==null&&(g2(r.remoteStore,e),r.du=r.du.remove(t),r.Au.delete(e),E2(r))}function Qb(r,t,e){for(const n of e)n instanceof Fx?(r.Ru.addReference(n.key,t),ML(r,n)):n instanceof Dx?(ue(A2,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,t),r.Ru.containsKey(n.key)||zx(r,n.key)):Be(19791,{wu:n})}function ML(r,t){const e=t.key,n=e.path.canonicalString();r.du.get(e)||r.Eu.has(n)||(ue(A2,"New document in limbo: "+e),r.Eu.add(n),E2(r))}function E2(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const e=new Se(cn.fromString(t)),n=r.fu.next();r.Au.set(n,new EL(e)),r.du=r.du.insert(e,n),Cx(r.remoteStore,new Lu(Jo(jm(e.path)),n,"TargetPurposeLimboResolution",Tm.ce))}}async function wf(r,t,e){const n=er(r),s=[],o=[],u=[];n.Tu.isEmpty()||(n.Tu.forEach(((h,d)=>{u.push(n.pu(d,t,e).then((m=>{if((m||e)&&n.isPrimaryClient){const v=m?!m.fromCache:e?.targetChanges.get(d.targetId)?.current;n.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(m){s.push(m);const v=p2.As(d.targetId,m);o.push(v)}})))})),await Promise.all(u),n.Pu.H_(s),await(async function(h,d){const m=er(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>Gt.forEach(d,(_=>Gt.forEach(_.Es,(A=>m.persistence.referenceDelegate.addReference(v,_.targetId,A))).next((()=>Gt.forEach(_.ds,(A=>m.persistence.referenceDelegate.removeReference(v,_.targetId,A)))))))))}catch(v){if(!Hh(v))throw v;ue(m2,"Failed to update sequence numbers: "+v)}for(const v of d){const _=v.targetId;if(!v.fromCache){const A=m.Ms.get(_),w=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(w);m.Ms=m.Ms.insert(_,M)}}})(n.localStore,o))}async function UL(r,t){const e=er(r);if(!e.currentUser.isEqual(t)){ue(A2,"User change. New user:",t.toKey());const n=await Ax(e.localStore,t);e.currentUser=t,(function(s,o){s.mu.forEach((u=>{u.forEach((h=>{h.reject(new re(zt.CANCELLED,o))}))})),s.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await wf(e,n.Ls)}}function BL(r,t){const e=er(r),n=e.Au.get(t);if(n&&n.hu)return wr().add(n.key);{let s=wr();const o=e.Iu.get(t);if(!o)return s;for(const u of o){const h=e.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function Vx(r){const t=er(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ux.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jL.bind(null,t),t.Pu.H_=SL.bind(null,t.eventManager),t.Pu.yu=NL.bind(null,t.eventManager),t}function qL(r){const t=er(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DL.bind(null,t),t}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return W8(this.persistence,new z8,t.initialUser,this.serializer)}Cu(t){return new kx(f2.mi,this.serializer)}Du(t){return new X8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class zL extends ym{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){qr(this.persistence.referenceDelegate instanceof mm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new E8(n,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?rs.withCacheSize(this.cacheSizeBytes):rs.DEFAULT;return new kx((n=>mm.mi(n,e)),this.serializer)}}class k1{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Gb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=UL.bind(null,this.syncEngine),await wL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new _L})()}createDatastore(t){const e=qm(t.databaseInfo.databaseId),n=(function(s){return new nL(s)})(t.databaseInfo);return(function(s,o,u,h){return new oL(s,o,u,h)})(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return(function(e,n,s,o,u){return new uL(e,n,s,o,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>Gb(this.syncEngine,e,0)),(function(){return zb.v()?new zb:new Z8})())}createSyncEngine(t,e){return(function(n,s,o,u,h,d,m){const v=new IL(n,s,o,u,h,d);return m&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(t){const e=er(t);ue(kc,"RemoteStore shutting down."),e.Ea.add(5),await bf(e),e.Aa.shutdown(),e.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}k1.provider={build:()=>new k1};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class I2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Vl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qu="FirestoreClient";class VL{constructor(t,e,n,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=ma.UNAUTHENTICATED,this.clientId=e2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async u=>{ue(qu,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(n,(u=>(ue(qu,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=x2(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function E0(r,t){r.asyncQueue.verifyOperationInProgress(),ue(qu,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener((async s=>{n.isEqual(s)||(await Ax(t.localStore,s),n=s)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Yb(r,t){r.asyncQueue.verifyOperationInProgress();const e=await $L(r);ue(qu,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener((n=>$b(t.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,s)=>$b(t.remoteStore,s))),r._onlineComponents=t}async function $L(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(qu,"Using user provided OfflineComponentProvider");try{await E0(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(n){return n.name==="FirebaseError"?n.code===zt.FAILED_PRECONDITION||n.code===zt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11})(e))throw e;Fh("Error using user provided cache. Falling back to memory cache: "+e),await E0(r,new ym)}}else ue(qu,"Using default OfflineComponentProvider"),await E0(r,new zL(void 0));return r._offlineComponents}async function $x(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(qu,"Using user provided OnlineComponentProvider"),await Yb(r,r._uninitializedComponentsProvider._online)):(ue(qu,"Using default OnlineComponentProvider"),await Yb(r,new k1))),r._onlineComponents}function WL(r){return $x(r).then((t=>t.syncEngine))}async function vm(r){const t=await $x(r),e=t.eventManager;return e.onListen=LL.bind(null,t.syncEngine),e.onUnlisten=PL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=CL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=OL.bind(null,t.syncEngine),e}function HL(r,t,e={}){const n=new Bl;return r.asyncQueue.enqueueAndForget((async()=>(function(s,o,u,h,d){const m=new I2({next:_=>{m.Nu(),o.enqueueAndForget((()=>S2(s,v)));const A=_.docs.has(u);!A&&_.fromCache?d.reject(new re(zt.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&_.fromCache&&h&&h.source==="server"?d.reject(new re(zt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),v=new k2(jm(u.path),m,{includeMetadataChanges:!0,qa:!0});return _2(s,v)})(await vm(r),r.asyncQueue,t,e,n))),n.promise}function KL(r,t,e={}){const n=new Bl;return r.asyncQueue.enqueueAndForget((async()=>(function(s,o,u,h,d){const m=new I2({next:_=>{m.Nu(),o.enqueueAndForget((()=>S2(s,v))),_.fromCache&&h.source==="server"?d.reject(new re(zt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),v=new k2(u,m,{includeMetadataChanges:!0,qa:!0});return _2(s,v)})(await vm(r),r.asyncQueue,t,e,n))),n.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Wx(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jb=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Hx="firestore.googleapis.com",Xb=!0;class Zb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new re(zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hx,this.ssl=Xb}else this.host=t.host,this.ssl=t.ssl??Xb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Nx;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<k8)throw new re(zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wx(t.experimentalLongPollingOptions??{}),(function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new re(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new re(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new re(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(e,n){return e.timeoutSeconds===n.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $m{constructor(t,e,n,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new re(zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(e){if(!e)return new JE;switch(e.type){case"firstParty":return new eI(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new re(zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const e=Jb.get(t);e&&(ue("ComponentProvider","Removing Datastore"),Jb.delete(t),e.terminate())})(this),Promise.resolve()}}function GL(r,t,e,n={}){r=is(r,$m);const s=Vu(t),o=r._getSettings(),u={...o,emulatorOptions:r._getEmulatorOptions()},h=`${t}:${e}`;s&&(U1(`https://${h}`),B1("Firestore",!0)),o.host!==Hx&&o.host!==h&&Fh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:s,emulatorOptions:n};if(!bc(d,u)&&(r._setSettings(d),n.mockUserToken)){let m,v;if(typeof n.mockUserToken=="string")m=n.mockUserToken,v=ma.MOCK_USER;else{m=V4(n.mockUserToken,r._app?.options.projectId);const _=n.mockUserToken.sub||n.mockUserToken.user_id;if(!_)throw new re(zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ma(_)}r._authCredentials=new XE(new D3(m,v))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class nl{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new nl(this.firestore,t,this._query)}}class Vn{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vn(this.firestore,t,this._key)}toJSON(){return{type:Vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(gf(e,Vn._jsonSchema))return new Vn(t,n||null,new Se(cn.fromString(e.referencePath)))}}Vn._jsonSchemaVersion="firestore/documentReference/1.0",Vn._jsonSchema={type:li("string",Vn._jsonSchemaVersion),referencePath:li("string")};class Ru extends nl{constructor(t,e,n){super(t,e,jm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vn(this.firestore,null,new Se(t))}withConverter(t){return new Ru(this.firestore,t,this._path)}}function I0(r,t,...e){if(r=hn(r),M3("collection","path",t),r instanceof $m){const n=cn.fromString(t,...e);return fb(n),new Ru(r,null,n)}{if(!(r instanceof Vn||r instanceof Ru))throw new re(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(cn.fromString(t,...e));return fb(n),new Ru(r.firestore,null,n)}}function Sh(r,t,...e){if(r=hn(r),arguments.length===1&&(t=e2.newId()),M3("doc","path",t),r instanceof $m){const n=cn.fromString(t,...e);return db(n),new Vn(r,null,new Se(n))}{if(!(r instanceof Vn||r instanceof Ru))throw new re(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(cn.fromString(t,...e));return db(n),new Vn(r.firestore,r instanceof Ru?r.converter:null,new Se(n))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tw="AsyncQueue";class ew{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ix(this,"async_queue_retry"),this._c=()=>{const n=A0();n&&ue(tw,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const e=A0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=A0();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Bl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Hh(t))throw t;ue(tw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,Vl("INTERNAL UNHANDLED ERROR: ",rw(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=e,e}enqueueAfterDelay(t,e,n){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=w2.createAndSchedule(this,t,e,n,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Be(47125,{Pc:rw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,n)=>e.targetTimeMs-n.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function rw(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nw(r){return(function(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const s of e)if(s in n&&typeof n[s]=="function")return!0;return!1})(r,["next","error","complete"])}class Wl extends $m{constructor(t,e,n,s){super(t,e,n,s),this.type="firestore",this._queue=new ew,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ew(t),this._firestoreClient=void 0,await t}}}function QL(r,t){const e=typeof r=="object"?r:V1(),n=typeof r=="string"?r:um,s=Am(e,"firestore").getImmediate({identifier:n});if(!s._initialized){const o=B4("firestore");o&&GL(s,...o)}return s}function Wm(r){if(r._terminated)throw new re(zt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||YL(r),r._firestoreClient}function YL(r){const t=r._freezeSettings(),e=(function(n,s,o,u){return new bI(n,s,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Wx(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new VL(r._authCredentials,r._appCheckCredentials,r._queue,e,r._componentsProvider&&(function(n){const s=n?._online.build();return{_offline:n?._offline.build(s),_online:s}})(r._componentsProvider))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bs(ra.fromBase64String(t))}catch(e){throw new re(zt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Bs(ra.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(gf(t,Bs._jsonSchema))return Bs.fromBase64String(t.bytes)}}Bs._jsonSchemaVersion="firestore/bytes/1.0",Bs._jsonSchema={type:li("string",Bs._jsonSchemaVersion),bytes:li("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hm{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new re(zt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ea(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Km{constructor(t){this._methodName=t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zo{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new re(zt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new re(zt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return br(this._lat,t._lat)||br(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zo._jsonSchemaVersion}}static fromJSON(t){if(gf(t,Zo._jsonSchema))return new Zo(t.latitude,t.longitude)}}Zo._jsonSchemaVersion="firestore/geoPoint/1.0",Zo._jsonSchema={type:li("string",Zo._jsonSchemaVersion),latitude:li("number"),longitude:li("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tl{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(e,n){if(e.length!==n.length)return!1;for(let s=0;s<e.length;++s)if(e[s]!==n[s])return!1;return!0})(this._values,t._values)}toJSON(){return{type:tl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(gf(t,tl._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new tl(t.vectorValues);throw new re(zt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}tl._jsonSchemaVersion="firestore/vectorValue/1.0",tl._jsonSchema={type:li("string",tl._jsonSchemaVersion),vectorValues:li("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const JL=/^__.*__$/;class XL{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new Wu(t,this.data,this.fieldMask,e,this.fieldTransforms):new yf(t,this.data,e,this.fieldTransforms)}}class Kx{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Wu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Gx(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:r})}}class L2{constructor(t,e,n,s,o,u){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new L2({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),n=this.Vc({path:e,fc:!1});return n.gc(t),n}yc(t){const e=this.path?.child(t),n=this.Vc({path:e,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return bm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Gx(this.Ac)&&JL.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZL{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||qm(t)}Cc(t,e,n,s=!1){return new L2({Ac:t,methodName:e,Dc:n,path:ea.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xf(r){const t=r._freezeSettings(),e=qm(r._databaseId);return new ZL(r._databaseId,!!t.ignoreUndefinedProperties,e)}function Qx(r,t,e,n,s,o={}){const u=r.Cc(o.merge||o.mergeFields?2:0,t,e,s);T2("Data must be an object, but it was:",u,n);const h=Jx(n,u);let d,m;if(o.merge)d=new xs(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const _ of o.mergeFields){const A=A1(t,_,e);if(!u.contains(A))throw new re(zt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Zx(v,A)||v.push(A)}d=new xs(v),m=u.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,m=u.fieldTransforms;return new XL(new ns(h),d,m)}class Gm extends Km{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Gm}}class C2 extends Km{_toFieldTransform(t){return new WI(t.path,new af)}isEqual(t){return t instanceof C2}}function t7(r,t,e,n){const s=r.Cc(1,t,e);T2("Data must be an object, but it was:",s,n);const o=[],u=ns.empty();$u(n,((d,m)=>{const v=P2(t,d,e);m=hn(m);const _=s.yc(v);if(m instanceof Gm)o.push(v);else{const A=_f(m,_);A!=null&&(o.push(v),u.set(v,A))}}));const h=new xs(o);return new Kx(u,h,s.fieldTransforms)}function e7(r,t,e,n,s,o){const u=r.Cc(1,t,e),h=[A1(t,n,e)],d=[s];if(o.length%2!=0)throw new re(zt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<o.length;A+=2)h.push(A1(t,o[A])),d.push(o[A+1]);const m=[],v=ns.empty();for(let A=h.length-1;A>=0;--A)if(!Zx(m,h[A])){const w=h[A];let M=d[A];M=hn(M);const F=u.yc(w);if(M instanceof Gm)m.push(w);else{const $=_f(M,F);$!=null&&(m.push(w),v.set(w,$))}}const _=new xs(m);return new Kx(v,_,u.fieldTransforms)}function Yx(r,t,e,n=!1){return _f(e,r.Cc(n?4:3,t))}function _f(r,t){if(Xx(r=hn(r)))return T2("Unsupported field value:",t,r),Jx(r,t);if(r instanceof Km)return(function(e,n){if(!Gx(n.Ac))throw n.Sc(`${e._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Sc(`${e._methodName}() is not currently supported inside arrays`);const s=e._toFieldTransform(n);s&&n.fieldTransforms.push(s)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(e,n){const s=[];let o=0;for(const u of e){let h=_f(u,n.wc(o));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),o++}return{arrayValue:{values:s}}})(r,t)}return(function(e,n){if((e=hn(e))===null)return{nullValue:"NULL_VALUE"};if(typeof e=="number")return zI(n.serializer,e);if(typeof e=="boolean")return{booleanValue:e};if(typeof e=="string")return{stringValue:e};if(e instanceof Date){const s=yn.fromDate(e);return{timestampValue:pm(n.serializer,s)}}if(e instanceof yn){const s=new yn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:pm(n.serializer,s)}}if(e instanceof Zo)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Bs)return{bytesValue:yx(n.serializer,e._byteString)};if(e instanceof Vn){const s=n.databaseId,o=e.firestore._databaseId;if(!o.isEqual(s))throw n.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:h2(e.firestore._databaseId||n.databaseId,e._key.path)}}if(e instanceof tl)return(function(s,o){return{mapValue:{fields:{[K3]:{stringValue:G3},[cm]:{arrayValue:{values:s.toArray().map((u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return o2(o.serializer,u)}))}}}}}})(e,n);throw n.Sc(`Unsupported field value: ${Cm(e)}`)})(r,t)}function Jx(r,t){const e={};return q3(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$u(r,((n,s)=>{const o=_f(s,t.mc(n));o!=null&&(e[n]=o)})),{mapValue:{fields:e}}}function Xx(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof yn||r instanceof Zo||r instanceof Bs||r instanceof Vn||r instanceof Km||r instanceof tl)}function T2(r,t,e){if(!Xx(e)||!U3(e)){const n=Cm(e);throw n==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+n)}}function A1(r,t,e){if((t=hn(t))instanceof Hm)return t._internalPath;if(typeof t=="string")return P2(r,t);throw bm("Field path arguments must be of type string or ",r,!1,void 0,e)}const r7=new RegExp("[~\\*/\\[\\]]");function P2(r,t,e){if(t.search(r7)>=0)throw bm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new Hm(...t.split("."))._internalPath}catch{throw bm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function bm(r,t,e,n,s){const o=n&&!n.isEmpty(),u=s!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${n}`),u&&(d+=` in document ${s}`),d+=")"),new re(zt.INVALID_ARGUMENT,h+r+d)}function Zx(r,t){return r.some((e=>e.isEqual(t)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O2{constructor(t,e,n,s,o){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new n7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Qm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class n7 extends O2{data(){return super.data()}}function Qm(r,t){return typeof t=="string"?P2(r,t):t instanceof Hm?t._internalPath:t._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function t_(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new re(zt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R2{}class Ym extends R2{}function iw(r,t,...e){let n=[];t instanceof R2&&n.push(t),n=n.concat(e),(function(s){const o=s.filter((h=>h instanceof j2)).length,u=s.filter((h=>h instanceof Jm)).length;if(o>1||o>0&&u>0)throw new re(zt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)r=s._apply(r);return r}class Jm extends Ym{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new Jm(t,e,n)}_apply(t){const e=this._parse(t);return e_(t._query,e),new nl(t.firestore,t.converter,g1(t._query,e))}_parse(t){const e=xf(t.firestore);return(function(n,s,o,u,h,d,m){let v;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new re(zt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){sw(m,d);const _=[];for(const A of m)_.push(aw(u,n,A));v={arrayValue:{values:_}}}else v=aw(u,n,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||sw(m,d),v=Yx(o,s,m,d==="in"||d==="not-in");return oi.create(h,d,v)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function i7(r,t,e){const n=t,s=Qm("where",r);return Jm._create(s,n,e)}class j2 extends R2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new j2(t,e)}_parse(t){const e=this._queryConstraints.map((n=>n._parse(t))).filter((n=>n.getFilters().length>0));return e.length===1?e[0]:po.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(n,s){let o=n;const u=s.getFlattenedFilters();for(const h of u)e_(o,h),o=g1(o,h)})(t._query,e),new nl(t.firestore,t.converter,g1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class F2 extends Ym{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new F2(t,e)}_apply(t){const e=(function(n,s,o){if(n.startAt!==null)throw new re(zt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new re(zt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nf(s,o)})(t._query,this._field,this._direction);return new nl(t.firestore,t.converter,(function(n,s){const o=n.explicitOrderBy.concat([s]);return new Cc(n.path,n.collectionGroup,o,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)})(t._query,e))}}function a7(r,t="asc"){const e=t,n=Qm("orderBy",r);return F2._create(n,e)}class D2 extends Ym{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new D2(t,e,n)}_apply(t){return new nl(t.firestore,t.converter,dm(t._query,this._limit,this._limitType))}}function s7(r){return lI("limit",r),D2._create("limit",r,"F")}class M2 extends Ym{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new M2(t,e,n)}_apply(t){const e=l7(t,this.type,this._docOrFields,this._inclusive);return new nl(t.firestore,t.converter,(function(n,s){return new Cc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,s,n.endAt)})(t._query,e))}}function o7(...r){return M2._create("startAfter",r,!1)}function l7(r,t,e,n){if(e[0]=hn(e[0]),e[0]instanceof O2)return(function(s,o,u,h,d){if(!h)throw new re(zt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const v of Ch(s))if(v.field.isKeyField())m.push(hm(o,h.key));else{const _=h.data.field(v.field);if(Om(_))throw new re(zt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const A=v.field.canonicalString();throw new re(zt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}m.push(_)}return new Bh(m,d)})(r._query,r.firestore._databaseId,t,e[0]._document,n);{const s=xf(r.firestore);return(function(o,u,h,d,m,v){const _=o.explicitOrderBy;if(m.length>_.length)throw new re(zt.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let w=0;w<m.length;w++){const M=m[w];if(_[w].field.isKeyField()){if(typeof M!="string")throw new re(zt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof M}`);if(!s2(o)&&M.indexOf("/")!==-1)throw new re(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${M}' contains a slash.`);const F=o.path.child(cn.fromString(M));if(!Se.isDocumentKey(F))throw new re(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${F}' is not because it contains an odd number of segments.`);const $=new Se(F);A.push(hm(u,$))}else{const F=Yx(h,d,M);A.push(F)}}return new Bh(A,v)})(r._query,r.firestore._databaseId,s,t,e,n)}}function aw(r,t,e){if(typeof(e=hn(e))=="string"){if(e==="")throw new re(zt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s2(t)&&e.indexOf("/")!==-1)throw new re(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(cn.fromString(e));if(!Se.isDocumentKey(n))throw new re(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return hm(r,new Se(n))}if(e instanceof Vn)return hm(r,e._key);throw new re(zt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(e)}.`)}function sw(r,t){if(!Array.isArray(r)||r.length===0)throw new re(zt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function e_(r,t){const e=(function(n,s){for(const o of n)for(const u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(r.filters,(function(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new re(zt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new re(zt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class u7{convertValue(t,e="none"){switch(Uu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Mu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Be(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return $u(t,((s,o)=>{n[s]=this.convertValue(o,e)})),n}convertVectorValue(t){const e=t.fields?.[cm].arrayValue?.values?.map((n=>Yn(n.doubleValue)));return new tl(e)}convertGeoPoint(t){return new Zo(Yn(t.latitude),Yn(t.longitude))}convertArray(t,e){return(t.values||[]).map((n=>this.convertValue(n,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Rm(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(tf(t));default:return null}}convertTimestamp(t){const e=Du(t);return new yn(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=cn.fromString(t);qr(Sx(n),9688,{name:t});const s=new ef(n.get(1),n.get(3)),o=new Se(n.popFirst(5));return s.isEqual(e)||Vl(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function r_(r,t,e){let n;return n=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,n}class qd{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pc extends O2{constructor(t,e,n,s,o,u){super(t,e,n,s,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Qm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(zt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=pc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()||(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),e}}pc._jsonSchemaVersion="firestore/documentSnapshot/1.0",pc._jsonSchema={type:li("string",pc._jsonSchemaVersion),bundleSource:li("string","DocumentSnapshot"),bundleName:li("string"),bundle:li("string")};class Wp extends pc{data(t={}){return super.data(t)}}class mc{constructor(t,e,n,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new qd(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Wp(this._firestore,this._userDataWriter,n.key,n,new qd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new re(zt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(n,s){if(n._snapshot.oldDocs.isEmpty()){let o=0;return n._snapshot.docChanges.map((u=>{const h=new Wp(n._firestore,n._userDataWriter,u.doc.key,u.doc,new qd(n._snapshot.mutatedKeys.has(u.doc.key),n._snapshot.fromCache),n.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:o++}}))}{let o=n._snapshot.oldDocs;return n._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const h=new Wp(n._firestore,n._userDataWriter,u.doc.key,u.doc,new qd(n._snapshot.mutatedKeys.has(u.doc.key),n._snapshot.fromCache),n.query.converter);let d=-1,m=-1;return u.type!==0&&(d=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),m=o.indexOf(u.doc.key)),{type:c7(u.type),doc:h,oldIndex:d,newIndex:m}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(zt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=mc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=e2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],n=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function c7(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:r})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function h7(r){r=is(r,Vn);const t=is(r.firestore,Wl);return HL(Wm(t),r._key).then((e=>n_(t,r,e)))}mc._jsonSchemaVersion="firestore/querySnapshot/1.0",mc._jsonSchema={type:li("string",mc._jsonSchemaVersion),bundleSource:li("string","QuerySnapshot"),bundleName:li("string"),bundle:li("string")};class U2 extends u7{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bs(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vn(this.firestore,null,e)}}function d7(r){r=is(r,nl);const t=is(r.firestore,Wl),e=Wm(t),n=new U2(t);return t_(r._query),KL(e,r._query).then((s=>new mc(t,n,r,s)))}function f7(r,t,e){r=is(r,Vn);const n=is(r.firestore,Wl),s=r_(r.converter,t,e);return Xm(n,[Qx(xf(n),"setDoc",r._key,s,r.converter!==null,e).toMutation(r._key,zs.none())])}function p7(r,t,e,...n){r=is(r,Vn);const s=is(r.firestore,Wl),o=xf(s);let u;return u=typeof(t=hn(t))=="string"||t instanceof Hm?e7(o,"updateDoc",r._key,t,e,n):t7(o,"updateDoc",r._key,t),Xm(s,[u.toMutation(r._key,zs.exists(!0))])}function m7(r){return Xm(is(r.firestore,Wl),[new l2(r._key,zs.none())])}function g7(r,t){const e=is(r.firestore,Wl),n=Sh(r),s=r_(r.converter,t);return Xm(e,[Qx(xf(r.firestore),"addDoc",n._key,s,r.converter!==null,{}).toMutation(n._key,zs.exists(!1))]).then((()=>n))}function ow(r,...t){r=hn(r);let e={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||nw(t[n])||(e=t[n++]);const s={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(nw(t[n])){const d=t[n];t[n]=d.next?.bind(d),t[n+1]=d.error?.bind(d),t[n+2]=d.complete?.bind(d)}let o,u,h;if(r instanceof Vn)u=is(r.firestore,Wl),h=jm(r._key.path),o={next:d=>{t[n]&&t[n](n_(u,r,d))},error:t[n+1],complete:t[n+2]};else{const d=is(r,nl);u=is(d.firestore,Wl),h=d._query;const m=new U2(u);o={next:v=>{t[n]&&t[n](new mc(u,m,d,v))},error:t[n+1],complete:t[n+2]},t_(r._query)}return(function(d,m,v,_){const A=new I2(_),w=new k2(m,A,v);return d.asyncQueue.enqueueAndForget((async()=>_2(await vm(d),w))),()=>{A.Nu(),d.asyncQueue.enqueueAndForget((async()=>S2(await vm(d),w)))}})(Wm(u),h,s,o)}function Xm(r,t){return(function(e,n){const s=new Bl;return e.asyncQueue.enqueueAndForget((async()=>RL(await WL(e),n,s))),s.promise})(Wm(r),t)}function n_(r,t,e){const n=e.docs.get(t._key),s=new U2(r);return new pc(r,s,t._key,n,new qd(e.hasPendingWrites,e.fromCache),t.converter)}function Pd(){return new C2("serverTimestamp")}(function(r,t=!0){(function(e){$h=e})(Lc),wc(new ju("firestore",((e,{instanceIdentifier:n,options:s})=>{const o=e.getProvider("app").getImmediate(),u=new Wl(new ZE(e.getProvider("auth-internal")),new rI(o,e.getProvider("app-check-internal")),(function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new re(zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ef(h.options.projectId,d)})(o,n),o);return s={useFetchStreams:t,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Go(lb,ub,r),Go(lb,ub,"esm2020")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const i_="firebasestorage.googleapis.com",a_="storageBucket",y7=120*1e3,v7=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wn extends rl{constructor(t,e,n=0){super(L0(t),`Firebase Storage: ${e} (${L0(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return L0(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $n;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($n||($n={}));function L0(r){return"storage/"+r}function B2(){const r="An unknown error occurred, please check the error payload for server response.";return new Wn($n.UNKNOWN,r)}function b7(r){return new Wn($n.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function w7(r){return new Wn($n.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function x7(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wn($n.UNAUTHENTICATED,r)}function _7(){return new Wn($n.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function S7(r){return new Wn($n.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function N7(){return new Wn($n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k7(){return new Wn($n.CANCELED,"User canceled the upload/download.")}function A7(r){return new Wn($n.INVALID_URL,"Invalid URL '"+r+"'.")}function E7(r){return new Wn($n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function I7(){return new Wn($n.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+a_+"' property when initializing the app?")}function L7(){return new Wn($n.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function C7(){return new Wn($n.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function T7(r){return new Wn($n.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function E1(r){return new Wn($n.INVALID_ARGUMENT,r)}function s_(){return new Wn($n.APP_DELETED,"The Firebase app was deleted.")}function P7(r){return new Wn($n.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kd(r,t){return new Wn($n.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function Od(r){throw new Wn($n.INTERNAL_ERROR,"Internal error: "+r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _s{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=_s.makeFromUrl(t,e)}catch{return new _s(t,"")}if(n.path==="")return n;throw E7(t)}static makeFromUrl(t,e){let n=null;const s="([A-Za-z0-9.\\-_]+)";function o(tt){tt.path.charAt(tt.path.length-1)==="/"&&(tt.path_=tt.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+s+u,"i"),d={bucket:1,path:3};function m(tt){tt.path_=decodeURIComponent(tt.path)}const v="v[A-Za-z0-9_]+",_=e.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",w=new RegExp(`^https?://${_}/${v}/b/${s}/o${A}`,"i"),M={bucket:1,path:3},F=e===i_?"(?:storage.googleapis.com|storage.cloud.google.com)":e,$="([^?#]*)",B=new RegExp(`^https?://${F}/${s}/${$}`,"i"),et=[{regex:h,indices:d,postModify:o},{regex:w,indices:M,postModify:m},{regex:B,indices:{bucket:1,path:2},postModify:m}];for(let tt=0;tt<et.length;tt++){const ct=et[tt],At=ct.regex.exec(t);if(At){const It=At[ct.indices.bucket];let Q=At[ct.indices.path];Q||(Q=""),n=new _s(It,Q),ct.postModify(n);break}}if(n==null)throw A7(t);return n}}class O7{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function R7(r,t,e){let n=1,s=null,o=null,u=!1,h=0;function d(){return h===2}let m=!1;function v(...$){m||(m=!0,t.apply(null,$))}function _($){s=setTimeout(()=>{s=null,r(w,d())},$)}function A(){o&&clearTimeout(o)}function w($,...B){if(m){A();return}if($){A(),v.call(null,$,...B);return}if(d()||u){A(),v.call(null,$,...B);return}n<64&&(n*=2);let et;h===1?(h=2,et=0):et=(n+Math.random())*1e3,_(et)}let M=!1;function F($){M||(M=!0,A(),!m&&(s!==null?($||(h=2),clearTimeout(s),_(0)):$||(h=1)))}return _(0),o=setTimeout(()=>{u=!0,F(!0)},e),F}function j7(r){r(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function F7(r){return r!==void 0}function D7(r){return typeof r=="object"&&!Array.isArray(r)}function q2(r){return typeof r=="string"||r instanceof String}function lw(r){return z2()&&r instanceof Blob}function z2(){return typeof Blob<"u"}function uw(r,t,e,n){if(n<t)throw E1(`Invalid value for '${r}'. Expected ${t} or greater.`);if(n>e)throw E1(`Invalid value for '${r}'. Expected ${e} or less.`)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function V2(r,t,e){let n=t;return e==null&&(n=`https://${t}`),`${e}://${n}/v0${r}`}function o_(r){const t=encodeURIComponent;let e="?";for(const n in r)if(r.hasOwnProperty(n)){const s=t(n)+"="+t(r[n]);e=e+s+"&"}return e=e.slice(0,-1),e}var gc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(gc||(gc={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function M7(r,t){const e=r>=500&&r<600,n=[408,429].indexOf(r)!==-1,s=t.indexOf(r)!==-1;return e||n||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class U7{constructor(t,e,n,s,o,u,h,d,m,v,_,A=!0,w=!1){this.url_=t,this.method_=e,this.headers_=n,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=_,this.retry=A,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,F)=>{this.resolve_=M,this.reject_=F,this.start_()})}start_(){const t=(n,s)=>{if(s){n(!1,new Np(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===gc.NO_ERROR,d=o.getStatus();if(!h||M7(d,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===gc.ABORT;n(!1,new Np(!1,null,v));return}const m=this.successCodes_.indexOf(d)!==-1;n(!0,new Np(m,o))})},e=(n,s)=>{const o=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());F7(d)?o(d):o()}catch(d){u(d)}else if(h!==null){const d=B2();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(s.canceled){const d=this.appDelete_?s_():k7();u(d)}else{const d=N7();u(d)}};this.canceled_?e(!1,new Np(!1,null,!0)):this.backoffId_=R7(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&j7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Np{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function B7(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function q7(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function z7(r,t){t&&(r["X-Firebase-GMPID"]=t)}function V7(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function $7(r,t,e,n,s,o,u=!0,h=!1){const d=o_(r.urlParams),m=r.url+d,v=Object.assign({},r.headers);return z7(v,t),B7(v,e),q7(v,o),V7(v,n),new U7(m,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,s,u,h)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function W7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function H7(...r){const t=W7();if(t!==void 0){const e=new t;for(let n=0;n<r.length;n++)e.append(r[n]);return e.getBlob()}else{if(z2())return new Blob(r);throw new Wn($n.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function K7(r,t,e){return r.webkitSlice?r.webkitSlice(t,e):r.mozSlice?r.mozSlice(t,e):r.slice?r.slice(t,e):null}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function G7(r){if(typeof atob>"u")throw T7("base-64");return atob(r)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ho={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class C0{constructor(t,e){this.data=t,this.contentType=e||null}}function Q7(r,t){switch(r){case Ho.RAW:return new C0(l_(t));case Ho.BASE64:case Ho.BASE64URL:return new C0(u_(r,t));case Ho.DATA_URL:return new C0(J7(t),X7(t))}throw B2()}function l_(r){const t=[];for(let e=0;e<r.length;e++){let n=r.charCodeAt(e);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(e<r.length-1&&(r.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const s=n,o=r.charCodeAt(++e);n=65536|(s&1023)<<10|o&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function Y7(r){let t;try{t=decodeURIComponent(r)}catch{throw Kd(Ho.DATA_URL,"Malformed data URL.")}return l_(t)}function u_(r,t){switch(r){case Ho.BASE64:{const s=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(s||o)throw Kd(r,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ho.BASE64URL:{const s=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(s||o)throw Kd(r,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=G7(t)}catch(s){throw s.message.includes("polyfill")?s:Kd(r,"Invalid character found")}const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}class c_{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw Kd(Ho.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;n!=null&&(this.base64=Z7(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function J7(r){const t=new c_(r);return t.base64?u_(Ho.BASE64,t.rest):Y7(t.rest)}function X7(r){return new c_(r).contentType}function Z7(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Iu{constructor(t,e){let n=0,s="";lw(t)?(this.data_=t,n=t.size,s=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,e){if(lw(this.data_)){const n=this.data_,s=K7(n,t,e);return s===null?null:new Iu(s)}else{const n=new Uint8Array(this.data_.buffer,t,e-t);return new Iu(n,!0)}}static getBlob(...t){if(z2()){const e=t.map(n=>n instanceof Iu?n.data_:n);return new Iu(H7.apply(null,e))}else{const e=t.map(u=>q2(u)?Q7(Ho.RAW,u).data:u.data_);let n=0;e.forEach(u=>{n+=u.byteLength});const s=new Uint8Array(n);let o=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)s[o++]=u[h]}),new Iu(s,!0)}}uploadData(){return this.data_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function h_(r){let t;try{t=JSON.parse(r)}catch{return null}return D7(t)?t:null}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function tC(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function eC(r,t){const e=t.split("/").filter(n=>n.length>0).join("/");return r.length===0?e:r+"/"+e}function d_(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rC(r,t){return t}class Pa{constructor(t,e,n,s){this.server=t,this.local=e||t,this.writable=!!n,this.xform=s||rC}}let kp=null;function nC(r){return!q2(r)||r.length<2?r:d_(r)}function f_(){if(kp)return kp;const r=[];r.push(new Pa("bucket")),r.push(new Pa("generation")),r.push(new Pa("metageneration")),r.push(new Pa("name","fullPath",!0));function t(o,u){return nC(u)}const e=new Pa("name");e.xform=t,r.push(e);function n(o,u){return u!==void 0?Number(u):u}const s=new Pa("size");return s.xform=n,r.push(s),r.push(new Pa("timeCreated")),r.push(new Pa("updated")),r.push(new Pa("md5Hash",null,!0)),r.push(new Pa("cacheControl",null,!0)),r.push(new Pa("contentDisposition",null,!0)),r.push(new Pa("contentEncoding",null,!0)),r.push(new Pa("contentLanguage",null,!0)),r.push(new Pa("contentType",null,!0)),r.push(new Pa("metadata","customMetadata",!0)),kp=r,kp}function iC(r,t){function e(){const n=r.bucket,s=r.fullPath,o=new _s(n,s);return t._makeStorageReference(o)}Object.defineProperty(r,"ref",{get:e})}function aC(r,t,e){const n={};n.type="file";const s=e.length;for(let o=0;o<s;o++){const u=e[o];n[u.local]=u.xform(n,t[u.server])}return iC(n,r),n}function p_(r,t,e){const n=h_(t);return n===null?null:aC(r,n,e)}function sC(r,t,e,n){const s=h_(t);if(s===null||!q2(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(h=>{const d=r.bucket,m=r.fullPath,v="/b/"+u(d)+"/o/"+u(m),_=V2(v,e,n),A=o_({alt:"media",token:h});return _+A})[0]}function oC(r,t){const e={},n=t.length;for(let s=0;s<n;s++){const o=t[s];o.writable&&(e[o.server]=r[o.local])}return JSON.stringify(e)}class m_{constructor(t,e,n,s){this.url=t,this.method=e,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function g_(r){if(!r)throw B2()}function lC(r,t){function e(n,s){const o=p_(r,s,t);return g_(o!==null),o}return e}function uC(r,t){function e(n,s){const o=p_(r,s,t);return g_(o!==null),sC(o,s,r.host,r._protocol)}return e}function y_(r){function t(e,n){let s;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?s=_7():s=x7():e.getStatus()===402?s=w7(r.bucket):e.getStatus()===403?s=S7(r.path):s=n,s.status=e.getStatus(),s.serverResponse=n.serverResponse,s}return t}function cC(r){const t=y_(r);function e(n,s){let o=t(n,s);return n.getStatus()===404&&(o=b7(r.path)),o.serverResponse=s.serverResponse,o}return e}function hC(r,t,e){const n=t.fullServerUrl(),s=V2(n,r.host,r._protocol),o="GET",u=r.maxOperationRetryTime,h=new m_(s,o,uC(r,e),u);return h.errorHandler=cC(t),h}function dC(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function fC(r,t,e){const n=Object.assign({},e);return n.fullPath=r.path,n.size=t.size(),n.contentType||(n.contentType=dC(null,t)),n}function pC(r,t,e,n,s){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let tt="";for(let ct=0;ct<2;ct++)tt=tt+Math.random().toString().slice(2);return tt}const d=h();u["Content-Type"]="multipart/related; boundary="+d;const m=fC(t,n,s),v=oC(m,e),_="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+d+`\r
Content-Type: `+m.contentType+`\r
\r
`,A=`\r
--`+d+"--",w=Iu.getBlob(_,n,A);if(w===null)throw L7();const M={name:m.fullPath},F=V2(o,r.host,r._protocol),$="POST",B=r.maxUploadRetryTime,et=new m_(F,$,lC(r,e),B);return et.urlParams=M,et.headers=u,et.body=w.uploadData(),et.errorHandler=y_(t),et}class mC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gc.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gc.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gc.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,n,s,o){if(this.sent_)throw Od("cannot .send() more than once");if(Vu(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Od("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Od("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Od("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Od("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class gC extends mC{initXhr(){this.xhr_.responseType="text"}}function v_(){return new gC}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ac{constructor(t,e){this._service=t,e instanceof _s?this._location=e:this._location=_s.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Ac(t,e)}get root(){const t=new _s(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d_(this._location.path)}get storage(){return this._service}get parent(){const t=tC(this._location.path);if(t===null)return null;const e=new _s(this._location.bucket,t);return new Ac(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw P7(t)}}function yC(r,t,e){r._throwIfRoot("uploadBytes");const n=pC(r.storage,r._location,f_(),new Iu(t,!0),e);return r.storage.makeRequestWithTokens(n,v_).then(s=>({metadata:s,ref:r}))}function vC(r){r._throwIfRoot("getDownloadURL");const t=hC(r.storage,r._location,f_());return r.storage.makeRequestWithTokens(t,v_).then(e=>{if(e===null)throw C7();return e})}function bC(r,t){const e=eC(r._location.path,t),n=new _s(r._location.bucket,e);return new Ac(r.storage,n)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wC(r){return/^[A-Za-z]+:\/\//.test(r)}function xC(r,t){return new Ac(r,t)}function b_(r,t){if(r instanceof $2){const e=r;if(e._bucket==null)throw I7();const n=new Ac(e,e._bucket);return t!=null?b_(n,t):n}else return t!==void 0?bC(r,t):r}function _C(r,t){if(t&&wC(t)){if(r instanceof $2)return xC(r,t);throw E1("To use ref(service, url), the first argument must be a Storage instance.")}else return b_(r,t)}function cw(r,t){const e=t?.[a_];return e==null?null:_s.makeFromBucketSpec(e,r)}function SC(r,t,e,n={}){r.host=`${t}:${e}`;const s=Vu(t);s&&(U1(`https://${r.host}/b`),B1("Storage",!0)),r._isUsingEmulator=!0,r._protocol=s?"https":"http";const{mockUserToken:o}=n;o&&(r._overrideAuthToken=typeof o=="string"?o:V4(o,r.app.options.projectId))}class $2{constructor(t,e,n,s,o,u=!1){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=i_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=y7,this._maxUploadRetryTime=v7,this._requests=new Set,s!=null?this._bucket=_s.makeFromBucketSpec(s,this._host):this._bucket=cw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=_s.makeFromBucketSpec(this._url,t):this._bucket=cw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){uw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){uw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Oa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ac(this,t)}_makeRequest(t,e,n,s,o=!0){if(this._deleted)return new O7(s_());{const u=$7(t,this._appId,n,s,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,e){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,s).getPromise()}}const hw="@firebase/storage",dw="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const w_="storage";function NC(r,t,e){return r=hn(r),yC(r,t,e)}function kC(r){return r=hn(r),vC(r)}function AC(r,t){return r=hn(r),_C(r,t)}function EC(r=V1(),t){r=hn(r);const e=Am(r,w_).getImmediate({identifier:t}),n=B4("storage");return n&&IC(e,...n),e}function IC(r,t,e,n={}){SC(r,t,e,n)}function LC(r,{instanceIdentifier:t}){const e=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),s=r.getProvider("app-check-internal");return new $2(e,n,s,t,Lc)}function CC(){wc(new ju(w_,LC,"PUBLIC").setMultipleInstances(!0)),Go(hw,dw,""),Go(hw,dw,"esm2020")}CC();const x_={apiKey:"AIzaSyB2rtytlB_03Rhxbo90cps8fhuKvKw7Au0",authDomain:"florale-53f36.firebaseapp.com",projectId:"florale-53f36",storageBucket:"florale-53f36.firebasestorage.app",messagingSenderId:"1076135996607",appId:"1:1076135996607:web:4f6ab12ec99816c6f8aa0a"},TC=()=>{const r=["apiKey","authDomain","projectId","appId"].filter(t=>!x_[t]);r.length>0&&console.warn(` Missing Firebase keys: ${r.join(", ")}. Check your .env file!`)};TC();let Ap,es,Ol,__;try{Ap=H4(x_),es=QE(Ap),Ol=QL(Ap),__=EC(Ap),console.log(" Firebase connected: Auth + Firestore + Storage")}catch(r){throw console.error(" Firebase connection failed:",r),r}class PC{async signUp(t,e,n){try{const s=await TA(es,t,e);return n&&s.user&&await Yv(s.user,{displayName:n}),await this.sendVerificationEmail(),s.user}catch(s){throw this.handleAuthError(s)}}async signIn(t,e){try{return(await PA(es,t,e)).user}catch(n){throw this.handleAuthError(n)}}async signInWithGoogle(){try{const t=new Fl;return(await Zv(es,t)).user}catch(t){throw this.handleAuthError(t)}}async signInWithGithub(){try{const t=new Dl;return(await Zv(es,t)).user}catch(t){throw this.handleAuthError(t)}}async signOut(){try{await UA(es)}catch(t){throw this.handleAuthError(t)}}async resetPassword(t){try{await CA(es,t)}catch(e){throw this.handleAuthError(e)}}async sendVerificationEmail(){try{const t=es.currentUser;t&&!t.emailVerified&&await OA(t)}catch(t){throw this.handleAuthError(t)}}async updateUserProfile(t){try{const e=es.currentUser;if(!e)throw new Error("No user is currently signed in");await Yv(e,t)}catch(e){throw this.handleAuthError(e)}}async updateUserEmail(t){try{const e=es.currentUser;if(!e)throw new Error("No user is currently signed in");await jA(e,t)}catch(e){throw this.handleAuthError(e)}}async updateUserPassword(t){try{const e=es.currentUser;if(!e)throw new Error("No user is currently signed in");await FA(e,t)}catch(e){throw this.handleAuthError(e)}}getCurrentUser(){return es.currentUser}async getIdToken(t=!1){try{const e=es.currentUser;return e?await e.getIdToken(t):null}catch(e){throw this.handleAuthError(e)}}onAuthStateChanged(t){return es.onAuthStateChanged(t)}handleAuthError(t){return{code:t.code||"unknown",message:this.getErrorMessage(t.code)}}getErrorMessage(t){return{"auth/email-already-in-use":"This email is already registered","auth/invalid-email":"Invalid email address","auth/operation-not-allowed":"Operation not allowed","auth/weak-password":"Password is too weak","auth/user-disabled":"This account has been disabled","auth/user-not-found":"No account found with this email","auth/wrong-password":"Incorrect password","auth/invalid-credential":"Invalid credentials","auth/too-many-requests":"Too many attempts. Please try again later","auth/network-request-failed":"Network error. Please check your connection","auth/popup-closed-by-user":"Sign-in popup was closed","auth/cancelled-popup-request":"Only one popup request is allowed at a time"}[t]||"An unexpected error occurred. Please try again."}}const Rl=new PC;class OC{async getDocument(t,e){try{const n=Sh(Ol,t,e),s=await h7(n);return s.exists()?{id:s.id,...s.data()}:null}catch(n){throw console.error("Error getting document:",n),n}}async getDocuments(t,e){try{const n=this.buildQueryConstraints(e),s=I0(Ol,t),o=iw(s,...n);return(await d7(o)).docs.map(u=>({id:u.id,...u.data()}))}catch(n){throw console.error("Error getting documents:",n),n}}async addDocument(t,e){try{const n=I0(Ol,t),s={...e,createdAt:Pd(),updatedAt:Pd()};return(await g7(n,s)).id}catch(n){throw console.error("Error adding document:",n),n}}async setDocument(t,e,n,s=!1){try{const o=Sh(Ol,t,e),u={...n,createdAt:Pd(),updatedAt:Pd()};await f7(o,u,{merge:s})}catch(o){throw console.error("Error setting document:",o),o}}async updateDocument(t,e,n){try{const s=Sh(Ol,t,e),o={...n,updatedAt:Pd()};await p7(s,o)}catch(s){throw console.error("Error updating document:",s),s}}async deleteDocument(t,e){try{const n=Sh(Ol,t,e);await m7(n)}catch(n){throw console.error("Error deleting document:",n),n}}subscribeToDocument(t,e,n){const s=Sh(Ol,t,e);return ow(s,o=>{o.exists()?n({id:o.id,...o.data()}):n(null)},o=>{console.error("Error in document subscription:",o),n(null)})}subscribeToCollection(t,e,n){const s=this.buildQueryConstraints(n),o=I0(Ol,t),u=iw(o,...s);return ow(u,h=>{const d=h.docs.map(m=>({id:m.id,...m.data()}));e(d)},h=>{console.error("Error in collection subscription:",h),e([])})}buildQueryConstraints(t){const e=[];return t&&(t.where&&t.where.forEach(n=>{e.push(i7(n.field,n.operator,n.value))}),t.orderBy&&t.orderBy.forEach(n=>{e.push(a7(n.field,n.direction||"asc"))}),t.limit&&e.push(s7(t.limit)),t.startAfter&&e.push(o7(t.startAfter))),e}async batchWrite(t){try{const e=t.map(n=>{switch(n.type){case"add":return this.addDocument(n.collection,n.data);case"set":if(!n.docId)throw new Error("docId required for set operation");return this.setDocument(n.collection,n.docId,n.data);case"update":if(!n.docId)throw new Error("docId required for update operation");return this.updateDocument(n.collection,n.docId,n.data);case"delete":if(!n.docId)throw new Error("docId required for delete operation");return this.deleteDocument(n.collection,n.docId);default:throw new Error(`Unknown operation type: ${n.type}`)}});await Promise.all(e)}catch(e){throw console.error("Error in batch write:",e),e}}}const Hp=new OC,mh=r=>r?{id:r.uid,name:r.displayName||"Rafnas",email:r.email||"",avatar:r.photoURL||void 0,emailVerified:r.emailVerified}:null,RC=R4()(j4(r=>({user:null,firebaseUser:null,isAuthenticated:!1,isLoading:!0,error:null,setUser:t=>{const e=mh(t);r({firebaseUser:t,user:e,isAuthenticated:!!t,isLoading:!1},!1,"setUser")},signUp:async(t,e,n)=>{r({isLoading:!0,error:null},!1,"signUp:start");try{const s=await Rl.signUp(t,e,n),o=mh(s);r({firebaseUser:s,user:o,isAuthenticated:!0,isLoading:!1,error:null},!1,"signUp:success")}catch(s){throw r({error:s.message||"Failed to sign up",isLoading:!1},!1,"signUp:error"),s}},signIn:async(t,e)=>{r({isLoading:!0,error:null},!1,"signIn:start");try{const n=await Rl.signIn(t,e),s=mh(n);r({firebaseUser:n,user:s,isAuthenticated:!0,isLoading:!1,error:null},!1,"signIn:success")}catch(n){throw r({error:n.message||"Failed to sign in",isLoading:!1},!1,"signIn:error"),n}},signInWithGoogle:async()=>{r({isLoading:!0,error:null},!1,"signInWithGoogle:start");try{const t=await Rl.signInWithGoogle(),e=mh(t);r({firebaseUser:t,user:e,isAuthenticated:!0,isLoading:!1,error:null},!1,"signInWithGoogle:success")}catch(t){throw r({error:t.message||"Failed to sign in with Google",isLoading:!1},!1,"signInWithGoogle:error"),t}},signInWithGithub:async()=>{r({isLoading:!0,error:null},!1,"signInWithGithub:start");try{const t=await Rl.signInWithGithub(),e=mh(t);r({firebaseUser:t,user:e,isAuthenticated:!0,isLoading:!1,error:null},!1,"signInWithGithub:success")}catch(t){throw r({error:t.message||"Failed to sign in with GitHub",isLoading:!1},!1,"signInWithGithub:error"),t}},signOut:async()=>{r({isLoading:!0,error:null},!1,"signOut:start");try{await Rl.signOut(),r({user:null,firebaseUser:null,isAuthenticated:!1,isLoading:!1,error:null},!1,"signOut:success")}catch(t){throw r({error:t.message||"Failed to sign out",isLoading:!1},!1,"signOut:error"),t}},resetPassword:async t=>{r({isLoading:!0,error:null},!1,"resetPassword:start");try{await Rl.resetPassword(t),r({isLoading:!1,error:null},!1,"resetPassword:success")}catch(e){throw r({error:e.message||"Failed to reset password",isLoading:!1},!1,"resetPassword:error"),e}},updateProfile:async t=>{r({isLoading:!0,error:null},!1,"updateProfile:start");try{await Rl.updateUserProfile(t);const e=Rl.getCurrentUser(),n=mh(e);r({firebaseUser:e,user:n,isLoading:!1,error:null},!1,"updateProfile:success")}catch(e){throw r({error:e.message||"Failed to update profile",isLoading:!1},!1,"updateProfile:error"),e}},clearError:()=>{r({error:null},!1,"clearError")}}),{name:"AuthStore"}));function S_(){const{user:r,isAuthenticated:t,isLoading:e,error:n,signUp:s,signIn:o,signInWithGoogle:u,signInWithGithub:h,signOut:d,resetPassword:m,updateProfile:v,clearError:_,setUser:A}=RC();return Ge.useEffect(()=>{const w=Rl.onAuthStateChanged(M=>{A(M)});return()=>w()},[A]),{user:r,isAuthenticated:t,isLoading:e,error:n,signUp:s,signIn:o,signInWithGoogle:u,signInWithGithub:h,signOut:d,resetPassword:m,updateProfile:v,clearError:_}}function wm(r,t){const[e,n]=Ge.useState([]),[s,o]=Ge.useState(!0),[u,h]=Ge.useState(null),d=JSON.stringify(t);return Ge.useEffect(()=>{let m;return(async()=>{try{o(!0),h(null),m=Hp.subscribeToCollection(r,v=>{n(v),o(!1)},t)}catch(v){h(v instanceof Error?v:new Error("Failed to fetch collection")),o(!1)}})(),()=>{m&&m()}},[r,d]),{data:e,loading:s,error:u}}function W2(r){const[t,e]=Ge.useState(!1),[n,s]=Ge.useState(null),o=Ge.useCallback(async d=>{try{e(!0),s(null);const m=await Hp.addDocument(r,d);return e(!1),m}catch(m){const v=m instanceof Error?m:new Error("Failed to add document");throw s(v),e(!1),v}},[r]),u=Ge.useCallback(async(d,m)=>{try{e(!0),s(null),await Hp.updateDocument(r,d,m),e(!1)}catch(v){const _=v instanceof Error?v:new Error("Failed to update document");throw s(_),e(!1),_}},[r]),h=Ge.useCallback(async d=>{try{e(!0),s(null),await Hp.deleteDocument(r,d),e(!1)}catch(m){const v=m instanceof Error?m:new Error("Failed to delete document");throw s(v),e(!1),v}},[r]);return{add:o,update:u,remove:h,loading:t,error:n}}function jC(){const{signIn:r,isLoading:t,error:e,clearError:n}=S_(),[s,o]=Ge.useState(""),[u,h]=Ge.useState(""),d=async m=>{m.preventDefault(),n();try{await r(s,u)}catch(v){console.error("Login error:",v)}};return E.jsxs("div",{className:"min-h-screen flex",children:[E.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-white items-center justify-center p-12",children:E.jsx("img",{src:"/Florale Logo-09.png",alt:"Florale Logo",className:"max-w-full max-h-full object-contain"})}),E.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50",children:E.jsxs("div",{className:"w-full max-w-md",children:[E.jsxs("div",{className:"lg:hidden text-center mb-8",children:[E.jsx("img",{src:"/Florale Logo-09.png",alt:"Florale Logo",className:"h-24 w-auto object-contain mx-auto mb-4"}),E.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Florale"}),E.jsx("p",{className:"text-gray-600",children:"Management Portal"})]}),E.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-200",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome Back"}),E.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Sign in to your account"})]}),e&&E.jsx("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:E.jsx("p",{className:"text-red-700 text-sm font-medium",children:e})}),E.jsxs("form",{onSubmit:d,className:"space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),E.jsx("input",{id:"email",type:"email",value:s,onChange:m=>o(m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",placeholder:"your@email.com",required:!0,disabled:t})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),E.jsx("input",{id:"password",type:"password",value:u,onChange:m=>h(m.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",placeholder:"Enter your password",required:!0,disabled:t})]}),E.jsx("button",{type:"submit",disabled:t,className:"w-full py-3 px-6 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-gray-700 active:scale-95",children:t?E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})]}),E.jsx("div",{className:"mt-6 text-center",children:E.jsx("p",{className:"text-xs text-gray-500",children:"Secure Login  Florale Management Portal"})})]})]})})]})}const yc={PRODUCTS:"products",CATEGORIES:"categories"},FC=async(r,t)=>{try{const e=Date.now(),n=`${t}_${e}_${r.name}`,s=AC(__,`products/${n}`);return await NC(s,r),await kC(s)}catch(e){throw console.error("Error uploading image:",e),new Error("Failed to upload image")}};function DC({onSuccess:r}){const{add:t,loading:e}=W2(yc.PRODUCTS),{data:n}=wm(yc.CATEGORIES,{orderBy:[{field:"name",direction:"asc"}]}),[s,o]=Ge.useState({name:"",category:"",retailPrice:"",wholesalePrice:"",stock:"",description:"",discountType:"none",discountValue:""}),[u,h]=Ge.useState(null),[d,m]=Ge.useState(""),v=A=>{const w=A.target.files?.[0];if(w){h(w);const M=new FileReader;M.onloadend=()=>{m(M.result)},M.readAsDataURL(w)}},_=async A=>{A.preventDefault();try{const w=`temp_${Date.now()}`;let M="";u&&(M=await FC(u,w));const F=parseFloat(s.retailPrice),$=parseFloat(s.wholesalePrice);await t({name:s.name,category:s.category,price:F,retailPrice:F,wholesalePrice:$,stock:s.stock?parseInt(s.stock):0,description:s.description,imageUrl:M,discountType:s.discountType,discountValue:parseFloat(s.discountValue)||0,isActive:!0}),o({name:"",category:"",retailPrice:"",wholesalePrice:"",stock:"",description:"",discountType:"none",discountValue:""}),h(null),m(""),alert(" Product added successfully! Redirecting to products list..."),r?.()}catch(w){console.error("Error adding product:",w),alert(" Failed to add product")}};return E.jsxs("form",{onSubmit:_,className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4 pb-2 border-b",children:" Basic Information"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),E.jsx("input",{type:"text",value:s.name,onChange:A=>o({...s,name:A.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"e.g., Red Roses",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),E.jsxs("select",{value:s.category,onChange:A=>o({...s,category:A.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",required:!0,children:[E.jsx("option",{value:"",children:"Select a category"}),n?.map(A=>E.jsxs("option",{value:A.name,children:[A.icon," ",A.name.charAt(0).toUpperCase()+A.name.slice(1)]},A.id))]}),(!n||n.length===0)&&E.jsxs("p",{className:"text-xs text-amber-600 mt-2 flex items-center gap-1",children:[E.jsx("span",{children:""}),E.jsx("span",{children:"No categories available. Please add categories first."})]})]})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4 pb-2 border-b",children:" Pricing & Stock"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Retail Price () *"}),E.jsx("input",{type:"number",step:"0.01",value:s.retailPrice,onChange:A=>o({...s,retailPrice:A.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"100.00",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wholesale Price () *"}),E.jsx("input",{type:"number",step:"0.01",value:s.wholesalePrice,onChange:A=>o({...s,wholesalePrice:A.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"80.00",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity"}),E.jsx("input",{type:"number",value:s.stock,onChange:A=>o({...s,stock:A.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"50 (Optional)"})]})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4 pb-2 border-b",children:" Discount (Optional)"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Type"}),E.jsxs("select",{value:s.discountType,onChange:A=>o({...s,discountType:A.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",children:[E.jsx("option",{value:"none",children:"No Discount"}),E.jsx("option",{value:"amount",children:"Fixed Amount ()"}),E.jsx("option",{value:"percentage",children:"Percentage (%)"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Value"}),E.jsx("input",{type:"number",step:"0.01",value:s.discountValue,onChange:A=>o({...s,discountValue:A.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:s.discountType==="percentage"?"10":"50.00",disabled:s.discountType==="none"})]})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4 pb-2 border-b",children:" Additional Details"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),E.jsx("textarea",{value:s.description,onChange:A=>o({...s,description:A.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"Brief description of the product...",rows:3})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Image (Optional)"}),E.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-indigo-600 file:text-white file:font-medium hover:file:bg-indigo-700 file:cursor-pointer"}),d&&E.jsxs("div",{className:"mt-4",children:[E.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Preview:"}),E.jsx("img",{src:d,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-200 shadow"})]})]})]})]}),E.jsx("div",{className:"pt-4 border-t",children:E.jsx("button",{type:"submit",disabled:e,className:"w-full py-3 px-6 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-gray-700 active:scale-95",children:e?E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsx("span",{className:"animate-spin",children:""})," Adding Product..."]}):E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsx("span",{children:""})," Add Product to Inventory"]})})})]})}var MC=O4();const T0=24,UC="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRssaEpDZ2QDfCM4FHEBDx6C9lJ2VolMcKtvm3QdvSxTcDrWnMjzAUAja636gNn0LBYlbY&usqp=CAU";function BC({onAddToCart:r}){const[t,e]=Ge.useState(1),[n,s]=Ge.useState(""),[o,u]=Ge.useState("all"),[h,d]=Ge.useState("all"),[m,v]=Ge.useState("all"),[_,A]=Ge.useState("all"),[w,M]=Ge.useState(!1),[F,$]=Ge.useState("retail"),{data:B,loading:et,error:tt}=wm(yc.PRODUCTS,{orderBy:[{field:"createdAt",direction:"desc"}]}),{data:ct}=wm(yc.CATEGORIES),At={};ct?.forEach(Z=>{At[Z.name]=Z.icon});const{remove:It,loading:Q}=W2(yc.PRODUCTS),N=Ge.useMemo(()=>B?B.filter(Z=>{if(n){const bt=n.toLowerCase(),qt=Z.name.toLowerCase().includes(bt),H=Z.category.toLowerCase().includes(bt),O=Z.description?.toLowerCase().includes(bt);if(!qt&&!H&&!O)return!1}if(o!=="all"&&Z.category!==o||h!=="all"&&(h==="low"&&Z.price>=500||h==="medium"&&(Z.price<500||Z.price>=2e3)||h==="high"&&Z.price<2e3))return!1;if(m!=="all"){const bt=Z.discountType!=="none"&&Z.discountValue>0;if(m==="yes"&&!bt||m==="no"&&bt)return!1}return!(_!=="all"&&(_==="low"&&Z.stock>=10||_==="available"&&Z.stock<10))}):[],[B,n,o,h,m,_]),C=()=>{s(""),u("all"),d("all"),v("all"),A("all"),e(1)};Ge.useMemo(()=>{e(1)},[n,o,h,m,_]);const q=n!==""||o!=="all"||h!=="all"||m!=="all"||_!=="all",L=async(Z,bt)=>{if(confirm(`Are you sure you want to delete "${bt}"?`))try{await It(Z),alert(" Product deleted successfully!")}catch(qt){console.error("Error deleting product:",qt),alert(" Failed to delete product")}},R=Z=>{if(r){const bt=F==="retail"?Z.retailPrice||Z.price:Z.wholesalePrice||Z.price;r({...Z,priceType:F,selectedPrice:bt,quantity:1})}};if(et)return E.jsxs("div",{className:"text-center py-12",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"}),E.jsx("p",{className:"mt-4 text-gray-600",children:"Loading products..."})]});if(tt)return E.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-lg",children:E.jsxs("p",{className:"text-red-700",children:["Error loading products: ",tt.message]})});if(!B||B.length===0)return E.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300",children:[E.jsx("span",{className:"text-6xl mb-4 block",children:""}),E.jsx("p",{className:"text-gray-600 text-lg",children:"No products yet"}),E.jsx("p",{className:"text-gray-500 text-sm",children:"Add your first product using the form above"})]});const j=Math.ceil(N.length/T0),ot=(t-1)*T0,_t=ot+T0,nt=N.slice(ot,_t),ut=E.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mt-4 md:mt-0",children:[E.jsxs("div",{className:"relative flex-1",children:[E.jsx("input",{type:"text",placeholder:"Search products by name, category, or description...",value:n,onChange:Z=>s(Z.target.value),className:"w-full px-4 py-2.5 pl-10 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none"}),E.jsx("span",{className:"absolute left-3 top-2.5 text-gray-400 text-lg",children:""}),n&&E.jsx("button",{onClick:()=>s(""),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:""})]}),E.jsxs("div",{className:"flex items-center rounded-lg bg-gray-200 p-1",children:[E.jsx("button",{onClick:()=>$("retail"),className:`px-4 py-1.5 text-sm font-semibold rounded-md transition-all ${F==="retail"?"bg-white text-blue-600 shadow":"text-gray-600"}`,children:"Retail"}),E.jsx("button",{onClick:()=>$("wholesale"),className:`px-4 py-1.5 text-sm font-semibold rounded-md transition-all ${F==="wholesale"?"bg-white text-green-600 shadow":"text-gray-600"}`,children:"Wholesale"})]}),E.jsxs("button",{onClick:()=>M(!0),className:"px-6 py-2.5 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all flex items-center gap-2 whitespace-nowrap border border-gray-700 active:scale-95",children:[E.jsx("span",{children:""}),E.jsx("span",{children:"Filters"}),q&&E.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:[o!=="all",h!=="all",m!=="all",_!=="all"].filter(Boolean).length})]})]});return E.jsxs("div",{className:"p-6",children:[typeof document<"u"&&document.getElementById("products-search-filter-container")&&MC.createPortal(ut,document.getElementById("products-search-filter-container")),q&&E.jsxs("div",{className:"mb-4 flex items-center gap-2 flex-wrap",children:[E.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Active Filters:"}),n&&E.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:['"',n,'"',E.jsx("button",{onClick:()=>s(""),className:"hover:text-blue-900",children:""})]}),o!=="all"&&E.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm flex items-center gap-1",children:[o,E.jsx("button",{onClick:()=>u("all"),className:"hover:text-purple-900",children:""})]}),h!=="all"&&E.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm flex items-center gap-1",children:[h," price",E.jsx("button",{onClick:()=>d("all"),className:"hover:text-indigo-900",children:""})]}),m!=="all"&&E.jsxs("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-sm flex items-center gap-1",children:[m==="yes"?"with discount":"no discount",E.jsx("button",{onClick:()=>v("all"),className:"hover:text-amber-900",children:""})]}),_!=="all"&&E.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:[_," stock",E.jsx("button",{onClick:()=>A("all"),className:"hover:text-green-900",children:""})]}),E.jsx("button",{onClick:C,className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full text-sm font-medium",children:"Clear All"})]}),w&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>M(!1)}),E.jsxs("div",{className:"fixed lg:right-0 lg:top-0 lg:bottom-0 lg:w-96 bottom-0 left-0 right-0 lg:max-h-screen max-h-[80vh] bg-white z-50 shadow-2xl lg:rounded-l-2xl rounded-t-2xl overflow-hidden flex flex-col transition-transform duration-300 ease-out",style:{animation:window.innerWidth>=1024?"slideInFromRight 0.3s ease-out":"slideInFromBottom 0.3s ease-out"},children:[E.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 flex items-center justify-between",children:[E.jsx("h3",{className:"text-xl font-bold",children:" Filters"}),E.jsx("button",{onClick:()=>M(!1),className:"text-white hover:bg-white/20 rounded-full p-2 transition-all",children:""})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category"}),E.jsxs("select",{value:o,onChange:Z=>u(Z.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",children:[E.jsx("option",{value:"all",children:"All Categories"}),ct?.map(Z=>E.jsxs("option",{value:Z.name,children:[Z.icon," ",Z.name.charAt(0).toUpperCase()+Z.name.slice(1)]},Z.id))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price Range"}),E.jsxs("select",{value:h,onChange:Z=>d(Z.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",children:[E.jsx("option",{value:"all",children:"All Prices"}),E.jsx("option",{value:"low",children:"Under 500"}),E.jsx("option",{value:"medium",children:"500 - 2000"}),E.jsx("option",{value:"high",children:"Above 2000"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Discount"}),E.jsxs("select",{value:m,onChange:Z=>v(Z.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",children:[E.jsx("option",{value:"all",children:"All Products"}),E.jsx("option",{value:"yes",children:"With Discount"}),E.jsx("option",{value:"no",children:"No Discount"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Stock Status"}),E.jsxs("select",{value:_,onChange:Z=>A(Z.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",children:[E.jsx("option",{value:"all",children:"All Stock Levels"}),E.jsx("option",{value:"low",children:"Low Stock (<10)"}),E.jsx("option",{value:"available",children:"Available (10)"})]})]})]}),E.jsxs("div",{className:"border-t p-4 space-y-2 bg-gray-50",children:[E.jsx("button",{onClick:C,className:"w-full py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-medium transition-all",children:"Reset All Filters"}),E.jsx("button",{onClick:()=>M(!1),className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold shadow-md transition-all",children:"Apply Filters"})]})]})]}),E.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[E.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",N.length>0?ot+1:0,"-",Math.min(_t,N.length)," of ",N.length," products",N.length!==B.length&&E.jsxs("span",{className:"text-gray-500",children:[" (filtered from ",B.length," total)"]})]}),j>1&&E.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",t," of ",j]})]}),N.length===0&&E.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300 mb-6",children:[E.jsx("span",{className:"text-6xl mb-4 block",children:""}),E.jsx("p",{className:"text-gray-600 text-lg",children:"No products match your filters"}),E.jsx("button",{onClick:C,className:"mt-4 px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium",children:"Clear Filters"})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:nt.map(Z=>E.jsxs("div",{className:`bg-white rounded-xl shadow-sm border hover:shadow-lg transition-all flex flex-col ${Z.isActive?"border-gray-200":"border-gray-200 opacity-60"}`,children:[E.jsxs("div",{className:"relative",children:[E.jsx("img",{src:Z.imageUrl||UC,alt:Z.name,className:"w-full h-40 object-contain bg-gray-50 rounded-t-xl"}),E.jsx("div",{className:"absolute top-2 right-2",children:E.jsx("button",{onClick:()=>L(Z.id,Z.name),disabled:Q,className:"text-red-500 hover:text-red-700 p-1",title:"Delete product",children:""})})]}),E.jsxs("div",{className:"p-3 flex flex-col flex-1",children:[E.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[E.jsx("span",{className:"text-2xl",children:At[Z.category]||""}),E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"font-bold text-sm text-gray-900 line-clamp-1",children:Z.name}),E.jsx("p",{className:"text-xs text-gray-500 capitalize",children:Z.category})]})]}),E.jsxs("div",{className:"mb-2",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[E.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-200",children:[E.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Retail"}),E.jsxs("p",{className:"text-sm font-bold text-blue-700",children:["",Z.retailPrice||Z.price]})]}),E.jsxs("div",{className:"bg-green-50 p-2 rounded border border-green-200",children:[E.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Wholesale"}),E.jsxs("p",{className:"text-sm font-bold text-green-700",children:["",Z.wholesalePrice||Z.price]})]})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("p",{className:"text-xs text-gray-500",children:"Stock"}),E.jsxs("p",{className:`text-sm font-bold ${Z.stock<10?"text-red-600":"text-green-600"}`,children:[Z.stock," units"]})]})]}),E.jsx("div",{className:"mb-2 min-h-[2.5rem] flex items-start",children:Z.discountType!=="none"&&Z.discountValue>0&&E.jsx("div",{className:"p-1.5 bg-amber-50 border border-amber-200 rounded text-xs w-full",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-amber-700 font-medium",children:Z.discountType==="percentage"?`${Z.discountValue}% OFF`:`${Z.discountValue} OFF`}),E.jsxs("span",{className:"text-amber-700 font-bold",children:["",Z.discountType==="percentage"?(Z.price-Z.price*Z.discountValue/100).toFixed(2):(Z.price-Z.discountValue).toFixed(2)]})]})})}),r&&E.jsxs("button",{onClick:()=>R(Z),className:"w-full py-2.5 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white rounded-lg font-semibold transition-all text-sm flex items-center justify-center gap-1.5 mt-auto shadow-lg hover:shadow-xl active:scale-95 border border-gray-700",children:[E.jsx("span",{className:"text-base",children:""})," Add to Cart"]})]})]},Z.id))}),j>1&&E.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2",children:[E.jsx("button",{onClick:()=>e(Z=>Math.max(1,Z-1)),disabled:t===1,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:" Previous"}),E.jsx("div",{className:"flex gap-1",children:Array.from({length:j},(Z,bt)=>bt+1).map(Z=>{const bt=Z===1||Z===j||Z>=t-1&&Z<=t+1;return!bt&&Z===t-2?E.jsx("span",{className:"px-2 py-2 text-gray-400",children:"..."},Z):!bt&&Z===t+2?E.jsx("span",{className:"px-2 py-2 text-gray-400",children:"..."},Z):bt?E.jsx("button",{onClick:()=>e(Z),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${t===Z?"bg-indigo-600 text-white shadow-md":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:Z},Z):null})}),E.jsx("button",{onClick:()=>e(Z=>Math.min(j,Z+1)),disabled:t===j,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next "})]})]})}function qC(){const{data:r,loading:t,error:e}=wm(yc.CATEGORIES,{orderBy:[{field:"createdAt",direction:"asc"}]}),{add:n,remove:s,loading:o}=W2(yc.CATEGORIES),[u,h]=Ge.useState({name:"",icon:""}),[d,m]=Ge.useState(!1),v=async A=>{if(A.preventDefault(),!u.name.trim()||!u.icon.trim()){alert(" Please provide both name and icon");return}try{await n({name:u.name.toLowerCase(),icon:u.icon}),h({name:"",icon:""}),m(!1),alert(" Category added successfully!")}catch(w){console.error("Error adding category:",w),alert(" Failed to add category")}},_=async(A,w)=>{if(confirm(`Are you sure you want to delete "${w}" category?`))try{await s(A),alert(" Category deleted successfully!")}catch(M){console.error("Error deleting category:",M),alert(" Failed to delete category")}};return t?E.jsxs("div",{className:"text-center py-8",children:[E.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto"}),E.jsx("p",{className:"mt-2 text-gray-600 text-sm",children:"Loading categories..."})]}):e?E.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 rounded-lg",children:E.jsxs("p",{className:"text-red-700 text-sm",children:["Error loading categories: ",e.message]})}):E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("div",{children:E.jsx("p",{className:"text-sm text-gray-600",children:"Organize your products with custom categories"})}),E.jsx("button",{onClick:()=>m(!d),className:`px-5 py-2.5 rounded-xl font-semibold text-sm shadow-lg transition-all border active:scale-95 ${d?"bg-gray-500 hover:bg-gray-600 text-white border-gray-600":"bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white border-gray-700"}`,children:d?" Cancel":"+ Add New Category"})]}),d&&E.jsxs("form",{onSubmit:v,className:"bg-gradient-to-r from-purple-50 to-indigo-50 p-6 rounded-xl border-2 border-purple-200 shadow-lg",children:[E.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-4 flex items-center gap-2",children:[E.jsx("span",{children:""})," Create New Category"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category Name *"}),E.jsx("input",{type:"text",value:u.name,onChange:A=>h({...u,name:A.target.value}),className:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none bg-white",placeholder:"e.g., dried flowers",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Icon (Emoji) *"}),E.jsx("input",{type:"text",value:u.icon,onChange:A=>h({...u,icon:A.target.value}),className:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none text-2xl text-center bg-white",placeholder:"",required:!0})]})]}),E.jsx("button",{type:"submit",disabled:o,className:"mt-4 w-full px-4 py-3 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50 border border-gray-700 active:scale-95",children:o?E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsx("span",{className:"animate-spin",children:""})," Adding..."]}):E.jsxs("span",{className:"flex items-center justify-center gap-2",children:[E.jsx("span",{children:""})," Create Category"]})})]}),E.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:r?.map(A=>E.jsx("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-xl shadow-md p-4 border-2 border-purple-200 hover:shadow-xl hover:scale-105 transition-all group",children:E.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[E.jsx("span",{className:"text-4xl",children:A.icon}),E.jsx("span",{className:"text-sm font-bold text-gray-800 capitalize",children:A.name}),E.jsx("button",{onClick:()=>_(A.id,A.name),disabled:o,className:"mt-2 w-full px-2 py-1 bg-red-50 hover:bg-red-100 text-red-600 text-xs font-semibold rounded-lg transition-all disabled:opacity-50 opacity-0 group-hover:opacity-100",children:" Delete"})]})},A.id))}),(!r||r.length===0)&&!d&&E.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[E.jsx("span",{className:"text-4xl block mb-2",children:""}),E.jsx("p",{className:"text-gray-600 text-sm",children:"No categories yet"}),E.jsx("p",{className:"text-gray-500 text-xs",children:'Click "Add Category" to create one'})]})]})}const zC="modulepreload",VC=function(r){return"/"+r},fw={},P0=function(r,t,e){let n=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");n=o(t.map(d=>{if(d=VC(d),d in fw)return;fw[d]=!0;const m=d.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":zC,m||(_.as="script"),_.crossOrigin="",_.href=d,h&&_.setAttribute("nonce",h),document.head.appendChild(_),m)return new Promise((A,w)=>{_.addEventListener("load",A),_.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return n.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return r().catch(s)})};function Qr(r){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(r)}var mo=Uint8Array,qs=Uint16Array,H2=Int32Array,K2=new mo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),G2=new mo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),pw=new mo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N_=function(r,t){for(var e=new qs(31),n=0;n<31;++n)e[n]=t+=1<<r[n-1];for(var s=new H2(e[30]),n=1;n<30;++n)for(var o=e[n];o<e[n+1];++o)s[o]=o-e[n]<<5|n;return{b:e,r:s}},k_=N_(K2,2),$C=k_.b,I1=k_.r;$C[28]=258,I1[258]=28;var WC=N_(G2,0),mw=WC.r,A_=new qs(32768);for(var vn=0;vn<32768;++vn){var Nu=(vn&43690)>>1|(vn&21845)<<1;Nu=(Nu&52428)>>2|(Nu&13107)<<2,Nu=(Nu&61680)>>4|(Nu&3855)<<4,A_[vn]=((Nu&65280)>>8|(Nu&255)<<8)>>1}var Gd=(function(r,t,e){for(var n=r.length,s=0,o=new qs(t);s<n;++s)r[s]&&++o[r[s]-1];var u=new qs(t);for(s=1;s<t;++s)u[s]=u[s-1]+o[s-1]<<1;var h;for(h=new qs(n),s=0;s<n;++s)r[s]&&(h[s]=A_[u[r[s]-1]++]>>15-r[s]);return h}),Ec=new mo(288);for(var vn=0;vn<144;++vn)Ec[vn]=8;for(var vn=144;vn<256;++vn)Ec[vn]=9;for(var vn=256;vn<280;++vn)Ec[vn]=7;for(var vn=280;vn<288;++vn)Ec[vn]=8;var xm=new mo(32);for(var vn=0;vn<32;++vn)xm[vn]=5;var HC=Gd(Ec,9),KC=Gd(xm,5),E_=function(r){return(r+7)/8|0},GC=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new mo(r.subarray(t,e))},Tl=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8},Rd=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8,r[n+2]|=e>>16},O0=function(r,t){for(var e=[],n=0;n<r.length;++n)r[n]&&e.push({s:n,f:r[n]});var s=e.length,o=e.slice();if(!s)return{t:L_,l:0};if(s==1){var u=new mo(e[0].s+1);return u[e[0].s]=1,{t:u,l:1}}e.sort(function(At,It){return At.f-It.f}),e.push({s:-1,f:25001});var h=e[0],d=e[1],m=0,v=1,_=2;for(e[0]={s:-1,f:h.f+d.f,l:h,r:d};v!=s-1;)h=e[e[m].f<e[_].f?m++:_++],d=e[m!=v&&e[m].f<e[_].f?m++:_++],e[v++]={s:-1,f:h.f+d.f,l:h,r:d};for(var A=o[0].s,n=1;n<s;++n)o[n].s>A&&(A=o[n].s);var w=new qs(A+1),M=L1(e[v-1],w,0);if(M>t){var n=0,F=0,$=M-t,B=1<<$;for(o.sort(function(It,Q){return w[Q.s]-w[It.s]||It.f-Q.f});n<s;++n){var et=o[n].s;if(w[et]>t)F+=B-(1<<M-w[et]),w[et]=t;else break}for(F>>=$;F>0;){var tt=o[n].s;w[tt]<t?F-=1<<t-w[tt]++-1:++n}for(;n>=0&&F;--n){var ct=o[n].s;w[ct]==t&&(--w[ct],++F)}M=t}return{t:new mo(w),l:M}},L1=function(r,t,e){return r.s==-1?Math.max(L1(r.l,t,e+1),L1(r.r,t,e+1)):t[r.s]=e},gw=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new qs(++t),n=0,s=r[0],o=1,u=function(d){e[n++]=d},h=1;h<=t;++h)if(r[h]==s&&h!=t)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=r[h]}return{c:e.subarray(0,n),n:t}},jd=function(r,t){for(var e=0,n=0;n<t.length;++n)e+=r[n]*t[n];return e},I_=function(r,t,e){var n=e.length,s=E_(t+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var o=0;o<n;++o)r[s+o+4]=e[o];return(s+4+n)*8},yw=function(r,t,e,n,s,o,u,h,d,m,v){Tl(t,v++,e),++s[256];for(var _=O0(s,15),A=_.t,w=_.l,M=O0(o,15),F=M.t,$=M.l,B=gw(A),et=B.c,tt=B.n,ct=gw(F),At=ct.c,It=ct.n,Q=new qs(19),N=0;N<et.length;++N)++Q[et[N]&31];for(var N=0;N<At.length;++N)++Q[At[N]&31];for(var C=O0(Q,7),q=C.t,L=C.l,R=19;R>4&&!q[pw[R-1]];--R);var j=m+5<<3,ot=jd(s,Ec)+jd(o,xm)+u,_t=jd(s,A)+jd(o,F)+u+14+3*R+jd(Q,q)+2*Q[16]+3*Q[17]+7*Q[18];if(d>=0&&j<=ot&&j<=_t)return I_(t,v,r.subarray(d,d+m));var nt,ut,Z,bt;if(Tl(t,v,1+(_t<ot)),v+=2,_t<ot){nt=Gd(A,w),ut=A,Z=Gd(F,$),bt=F;var qt=Gd(q,L);Tl(t,v,tt-257),Tl(t,v+5,It-1),Tl(t,v+10,R-4),v+=14;for(var N=0;N<R;++N)Tl(t,v+3*N,q[pw[N]]);v+=3*R;for(var H=[et,At],O=0;O<2;++O)for(var K=H[O],N=0;N<K.length;++N){var X=K[N]&31;Tl(t,v,qt[X]),v+=q[X],X>15&&(Tl(t,v,K[N]>>5&127),v+=K[N]>>12)}}else nt=HC,ut=Ec,Z=KC,bt=xm;for(var N=0;N<h;++N){var st=n[N];if(st>255){var X=st>>18&31;Rd(t,v,nt[X+257]),v+=ut[X+257],X>7&&(Tl(t,v,st>>23&31),v+=K2[X]);var dt=st&31;Rd(t,v,Z[dt]),v+=bt[dt],dt>3&&(Rd(t,v,st>>5&8191),v+=G2[dt])}else Rd(t,v,nt[st]),v+=ut[st]}return Rd(t,v,nt[256]),v+ut[256]},QC=new H2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),L_=new mo(0),YC=function(r,t,e,n,s,o){var u=o.z||r.length,h=new mo(n+u+5*(1+Math.ceil(u/7e3))+s),d=h.subarray(n,h.length-s),m=o.l,v=(o.r||0)&7;if(t){v&&(d[0]=o.r>>3);for(var _=QC[t-1],A=_>>13,w=_&8191,M=(1<<e)-1,F=o.p||new qs(32768),$=o.h||new qs(M+1),B=Math.ceil(e/3),et=2*B,tt=function(jt){return(r[jt]^r[jt+1]<<B^r[jt+2]<<et)&M},ct=new H2(25e3),At=new qs(288),It=new qs(32),Q=0,N=0,C=o.i||0,q=0,L=o.w||0,R=0;C+2<u;++C){var j=tt(C),ot=C&32767,_t=$[j];if(F[ot]=_t,$[j]=ot,L<=C){var nt=u-C;if((Q>7e3||q>24576)&&(nt>423||!m)){v=yw(r,d,0,ct,At,It,N,q,R,C-R,v),q=Q=N=0,R=C;for(var ut=0;ut<286;++ut)At[ut]=0;for(var ut=0;ut<30;++ut)It[ut]=0}var Z=2,bt=0,qt=w,H=ot-_t&32767;if(nt>2&&j==tt(C-H))for(var O=Math.min(A,nt)-1,K=Math.min(32767,C),X=Math.min(258,nt);H<=K&&--qt&&ot!=_t;){if(r[C+Z]==r[C+Z-H]){for(var st=0;st<X&&r[C+st]==r[C+st-H];++st);if(st>Z){if(Z=st,bt=H,st>O)break;for(var dt=Math.min(H,st-2),yt=0,ut=0;ut<dt;++ut){var Tt=C-H+ut&32767,Nt=F[Tt],Mt=Tt-Nt&32767;Mt>yt&&(yt=Mt,_t=Tt)}}}ot=_t,_t=F[ot],H+=ot-_t&32767}if(bt){ct[q++]=268435456|I1[Z]<<18|mw[bt];var Yt=I1[Z]&31,te=mw[bt]&31;N+=K2[Yt]+G2[te],++At[257+Yt],++It[te],L=C+Z,++Q}else ct[q++]=r[C],++At[r[C]]}}for(C=Math.max(C,L);C<u;++C)ct[q++]=r[C],++At[r[C]];v=yw(r,d,m,ct,At,It,N,q,R,C-R,v),m||(o.r=v&7|d[v/8|0]<<3,v-=7,o.h=$,o.p=F,o.i=C,o.w=L)}else{for(var C=o.w||0;C<u+m;C+=65535){var ne=C+65535;ne>=u&&(d[v/8|0]=m,ne=u),v=I_(d,v+1,r.subarray(C,ne))}o.i=u}return GC(h,0,n+E_(v)+s)},C_=function(){var r=1,t=0;return{p:function(e){for(var n=r,s=t,o=e.length|0,u=0;u!=o;){for(var h=Math.min(u+2655,o);u<h;++u)s+=n+=e[u];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,t=s},d:function(){return r%=65521,t%=65521,(r&255)<<24|(r&65280)<<8|(t&255)<<8|t>>8}}},JC=function(r,t,e,n,s){if(!s&&(s={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),u=new mo(o.length+r.length);u.set(o),u.set(r,o.length),r=u,s.w=o.length}return YC(r,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+t.mem,e,n,s)},T_=function(r,t,e){for(;e;++t)r[t]=e,e>>>=8},XC=function(r,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=n<<6|(t.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,t.dictionary){var s=C_();s.p(t.dictionary),T_(r,2,s.d())}};function C1(r,t){t||(t={});var e=C_();e.p(r);var n=JC(r,t,t.dictionary?6:2,4);return XC(n,t),T_(n,n.length-4,e.d()),n}var ZC=typeof TextDecoder<"u"&&new TextDecoder,tT=0;try{ZC.decode(L_,{stream:!0}),tT=1}catch{}function eT(r){if(Array.isArray(r))return r}function rT(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,s,o,u,h=[],d=!0,m=!1;try{if(o=(e=e.call(r)).next,t!==0)for(;!(d=(n=o.call(e)).done)&&(h.push(n.value),h.length!==t);d=!0);}catch(v){m=!0,s=v}finally{try{if(!d&&e.return!=null&&(u=e.return(),Object(u)!==u))return}finally{if(m)throw s}}return h}}function vw(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}function nT(r,t){if(r){if(typeof r=="string")return vw(r,t);var e={}.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?vw(r,t):void 0}}function iT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bw(r,t){return eT(r)||rT(r,t)||nT(r,t)||iT()}function ww(r,t="utf8"){return new TextDecoder(t).decode(r)}const aT=new TextEncoder;function sT(r){return aT.encode(r)}const oT=1024*8,lT=(()=>{const r=new Uint8Array(4),t=new Uint32Array(r.buffer);return!((t[0]=1)&r[0])})(),R0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Q2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=oT,e={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=e.offset?e.offset>>>0:0,o=t.byteLength-s;let u=s;(ArrayBuffer.isView(t)||t instanceof Q2)&&(t.byteLength!==t.buffer.byteLength&&(u=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const e=(this.offset+t)*2,n=new Uint8Array(e);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=e,this.byteLength=e,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const n=R0[e].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+n);if(this.littleEndian===lT&&e!=="uint8"&&e!=="int8"){const h=new Uint8Array(this.buffer.slice(s,s+n));h.reverse();const d=new R0[e](h.buffer);return this.offset+=n,d.reverse(),d}const u=new R0[e](o);return this.offset+=n,u}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let n=0;n<t;n++)e+=this.readChar();return e}readUtf8(t=1){return ww(this.readBytes(t))}decodeText(t=1,e="utf8"){return ww(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(sT(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Gh(r){let t=r.length;for(;--t>=0;)r[t]=0}const uT=3,cT=258,P_=29,hT=256,dT=hT+1+P_,O_=30,fT=512,pT=new Array((dT+2)*2);Gh(pT);const mT=new Array(O_*2);Gh(mT);const gT=new Array(fT);Gh(gT);const yT=new Array(cT-uT+1);Gh(yT);const vT=new Array(P_);Gh(vT);const bT=new Array(O_);Gh(bT);const wT=(r,t,e,n)=>{let s=r&65535|0,o=r>>>16&65535|0,u=0;for(;e!==0;){u=e>2e3?2e3:e,e-=u;do s=s+t[n++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var T1=wT;const xT=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},_T=new Uint32Array(xT()),ST=(r,t,e,n)=>{const s=_T,o=n+e;r^=-1;for(let u=n;u<o;u++)r=r>>>8^s[(r^t[u])&255];return r^-1};var Vo=ST,P1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},R_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const NT=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var kT=function(r){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)NT(e,n)&&(r[n]=e[n])}}return r},AT=r=>{let t=0;for(let n=0,s=r.length;n<s;n++)t+=r[n].length;const e=new Uint8Array(t);for(let n=0,s=0,o=r.length;n<o;n++){let u=r[n];e.set(u,s),s+=u.length}return e},j_={assign:kT,flattenChunks:AT};let F_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{F_=!1}const lf=new Uint8Array(256);for(let r=0;r<256;r++)lf[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;lf[254]=lf[254]=1;var ET=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,n,s,o,u=r.length,h=0;for(s=0;s<u;s++)e=r.charCodeAt(s),(e&64512)===55296&&s+1<u&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,s=0;o<h;s++)e=r.charCodeAt(s),(e&64512)===55296&&s+1<u&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),s++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const IT=(r,t)=>{if(t<65534&&r.subarray&&F_)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return e};var LT=(r,t)=>{const e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let n,s;const o=new Array(e*2);for(s=0,n=0;n<e;){let u=r[n++];if(u<128){o[s++]=u;continue}let h=lf[u];if(h>4){o[s++]=65533,n+=h-1;continue}for(u&=h===2?31:h===3?15:7;h>1&&n<e;)u=u<<6|r[n++]&63,h--;if(h>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return IT(o,s)},CT=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+lf[r[e]]>t?e:t},O1={string2buf:ET,buf2string:LT,utf8border:CT};function TT(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var PT=TT;const Ep=16209,OT=16191;var RT=function(r,t){let e,n,s,o,u,h,d,m,v,_,A,w,M,F,$,B,et,tt,ct,At,It,Q,N,C;const q=r.state;e=r.next_in,N=r.input,n=e+(r.avail_in-5),s=r.next_out,C=r.output,o=s-(t-r.avail_out),u=s+(r.avail_out-257),h=q.dmax,d=q.wsize,m=q.whave,v=q.wnext,_=q.window,A=q.hold,w=q.bits,M=q.lencode,F=q.distcode,$=(1<<q.lenbits)-1,B=(1<<q.distbits)-1;t:do{w<15&&(A+=N[e++]<<w,w+=8,A+=N[e++]<<w,w+=8),et=M[A&$];e:for(;;){if(tt=et>>>24,A>>>=tt,w-=tt,tt=et>>>16&255,tt===0)C[s++]=et&65535;else if(tt&16){ct=et&65535,tt&=15,tt&&(w<tt&&(A+=N[e++]<<w,w+=8),ct+=A&(1<<tt)-1,A>>>=tt,w-=tt),w<15&&(A+=N[e++]<<w,w+=8,A+=N[e++]<<w,w+=8),et=F[A&B];r:for(;;){if(tt=et>>>24,A>>>=tt,w-=tt,tt=et>>>16&255,tt&16){if(At=et&65535,tt&=15,w<tt&&(A+=N[e++]<<w,w+=8,w<tt&&(A+=N[e++]<<w,w+=8)),At+=A&(1<<tt)-1,At>h){r.msg="invalid distance too far back",q.mode=Ep;break t}if(A>>>=tt,w-=tt,tt=s-o,At>tt){if(tt=At-tt,tt>m&&q.sane){r.msg="invalid distance too far back",q.mode=Ep;break t}if(It=0,Q=_,v===0){if(It+=d-tt,tt<ct){ct-=tt;do C[s++]=_[It++];while(--tt);It=s-At,Q=C}}else if(v<tt){if(It+=d+v-tt,tt-=v,tt<ct){ct-=tt;do C[s++]=_[It++];while(--tt);if(It=0,v<ct){tt=v,ct-=tt;do C[s++]=_[It++];while(--tt);It=s-At,Q=C}}}else if(It+=v-tt,tt<ct){ct-=tt;do C[s++]=_[It++];while(--tt);It=s-At,Q=C}for(;ct>2;)C[s++]=Q[It++],C[s++]=Q[It++],C[s++]=Q[It++],ct-=3;ct&&(C[s++]=Q[It++],ct>1&&(C[s++]=Q[It++]))}else{It=s-At;do C[s++]=C[It++],C[s++]=C[It++],C[s++]=C[It++],ct-=3;while(ct>2);ct&&(C[s++]=C[It++],ct>1&&(C[s++]=C[It++]))}}else if((tt&64)===0){et=F[(et&65535)+(A&(1<<tt)-1)];continue r}else{r.msg="invalid distance code",q.mode=Ep;break t}break}}else if((tt&64)===0){et=M[(et&65535)+(A&(1<<tt)-1)];continue e}else if(tt&32){q.mode=OT;break t}else{r.msg="invalid literal/length code",q.mode=Ep;break t}break}}while(e<n&&s<u);ct=w>>3,e-=ct,w-=ct<<3,A&=(1<<w)-1,r.next_in=e,r.next_out=s,r.avail_in=e<n?5+(n-e):5-(e-n),r.avail_out=s<u?257+(u-s):257-(s-u),q.hold=A,q.bits=w};const gh=15,xw=852,_w=592,Sw=0,j0=1,Nw=2,jT=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),FT=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),DT=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),MT=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),UT=(r,t,e,n,s,o,u,h)=>{const d=h.bits;let m=0,v=0,_=0,A=0,w=0,M=0,F=0,$=0,B=0,et=0,tt,ct,At,It,Q,N=null,C;const q=new Uint16Array(gh+1),L=new Uint16Array(gh+1);let R=null,j,ot,_t;for(m=0;m<=gh;m++)q[m]=0;for(v=0;v<n;v++)q[t[e+v]]++;for(w=d,A=gh;A>=1&&q[A]===0;A--);if(w>A&&(w=A),A===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,h.bits=1,0;for(_=1;_<A&&q[_]===0;_++);for(w<_&&(w=_),$=1,m=1;m<=gh;m++)if($<<=1,$-=q[m],$<0)return-1;if($>0&&(r===Sw||A!==1))return-1;for(L[1]=0,m=1;m<gh;m++)L[m+1]=L[m]+q[m];for(v=0;v<n;v++)t[e+v]!==0&&(u[L[t[e+v]]++]=v);if(r===Sw?(N=R=u,C=20):r===j0?(N=jT,R=FT,C=257):(N=DT,R=MT,C=0),et=0,v=0,m=_,Q=o,M=w,F=0,At=-1,B=1<<w,It=B-1,r===j0&&B>xw||r===Nw&&B>_w)return 1;for(;;){j=m-F,u[v]+1<C?(ot=0,_t=u[v]):u[v]>=C?(ot=R[u[v]-C],_t=N[u[v]-C]):(ot=96,_t=0),tt=1<<m-F,ct=1<<M,_=ct;do ct-=tt,s[Q+(et>>F)+ct]=j<<24|ot<<16|_t|0;while(ct!==0);for(tt=1<<m-1;et&tt;)tt>>=1;if(tt!==0?(et&=tt-1,et+=tt):et=0,v++,--q[m]===0){if(m===A)break;m=t[e+u[v]]}if(m>w&&(et&It)!==At){for(F===0&&(F=w),Q+=_,M=m-F,$=1<<M;M+F<A&&($-=q[M+F],!($<=0));)M++,$<<=1;if(B+=1<<M,r===j0&&B>xw||r===Nw&&B>_w)return 1;At=et&It,s[At]=w<<24|M<<16|Q-o|0}}return et!==0&&(s[Q+et]=m-F<<24|64<<16|0),h.bits=w,0};var Qd=UT;const BT=0,D_=1,M_=2,{Z_FINISH:kw,Z_BLOCK:qT,Z_TREES:Ip,Z_OK:Ic,Z_STREAM_END:zT,Z_NEED_DICT:VT,Z_STREAM_ERROR:go,Z_DATA_ERROR:U_,Z_MEM_ERROR:B_,Z_BUF_ERROR:$T,Z_DEFLATED:Aw}=R_,Zm=16180,Ew=16181,Iw=16182,Lw=16183,Cw=16184,Tw=16185,Pw=16186,Ow=16187,Rw=16188,jw=16189,_m=16190,Pl=16191,F0=16192,Fw=16193,D0=16194,Dw=16195,Mw=16196,Uw=16197,Bw=16198,Lp=16199,Cp=16200,qw=16201,zw=16202,Vw=16203,$w=16204,Ww=16205,M0=16206,Hw=16207,Kw=16208,Sn=16209,q_=16210,z_=16211,WT=852,HT=592,KT=15,GT=KT,Gw=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function QT(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Oc=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.mode<Zm||t.mode>z_?1:0},V_=r=>{if(Oc(r))return go;const t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=Zm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(WT),t.distcode=t.distdyn=new Int32Array(HT),t.sane=1,t.back=-1,Ic},$_=r=>{if(Oc(r))return go;const t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,V_(r)},W_=(r,t)=>{let e;if(Oc(r))return go;const n=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?go:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,$_(r))},H_=(r,t)=>{if(!r)return go;const e=new QT;r.state=e,e.strm=r,e.window=null,e.mode=Zm;const n=W_(r,t);return n!==Ic&&(r.state=null),n},YT=r=>H_(r,GT);let Qw=!0,U0,B0;const JT=r=>{if(Qw){U0=new Int32Array(512),B0=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(Qd(D_,r.lens,0,288,U0,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;Qd(M_,r.lens,0,32,B0,0,r.work,{bits:5}),Qw=!1}r.lencode=U0,r.lenbits=9,r.distcode=B0,r.distbits=5},K_=(r,t,e,n)=>{let s;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>n&&(s=n),o.window.set(t.subarray(e-n,e-n+s),o.wnext),n-=s,n?(o.window.set(t.subarray(e-n,e),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},XT=(r,t)=>{let e,n,s,o,u,h,d,m,v,_,A,w,M,F,$=0,B,et,tt,ct,At,It,Q,N;const C=new Uint8Array(4);let q,L;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Oc(r)||!r.output||!r.input&&r.avail_in!==0)return go;e=r.state,e.mode===Pl&&(e.mode=F0),u=r.next_out,s=r.output,d=r.avail_out,o=r.next_in,n=r.input,h=r.avail_in,m=e.hold,v=e.bits,_=h,A=d,N=Ic;t:for(;;)switch(e.mode){case Zm:if(e.wrap===0){e.mode=F0;break}for(;v<16;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}if(e.wrap&2&&m===35615){e.wbits===0&&(e.wbits=15),e.check=0,C[0]=m&255,C[1]=m>>>8&255,e.check=Vo(e.check,C,2,0),m=0,v=0,e.mode=Ew;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((m&255)<<8)+(m>>8))%31){r.msg="incorrect header check",e.mode=Sn;break}if((m&15)!==Aw){r.msg="unknown compression method",e.mode=Sn;break}if(m>>>=4,v-=4,Q=(m&15)+8,e.wbits===0&&(e.wbits=Q),Q>15||Q>e.wbits){r.msg="invalid window size",e.mode=Sn;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=m&512?jw:Pl,m=0,v=0;break;case Ew:for(;v<16;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}if(e.flags=m,(e.flags&255)!==Aw){r.msg="unknown compression method",e.mode=Sn;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=Sn;break}e.head&&(e.head.text=m>>8&1),e.flags&512&&e.wrap&4&&(C[0]=m&255,C[1]=m>>>8&255,e.check=Vo(e.check,C,2,0)),m=0,v=0,e.mode=Iw;case Iw:for(;v<32;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}e.head&&(e.head.time=m),e.flags&512&&e.wrap&4&&(C[0]=m&255,C[1]=m>>>8&255,C[2]=m>>>16&255,C[3]=m>>>24&255,e.check=Vo(e.check,C,4,0)),m=0,v=0,e.mode=Lw;case Lw:for(;v<16;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}e.head&&(e.head.xflags=m&255,e.head.os=m>>8),e.flags&512&&e.wrap&4&&(C[0]=m&255,C[1]=m>>>8&255,e.check=Vo(e.check,C,2,0)),m=0,v=0,e.mode=Cw;case Cw:if(e.flags&1024){for(;v<16;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}e.length=m,e.head&&(e.head.extra_len=m),e.flags&512&&e.wrap&4&&(C[0]=m&255,C[1]=m>>>8&255,e.check=Vo(e.check,C,2,0)),m=0,v=0}else e.head&&(e.head.extra=null);e.mode=Tw;case Tw:if(e.flags&1024&&(w=e.length,w>h&&(w=h),w&&(e.head&&(Q=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(o,o+w),Q)),e.flags&512&&e.wrap&4&&(e.check=Vo(e.check,n,w,o)),h-=w,o+=w,e.length-=w),e.length))break t;e.length=0,e.mode=Pw;case Pw:if(e.flags&2048){if(h===0)break t;w=0;do Q=n[o+w++],e.head&&Q&&e.length<65536&&(e.head.name+=String.fromCharCode(Q));while(Q&&w<h);if(e.flags&512&&e.wrap&4&&(e.check=Vo(e.check,n,w,o)),h-=w,o+=w,Q)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=Ow;case Ow:if(e.flags&4096){if(h===0)break t;w=0;do Q=n[o+w++],e.head&&Q&&e.length<65536&&(e.head.comment+=String.fromCharCode(Q));while(Q&&w<h);if(e.flags&512&&e.wrap&4&&(e.check=Vo(e.check,n,w,o)),h-=w,o+=w,Q)break t}else e.head&&(e.head.comment=null);e.mode=Rw;case Rw:if(e.flags&512){for(;v<16;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}if(e.wrap&4&&m!==(e.check&65535)){r.msg="header crc mismatch",e.mode=Sn;break}m=0,v=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=Pl;break;case jw:for(;v<32;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}r.adler=e.check=Gw(m),m=0,v=0,e.mode=_m;case _m:if(e.havedict===0)return r.next_out=u,r.avail_out=d,r.next_in=o,r.avail_in=h,e.hold=m,e.bits=v,VT;r.adler=e.check=1,e.mode=Pl;case Pl:if(t===qT||t===Ip)break t;case F0:if(e.last){m>>>=v&7,v-=v&7,e.mode=M0;break}for(;v<3;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}switch(e.last=m&1,m>>>=1,v-=1,m&3){case 0:e.mode=Fw;break;case 1:if(JT(e),e.mode=Lp,t===Ip){m>>>=2,v-=2;break t}break;case 2:e.mode=Mw;break;case 3:r.msg="invalid block type",e.mode=Sn}m>>>=2,v-=2;break;case Fw:for(m>>>=v&7,v-=v&7;v<32;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}if((m&65535)!==(m>>>16^65535)){r.msg="invalid stored block lengths",e.mode=Sn;break}if(e.length=m&65535,m=0,v=0,e.mode=D0,t===Ip)break t;case D0:e.mode=Dw;case Dw:if(w=e.length,w){if(w>h&&(w=h),w>d&&(w=d),w===0)break t;s.set(n.subarray(o,o+w),u),h-=w,o+=w,d-=w,u+=w,e.length-=w;break}e.mode=Pl;break;case Mw:for(;v<14;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}if(e.nlen=(m&31)+257,m>>>=5,v-=5,e.ndist=(m&31)+1,m>>>=5,v-=5,e.ncode=(m&15)+4,m>>>=4,v-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=Sn;break}e.have=0,e.mode=Uw;case Uw:for(;e.have<e.ncode;){for(;v<3;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}e.lens[R[e.have++]]=m&7,m>>>=3,v-=3}for(;e.have<19;)e.lens[R[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,q={bits:e.lenbits},N=Qd(BT,e.lens,0,19,e.lencode,0,e.work,q),e.lenbits=q.bits,N){r.msg="invalid code lengths set",e.mode=Sn;break}e.have=0,e.mode=Bw;case Bw:for(;e.have<e.nlen+e.ndist;){for(;$=e.lencode[m&(1<<e.lenbits)-1],B=$>>>24,et=$>>>16&255,tt=$&65535,!(B<=v);){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}if(tt<16)m>>>=B,v-=B,e.lens[e.have++]=tt;else{if(tt===16){for(L=B+2;v<L;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}if(m>>>=B,v-=B,e.have===0){r.msg="invalid bit length repeat",e.mode=Sn;break}Q=e.lens[e.have-1],w=3+(m&3),m>>>=2,v-=2}else if(tt===17){for(L=B+3;v<L;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}m>>>=B,v-=B,Q=0,w=3+(m&7),m>>>=3,v-=3}else{for(L=B+7;v<L;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}m>>>=B,v-=B,Q=0,w=11+(m&127),m>>>=7,v-=7}if(e.have+w>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=Sn;break}for(;w--;)e.lens[e.have++]=Q}}if(e.mode===Sn)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=Sn;break}if(e.lenbits=9,q={bits:e.lenbits},N=Qd(D_,e.lens,0,e.nlen,e.lencode,0,e.work,q),e.lenbits=q.bits,N){r.msg="invalid literal/lengths set",e.mode=Sn;break}if(e.distbits=6,e.distcode=e.distdyn,q={bits:e.distbits},N=Qd(M_,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,q),e.distbits=q.bits,N){r.msg="invalid distances set",e.mode=Sn;break}if(e.mode=Lp,t===Ip)break t;case Lp:e.mode=Cp;case Cp:if(h>=6&&d>=258){r.next_out=u,r.avail_out=d,r.next_in=o,r.avail_in=h,e.hold=m,e.bits=v,RT(r,A),u=r.next_out,s=r.output,d=r.avail_out,o=r.next_in,n=r.input,h=r.avail_in,m=e.hold,v=e.bits,e.mode===Pl&&(e.back=-1);break}for(e.back=0;$=e.lencode[m&(1<<e.lenbits)-1],B=$>>>24,et=$>>>16&255,tt=$&65535,!(B<=v);){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}if(et&&(et&240)===0){for(ct=B,At=et,It=tt;$=e.lencode[It+((m&(1<<ct+At)-1)>>ct)],B=$>>>24,et=$>>>16&255,tt=$&65535,!(ct+B<=v);){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}m>>>=ct,v-=ct,e.back+=ct}if(m>>>=B,v-=B,e.back+=B,e.length=tt,et===0){e.mode=Ww;break}if(et&32){e.back=-1,e.mode=Pl;break}if(et&64){r.msg="invalid literal/length code",e.mode=Sn;break}e.extra=et&15,e.mode=qw;case qw:if(e.extra){for(L=e.extra;v<L;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}e.length+=m&(1<<e.extra)-1,m>>>=e.extra,v-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=zw;case zw:for(;$=e.distcode[m&(1<<e.distbits)-1],B=$>>>24,et=$>>>16&255,tt=$&65535,!(B<=v);){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}if((et&240)===0){for(ct=B,At=et,It=tt;$=e.distcode[It+((m&(1<<ct+At)-1)>>ct)],B=$>>>24,et=$>>>16&255,tt=$&65535,!(ct+B<=v);){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}m>>>=ct,v-=ct,e.back+=ct}if(m>>>=B,v-=B,e.back+=B,et&64){r.msg="invalid distance code",e.mode=Sn;break}e.offset=tt,e.extra=et&15,e.mode=Vw;case Vw:if(e.extra){for(L=e.extra;v<L;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}e.offset+=m&(1<<e.extra)-1,m>>>=e.extra,v-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=Sn;break}e.mode=$w;case $w:if(d===0)break t;if(w=A-d,e.offset>w){if(w=e.offset-w,w>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=Sn;break}w>e.wnext?(w-=e.wnext,M=e.wsize-w):M=e.wnext-w,w>e.length&&(w=e.length),F=e.window}else F=s,M=u-e.offset,w=e.length;w>d&&(w=d),d-=w,e.length-=w;do s[u++]=F[M++];while(--w);e.length===0&&(e.mode=Cp);break;case Ww:if(d===0)break t;s[u++]=e.length,d--,e.mode=Cp;break;case M0:if(e.wrap){for(;v<32;){if(h===0)break t;h--,m|=n[o++]<<v,v+=8}if(A-=d,r.total_out+=A,e.total+=A,e.wrap&4&&A&&(r.adler=e.check=e.flags?Vo(e.check,s,A,u-A):T1(e.check,s,A,u-A)),A=d,e.wrap&4&&(e.flags?m:Gw(m))!==e.check){r.msg="incorrect data check",e.mode=Sn;break}m=0,v=0}e.mode=Hw;case Hw:if(e.wrap&&e.flags){for(;v<32;){if(h===0)break t;h--,m+=n[o++]<<v,v+=8}if(e.wrap&4&&m!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=Sn;break}m=0,v=0}e.mode=Kw;case Kw:N=zT;break t;case Sn:N=U_;break t;case q_:return B_;case z_:default:return go}return r.next_out=u,r.avail_out=d,r.next_in=o,r.avail_in=h,e.hold=m,e.bits=v,(e.wsize||A!==r.avail_out&&e.mode<Sn&&(e.mode<M0||t!==kw))&&K_(r,r.output,r.next_out,A-r.avail_out),_-=r.avail_in,A-=r.avail_out,r.total_in+=_,r.total_out+=A,e.total+=A,e.wrap&4&&A&&(r.adler=e.check=e.flags?Vo(e.check,s,A,r.next_out-A):T1(e.check,s,A,r.next_out-A)),r.data_type=e.bits+(e.last?64:0)+(e.mode===Pl?128:0)+(e.mode===Lp||e.mode===D0?256:0),(_===0&&A===0||t===kw)&&N===Ic&&(N=$T),N},ZT=r=>{if(Oc(r))return go;let t=r.state;return t.window&&(t.window=null),r.state=null,Ic},tP=(r,t)=>{if(Oc(r))return go;const e=r.state;return(e.wrap&2)===0?go:(e.head=t,t.done=!1,Ic)},eP=(r,t)=>{const e=t.length;let n,s,o;return Oc(r)||(n=r.state,n.wrap!==0&&n.mode!==_m)?go:n.mode===_m&&(s=1,s=T1(s,t,e,0),s!==n.check)?U_:(o=K_(r,t,e,e),o?(n.mode=q_,B_):(n.havedict=1,Ic))};var rP=$_,nP=W_,iP=V_,aP=YT,sP=H_,oP=XT,lP=ZT,uP=tP,cP=eP,hP="pako inflate (from Nodeca project)",jl={inflateReset:rP,inflateReset2:nP,inflateResetKeep:iP,inflateInit:aP,inflateInit2:sP,inflate:oP,inflateEnd:lP,inflateGetHeader:uP,inflateSetDictionary:cP,inflateInfo:hP};function dP(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var fP=dP;const G_=Object.prototype.toString,{Z_NO_FLUSH:pP,Z_FINISH:mP,Z_OK:uf,Z_STREAM_END:q0,Z_NEED_DICT:z0,Z_STREAM_ERROR:gP,Z_DATA_ERROR:Yw,Z_MEM_ERROR:yP}=R_;function Sf(r){this.options=j_.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new PT,this.strm.avail_out=0;let e=jl.inflateInit2(this.strm,t.windowBits);if(e!==uf)throw new Error(P1[e]);if(this.header=new fP,jl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=O1.string2buf(t.dictionary):G_.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=jl.inflateSetDictionary(this.strm,t.dictionary),e!==uf)))throw new Error(P1[e])}Sf.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let o,u,h;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?mP:pP,G_.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),o=jl.inflate(e,u),o===z0&&s&&(o=jl.inflateSetDictionary(e,s),o===uf?o=jl.inflate(e,u):o===Yw&&(o=z0));e.avail_in>0&&o===q0&&e.state.wrap>0&&r[e.next_in]!==0;)jl.inflateReset(e),o=jl.inflate(e,u);switch(o){case gP:case Yw:case z0:case yP:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===q0))if(this.options.to==="string"){let d=O1.utf8border(e.output,e.next_out),m=e.next_out-d,v=O1.buf2string(e.output,d);e.next_out=m,e.avail_out=n-m,m&&e.output.set(e.output.subarray(d,d+m),0),this.onData(v)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===uf&&h===0)){if(o===q0)return o=jl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Sf.prototype.onData=function(r){this.chunks.push(r)};Sf.prototype.onEnd=function(r){r===uf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=j_.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function vP(r,t){const e=new Sf(t);if(e.push(r),e.err)throw e.msg||P1[e.err];return e.result}var bP=Sf,wP=vP,xP={Inflate:bP,inflate:wP};const{Inflate:_P,inflate:SP}=xP;var Jw=_P,NP=SP;const Q_=[];for(let r=0;r<256;r++){let t=r;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;Q_[r]=t}const Xw=4294967295;function kP(r,t,e){let n=r;for(let s=0;s<e;s++)n=Q_[(n^t[s])&255]^n>>>8;return n}function AP(r,t){return(kP(Xw,r,t)^Xw)>>>0}function Zw(r,t,e){const n=r.readUint32(),s=AP(new Uint8Array(r.buffer,r.byteOffset+r.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${e}. Expected ${n}, found ${s}`)}function Y_(r,t,e){for(let n=0;n<e;n++)t[n]=r[n]}function J_(r,t,e,n){let s=0;for(;s<n;s++)t[s]=r[s];for(;s<e;s++)t[s]=r[s]+t[s-n]&255}function X_(r,t,e,n){let s=0;if(e.length===0)for(;s<n;s++)t[s]=r[s];else for(;s<n;s++)t[s]=r[s]+e[s]&255}function Z_(r,t,e,n,s){let o=0;if(e.length===0){for(;o<s;o++)t[o]=r[o];for(;o<n;o++)t[o]=r[o]+(t[o-s]>>1)&255}else{for(;o<s;o++)t[o]=r[o]+(e[o]>>1)&255;for(;o<n;o++)t[o]=r[o]+(t[o-s]+e[o]>>1)&255}}function tS(r,t,e,n,s){let o=0;if(e.length===0){for(;o<s;o++)t[o]=r[o];for(;o<n;o++)t[o]=r[o]+t[o-s]&255}else{for(;o<s;o++)t[o]=r[o]+e[o]&255;for(;o<n;o++)t[o]=r[o]+EP(t[o-s],e[o],e[o-s])&255}}function EP(r,t,e){const n=r+t-e,s=Math.abs(n-r),o=Math.abs(n-t),u=Math.abs(n-e);return s<=o&&s<=u?r:o<=u?t:e}function IP(r,t,e,n,s,o){switch(r){case 0:Y_(t,e,s);break;case 1:J_(t,e,s,o);break;case 2:X_(t,e,n,s);break;case 3:Z_(t,e,n,s,o);break;case 4:tS(t,e,n,s,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const LP=new Uint16Array([255]),CP=new Uint8Array(LP.buffer),TP=CP[0]===255;function PP(r){const{data:t,width:e,height:n,channels:s,depth:o}=r,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*s,d=new Uint8Array(n*e*h);let m=0;for(let v=0;v<7;v++){const _=u[v],A=Math.ceil((e-_.x)/_.xStep),w=Math.ceil((n-_.y)/_.yStep);if(A<=0||w<=0)continue;const M=A*h,F=new Uint8Array(M);for(let $=0;$<w;$++){const B=t[m++],et=t.subarray(m,m+M);m+=M;const tt=new Uint8Array(M);IP(B,et,tt,F,M,h),F.set(tt);for(let ct=0;ct<A;ct++){const At=_.x+ct*_.xStep,It=_.y+$*_.yStep;if(!(At>=e||It>=n))for(let Q=0;Q<h;Q++)d[(It*e+At)*h+Q]=tt[ct*h+Q]}}}if(o===16){const v=new Uint16Array(d.buffer);if(TP)for(let _=0;_<v.length;_++)v[_]=OP(v[_]);return v}else return d}function OP(r){return(r&255)<<8|r>>8&255}const RP=new Uint16Array([255]),jP=new Uint8Array(RP.buffer),FP=jP[0]===255,DP=new Uint8Array(0);function t4(r){const{data:t,width:e,height:n,channels:s,depth:o}=r,u=Math.ceil(o/8)*s,h=Math.ceil(o/8*s*e),d=new Uint8Array(n*h);let m=DP,v=0,_,A;for(let w=0;w<n;w++){switch(_=t.subarray(v+1,v+1+h),A=d.subarray(w*h,(w+1)*h),t[v]){case 0:Y_(_,A,h);break;case 1:J_(_,A,h,u);break;case 2:X_(_,A,m,h);break;case 3:Z_(_,A,m,h,u);break;case 4:tS(_,A,m,h,u);break;default:throw new Error(`Unsupported filter: ${t[v]}`)}m=A,v+=h+1}if(o===16){const w=new Uint16Array(d.buffer);if(FP)for(let M=0;M<w.length;M++)w[M]=MP(w[M]);return w}else return d}function MP(r){return(r&255)<<8|r>>8&255}const Kp=Uint8Array.of(137,80,78,71,13,10,26,10);function e4(r){if(!UP(r.readBytes(Kp.length)))throw new Error("wrong PNG signature")}function UP(r){if(r.length<Kp.length)return!1;for(let t=0;t<Kp.length;t++)if(r[t]!==Kp[t])return!1;return!0}const BP="tEXt",qP=0,eS=new TextDecoder("latin1");function zP(r){if($P(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const VP=/^[\u0000-\u00FF]*$/;function $P(r){if(!VP.test(r))throw new Error("invalid latin1 text")}function WP(r,t,e){const n=rS(t);r[n]=HP(t,e-n.length-1)}function rS(r){for(r.mark();r.readByte()!==qP;);const t=r.offset;r.reset();const e=eS.decode(r.readBytes(t-r.offset-1));return r.skip(1),zP(e),e}function HP(r,t){return eS.decode(r.readBytes(t))}const ws={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},V0={UNKNOWN:-1,DEFLATE:0},r4={UNKNOWN:-1,ADAPTIVE:0},$0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Tp={NONE:0,BACKGROUND:1,PREVIOUS:2},W0={SOURCE:0,OVER:1};class KP extends Q2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:n=!1}=e;this._checkCrc=n,this._inflator=new Jw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=V0.UNKNOWN,this._filterMethod=r4.UNKNOWN,this._interlaceMethod=$0.UNKNOWN,this._colorType=ws.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(e4(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(e4(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const n=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case BP:WP(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Zw(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const n=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Zw(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=GP(this.readUint8());const e=this.readUint8();this._colorType=e;let n;switch(e){case ws.GREYSCALE:n=1;break;case ws.TRUECOLOUR:n=3;break;case ws.INDEXED_COLOUR:n=1;break;case ws.GREYSCALE_ALPHA:n=2;break;case ws.TRUECOLOUR_ALPHA:n=4;break;case ws.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==V0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let s=0;s<e;s++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,n=this.offset+this.byteOffset;if(n+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,n,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case ws.GREYSCALE:case ws.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case ws.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const n=this.readByte();this._palette[e].push(n)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case ws.UNKNOWN:case ws.GREYSCALE_ALPHA:case ws.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=rS(this),n=this.readUint8();if(n!==V0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const s=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:NP(s)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:e,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=t4({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)e.data=n.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(n,s,e),this.addFrameDataToCanvas(e,n)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,n){switch(t.disposeOp){case Tp.NONE:break;case Tp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const u=(s*t.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)n.data[u+h]=0}break;case Tp.PREVIOUS:n.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const n=1<<this._png.depth,s=(o,u)=>{const h=((o+e.yOffset)*this._png.width+e.xOffset+u)*this._png.channels,d=(o*e.width+u)*this._png.channels;return{index:h,frameIndex:d}};switch(e.blendOp){case W0.SOURCE:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:h,frameIndex:d}=s(o,u);for(let m=0;m<this._png.channels;m++)t.data[h+m]=e.data[d+m]}break;case W0.OVER:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:h,frameIndex:d}=s(o,u);for(let m=0;m<this._png.channels;m++){const v=e.data[d+this._png.channels-1]/n,_=m%(this._png.channels-1)===0?1:e.data[d+m],A=Math.floor(v*_+(1-v)*t.data[h+m]);t.data[h+m]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==r4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===$0.NO_INTERLACE)this._png.data=t4({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===$0.ADAM7)this._png.data=PP({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Tp.NONE,blendOp:W0.SOURCE,data:t}),this._inflator=new Jw,this._writingDataChunks=!1}}function GP(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var n4;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(n4||(n4={}));function QP(r,t){return new KP(r,t).decode()}var Ke=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function H0(){Ke.console&&typeof Ke.console.log=="function"&&Ke.console.log.apply(Ke.console,arguments)}var un={log:H0,warn:function(r){Ke.console&&(typeof Ke.console.warn=="function"?Ke.console.warn.apply(Ke.console,arguments):H0.call(null,arguments))},error:function(r){Ke.console&&(typeof Ke.console.error=="function"?Ke.console.error.apply(Ke.console,arguments):H0(r))}};function K0(r,t,e){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){cc(n.response,t,e)},n.onerror=function(){un.error("could not download file")},n.send()}function i4(r){var t=new XMLHttpRequest;t.open("HEAD",r,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Pp(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}var cc=Ke.saveAs||((typeof window>"u"?"undefined":Qr(window))!=="object"||window!==Ke?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,t,e){var n=Ke.URL||Ke.webkitURL,s=document.createElement("a");t=t||r.name||"download",s.download=t,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?i4(s.href)?K0(r,t,e):Pp(s,s.target="_blank"):Pp(s)):(s.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Pp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,t,e){if(t=t||r.name||"download",typeof r=="string")if(i4(r))K0(r,t,e);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Pp(n)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Qr(o)!=="object"&&(un.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(r,e),t)}:function(r,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return K0(r,t,e);var s=r.type==="application/octet-stream",o=/constructor/i.test(Ke.HTMLElement)||Ke.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":Qr(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=u?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=v:location=v,n=null},h.readAsDataURL(r)}else{var d=Ke.URL||Ke.webkitURL,m=d.createObjectURL(r);n?n.location=m:location.href=m,n=null,setTimeout(function(){d.revokeObjectURL(m)},4e4)}});/**
* A class to parse color values
* @author Stoyan Stefanov <sstoo@gmail.com>
* {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
* @license Use it if you like it
*/function nS(r){var t;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],n=0;n<e.length;n++){var s=e[n].re,o=e[n].process,u=s.exec(r);u&&(t=o(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),d=this.g.toString(16),m=this.b.toString(16);return h.length==1&&(h="0"+h),d.length==1&&(d="0"+d),m.length==1&&(m="0"+m),"#"+h+d+m}}var Gp=Ke.atob.bind(Ke),a4=Ke.btoa.bind(Ke);/**
* @license
* Joseph Myers does not specify a particular license for his work.
*
* Author: Joseph Myers
* Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
*
* Modified by: Owen Leong
*/function G0(r,t){var e=r[0],n=r[1],s=r[2],o=r[3];e=ha(e,n,s,o,t[0],7,-680876936),o=ha(o,e,n,s,t[1],12,-389564586),s=ha(s,o,e,n,t[2],17,606105819),n=ha(n,s,o,e,t[3],22,-1044525330),e=ha(e,n,s,o,t[4],7,-176418897),o=ha(o,e,n,s,t[5],12,1200080426),s=ha(s,o,e,n,t[6],17,-1473231341),n=ha(n,s,o,e,t[7],22,-45705983),e=ha(e,n,s,o,t[8],7,1770035416),o=ha(o,e,n,s,t[9],12,-1958414417),s=ha(s,o,e,n,t[10],17,-42063),n=ha(n,s,o,e,t[11],22,-1990404162),e=ha(e,n,s,o,t[12],7,1804603682),o=ha(o,e,n,s,t[13],12,-40341101),s=ha(s,o,e,n,t[14],17,-1502002290),e=da(e,n=ha(n,s,o,e,t[15],22,1236535329),s,o,t[1],5,-165796510),o=da(o,e,n,s,t[6],9,-1069501632),s=da(s,o,e,n,t[11],14,643717713),n=da(n,s,o,e,t[0],20,-373897302),e=da(e,n,s,o,t[5],5,-701558691),o=da(o,e,n,s,t[10],9,38016083),s=da(s,o,e,n,t[15],14,-660478335),n=da(n,s,o,e,t[4],20,-405537848),e=da(e,n,s,o,t[9],5,568446438),o=da(o,e,n,s,t[14],9,-1019803690),s=da(s,o,e,n,t[3],14,-187363961),n=da(n,s,o,e,t[8],20,1163531501),e=da(e,n,s,o,t[13],5,-1444681467),o=da(o,e,n,s,t[2],9,-51403784),s=da(s,o,e,n,t[7],14,1735328473),e=fa(e,n=da(n,s,o,e,t[12],20,-1926607734),s,o,t[5],4,-378558),o=fa(o,e,n,s,t[8],11,-2022574463),s=fa(s,o,e,n,t[11],16,1839030562),n=fa(n,s,o,e,t[14],23,-35309556),e=fa(e,n,s,o,t[1],4,-1530992060),o=fa(o,e,n,s,t[4],11,1272893353),s=fa(s,o,e,n,t[7],16,-155497632),n=fa(n,s,o,e,t[10],23,-1094730640),e=fa(e,n,s,o,t[13],4,681279174),o=fa(o,e,n,s,t[0],11,-358537222),s=fa(s,o,e,n,t[3],16,-722521979),n=fa(n,s,o,e,t[6],23,76029189),e=fa(e,n,s,o,t[9],4,-640364487),o=fa(o,e,n,s,t[12],11,-421815835),s=fa(s,o,e,n,t[15],16,530742520),e=pa(e,n=fa(n,s,o,e,t[2],23,-995338651),s,o,t[0],6,-198630844),o=pa(o,e,n,s,t[7],10,1126891415),s=pa(s,o,e,n,t[14],15,-1416354905),n=pa(n,s,o,e,t[5],21,-57434055),e=pa(e,n,s,o,t[12],6,1700485571),o=pa(o,e,n,s,t[3],10,-1894986606),s=pa(s,o,e,n,t[10],15,-1051523),n=pa(n,s,o,e,t[1],21,-2054922799),e=pa(e,n,s,o,t[8],6,1873313359),o=pa(o,e,n,s,t[15],10,-30611744),s=pa(s,o,e,n,t[6],15,-1560198380),n=pa(n,s,o,e,t[13],21,1309151649),e=pa(e,n,s,o,t[4],6,-145523070),o=pa(o,e,n,s,t[11],10,-1120210379),s=pa(s,o,e,n,t[2],15,718787259),n=pa(n,s,o,e,t[9],21,-343485551),r[0]=Cu(e,r[0]),r[1]=Cu(n,r[1]),r[2]=Cu(s,r[2]),r[3]=Cu(o,r[3])}function tg(r,t,e,n,s,o){return t=Cu(Cu(t,r),Cu(n,o)),Cu(t<<s|t>>>32-s,e)}function ha(r,t,e,n,s,o,u){return tg(t&e|~t&n,r,t,s,o,u)}function da(r,t,e,n,s,o,u){return tg(t&n|e&~n,r,t,s,o,u)}function fa(r,t,e,n,s,o,u){return tg(t^e^n,r,t,s,o,u)}function pa(r,t,e,n,s,o,u){return tg(e^(t|~n),r,t,s,o,u)}function iS(r){var t,e=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r.length;t+=64)G0(n,YP(r.substring(t-64,t)));r=r.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r.length;t++)s[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(G0(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*e,G0(n,s),n}function YP(r){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24);return e}var s4="0123456789abcdef".split("");function JP(r){for(var t="",e=0;e<4;e++)t+=s4[r>>8*e+4&15]+s4[r>>8*e&15];return t}function XP(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function R1(r){return iS(r).map(XP).join("")}var ZP=(function(r){for(var t=0;t<r.length;t++)r[t]=JP(r[t]);return r.join("")})(iS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Cu(r,t){if(ZP){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}return r+t&4294967295}/**
* @license
* FPDF is released under a permissive license: there is no usage restriction.
* You may embed it freely in your application (commercial or not), with or
* without modifications.
*
* Reference: http://www.fpdf.org/en/script/script37.php
*/function j1(r,t){var e,n,s,o;if(r!==e){for(var u=(s=r,o=1+(256/r.length|0),new Array(o+1).join(s)),h=[],d=0;d<256;d++)h[d]=d;var m=0;for(d=0;d<256;d++){var v=h[d];m=(m+v+u.charCodeAt(d))%256,h[d]=h[m],h[m]=v}e=r,n=h}else h=n;var _=t.length,A=0,w=0,M="";for(d=0;d<_;d++)w=(w+(v=h[A=(A+1)%256]))%256,h[A]=h[w],h[w]=v,u=h[(h[A]+h[w])%256],M+=String.fromCharCode(t.charCodeAt(d)^u);return M}/**
* @license
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
* Author: Owen Leong (@owenl131)
* Date: 15 Oct 2020
* References:
* https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
* https://github.com/foliojs/pdfkit/blob/master/lib/security.js
* http://www.fpdf.org/en/script/script37.php
*/var o4={print:4,modify:8,copy:16,"annot-forms":32};function Nh(r,t,e,n){this.v=1,this.r=2;var s=192;r.forEach(function(h){if(o4.perm!==void 0)throw new Error("Invalid permission: "+h);s+=o4[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),u=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=R1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=j1(this.encryptionKey,this.padding)}function kh(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var t="",e=r.length,n=0;n<e;n++){var s=r.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):r[n]}return t}function l4(r){if(Qr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,s){if(s=s||!1,typeof e!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[n,!!s],o},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var o in t[e]){var u=t[e][o];try{u[0].apply(r,n)}catch(h){Ke.console&&un.error("jsPDF PubSub Error",h.message,h)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Sm(r){if(!(this instanceof Sm))return new Sm(r);var t="opacity,stroke-opacity".split(",");for(var e in r)r.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=r[e]);this.id="",this.objectNumber=-1}function aS(r,t){this.gState=r,this.matrix=t,this.id="",this.objectNumber=-1}function hc(r,t,e,n,s){if(!(this instanceof hc))return new hc(r,t,e,n,s);this.type=r==="axial"?2:3,this.coords=t,this.colors=e,aS.call(this,n,s)}function Ah(r,t,e,n,s){if(!(this instanceof Ah))return new Ah(r,t,e,n,s);this.boundingBox=r,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,aS.call(this,n,s)}function _e(r){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],o=arguments[3],u=[],h=1,d=16,m="S",v=null;Qr(r=r||{})==="object"&&(e=r.orientation,n=r.unit||n,s=r.format||s,o=r.compress||r.compressPdf||o,(v=r.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(t=r.precision),r.floatPrecision!==void 0&&(d=r.floatPrecision),m=r.defaultPathOperation||"S"),u=r.filters||(o===!0?["FlateEncode"]:u),n=n||"mm",e=(""+(e||"P")).toLowerCase();var _=r.putOnlyUsedFonts||!1,A={},w={internal:{},__private__:{}};w.__private__.PubSub=l4;var M="1.3",F=w.__private__.getPdfVersion=function(){return M};w.__private__.setPdfVersion=function(x){M=x};var $={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return $};var B=w.__private__.getPageFormat=function(x){return $[x]};s=s||"a4";var et="compat",tt="advanced",ct=et;function At(){this.saveGraphicsState(),lt(new xe(Pe,0,0,-Pe,0,Aa()*Pe).toString()+" cm"),this.setFontSize(this.getFontSize()/Pe),m="n",ct=tt}function It(){this.restoreGraphicsState(),m="S",ct=et}var Q=w.__private__.combineFontStyleAndFontWeight=function(x,D){if(x=="bold"&&D=="normal"||x=="bold"&&D==400||x=="normal"&&D=="italic"||x=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(x=D==400||D==="normal"?x==="italic"?"italic":"normal":D!=700&&D!=="bold"||x!=="normal"?(D==700?"bold":D)+""+x:"bold"),x};w.advancedAPI=function(x){var D=ct===et;return D&&At.call(this),typeof x!="function"||(x(this),D&&It.call(this)),this},w.compatAPI=function(x){var D=ct===tt;return D&&It.call(this),typeof x!="function"||(x(this),D&&At.call(this)),this},w.isAdvancedAPI=function(){return ct===tt};var N,C=function(x){if(ct!==tt)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=w.roundToPrecision=w.__private__.roundToPrecision=function(x,D){var it=t||D;if(isNaN(x)||isNaN(it))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(it).replace(/0+$/,"")};N=w.hpf=w.__private__.hpf=typeof d=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return q(x,d)}:d==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return q(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return q(x,16)};var L=w.f2=w.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return q(x,2)},R=w.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return q(x,3)},j=w.scale=w.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return ct===et?x*Pe:ct===tt?x:void 0},ot=function(x){return j((function(D){return ct===et?Aa()-D:ct===tt?D:void 0})(x))};w.__private__.setPrecision=w.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(t=parseInt(x,10))};var _t,nt="00000000000000000000000000000000",ut=w.__private__.getFileId=function(){return nt},Z=w.__private__.setFileId=function(x){return nt=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():nt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(Vr=new Nh(v.userPermissions,v.userPassword,v.ownerPassword,nt)),nt};w.setFileId=function(x){return Z(x),this},w.getFileId=function(){return ut()};var bt=w.__private__.convertDateToPDFDate=function(x){var D=x.getTimezoneOffset(),it=D<0?"+":"-",ft=Math.floor(Math.abs(D/60)),vt=Math.abs(D%60),Ut=[it,X(ft),"'",X(vt),"'"].join("");return["D:",x.getFullYear(),X(x.getMonth()+1),X(x.getDate()),X(x.getHours()),X(x.getMinutes()),X(x.getSeconds()),Ut].join("")},qt=w.__private__.convertPDFDateToDate=function(x){var D=parseInt(x.substr(2,4),10),it=parseInt(x.substr(6,2),10)-1,ft=parseInt(x.substr(8,2),10),vt=parseInt(x.substr(10,2),10),Ut=parseInt(x.substr(12,2),10),Qt=parseInt(x.substr(14,2),10);return new Date(D,it,ft,vt,Ut,Qt,0)},H=w.__private__.setCreationDate=function(x){var D;if(x===void 0&&(x=new Date),x instanceof Date)D=bt(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=x}return _t=D},O=w.__private__.getCreationDate=function(x){var D=_t;return x==="jsDate"&&(D=qt(_t)),D};w.setCreationDate=function(x){return H(x),this},w.getCreationDate=function(x){return O(x)};var K,X=w.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},st=w.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},dt=0,yt=[],Tt=[],Nt=0,Mt=[],Yt=[],te=!1,ne=Tt;w.__private__.setCustomOutputDestination=function(x){te=!0,ne=x};var jt=function(x){te||(ne=x)};w.__private__.resetCustomOutputDestination=function(){te=!1,ne=Tt};var lt=w.__private__.out=function(x){return x=x.toString(),Nt+=x.length+1,ne.push(x),ne},Je=w.__private__.write=function(x){return lt(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},qe=w.__private__.getArrayBuffer=function(x){for(var D=x.length,it=new ArrayBuffer(D),ft=new Uint8Array(it);D--;)ft[D]=x.charCodeAt(D);return it},we=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return we};var Wt=r.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(x){return Wt=ct===tt?x/Pe:x,this};var ie,ee=w.__private__.getFontSize=w.getFontSize=function(){return ct===et?Wt:Wt*Pe},Qe=r.R2L||!1;w.__private__.setR2L=w.setR2L=function(x){return Qe=x,this},w.__private__.getR2L=w.getR2L=function(){return Qe};var ve,We=w.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))ie=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');ie=x}else ie=parseInt(x,10)};w.__private__.getZoomMode=function(){return ie};var Re,De=w.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');ve=x};w.__private__.getPageMode=function(){return ve};var Sr=w.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Re=x};w.__private__.getLayoutMode=function(){return Re},w.__private__.setDisplayMode=w.setDisplayMode=function(x,D,it){return We(x),Sr(D),De(it),this};var je={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(x){if(Object.keys(je).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return je[x]},w.__private__.getDocumentProperties=function(){return je},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(x){for(var D in je)je.hasOwnProperty(D)&&x[D]&&(je[D]=x[D]);return this},w.__private__.setDocumentProperty=function(x,D){if(Object.keys(je).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return je[x]=D};var be,Pe,ge,Fr,rr,ae={},Ne={},Me=[],Ee={},ir={},ze={},Cr={},an=null,Ve=0,ke=[],ar=new l4(w),ui=r.hotfixes||[],ti={},Ra={},Hn=[],xe=function x(D,it,ft,vt,Ut,Qt){if(!(this instanceof x))return new x(D,it,ft,vt,Ut,Qt);isNaN(D)&&(D=1),isNaN(it)&&(it=0),isNaN(ft)&&(ft=0),isNaN(vt)&&(vt=1),isNaN(Ut)&&(Ut=0),isNaN(Qt)&&(Qt=0),this._matrix=[D,it,ft,vt,Ut,Qt]};Object.defineProperty(xe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(xe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(xe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(xe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(xe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(xe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(xe.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(xe.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(xe.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(xe.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(xe.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(xe.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(xe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xe.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(x)},xe.prototype.multiply=function(x){var D=x.sx*this.sx+x.shy*this.shx,it=x.sx*this.shy+x.shy*this.sy,ft=x.shx*this.sx+x.sy*this.shx,vt=x.shx*this.shy+x.sy*this.sy,Ut=x.tx*this.sx+x.ty*this.shx+this.tx,Qt=x.tx*this.shy+x.ty*this.sy+this.ty;return new xe(D,it,ft,vt,Ut,Qt)},xe.prototype.decompose=function(){var x=this.sx,D=this.shy,it=this.shx,ft=this.sy,vt=this.tx,Ut=this.ty,Qt=Math.sqrt(x*x+D*D),le=(x/=Qt)*it+(D/=Qt)*ft;it-=x*le,ft-=D*le;var de=Math.sqrt(it*it+ft*ft);return le/=de,x*(ft/=de)<D*(it/=de)&&(x=-x,D=-D,le=-le,Qt=-Qt),{scale:new xe(Qt,0,0,de,0,0),translate:new xe(1,0,0,1,vt,Ut),rotate:new xe(x,D,-D,x,0,0),skew:new xe(1,0,le,1,0,0)}},xe.prototype.toString=function(x){return this.join(" ")},xe.prototype.inversed=function(){var x=this.sx,D=this.shy,it=this.shx,ft=this.sy,vt=this.tx,Ut=this.ty,Qt=1/(x*ft-D*it),le=ft*Qt,de=-D*Qt,Ie=-it*Qt,ye=x*Qt;return new xe(le,de,Ie,ye,-le*vt-Ie*Ut,-de*vt-ye*Ut)},xe.prototype.applyToPoint=function(x){var D=x.x*this.sx+x.y*this.shx+this.tx,it=x.x*this.shy+x.y*this.sy+this.ty;return new Ti(D,it)},xe.prototype.applyToRectangle=function(x){var D=this.applyToPoint(x),it=this.applyToPoint(new Ti(x.x+x.w,x.y+x.h));return new Da(D.x,D.y,it.x-D.x,it.y-D.y)},xe.prototype.clone=function(){var x=this.sx,D=this.shy,it=this.shx,ft=this.sy,vt=this.tx,Ut=this.ty;return new xe(x,D,it,ft,vt,Ut)},w.Matrix=xe;var ss=w.matrixMult=function(x,D){return D.multiply(x)},Bi=new xe(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Bi;var Ni=function(x,D){if(!ir[x]){var it=(D instanceof hc?"Sh":"P")+(Object.keys(Ee).length+1).toString(10);D.id=it,ir[x]=it,Ee[it]=D,ar.publish("addPattern",D)}};w.ShadingPattern=hc,w.TilingPattern=Ah,w.addShadingPattern=function(x,D){return C("addShadingPattern()"),Ni(x,D),this},w.beginTilingPattern=function(x){C("beginTilingPattern()"),Ma(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},w.endTilingPattern=function(x,D){C("endTilingPattern()"),D.stream=Yt[K].join(`
`),Ni(x,D),ar.publish("endTilingPattern",D),Hn.pop().restore()};var ki,Br=w.__private__.newObject=function(){var x=Yr();return On(x,!0),x},Yr=w.__private__.newObjectDeferred=function(){return dt++,yt[dt]=function(){return Nt},dt},On=function(x,D){return D=typeof D=="boolean"&&D,yt[x]=Nt,D&&lt(x+" 0 obj"),x},ci=w.__private__.newAdditionalObject=function(){var x={objId:Yr(),content:""};return Mt.push(x),x},ei=Yr(),Tr=Yr(),zr=w.__private__.decodeColorString=function(x){var D=x.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var it=parseFloat(D[0]);D=[it,it,it,"r"]}for(var ft="#",vt=0;vt<3;vt++)ft+=("0"+Math.floor(255*parseFloat(D[vt])).toString(16)).slice(-2);return ft},Rn=w.__private__.encodeColorString=function(x){var D;typeof x=="string"&&(x={ch1:x});var it=x.ch1,ft=x.ch2,vt=x.ch3,Ut=x.ch4,Qt=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof it=="string"&&it.charAt(0)!=="#"){var le=new nS(it);if(le.ok)it=le.toHex();else if(!/^\d*\.?\d*$/.test(it))throw new Error('Invalid color "'+it+'" passed to jsPDF.encodeColorString.')}if(typeof it=="string"&&/^#[0-9A-Fa-f]{3}$/.test(it)&&(it="#"+it[1]+it[1]+it[2]+it[2]+it[3]+it[3]),typeof it=="string"&&/^#[0-9A-Fa-f]{6}$/.test(it)){var de=parseInt(it.substr(1),16);it=de>>16&255,ft=de>>8&255,vt=255&de}if(ft===void 0||Ut===void 0&&it===ft&&ft===vt)D=typeof it=="string"?it+" "+Qt[0]:x.precision===2?L(it/255)+" "+Qt[0]:R(it/255)+" "+Qt[0];else if(Ut===void 0||Qr(Ut)==="object"){if(Ut&&!isNaN(Ut.a)&&Ut.a===0)return["1.","1.","1.",Qt[1]].join(" ");D=typeof it=="string"?[it,ft,vt,Qt[1]].join(" "):x.precision===2?[L(it/255),L(ft/255),L(vt/255),Qt[1]].join(" "):[R(it/255),R(ft/255),R(vt/255),Qt[1]].join(" ")}else D=typeof it=="string"?[it,ft,vt,Ut,Qt[2]].join(" "):x.precision===2?[L(it),L(ft),L(vt),L(Ut),Qt[2]].join(" "):[R(it),R(ft),R(vt),R(Ut),Qt[2]].join(" ");return D},Ai=w.__private__.getFilters=function(){return u},na=w.__private__.putStream=function(x){var D=(x=x||{}).data||"",it=x.filters||Ai(),ft=x.alreadyAppliedFilters||[],vt=x.addLength1||!1,Ut=D.length,Qt=x.objectId,le=function(k){return k};if(v!==null&&Qt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(le=Vr.encryptor(Qt,0));var de={};it===!0&&(it=["FlateEncode"]);var Ie=x.additionalKeyValues||[],ye=(de=_e.API.processDataByFilters!==void 0?_e.API.processDataByFilters(D,it):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(ft)?ft.join(" "):ft.toString());if(de.data.length!==0&&(Ie.push({key:"Length",value:de.data.length}),vt===!0&&Ie.push({key:"Length1",value:Ut})),ye.length!=0)if(ye.split("/").length-1==1)Ie.push({key:"Filter",value:ye});else{Ie.push({key:"Filter",value:"["+ye+"]"});for(var mr=0;mr<Ie.length;mr+=1)if(Ie[mr].key==="DecodeParms"){for(var Jr=[],$r=0;$r<de.reverseChain.split("/").length-1;$r+=1)Jr.push("null");Jr.push(Ie[mr].value),Ie[mr].value="["+Jr.join(" ")+"]"}}lt("<<");for(var p=0;p<Ie.length;p++)lt("/"+Ie[p].key+" "+Ie[p].value);lt(">>"),de.data.length!==0&&(lt("stream"),lt(le(de.data)),lt("endstream"))},Ss=w.__private__.putPage=function(x){var D=x.number,it=x.data,ft=x.objId,vt=x.contentsObjId;On(ft,!0),lt("<</Type /Page"),lt("/Parent "+x.rootDictionaryObjId+" 0 R"),lt("/Resources "+x.resourceDictionaryObjId+" 0 R"),lt("/MediaBox ["+parseFloat(N(x.mediaBox.bottomLeftX))+" "+parseFloat(N(x.mediaBox.bottomLeftY))+" "+N(x.mediaBox.topRightX)+" "+N(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&lt("/CropBox ["+N(x.cropBox.bottomLeftX)+" "+N(x.cropBox.bottomLeftY)+" "+N(x.cropBox.topRightX)+" "+N(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&lt("/BleedBox ["+N(x.bleedBox.bottomLeftX)+" "+N(x.bleedBox.bottomLeftY)+" "+N(x.bleedBox.topRightX)+" "+N(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&lt("/TrimBox ["+N(x.trimBox.bottomLeftX)+" "+N(x.trimBox.bottomLeftY)+" "+N(x.trimBox.topRightX)+" "+N(x.trimBox.topRightY)+"]"),x.artBox!==null&&lt("/ArtBox ["+N(x.artBox.bottomLeftX)+" "+N(x.artBox.bottomLeftY)+" "+N(x.artBox.topRightX)+" "+N(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&lt("/UserUnit "+x.userUnit),ar.publish("putPage",{objId:ft,pageContext:ke[D],pageNumber:D,page:it}),lt("/Contents "+vt+" 0 R"),lt(">>"),lt("endobj");var Ut=it.join(`
`);return ct===tt&&(Ut+=`
Q`),On(vt,!0),na({data:Ut,filters:Ai(),objectId:vt}),lt("endobj"),ft},va=w.__private__.putPages=function(){var x,D,it=[];for(x=1;x<=Ve;x++)ke[x].objId=Yr(),ke[x].contentsObjId=Yr();for(x=1;x<=Ve;x++)it.push(Ss({number:x,data:Yt[x],objId:ke[x].objId,contentsObjId:ke[x].contentsObjId,mediaBox:ke[x].mediaBox,cropBox:ke[x].cropBox,bleedBox:ke[x].bleedBox,trimBox:ke[x].trimBox,artBox:ke[x].artBox,userUnit:ke[x].userUnit,rootDictionaryObjId:ei,resourceDictionaryObjId:Tr}));On(ei,!0),lt("<</Type /Pages");var ft="/Kids [";for(D=0;D<Ve;D++)ft+=it[D]+" 0 R ";lt(ft+"]"),lt("/Count "+Ve),lt(">>"),lt("endobj"),ar.publish("postPutPages")},Ei=function(x){ar.publish("putFont",{font:x,out:lt,newObject:Br,putStream:na}),x.isAlreadyPutted!==!0&&(x.objectNumber=Br(),lt("<<"),lt("/Type /Font"),lt("/BaseFont /"+kh(x.postScriptName)),lt("/Subtype /Type1"),typeof x.encoding=="string"&&lt("/Encoding /"+x.encoding),lt("/FirstChar 32"),lt("/LastChar 255"),lt(">>"),lt("endobj"))},os=function(x){x.objectNumber=Br();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[N(x.x),N(x.y),N(x.x+x.width),N(x.y+x.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var it=x.pages[1].join(`
`);na({data:it,additionalKeyValues:D,objectId:x.objectNumber}),lt("endobj")},qi=function(x,D){D||(D=21);var it=Br(),ft=(function(Qt,le){var de,Ie=[],ye=1/(le-1);for(de=0;de<1;de+=ye)Ie.push(de);if(Ie.push(1),Qt[0].offset!=0){var mr={offset:0,color:Qt[0].color};Qt.unshift(mr)}if(Qt[Qt.length-1].offset!=1){var Jr={offset:1,color:Qt[Qt.length-1].color};Qt.push(Jr)}for(var $r="",p=0,k=0;k<Ie.length;k++){for(de=Ie[k];de>Qt[p+1].offset;)p++;var P=Qt[p].offset,Y=(de-P)/(Qt[p+1].offset-P),xt=Qt[p].color,Pt=Qt[p+1].color;$r+=st(Math.round((1-Y)*xt[0]+Y*Pt[0]).toString(16))+st(Math.round((1-Y)*xt[1]+Y*Pt[1]).toString(16))+st(Math.round((1-Y)*xt[2]+Y*Pt[2]).toString(16))}return $r.trim()})(x.colors,D),vt=[];vt.push({key:"FunctionType",value:"0"}),vt.push({key:"Domain",value:"[0.0 1.0]"}),vt.push({key:"Size",value:"["+D+"]"}),vt.push({key:"BitsPerSample",value:"8"}),vt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),na({data:ft,additionalKeyValues:vt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:it}),lt("endobj"),x.objectNumber=Br(),lt("<< /ShadingType "+x.type),lt("/ColorSpace /DeviceRGB");var Ut="/Coords ["+N(parseFloat(x.coords[0]))+" "+N(parseFloat(x.coords[1]))+" ";x.type===2?Ut+=N(parseFloat(x.coords[2]))+" "+N(parseFloat(x.coords[3])):Ut+=N(parseFloat(x.coords[2]))+" "+N(parseFloat(x.coords[3]))+" "+N(parseFloat(x.coords[4]))+" "+N(parseFloat(x.coords[5])),lt(Ut+="]"),x.matrix&&lt("/Matrix ["+x.matrix.toString()+"]"),lt("/Function "+it+" 0 R"),lt("/Extend [true true]"),lt(">>"),lt("endobj")},hi=function(x,D){var it=Yr(),ft=Br();D.push({resourcesOid:it,objectOid:ft}),x.objectNumber=ft;var vt=[];vt.push({key:"Type",value:"/Pattern"}),vt.push({key:"PatternType",value:"1"}),vt.push({key:"PaintType",value:"1"}),vt.push({key:"TilingType",value:"1"}),vt.push({key:"BBox",value:"["+x.boundingBox.map(N).join(" ")+"]"}),vt.push({key:"XStep",value:N(x.xStep)}),vt.push({key:"YStep",value:N(x.yStep)}),vt.push({key:"Resources",value:it+" 0 R"}),x.matrix&&vt.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),na({data:x.stream,additionalKeyValues:vt,objectId:x.objectNumber}),lt("endobj")},zi=function(x){for(var D in x.objectNumber=Br(),lt("<<"),x)switch(D){case"opacity":lt("/ca "+L(x[D]));break;case"stroke-opacity":lt("/CA "+L(x[D]))}lt(">>"),lt("endobj")},ia=function(x){On(x.resourcesOid,!0),lt("<<"),lt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var D in lt("/Font <<"),ae)ae.hasOwnProperty(D)&&(_===!1||_===!0&&A.hasOwnProperty(D))&&lt("/"+D+" "+ae[D].objectNumber+" 0 R");lt(">>")})(),(function(){if(Object.keys(Ee).length>0){for(var D in lt("/Shading <<"),Ee)Ee.hasOwnProperty(D)&&Ee[D]instanceof hc&&Ee[D].objectNumber>=0&&lt("/"+D+" "+Ee[D].objectNumber+" 0 R");ar.publish("putShadingPatternDict"),lt(">>")}})(),(function(D){if(Object.keys(Ee).length>0){for(var it in lt("/Pattern <<"),Ee)Ee.hasOwnProperty(it)&&Ee[it]instanceof w.TilingPattern&&Ee[it].objectNumber>=0&&Ee[it].objectNumber<D&&lt("/"+it+" "+Ee[it].objectNumber+" 0 R");ar.publish("putTilingPatternDict"),lt(">>")}})(x.objectOid),(function(){if(Object.keys(ze).length>0){var D;for(D in lt("/ExtGState <<"),ze)ze.hasOwnProperty(D)&&ze[D].objectNumber>=0&&lt("/"+D+" "+ze[D].objectNumber+" 0 R");ar.publish("putGStateDict"),lt(">>")}})(),(function(){for(var D in lt("/XObject <<"),ti)ti.hasOwnProperty(D)&&ti[D].objectNumber>=0&&lt("/"+D+" "+ti[D].objectNumber+" 0 R");ar.publish("putXobjectDict"),lt(">>")})(),lt(">>"),lt("endobj")},dn=function(x){Ne[x.fontName]=Ne[x.fontName]||{},Ne[x.fontName][x.fontStyle]=x.id},wo=function(x,D,it,ft,vt){var Ut={id:"F"+(Object.keys(ae).length+1).toString(10),postScriptName:x,fontName:D,fontStyle:it,encoding:ft,isStandardFont:vt||!1,metadata:{}};return ar.publish("addFont",{font:Ut,instance:this}),ae[Ut.id]=Ut,dn(Ut),Ut.id},Ii=w.__private__.pdfEscape=w.pdfEscape=function(x,D){return(function(it,ft){var vt,Ut,Qt,le,de,Ie,ye,mr,Jr;if(Qt=(ft=ft||{}).sourceEncoding||"Unicode",de=ft.outputEncoding,(ft.autoencode||de)&&ae[be].metadata&&ae[be].metadata[Qt]&&ae[be].metadata[Qt].encoding&&(le=ae[be].metadata[Qt].encoding,!de&&ae[be].encoding&&(de=ae[be].encoding),!de&&le.codePages&&(de=le.codePages[0]),typeof de=="string"&&(de=le[de]),de)){for(ye=!1,Ie=[],vt=0,Ut=it.length;vt<Ut;vt++)(mr=de[it.charCodeAt(vt)])?Ie.push(String.fromCharCode(mr)):Ie.push(it[vt]),Ie[vt].charCodeAt(0)>>8&&(ye=!0);it=Ie.join("")}for(vt=it.length;ye===void 0&&vt!==0;)it.charCodeAt(vt-1)>>8&&(ye=!0),vt--;if(!ye)return it;for(Ie=ft.noBOM?[]:[254,255],vt=0,Ut=it.length;vt<Ut;vt++){if((Jr=(mr=it.charCodeAt(vt))>>8)>>8)throw new Error("Character at position "+vt+" of string '"+it+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ie.push(Jr),Ie.push(mr-(Jr<<8))}return String.fromCharCode.apply(void 0,Ie)})(x,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},aa=w.__private__.beginPage=function(x){Yt[++Ve]=[],ke[Ve]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},xo(Ve),jt(Yt[K])},ba=function(x,D){var it,ft,vt;switch(e=D||e,typeof x=="string"&&(it=B(x.toLowerCase()),Array.isArray(it)&&(ft=it[0],vt=it[1])),Array.isArray(x)&&(ft=x[0]*Pe,vt=x[1]*Pe),isNaN(ft)&&(ft=s[0],vt=s[1]),(ft>14400||vt>14400)&&(un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ft=Math.min(14400,ft),vt=Math.min(14400,vt)),s=[ft,vt],e.substr(0,1)){case"l":vt>ft&&(s=[vt,ft]);break;case"p":ft>vt&&(s=[vt,ft])}aa(s),ja(Ci),lt($i),Wi!==0&&lt(Wi+" J"),An!==0&&lt(An+" j"),ar.publish("addPage",{pageNumber:Ve})},$s=function(x){x>0&&x<=Ve&&(Yt.splice(x,1),ke.splice(x,1),Ve--,K>Ve&&(K=Ve),this.setPage(K))},xo=function(x){x>0&&x<=Ve&&(K=x)},_o=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Yt.length-1},al=function(x,D,it){var ft,vt=void 0;return it=it||{},x=x!==void 0?x:ae[be].fontName,D=D!==void 0?D:ae[be].fontStyle,ft=x.toLowerCase(),Ne[ft]!==void 0&&Ne[ft][D]!==void 0?vt=Ne[ft][D]:Ne[x]!==void 0&&Ne[x][D]!==void 0?vt=Ne[x][D]:it.disableWarning===!1&&un.warn("Unable to look up font label for font '"+x+"', '"+D+"'. Refer to getFontList() for available fonts."),vt||it.noFallback||(vt=Ne.times[D])==null&&(vt=Ne.times.normal),vt},ls=w.__private__.putInfo=function(){var x=Br(),D=function(ft){return ft};for(var it in v!==null&&(D=Vr.encryptor(x,0)),lt("<<"),lt("/Producer ("+Ii(D("jsPDF "+_e.version))+")"),je)je.hasOwnProperty(it)&&je[it]&&lt("/"+it.substr(0,1).toUpperCase()+it.substr(1)+" ("+Ii(D(je[it]))+")");lt("/CreationDate ("+Ii(D(_t))+")"),lt(">>"),lt("endobj")},Vi=w.__private__.putCatalog=function(x){var D=(x=x||{}).rootDictionaryObjId||ei;switch(Br(),lt("<<"),lt("/Type /Catalog"),lt("/Pages "+D+" 0 R"),ie||(ie="fullwidth"),ie){case"fullwidth":lt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":lt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":lt("/OpenAction [3 0 R /Fit]");break;case"original":lt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var it=""+ie;it.substr(it.length-1)==="%"&&(ie=parseInt(ie)/100),typeof ie=="number"&&lt("/OpenAction [3 0 R /XYZ null null "+L(ie)+"]")}switch(Re||(Re="continuous"),Re){case"continuous":lt("/PageLayout /OneColumn");break;case"single":lt("/PageLayout /SinglePage");break;case"two":case"twoleft":lt("/PageLayout /TwoColumnLeft");break;case"tworight":lt("/PageLayout /TwoColumnRight")}ve&&lt("/PageMode /"+ve),ar.publish("putCatalog"),lt(">>"),lt("endobj")},sr=w.__private__.putTrailer=function(){lt("trailer"),lt("<<"),lt("/Size "+(dt+1)),lt("/Root "+dt+" 0 R"),lt("/Info "+(dt-1)+" 0 R"),v!==null&&lt("/Encrypt "+Vr.oid+" 0 R"),lt("/ID [ <"+nt+"> <"+nt+"> ]"),lt(">>")},Nn=w.__private__.putHeader=function(){lt("%PDF-"+M),lt("%")},us=w.__private__.putXRef=function(){var x="0000000000";lt("xref"),lt("0 "+(dt+1)),lt("0000000000 65535 f ");for(var D=1;D<=dt;D++)typeof yt[D]=="function"?lt((x+yt[D]()).slice(-10)+" 00000 n "):yt[D]!==void 0?lt((x+yt[D]).slice(-10)+" 00000 n "):lt("0000000000 00000 n ")},wa=w.__private__.buildDocument=function(){var x;dt=0,Nt=0,Tt=[],yt=[],Mt=[],ei=Yr(),Tr=Yr(),jt(Tt),ar.publish("buildDocument"),Nn(),va(),(function(){ar.publish("putAdditionalObjects");for(var it=0;it<Mt.length;it++){var ft=Mt[it];On(ft.objId,!0),lt(ft.content),lt("endobj")}ar.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var it in ae)ae.hasOwnProperty(it)&&(_===!1||_===!0&&A.hasOwnProperty(it))&&Ei(ae[it])})(),(function(){var it;for(it in ze)ze.hasOwnProperty(it)&&zi(ze[it])})(),(function(){for(var it in ti)ti.hasOwnProperty(it)&&os(ti[it])})(),(function(it){var ft;for(ft in Ee)Ee.hasOwnProperty(ft)&&(Ee[ft]instanceof hc?qi(Ee[ft]):Ee[ft]instanceof Ah&&hi(Ee[ft],it))})(x),ar.publish("putResources"),x.forEach(ia),ia({resourcesOid:Tr,objectOid:Number.MAX_SAFE_INTEGER}),ar.publish("postPutResources"),v!==null&&(Vr.oid=Br(),lt("<<"),lt("/Filter /Standard"),lt("/V "+Vr.v),lt("/R "+Vr.r),lt("/U <"+Vr.toHexString(Vr.U)+">"),lt("/O <"+Vr.toHexString(Vr.O)+">"),lt("/P "+Vr.P),lt(">>"),lt("endobj")),ls(),Vi();var D=Nt;return us(),sr(),lt("startxref"),lt(""+D),lt("%%EOF"),jt(Yt[K]),Tt.join(`
`)},hr=w.__private__.getBlob=function(x){return new Blob([qe(x)],{type:"application/pdf"})},di=w.output=w.__private__.output=(ki=function(x,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",x){case void 0:return wa();case"save":w.save(D.filename);break;case"arraybuffer":return qe(wa());case"blob":return hr(wa());case"bloburi":case"bloburl":if(Ke.URL!==void 0&&typeof Ke.URL.createObjectURL=="function")return Ke.URL&&Ke.URL.createObjectURL(hr(wa()))||void 0;un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var it="",ft=wa();try{it=a4(ft)}catch{it=a4(unescape(encodeURIComponent(ft)))}return"data:application/pdf;filename="+D.filename+";base64,"+it;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ke)==="[object Window]"){var vt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(vt=D.pdfObjectUrl,Ut="");var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+vt+'"'+Ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",le=Ke.open();return le!==null&&le.document.write(Qt),le}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ke)==="[object Window]"){var de='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',Ie=Ke.open();if(Ie!==null){Ie.document.write(de);var ye=this;Ie.document.documentElement.querySelector("#pdfViewer").onload=function(){Ie.document.title=D.filename,Ie.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ye.output("bloburl"))}}return Ie}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ke)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Jr=Ke.open();if(Jr!==null&&(Jr.document.write(mr),Jr.document.title=D.filename),Jr||typeof safari>"u")return Jr;break;case"datauri":case"dataurl":return Ke.document.location.href=this.output("datauristring",D);default:return null}},ki.foo=function(){try{return ki.apply(this,arguments)}catch(it){var x=it.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var D="Error in function "+x.split(`
`)[0].split("<")[0]+": "+it.message;if(!Ke.console)throw new Error(D);Ke.console.error(D,it),Ke.alert&&alert(D)}},ki.foo.bar=ki,ki.foo),Li=function(x){return Array.isArray(ui)===!0&&ui.indexOf(x)>-1};switch(n){case"pt":Pe=1;break;case"mm":Pe=72/25.4;break;case"cm":Pe=72/2.54;break;case"in":Pe=72;break;case"px":Pe=Li("px_scaling")==1?.75:96/72;break;case"pc":case"em":Pe=12;break;case"ex":Pe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Pe=n}var Vr=null;H(),Z();var fi=w.__private__.getPageInfo=w.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ke[x].objId,pageNumber:x,pageContext:ke[x]}},So=w.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in ke)if(ke[D].objId===x)break;return fi(D)},Gl=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:ke[K].objId,pageNumber:K,pageContext:ke[K]}};w.addPage=function(){return ba.apply(this,arguments),this},w.setPage=function(){return xo.apply(this,arguments),jt.call(this,Yt[K]),this},w.insertPage=function(x){return this.addPage(),this.movePage(K,x),this},w.movePage=function(x,D){var it,ft;if(x>D){it=Yt[x],ft=ke[x];for(var vt=x;vt>D;vt--)Yt[vt]=Yt[vt-1],ke[vt]=ke[vt-1];Yt[D]=it,ke[D]=ft,this.setPage(D)}else if(x<D){it=Yt[x],ft=ke[x];for(var Ut=x;Ut<D;Ut++)Yt[Ut]=Yt[Ut+1],ke[Ut]=ke[Ut+1];Yt[D]=it,ke[D]=ft,this.setPage(D)}return this},w.deletePage=function(){return $s.apply(this,arguments),this},w.__private__.text=w.text=function(x,D,it,ft,vt){var Ut,Qt,le,de,Ie,ye,mr,Jr,$r,p=(ft=ft||{}).scope||this;if(typeof x=="number"&&typeof D=="number"&&(typeof it=="string"||Array.isArray(it))){var k=it;it=D,D=x,x=k}if(arguments[3]instanceof xe==0?(le=arguments[4],de=arguments[5],Qr(mr=arguments[3])==="object"&&mr!==null||(typeof le=="string"&&(de=le,le=null),typeof mr=="string"&&(de=mr,mr=null),typeof mr=="number"&&(le=mr,mr=null),ft={flags:mr,angle:le,align:de})):(C("The transform parameter of text() with a Matrix value"),$r=vt),isNaN(D)||isNaN(it)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return p;var P,Y="",xt=typeof ft.lineHeightFactor=="number"?ft.lineHeightFactor:hs,Pt=p.internal.scaleFactor;function Xt(Er){return Er=Er.split("	").join(Array(ft.TabLen||9).join(" ")),Ii(Er,mr)}function $e(Er){for(var xr,Zr=Er.concat(),Ln=[],Rs=Zr.length;Rs--;)typeof(xr=Zr.shift())=="string"?Ln.push(xr):Array.isArray(Er)&&(xr.length===1||xr[1]===void 0&&xr[2]===void 0)?Ln.push(xr[0]):Ln.push([xr[0],xr[1],xr[2]]);return Ln}function Wr(Er,xr){var Zr;if(typeof Er=="string")Zr=xr(Er)[0];else if(Array.isArray(Er)){for(var Ln,Rs,ms=Er.concat(),fl=[],Gu=ms.length;Gu--;)typeof(Ln=ms.shift())=="string"?fl.push(xr(Ln)[0]):Array.isArray(Ln)&&typeof Ln[0]=="string"&&(Rs=xr(Ln[0],Ln[1],Ln[2]),fl.push([Rs[0],Rs[1],Rs[2]]));Zr=fl}return Zr}var ur=!1,Or=!0;if(typeof x=="string")ur=!0;else if(Array.isArray(x)){var ri=x.concat();Qt=[];for(var Gi,Xr=ri.length;Xr--;)(typeof(Gi=ri.shift())!="string"||Array.isArray(Gi)&&typeof Gi[0]!="string")&&(Or=!1);ur=Or}if(ur===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var mi=Wt/p.internal.scaleFactor,Ea=mi*(xt-1);switch(ft.baseline){case"bottom":it-=Ea;break;case"top":it+=mi-Ea;break;case"hanging":it+=mi-2*Ea;break;case"middle":it+=mi/2-Ea}if((ye=ft.maxWidth||0)>0&&(typeof x=="string"?x=p.splitTextToSize(x,ye):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(Er,xr){return Er.concat(p.splitTextToSize(xr,ye))},[]))),Ut={text:x,x:D,y:it,options:ft,mutex:{pdfEscape:Ii,activeFontKey:be,fonts:ae,activeFontSize:Wt}},ar.publish("preProcessText",Ut),x=Ut.text,le=(ft=Ut.options).angle,$r instanceof xe==0&&le&&typeof le=="number"){le*=Math.PI/180,ft.rotationDirection===0&&(le=-le),ct===tt&&(le=-le);var Es=Math.cos(le),Is=Math.sin(le);$r=new xe(Es,Is,-Is,Es,0,0)}else le&&le instanceof xe&&($r=le);ct!==tt||$r||($r=Bi),(Ie=ft.charSpace||Fa)!==void 0&&(Y+=N(j(Ie))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jr=ft.horizontalScale)!==void 0&&(Y+=N(100*Jr)+` Tz
`),ft.lang;var En=-1,Qs=ft.renderingMode!==void 0?ft.renderingMode:ft.stroke,Ql=p.internal.getCurrentPageInfo().pageContext;switch(Qs){case 0:case!1:case"fill":En=0;break;case 1:case!0:case"stroke":En=1;break;case 2:case"fillThenStroke":En=2;break;case 3:case"invisible":En=3;break;case 4:case"fillAndAddForClipping":En=4;break;case 5:case"strokeAndAddPathForClipping":En=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":En=6;break;case 7:case"addToPathForClipping":En=7}var Hu=Ql.usedRenderingMode!==void 0?Ql.usedRenderingMode:-1;En!==-1?Y+=En+` Tr
`:Hu!==-1&&(Y+=`0 Tr
`),En!==-1&&(Ql.usedRenderingMode=En),de=ft.align||"left";var Ia,fs=Wt*xt,Ys=p.internal.pageSize.getWidth(),Ku=ae[be];Ie=ft.charSpace||Fa,ye=ft.maxWidth||0,mr=Object.assign({autoencode:!0,noBOM:!0},ft.flags);var ps=[],Lo=function(Er){return p.getStringUnitWidth(Er,{font:Ku,charSpace:Ie,fontSize:Wt,doKerning:!1})*Wt/Pt};if(Object.prototype.toString.call(x)==="[object Array]"){var oa;Qt=$e(x),de!=="left"&&(Ia=Qt.map(Lo));var Qi,Ls=0;if(de==="right"){D-=Ia[0],x=[],Xr=Qt.length;for(var Cs=0;Cs<Xr;Cs++)Cs===0?(Qi=Kn(D),oa=jn(it)):(Qi=j(Ls-Ia[Cs]),oa=-fs),x.push([Qt[Cs],Qi,oa]),Ls=Ia[Cs]}else if(de==="center"){D-=Ia[0]/2,x=[],Xr=Qt.length;for(var Js=0;Js<Xr;Js++)Js===0?(Qi=Kn(D),oa=jn(it)):(Qi=j((Ls-Ia[Js])/2),oa=-fs),x.push([Qt[Js],Qi,oa]),Ls=Ia[Js]}else if(de==="left"){x=[],Xr=Qt.length;for(var Yl=0;Yl<Xr;Yl++)x.push(Qt[Yl])}else if(de==="justify"&&Ku.encoding==="Identity-H"){x=[],Xr=Qt.length,ye=ye!==0?ye:Ys;for(var Jl=0,In=0;In<Xr;In++)if(oa=In===0?jn(it):-fs,Qi=In===0?Kn(D):Jl,In<Xr-1){var jc=j((ye-Ia[In])/(Qt[In].split(" ").length-1)),Ts=Qt[In].split(" ");x.push([Ts[0]+" ",Qi,oa]),Jl=0;for(var Ps=1;Ps<Ts.length;Ps++){var gi=(Lo(Ts[Ps-1]+" "+Ts[Ps])-Lo(Ts[Ps]))*Pt+jc;Ps==Ts.length-1?x.push([Ts[Ps],gi,0]):x.push([Ts[Ps]+" ",gi,0]),Jl-=gi}}else x.push([Qt[In],Qi,oa]);x.push(["",Jl,0])}else{if(de!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Xr=Qt.length,ye=ye!==0?ye:Ys,In=0;In<Xr;In++){oa=In===0?jn(it):-fs,Qi=In===0?Kn(D):0;var Xs=Qt[In].split(" ").length-1,Xl=Xs>0?(ye-Ia[In])/Xs:0;In<Xr-1?ps.push(N(j(Xl))):ps.push(0),x.push([Qt[In],Qi,oa])}}}(typeof ft.R2L=="boolean"?ft.R2L:Qe)===!0&&(x=Wr(x,function(Er,xr,Zr){return[Er.split("").reverse().join(""),xr,Zr]})),Ut={text:x,x:D,y:it,options:ft,mutex:{pdfEscape:Ii,activeFontKey:be,fonts:ae,activeFontSize:Wt}},ar.publish("postProcessText",Ut),x=Ut.text,P=Ut.mutex.isHex||!1;var Zl=ae[be].encoding;Zl!=="WinAnsiEncoding"&&Zl!=="StandardEncoding"||(x=Wr(x,function(Er,xr,Zr){return[Xt(Er),xr,Zr]})),Qt=$e(x),x=[];for(var Zs,to,Os,dl=Array.isArray(Qt[0])?1:0,La="",eo=function(Er,xr,Zr){var Ln="";return Zr instanceof xe?(Zr=typeof ft.angle=="number"?ss(Zr,new xe(1,0,0,1,Er,xr)):ss(new xe(1,0,0,1,Er,xr),Zr),ct===tt&&(Zr=ss(new xe(1,0,0,-1,0,0),Zr)),Ln=Zr.join(" ")+` Tm
`):Ln=N(Er)+" "+N(xr)+` Td
`,Ln},Pi=0;Pi<Qt.length;Pi++){switch(La="",dl){case 1:Os=(P?"<":"(")+Qt[Pi][0]+(P?">":")"),Zs=parseFloat(Qt[Pi][1]),to=parseFloat(Qt[Pi][2]);break;case 0:Os=(P?"<":"(")+Qt[Pi]+(P?">":")"),Zs=Kn(D),to=jn(it)}ps!==void 0&&ps[Pi]!==void 0&&(La=ps[Pi]+` Tw
`),Pi===0?x.push(La+eo(Zs,to,$r)+Os):dl===0?x.push(La+Os):dl===1&&x.push(La+eo(Zs,to,$r)+Os)}x=dl===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Ba=`BT
/`;return Ba+=be+" "+Wt+` Tf
`,Ba+=N(Wt*xt)+` TL
`,Ba+=Sa+`
`,Ba+=Y,Ba+=x,lt(Ba+="ET"),A[be]=!0,p};var sl=w.__private__.clip=w.clip=function(x){return lt(x==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return sl("evenodd")},w.__private__.discardPath=w.discardPath=function(){return lt("n"),this};var pi=w.__private__.isValidStyle=function(x){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(D=!0),D};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(x){return pi(x)&&(m=x),this};var ol=w.__private__.getStyle=w.getStyle=function(x){var D=m;switch(x){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=x}return D},cs=w.close=function(){return lt("h"),this};w.stroke=function(){return lt("S"),this},w.fill=function(x){return kn("f",x),this},w.fillEvenOdd=function(x){return kn("f*",x),this},w.fillStroke=function(x){return kn("B",x),this},w.fillStrokeEvenOdd=function(x){return kn("B*",x),this};var kn=function(x,D){Qr(D)==="object"?ul(D,x):lt(x)},No=function(x){x===null||ct===tt&&x===void 0||(x=ol(x),lt(x))};function ll(x,D,it,ft,vt){var Ut=new Ah(D||this.boundingBox,it||this.xStep,ft||this.yStep,this.gState,vt||this.matrix);Ut.stream=this.stream;var Qt=x+"$$"+this.cloneIndex+++"$$";return Ni(Qt,Ut),Ut}var ul=function(x,D){var it=ir[x.key],ft=Ee[it];if(ft instanceof hc)lt("q"),lt(ko(D)),ft.gState&&w.setGState(ft.gState),lt(x.matrix.toString()+" cm"),lt("/"+it+" sh"),lt("Q");else if(ft instanceof Ah){var vt=new xe(1,0,0,-1,0,Aa());x.matrix&&(vt=vt.multiply(x.matrix||Bi),it=ll.call(ft,x.key,x.boundingBox,x.xStep,x.yStep,vt).id),lt("q"),lt("/Pattern cs"),lt("/"+it+" scn"),ft.gState&&w.setGState(ft.gState),lt(D),lt("Q")}},ko=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ao=w.moveTo=function(x,D){return lt(N(j(x))+" "+N(ot(D))+" m"),this},sa=w.lineTo=function(x,D){return lt(N(j(x))+" "+N(ot(D))+" l"),this},xa=w.curveTo=function(x,D,it,ft,vt,Ut){return lt([N(j(x)),N(ot(D)),N(j(it)),N(ot(ft)),N(j(vt)),N(ot(Ut)),"c"].join(" ")),this};w.__private__.line=w.line=function(x,D,it,ft,vt){if(isNaN(x)||isNaN(D)||isNaN(it)||isNaN(ft)||!pi(vt))throw new Error("Invalid arguments passed to jsPDF.line");return ct===et?this.lines([[it-x,ft-D]],x,D,[1,1],vt||"S"):this.lines([[it-x,ft-D]],x,D,[1,1]).stroke()},w.__private__.lines=w.lines=function(x,D,it,ft,vt,Ut){var Qt,le,de,Ie,ye,mr,Jr,$r,p,k,P,Y;if(typeof x=="number"&&(Y=it,it=D,D=x,x=Y),ft=ft||[1,1],Ut=Ut||!1,isNaN(D)||isNaN(it)||!Array.isArray(x)||!Array.isArray(ft)||!pi(vt)||typeof Ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ao(D,it),Qt=ft[0],le=ft[1],Ie=x.length,k=D,P=it,de=0;de<Ie;de++)(ye=x[de]).length===2?(k=ye[0]*Qt+k,P=ye[1]*le+P,sa(k,P)):(mr=ye[0]*Qt+k,Jr=ye[1]*le+P,$r=ye[2]*Qt+k,p=ye[3]*le+P,k=ye[4]*Qt+k,P=ye[5]*le+P,xa(mr,Jr,$r,p,k,P));return Ut&&cs(),No(vt),this},w.path=function(x){for(var D=0;D<x.length;D++){var it=x[D],ft=it.c;switch(it.op){case"m":Ao(ft[0],ft[1]);break;case"l":sa(ft[0],ft[1]);break;case"c":xa.apply(this,ft);break;case"h":cs()}}return this},w.__private__.rect=w.rect=function(x,D,it,ft,vt){if(isNaN(x)||isNaN(D)||isNaN(it)||isNaN(ft)||!pi(vt))throw new Error("Invalid arguments passed to jsPDF.rect");return ct===et&&(ft=-ft),lt([N(j(x)),N(ot(D)),N(j(it)),N(j(ft)),"re"].join(" ")),No(vt),this},w.__private__.triangle=w.triangle=function(x,D,it,ft,vt,Ut,Qt){if(isNaN(x)||isNaN(D)||isNaN(it)||isNaN(ft)||isNaN(vt)||isNaN(Ut)||!pi(Qt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[it-x,ft-D],[vt-it,Ut-ft],[x-vt,D-Ut]],x,D,[1,1],Qt,!0),this},w.__private__.roundedRect=w.roundedRect=function(x,D,it,ft,vt,Ut,Qt){if(isNaN(x)||isNaN(D)||isNaN(it)||isNaN(ft)||isNaN(vt)||isNaN(Ut)||!pi(Qt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var le=4/3*(Math.SQRT2-1);return vt=Math.min(vt,.5*it),Ut=Math.min(Ut,.5*ft),this.lines([[it-2*vt,0],[vt*le,0,vt,Ut-Ut*le,vt,Ut],[0,ft-2*Ut],[0,Ut*le,-vt*le,Ut,-vt,Ut],[2*vt-it,0],[-vt*le,0,-vt,-Ut*le,-vt,-Ut],[0,2*Ut-ft],[0,-Ut*le,vt*le,-Ut,vt,-Ut]],x+vt,D,[1,1],Qt,!0),this},w.__private__.ellipse=w.ellipse=function(x,D,it,ft,vt){if(isNaN(x)||isNaN(D)||isNaN(it)||isNaN(ft)||!pi(vt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ut=4/3*(Math.SQRT2-1)*it,Qt=4/3*(Math.SQRT2-1)*ft;return Ao(x+it,D),xa(x+it,D-Qt,x+Ut,D-ft,x,D-ft),xa(x-Ut,D-ft,x-it,D-Qt,x-it,D),xa(x-it,D+Qt,x-Ut,D+ft,x,D+ft),xa(x+Ut,D+ft,x+it,D+Qt,x+it,D),No(vt),this},w.__private__.circle=w.circle=function(x,D,it,ft){if(isNaN(x)||isNaN(D)||isNaN(it)||!pi(ft))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,D,it,it,ft)},w.setFont=function(x,D,it){return it&&(D=Q(D,it)),be=al(x,D,{disableWarning:!1}),this};var _a=w.__private__.getFont=w.getFont=function(){return ae[al.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var x,D,it={};for(x in Ne)if(Ne.hasOwnProperty(x))for(D in it[x]=[],Ne[x])Ne[x].hasOwnProperty(D)&&it[x].push(D);return it},w.addFont=function(x,D,it,ft,vt){var Ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ut.indexOf(arguments[3])!==-1?vt=arguments[3]:arguments[3]&&Ut.indexOf(arguments[3])==-1&&(it=Q(it,ft)),wo.call(this,x,D,it,vt=vt||"Identity-H")};var hs,Ci=r.lineWidth||.200025,Te=w.__private__.getLineWidth=w.getLineWidth=function(){return Ci},ja=w.__private__.setLineWidth=w.setLineWidth=function(x){return Ci=x,lt(N(j(x))+" w"),this};w.__private__.setLineDash=_e.API.setLineDash=_e.API.setLineDashPattern=function(x,D){if(x=x||[],D=D||0,isNaN(D)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(it){return N(j(it))}).join(" "),D=N(j(D)),lt("["+x+"] "+D+" d"),this};var Ws=w.__private__.getLineHeight=w.getLineHeight=function(){return Wt*hs};w.__private__.getLineHeight=w.getLineHeight=function(){return Wt*hs};var Eo=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(hs=x),this},Ns=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return hs};Eo(r.lineHeight);var Kn=w.__private__.getHorizontalCoordinate=function(x){return j(x)},jn=w.__private__.getVerticalCoordinate=function(x){return ct===tt?x:ke[K].mediaBox.topRightY-ke[K].mediaBox.bottomLeftY-j(x)},Hs=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(x){return N(Kn(x))},Pr=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(x){return N(jn(x))},$i=r.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return zr($i)},w.__private__.setStrokeColor=w.setDrawColor=function(x,D,it,ft){return $i=Rn({ch1:x,ch2:D,ch3:it,ch4:ft,pdfColorType:"draw",precision:2}),lt($i),this};var Ks=r.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return zr(Ks)},w.__private__.setFillColor=w.setFillColor=function(x,D,it,ft){return Ks=Rn({ch1:x,ch2:D,ch3:it,ch4:ft,pdfColorType:"fill",precision:2}),lt(Ks),this};var Sa=r.textColor||"0 g",ks=w.__private__.getTextColor=w.getTextColor=function(){return zr(Sa)};w.__private__.setTextColor=w.setTextColor=function(x,D,it,ft){return Sa=Rn({ch1:x,ch2:D,ch3:it,ch4:ft,pdfColorType:"text",precision:3}),this};var Fa=r.charSpace,ds=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Fa||0)};w.__private__.setCharSpace=w.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fa=x,this};var Wi=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(x){var D=w.CapJoinStyles[x];if(D===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wi=D,lt(D+" J"),this};var An=0;w.__private__.setLineJoin=w.setLineJoin=function(x){var D=w.CapJoinStyles[x];if(D===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return An=D,lt(D+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return lt(N(j(x))+" M"),this},w.GState=Sm,w.setGState=function(x){(x=typeof x=="string"?ze[Cr[x]]:Hi(null,x)).equals(an)||(lt("/"+x.id+" gs"),an=x)};var Hi=function(x,D){if(!x||!Cr[x]){var it=!1;for(var ft in ze)if(ze.hasOwnProperty(ft)&&ze[ft].equals(D)){it=!0;break}if(it)D=ze[ft];else{var vt="GS"+(Object.keys(ze).length+1).toString(10);ze[vt]=D,D.id=vt}return x&&(Cr[x]=D.id),ar.publish("addGState",D),D}};w.addGState=function(x,D){return Hi(x,D),this},w.saveGraphicsState=function(){return lt("q"),Me.push({key:be,size:Wt,color:Sa}),this},w.restoreGraphicsState=function(){lt("Q");var x=Me.pop();return be=x.key,Wt=x.size,Sa=x.color,an=null,this},w.setCurrentTransformationMatrix=function(x){return lt(x.toString()+" cm"),this},w.comment=function(x){return lt("#"+x),this};var Ti=function(x,D){var it=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return it},set:function(Ut){isNaN(Ut)||(it=parseFloat(Ut))}});var ft=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ft},set:function(Ut){isNaN(Ut)||(ft=parseFloat(Ut))}});var vt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return vt},set:function(Ut){vt=Ut.toString()}}),this},Da=function(x,D,it,ft){Ti.call(this,x,D),this.type="rect";var vt=it||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return vt},set:function(Qt){isNaN(Qt)||(vt=parseFloat(Qt))}});var Ut=ft||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ut},set:function(Qt){isNaN(Qt)||(Ut=parseFloat(Qt))}}),this},As=function(){this.page=Ve,this.currentPage=K,this.pages=Yt.slice(0),this.pagesContext=ke.slice(0),this.x=ge,this.y=Fr,this.matrix=rr,this.width=Na(K),this.height=ka(K),this.outputDestination=ne,this.id="",this.objectNumber=-1};As.prototype.restore=function(){Ve=this.page,K=this.currentPage,ke=this.pagesContext,Yt=this.pages,ge=this.x,Fr=this.y,rr=this.matrix,Gs(K,this.width),Ki(K,this.height),ne=this.outputDestination};var Ma=function(x,D,it,ft,vt){Hn.push(new As),Ve=K=0,Yt=[],ge=x,Fr=D,rr=vt,aa([it,ft])};for(var Ua in w.beginFormObject=function(x,D,it,ft,vt){return Ma(x,D,it,ft,vt),this},w.endFormObject=function(x){return(function(D){if(Ra[D])Hn.pop().restore();else{var it=new As,ft="Xo"+(Object.keys(ti).length+1).toString(10);it.id=ft,Ra[D]=ft,ti[ft]=it,ar.publish("addFormObject",it),Hn.pop().restore()}})(x),this},w.doFormObject=function(x,D){var it=ti[Ra[x]];return lt("q"),lt(D.toString()+" cm"),lt("/"+it.id+" Do"),lt("Q"),this},w.getFormObject=function(x){var D=ti[Ra[x]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},w.save=function(x,D){return x=x||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(cc(hr(wa()),x),typeof cc.unload=="function"&&Ke.setTimeout&&setTimeout(cc.unload,911),this):new Promise(function(it,ft){try{var vt=cc(hr(wa()),x);typeof cc.unload=="function"&&Ke.setTimeout&&setTimeout(cc.unload,911),it(vt)}catch(Ut){ft(Ut.message)}})},_e.API)_e.API.hasOwnProperty(Ua)&&(Ua==="events"&&_e.API.events.length?(function(x,D){var it,ft,vt;for(vt=D.length-1;vt!==-1;vt--)it=D[vt][0],ft=D[vt][1],x.subscribe.apply(x,[it].concat(typeof ft=="function"?[ft]:ft))})(ar,_e.API.events):w[Ua]=_e.API[Ua]);function Na(x){return ke[x].mediaBox.topRightX-ke[x].mediaBox.bottomLeftX}function Gs(x,D){ke[x].mediaBox.topRightX=D+ke[x].mediaBox.bottomLeftX}function ka(x){return ke[x].mediaBox.topRightY-ke[x].mediaBox.bottomLeftY}function Ki(x,D){ke[x].mediaBox.topRightY=D+ke[x].mediaBox.bottomLeftY}var cl=w.getPageWidth=function(x){return Na(x=x||K)/Pe},hl=w.setPageWidth=function(x,D){Gs(x,D*Pe)},Aa=w.getPageHeight=function(x){return ka(x=x||K)/Pe},Io=w.setPageHeight=function(x,D){Ki(x,D*Pe)};return w.internal={pdfEscape:Ii,getStyle:ol,getFont:_a,getFontSize:ee,getCharSpace:ds,getTextColor:ks,getLineHeight:Ws,getLineHeightFactor:Ns,getLineWidth:Te,write:Je,getHorizontalCoordinate:Kn,getVerticalCoordinate:jn,getCoordinateString:Hs,getVerticalCoordinateString:Pr,collections:{},newObject:Br,newAdditionalObject:ci,newObjectDeferred:Yr,newObjectDeferredBegin:On,getFilters:Ai,putStream:na,events:ar,scaleFactor:Pe,pageSize:{getWidth:function(){return cl(K)},setWidth:function(x){hl(K,x)},getHeight:function(){return Aa(K)},setHeight:function(x){Io(K,x)}},encryptionOptions:v,encryption:Vr,getEncryptor:function(x){return v!==null?Vr.encryptor(x,0):function(D){return D}},output:di,getNumberOfPages:_o,pages:Yt,out:lt,f2:L,f3:R,getPageInfo:fi,getPageInfoByObjId:So,getCurrentPageInfo:Gl,getPDFVersion:F,Point:Ti,Rectangle:Da,Matrix:xe,hasHotfix:Li},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return cl(K)},set:function(x){hl(K,x)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Aa(K)},set:function(x){Io(K,x)},enumerable:!0,configurable:!0}),(function(x){for(var D=0,it=we.length;D<it;D++){var ft=wo.call(this,x[D][0],x[D][1],x[D][2],we[D][3],!0);_===!1&&(A[ft]=!0);var vt=x[D][0].split("-");dn({id:ft,fontName:vt[0],fontStyle:vt[1]||""})}ar.publish("addFonts",{fonts:ae,dictionary:Ne})}).call(w,we),be="F1",ba(s,e),ar.publish("initialized"),w}Nh.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Nh.prototype.toHexString=function(r){return r.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Nh.prototype.hexToBytes=function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(String.fromCharCode(parseInt(r.substr(e,2),16)));return t.join("")},Nh.prototype.processOwnerPassword=function(r,t){return j1(R1(t).substr(0,5),r)},Nh.prototype.encryptor=function(r,t){var e=R1(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return j1(e,n)}},Sm.prototype.equals=function(r){var t,e="id,objectNumber,equals";if(!r||Qr(r)!==Qr(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!r.hasOwnProperty(t)||this[t]!==r[t])return!1;n++}for(t in r)r.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},_e.API={events:[]},_e.version="3.0.3";var zn=_e.API,Y2=1,Rc=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yh=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},tr=function(r){return r.toFixed(2)},ku=function(r){return r.toFixed(5)};zn.__acroform__={};var as=function(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r},u4=function(r){return r*Y2},$o=function(r){var t=new oS,e=pe.internal.getHeight(r)||0,n=pe.internal.getWidth(r)||0;return t.BBox=[0,0,Number(tr(n)),Number(tr(e))],t},t9=zn.__acroform__.setBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<t},e9=zn.__acroform__.clearBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<t)},r9=zn.__acroform__.getBit=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<t?1:0},Jn=zn.__acroform__.getBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return r9(r,t-1)},Xn=zn.__acroform__.setBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return t9(r,t-1)},Zn=zn.__acroform__.clearBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return e9(r,t-1)},n9=zn.__acroform__.calculateCoordinates=function(r,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=r[0],o=r[1],u=r[2],h=r[3],d={};return d.lowerLeft_X=e(s)||0,d.lowerLeft_Y=n(o+h)||0,d.upperRight_X=e(s+u)||0,d.upperRight_Y=n(o)||0,[Number(tr(d.lowerLeft_X)),Number(tr(d.lowerLeft_Y)),Number(tr(d.upperRight_X)),Number(tr(d.upperRight_Y))]},i9=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var t=[],e=r._V||r.DV,n=F1(r,e),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(r.scope.__private__.encodeColorString(r.color)),t.push("/"+s+" "+tr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=$o(r);return o.scope=r.scope,o.stream=t.join(`
`),o}},F1=function(r,t){var e=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=r.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var o=e,u=pe.internal.getHeight(r)||0;u=u<0?-u:u;var h=pe.internal.getWidth(r)||0;h=h<0?-h:h;var d=function(L,R,j){if(L+1<s.length){var ot=R+" "+s[L+1][0];return Op(ot,r,j).width<=h-4}return!1};o++;t:for(;o>0;){t="",o--;var m,v,_=Op("3",r,o).height,A=r.multiline?u-o:(u-_)/2,w=A+=2,M=0,F=0,$=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Op(t,r,o=12).width+", FieldWidth:"+h+`
`;break}for(var B="",et=0,tt=0;tt<s.length;tt++)if(s.hasOwnProperty(tt)){var ct=!1;if(s[tt].length!==1&&$!==s[tt].length-1){if((_+2)*(et+2)+2>u)continue t;B+=s[tt][$],ct=!0,F=tt,tt--}else{B=(B+=s[tt][$]+" ").substr(B.length-1)==" "?B.substr(0,B.length-1):B;var At=parseInt(tt),It=d(At,B,o),Q=tt>=s.length-1;if(It&&!Q){B+=" ",$=0;continue}if(It||Q){if(Q)F=At;else if(r.multiline&&(_+2)*(et+2)+2>u)continue t}else{if(!r.multiline||(_+2)*(et+2)+2>u)continue t;F=At}}for(var N="",C=M;C<=F;C++){var q=s[C];if(r.multiline){if(C===F){N+=q[$]+" ",$=($+1)%q.length;continue}if(C===M){N+=q[q.length-1]+" ";continue}}N+=q[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,v=Op(N,r,o).width,r.textAlign){case"right":m=h-v-2;break;case"center":m=(h-v)/2;break;default:m=2}t+=tr(m)+" "+tr(w)+` Td
`,t+="("+Rc(N)+`) Tj
`,t+=-tr(m)+` 0 Td
`,w=-(o+2),v=0,M=ct?F:F+1,et++,B=""}break}return n.text=t,n.fontSize=o,n},Op=function(r,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:s}},a9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},s9=function(r,t){var e={type:"reference",object:r};t.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(r.page).pageContext.annotations.push(e)},o9=function(r,t){if(t.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(vo.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(a9)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Y2=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new lS,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var o=n[s];o.objId=void 0,o.hasAnnotation&&s9(o,e)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(e){(function(n,s){var o=!n;for(var u in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(u)){var h=n[u],d=[],m=h.Rect;if(h.Rect&&(h.Rect=n9(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=pe.createDefaultAppearanceStream(h),Qr(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(d=h.getKeyValueListForStream()),h.Rect=m,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=i9(h);d.push({key:"AP",value:"<</N "+v+">>"}),s.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var _="";for(var A in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(A)){var w=h.appearanceStreamContent[A];if(_+="/"+A+" ",_+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var u in w)if(w.hasOwnProperty(u)){var M=w[u];typeof M=="function"&&(M=M.call(s,h)),_+="/"+u+" "+M+" ",s.internal.acroformPlugin.xForms.indexOf(M)>=0||s.internal.acroformPlugin.xForms.push(M)}}else typeof(M=w)=="function"&&(M=M.call(s,h)),_+="/"+u+" "+M,s.internal.acroformPlugin.xForms.indexOf(M)>=0||s.internal.acroformPlugin.xForms.push(M);_+=">>"}d.push({key:"AP",value:`<<
`+_+">>"})}s.internal.putStream({additionalKeyValues:d,objectId:h.objId}),s.internal.out("endobj")}o&&(function(F,$){for(var B in F)if(F.hasOwnProperty(B)){var et=B,tt=F[B];$.internal.newObjectDeferredBegin(tt.objId,!0),Qr(tt)==="object"&&typeof tt.putStream=="function"&&tt.putStream(),delete F[et]}})(s.internal.acroformPlugin.xForms,s)})(e,r)}),r.internal.acroformPlugin.isInitialized=!0}},sS=zn.__acroform__.arrayToPdfArray=function(r,t,e){var n=function(u){return u};if(Array.isArray(r)){for(var s="[",o=0;o<r.length;o++)switch(o!==0&&(s+=" "),Qr(r[o])){case"boolean":case"number":case"object":s+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),s+="("+Rc(n(r[o].toString()))+")"):s+=r[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Q0=function(r,t,e){var n=function(s){return s};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(r=r||"").toString(),"("+Rc(n(r))+")"},Ko=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ko.prototype.toString=function(){return this.objId+" 0 R"},Ko.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Ko.prototype.getKeyValueListForStream=function(){var r=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:sS(s,this.objId,this.scope)}):s instanceof Ko?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var oS=function(){Ko.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){r=e.trim()},get:function(){return r||null}})};as(oS,Ko);var lS=function(){Ko.call(this);var r,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Rc(e(r))+")"}},set:function(e){r=e}})};as(lS,Ko);var vo=function r(){Ko.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute F supplied.');t=B}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jn(t,3)},set:function(B){B?this.F=Xn(t,3):this.F=Zn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute Ff supplied.');e=B}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(B){n=B!==void 0?B:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(B){n[0]=B}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(B){n[1]=B}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(B){n[2]=B}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(B){n[3]=B}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(B){switch(B){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=B;break;default:throw new Error('Invalid value "'+B+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Nm)return;o="FieldObject"+r.FieldNum++}var B=function(et){return et};return this.scope&&(B=this.scope.internal.getEncryptor(this.objId)),"("+Rc(B(o))+")"},set:function(B){o=B.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(B){o=B}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(B){u=B}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(B){h=B}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(B){d=B}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/Y2:m},set:function(B){m=B}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(B){v=B}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof Nm||this instanceof vc))return Q0(_,this.objId,this.scope)},set:function(B){B=B.toString(),_=B}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Ui==0?Q0(A,this.objId,this.scope):A},set:function(B){B=B.toString(),A=this instanceof Ui==0?B.substr(0,1)==="("?yh(B.substr(1,B.length-2)):yh(B):B}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui==1?yh(A.substr(1,A.length-1)):A},set:function(B){B=B.toString(),A=this instanceof Ui==1?"/"+B:B}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(B){this.V=B}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Ui==0?Q0(w,this.objId,this.scope):w},set:function(B){B=B.toString(),w=this instanceof Ui==0?B.substr(0,1)==="("?yh(B.substr(1,B.length-2)):yh(B):B}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui==1?yh(w.substr(1,w.length-1)):w},set:function(B){B=B.toString(),w=this instanceof Ui==1?"/"+B:B}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,F=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return F},set:function(B){B=!!B,F=B}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(B){M=B}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,1)},set:function(B){B?this.Ff=Xn(this.Ff,1):this.Ff=Zn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,2)},set:function(B){B?this.Ff=Xn(this.Ff,2):this.Ff=Zn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,3)},set:function(B){B?this.Ff=Xn(this.Ff,3):this.Ff=Zn(this.Ff,3)}});var $=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if($!==null)return $},set:function(B){if([0,1,2].indexOf(B)===-1)throw new Error('Invalid value "'+B+'" for attribute Q supplied.');$=B}}),Object.defineProperty(this,"textAlign",{get:function(){var B;switch($){case 0:default:B="left";break;case 1:B="center";break;case 2:B="right"}return B},configurable:!0,enumerable:!0,set:function(B){switch(B){case"right":case 2:$=2;break;case"center":case 1:$=1;break;default:$=0}}})};as(vo,Ko);var Ph=function(){vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return sS(t,this.objId,this.scope)},set:function(e){var n,s;s=[],typeof(n=e)=="string"&&(s=(function(o,u,h){h||(h=1);for(var d,m=[];d=u.exec(o);)m.push(d[h]);return m})(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,18)},set:function(e){e?this.Ff=Xn(this.Ff,18):this.Ff=Zn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Xn(this.Ff,19):this.Ff=Zn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,20)},set:function(e){e?(this.Ff=Xn(this.Ff,20),t.sort()):this.Ff=Zn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,22)},set:function(e){e?this.Ff=Xn(this.Ff,22):this.Ff=Zn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,23)},set:function(e){e?this.Ff=Xn(this.Ff,23):this.Ff=Zn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,27)},set:function(e){e?this.Ff=Xn(this.Ff,27):this.Ff=Zn(this.Ff,27)}}),this.hasAppearanceStream=!1};as(Ph,vo);var Oh=function(){Ph.call(this),this.fontName="helvetica",this.combo=!1};as(Oh,Ph);var Rh=function(){Oh.call(this),this.combo=!0};as(Rh,Oh);var Qp=function(){Rh.call(this),this.edit=!0};as(Qp,Rh);var Ui=function(){vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,15)},set:function(e){e?this.Ff=Xn(this.Ff,15):this.Ff=Zn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,16)},set:function(e){e?this.Ff=Xn(this.Ff,16):this.Ff=Zn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,17)},set:function(e){e?this.Ff=Xn(this.Ff,17):this.Ff=Zn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,26)},set:function(e){e?this.Ff=Xn(this.Ff,26):this.Ff=Zn(this.Ff,26)}});var r,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Rc(e(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(e){Qr(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}})};as(Ui,vo);var Yp=function(){Ui.call(this),this.pushButton=!0};as(Yp,Ui);var jh=function(){Ui.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t!==void 0?t:[]}})};as(jh,Ui);var Nm=function(){var r,t;vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),n)u.push("/"+o+" ("+Rc(s(n[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){Qr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};as(Nm,vo),jh.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=r.createAppearanceStream(e.optionName),e.caption=r.getCA()}},jh.prototype.createOption=function(r){var t=new Nm;return t.Parent=this,t.optionName=r,this.Kids.push(t),l9.call(this.scope,t),t};var Jp=function(){Ui.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pe.CheckBox.createAppearanceStream()};as(Jp,Ui);var vc=function(){vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,13)},set:function(t){t?this.Ff=Xn(this.Ff,13):this.Ff=Zn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,21)},set:function(t){t?this.Ff=Xn(this.Ff,21):this.Ff=Zn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,23)},set:function(t){t?this.Ff=Xn(this.Ff,23):this.Ff=Zn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,24)},set:function(t){t?this.Ff=Xn(this.Ff,24):this.Ff=Zn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,25)},set:function(t){t?this.Ff=Xn(this.Ff,25):this.Ff=Zn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,26)},set:function(t){t?this.Ff=Xn(this.Ff,26):this.Ff=Zn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){Number.isInteger(t)&&(r=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};as(vc,vo);var Xp=function(){vc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,14)},set:function(r){r?this.Ff=Xn(this.Ff,14):this.Ff=Zn(this.Ff,14)}}),this.password=!0};as(Xp,vc);var pe={CheckBox:{createAppearanceStream:function(){return{N:{On:pe.CheckBox.YesNormal},D:{On:pe.CheckBox.YesPushDown,Off:pe.CheckBox.OffPushDown}}},YesPushDown:function(r){var t=$o(r);t.scope=r.scope;var e=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),o=F1(r,r.caption);return e.push("0.749023 g"),e.push("0 0 "+tr(pe.internal.getWidth(r))+" "+tr(pe.internal.getHeight(r))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+tr(o.fontSize)+" Tf "+s),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(r){var t=$o(r);t.scope=r.scope;var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],o=pe.internal.getHeight(r),u=pe.internal.getWidth(r),h=F1(r,r.caption);return s.push("1 g"),s.push("0 0 "+tr(u)+" "+tr(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+tr(u-1)+" "+tr(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+e+" "+tr(h.fontSize)+" Tf "+n),s.push(h.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(r){var t=$o(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+tr(pe.internal.getWidth(r))+" "+tr(pe.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(r){var t={D:{Off:pe.RadioButton.Circle.OffPushDown},N:{}};return t.N[r]=pe.RadioButton.Circle.YesNormal,t.D[r]=pe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(r){var t=$o(r);t.scope=r.scope;var e=[],n=pe.internal.getWidth(r)<=pe.internal.getHeight(r)?pe.internal.getWidth(r)/4:pe.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=pe.internal.Bezier_C,o=Number((n*s).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+ku(pe.internal.getWidth(r)/2)+" "+ku(pe.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=$o(r);t.scope=r.scope;var e=[],n=pe.internal.getWidth(r)<=pe.internal.getHeight(r)?pe.internal.getWidth(r)/4:pe.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),o=Number((s*pe.internal.Bezier_C).toFixed(5)),u=Number((n*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+ku(pe.internal.getWidth(r)/2)+" "+ku(pe.internal.getHeight(r)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),e.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),e.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),e.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+ku(pe.internal.getWidth(r)/2)+" "+ku(pe.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+u+" "+u+" "+n+" 0 "+n+" c"),e.push("-"+u+" "+n+" -"+n+" "+u+" -"+n+" 0 c"),e.push("-"+n+" -"+u+" -"+u+" -"+n+" 0 -"+n+" c"),e.push(u+" -"+n+" "+n+" -"+u+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(r){var t=$o(r);t.scope=r.scope;var e=[],n=pe.internal.getWidth(r)<=pe.internal.getHeight(r)?pe.internal.getWidth(r)/4:pe.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),o=Number((s*pe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+ku(pe.internal.getWidth(r)/2)+" "+ku(pe.internal.getHeight(r)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),e.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),e.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),e.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(r){var t={D:{Off:pe.RadioButton.Cross.OffPushDown},N:{}};return t.N[r]=pe.RadioButton.Cross.YesNormal,t.D[r]=pe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(r){var t=$o(r);t.scope=r.scope;var e=[],n=pe.internal.calculateCross(r);return e.push("q"),e.push("1 1 "+tr(pe.internal.getWidth(r)-2)+" "+tr(pe.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(tr(n.x1.x)+" "+tr(n.x1.y)+" m"),e.push(tr(n.x2.x)+" "+tr(n.x2.y)+" l"),e.push(tr(n.x4.x)+" "+tr(n.x4.y)+" m"),e.push(tr(n.x3.x)+" "+tr(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=$o(r);t.scope=r.scope;var e=pe.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+tr(pe.internal.getWidth(r))+" "+tr(pe.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+tr(pe.internal.getWidth(r)-2)+" "+tr(pe.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(tr(e.x1.x)+" "+tr(e.x1.y)+" m"),n.push(tr(e.x2.x)+" "+tr(e.x2.y)+" l"),n.push(tr(e.x4.x)+" "+tr(e.x4.y)+" m"),n.push(tr(e.x3.x)+" "+tr(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(r){var t=$o(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+tr(pe.internal.getWidth(r))+" "+tr(pe.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(r){var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color);return"/"+t+" "+r.fontSize+" Tf "+e}};pe.internal={Bezier_C:.551915024494,calculateCross:function(r){var t=pe.internal.getWidth(r),e=pe.internal.getHeight(r),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},pe.internal.getWidth=function(r){var t=0;return Qr(r)==="object"&&(t=u4(r.Rect[2])),t},pe.internal.getHeight=function(r){var t=0;return Qr(r)==="object"&&(t=u4(r.Rect[3])),t};var l9=zn.addField=function(r){if(o9(this,r),!(r instanceof vo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=r).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};zn.AcroFormChoiceField=Ph,zn.AcroFormListBox=Oh,zn.AcroFormComboBox=Rh,zn.AcroFormEditBox=Qp,zn.AcroFormButton=Ui,zn.AcroFormPushButton=Yp,zn.AcroFormRadioButton=jh,zn.AcroFormCheckBox=Jp,zn.AcroFormTextField=vc,zn.AcroFormPasswordField=Xp,zn.AcroFormAppearance=pe,zn.AcroForm={ChoiceField:Ph,ListBox:Oh,ComboBox:Rh,EditBox:Qp,Button:Ui,PushButton:Yp,RadioButton:jh,CheckBox:Jp,TextField:vc,PasswordField:Xp,Appearance:pe},_e.AcroForm={ChoiceField:Ph,ListBox:Oh,ComboBox:Rh,EditBox:Qp,Button:Ui,PushButton:Yp,RadioButton:jh,CheckBox:Jp,TextField:vc,PasswordField:Xp,Appearance:pe};_e.AcroForm;function uS(r){return r.reduce(function(t,e,n){return t[e]=n,t},{})}(function(r){var t="addImage_";r.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=r.__addimage__.getImageFileTypeByImageData=function(L,R){var j,ot,_t,nt,ut,Z=e;if((R=R||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(It(L))for(ut in n)for(_t=n[ut],j=0;j<_t.length;j+=1){for(nt=!0,ot=0;ot<_t[j].length;ot+=1)if(_t[j][ot]!==void 0&&_t[j][ot]!==L[ot]){nt=!1;break}if(nt===!0){Z=ut;break}}else for(ut in n)for(_t=n[ut],j=0;j<_t.length;j+=1){for(nt=!0,ot=0;ot<_t[j].length;ot+=1)if(_t[j][ot]!==void 0&&_t[j][ot]!==L.charCodeAt(ot)){nt=!1;break}if(nt===!0){Z=ut;break}}return Z===e&&R!==e&&(Z=R),Z},o=function L(R){for(var j=this.internal.write,ot=this.internal.putStream,_t=(0,this.internal.getFilters)();_t.indexOf("FlateEncode")!==-1;)_t.splice(_t.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var nt=[];if(nt.push({key:"Type",value:"/XObject"}),nt.push({key:"Subtype",value:"/Image"}),nt.push({key:"Width",value:R.width}),nt.push({key:"Height",value:R.height}),R.colorSpace===B.INDEXED?nt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(nt.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===B.DEVICE_CMYK&&nt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),nt.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&nt.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var ut="",Z=0,bt=R.transparency.length;Z<bt;Z++)ut+=R.transparency[Z]+" "+R.transparency[Z]+" ";nt.push({key:"Mask",value:"["+ut+"]"})}R.sMask!==void 0&&nt.push({key:"SMask",value:R.objectId+1+" 0 R"});var qt=R.filter!==void 0?["/"+R.filter]:void 0;if(ot({data:R.data,additionalKeyValues:nt,alreadyAppliedFilters:qt,objectId:R.objectId}),j("endobj"),"sMask"in R&&R.sMask!==void 0){var H,O=(H=R.sMaskBitsPerComponent)!==null&&H!==void 0?H:R.bitsPerComponent,K={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:R.sMask};"filter"in R&&(K.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(R.width),K.filter=R.filter),L.call(this,K)}if(R.colorSpace===B.INDEXED){var X=this.internal.newObject();ot({data:N(new Uint8Array(R.palette)),objectId:X}),j("endobj")}},u=function(){var L=this.internal.collections[t+"images"];for(var R in L)o.call(this,L[R])},h=function(){var L,R=this.internal.collections[t+"images"],j=this.internal.write;for(var ot in R)j("/I"+(L=R[ot]).index,L.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",h))},m=function(){var L=this.internal.collections[t+"images"];return d.call(this),L},v=function(){return Object.keys(this.internal.collections[t+"images"]).length},_=function(L){return typeof r["process"+L.toUpperCase()]=="function"},A=function(L){return Qr(L)==="object"&&L.nodeType===1},w=function(L,R){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var j=""+L.getAttribute("src");if(j.indexOf("data:image/")===0)return Gp(unescape(j).split("base64,").pop());var ot=r.loadFile(j,!0);if(ot!==void 0)return ot}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var _t;switch(R){case"PNG":_t="image/png";break;case"WEBP":_t="image/webp";break;default:_t="image/jpeg"}return Gp(L.toDataURL(_t,1).split("base64,").pop())}},M=function(L){var R=this.internal.collections[t+"images"];if(R){for(var j in R)if(L===R[j].alias)return R[j]}},F=function(L,R,j){return L||R||(L=-96,R=-96),L<0&&(L=-1*j.width*72/L/this.internal.scaleFactor),R<0&&(R=-1*j.height*72/R/this.internal.scaleFactor),L===0&&(L=R*j.width/j.height),R===0&&(R=L*j.height/j.width),[L,R]},$=function(L,R,j,ot,_t,nt){var ut=F.call(this,j,ot,_t),Z=this.internal.getCoordinateString,bt=this.internal.getVerticalCoordinateString,qt=m.call(this);if(j=ut[0],ot=ut[1],qt[_t.index]=_t,nt){nt*=Math.PI/180;var H=Math.cos(nt),O=Math.sin(nt),K=function(st){return st.toFixed(4)},X=[K(H),K(O),K(-1*O),K(H),0,0,"cm"]}this.internal.write("q"),nt?(this.internal.write([1,"0","0",1,Z(L),bt(R+ot),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([Z(j),"0","0",Z(ot),"0","0","cm"].join(" "))):this.internal.write([Z(j),"0","0",Z(ot),Z(L),bt(R+ot),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_t.index+" Do"),this.internal.write("Q")},B=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var et=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},tt=r.__addimage__.sHashCode=function(L){var R,j,ot=0;if(typeof L=="string")for(j=L.length,R=0;R<j;R++)ot=(ot<<5)-ot+L.charCodeAt(R),ot|=0;else if(It(L))for(j=L.byteLength/2,R=0;R<j;R++)ot=(ot<<5)-ot+L[R],ot|=0;return ot},ct=r.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var R=!0;return L.length===0&&(R=!1),L.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(R=!1),R},At=r.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var R=L.indexOf(",");return R<0?null:L.substring(0,R).trim().endsWith("base64")?L.substring(R+1):null};r.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var It=r.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},Q=r.__addimage__.binaryStringToUint8Array=function(L){for(var R=L.length,j=new Uint8Array(R),ot=0;ot<R;ot++)j[ot]=L.charCodeAt(ot);return j},N=r.__addimage__.arrayBufferToBinaryString=function(L){for(var R="",j=It(L)?L:new Uint8Array(L),ot=0;ot<j.length;ot+=8192)R+=String.fromCharCode.apply(null,j.subarray(ot,ot+8192));return R};r.addImage=function(){var L,R,j,ot,_t,nt,ut,Z,bt;if(typeof arguments[1]=="number"?(R=e,j=arguments[1],ot=arguments[2],_t=arguments[3],nt=arguments[4],ut=arguments[5],Z=arguments[6],bt=arguments[7]):(R=arguments[1],j=arguments[2],ot=arguments[3],_t=arguments[4],nt=arguments[5],ut=arguments[6],Z=arguments[7],bt=arguments[8]),Qr(L=arguments[0])==="object"&&!A(L)&&"imageData"in L){var qt=L;L=qt.imageData,R=qt.format||R||e,j=qt.x||j||0,ot=qt.y||ot||0,_t=qt.w||qt.width||_t,nt=qt.h||qt.height||nt,ut=qt.alias||ut,Z=qt.compression||Z,bt=qt.rotation||qt.angle||bt}var H=this.internal.getFilters();if(Z===void 0&&H.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(j)||isNaN(ot))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var O=C.call(this,L,R,ut,Z);return $.call(this,j,ot,_t,nt,O,bt),this};var C=function(L,R,j,ot){var _t,nt,ut;if(typeof L=="string"&&s(L)===e){L=unescape(L);var Z=q(L,!1);(Z!==""||(Z=r.loadFile(L,!0))!==void 0)&&(L=Z)}if(A(L)&&(L=w(L,R)),R=s(L,R),!_(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((ut=j)==null||ut.length===0)&&(j=(function(bt){return typeof bt=="string"||It(bt)?tt(bt):It(bt.data)?tt(bt.data):null})(L)),(_t=M.call(this,j))||(L instanceof Uint8Array||R==="RGBA"||(nt=L,L=Q(L)),_t=this["process"+R.toUpperCase()](L,v.call(this),j,(function(bt){return bt&&typeof bt=="string"&&(bt=bt.toUpperCase()),bt in r.image_compression?bt:et.NONE})(ot),nt)),!_t)throw new Error("An unknown error occurred whilst processing the image.");return _t},q=r.__addimage__.convertBase64ToBinaryString=function(L,R){R=typeof R!="boolean"||R;var j,ot="";if(typeof L=="string"){var _t;j=(_t=At(L))!==null&&_t!==void 0?_t:L;try{ot=Gp(j)}catch(nt){if(R)throw ct(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+nt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ot};r.getImageProperties=function(L){var R,j,ot="";if(A(L)&&(L=w(L)),typeof L=="string"&&s(L)===e&&((ot=q(L,!1))===""&&(ot=r.loadFile(L)||""),L=ot),j=s(L),!_(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(L instanceof Uint8Array||(L=Q(L)),!(R=this["process"+j.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=j,R}})(_e.API),(function(r){var t=function(e){if(e!==void 0&&e!="")return!0};_e.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var n,s,o,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(e.objId),m=e.pageContext.annotations,v=!1,_=0;_<m.length&&!v;_++)switch((n=m[_]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var A=0;A<m.length;A++){n=m[A];var w=this.internal.pdfEscape,M=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var F=this.internal.newAdditionalObject(),$=this.internal.newAdditionalObject(),B=this.internal.getEncryptor(F.objId),et=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(n.bounds.x)+" "+h(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w)+" "+h(n.bounds.y)+"] ")+"/Contents ("+w(B(n.contents))+")",o+=" /Popup "+$.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+w(B(et))+") >>",F.content=o;var tt=F.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(n.bounds.x+30)+" "+h(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w+30)+" "+h(n.bounds.y)+"] ")+" /Parent "+tt,n.open&&(o+=" /Open true"),o+=" >>",$.content=o,this.internal.write(F.objId,"0 R",$.objId,"0 R");break;case"freetext":s="/Rect ["+u(n.bounds.x)+" "+h(n.bounds.y)+" "+u(n.bounds.x+n.bounds.w)+" "+h(n.bounds.y+n.bounds.h)+"] ";var ct=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+w(M(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ct+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var At=this.annotations._nameMap[n.options.name];n.options.pageNumber=At.page,n.options.top=At.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+w(M(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var It=h(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+It+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},r.link=function(e,n,s,o,u){var h=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:d(e),y:m(n),w:d(e+s),h:m(n+o)},options:u,type:"link"})},r.textWithLink=function(e,n,s,o){var u,h,d=this.getTextWidth(e),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var v=this.splitTextToSize(e,h).length;u=Math.ceil(m*v)}else h=d,u=m;return this.text(e,n,s,o),s+=.2*m,o.align==="center"&&(n-=d/2),o.align==="right"&&(n-=d),this.link(n,s-m,h,u,o),d},r.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}})(_e.API),(function(r){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(F){return t[F.charCodeAt(0)]!==void 0},u=r.__arabicParser__.isArabicLetter=function(F){return typeof F=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(F)},h=r.__arabicParser__.isArabicEndLetter=function(F){return u(F)&&o(F)&&t[F.charCodeAt(0)].length<=2},d=r.__arabicParser__.isArabicAlfLetter=function(F){return u(F)&&s.indexOf(F.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(F){return u(F)&&o(F)&&t[F.charCodeAt(0)].length>=1};var m=r.__arabicParser__.arabicLetterHasFinalForm=function(F){return u(F)&&o(F)&&t[F.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(F){return u(F)&&o(F)&&t[F.charCodeAt(0)].length>=3};var v=r.__arabicParser__.arabicLetterHasMedialForm=function(F){return u(F)&&o(F)&&t[F.charCodeAt(0)].length==4},_=r.__arabicParser__.resolveLigatures=function(F){var $=0,B=e,et="",tt=0;for($=0;$<F.length;$+=1)B[F.charCodeAt($)]!==void 0?(tt++,typeof(B=B[F.charCodeAt($)])=="number"&&(et+=String.fromCharCode(B),B=e,tt=0),$===F.length-1&&(B=e,et+=F.charAt($-(tt-1)),$-=tt-1,tt=0)):(B=e,et+=F.charAt($-tt),$-=tt,tt=0);return et};r.__arabicParser__.isArabicDiacritic=function(F){return F!==void 0&&n[F.charCodeAt(0)]!==void 0};var A=r.__arabicParser__.getCorrectForm=function(F,$,B){return u(F)?o(F)===!1?-1:!m(F)||!u($)&&!u(B)||!u(B)&&h($)||h(F)&&!u($)||h(F)&&d($)||h(F)&&h($)?0:v(F)&&u($)&&!h($)&&u(B)&&m(B)?3:h(F)||!u(B)?1:2:-1},w=function(F){var $=0,B=0,et=0,tt="",ct="",At="",It=(F=F||"").split("\\s+"),Q=[];for($=0;$<It.length;$+=1){for(Q.push(""),B=0;B<It[$].length;B+=1)tt=It[$][B],ct=It[$][B-1],At=It[$][B+1],u(tt)?(et=A(tt,ct,At),Q[$]+=et!==-1?String.fromCharCode(t[tt.charCodeAt(0)][et]):tt):Q[$]+=tt;Q[$]=_(Q[$])}return Q.join(" ")},M=r.__arabicParser__.processArabic=r.processArabic=function(){var F,$=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,B=[];if(Array.isArray($)){var et=0;for(B=[],et=0;et<$.length;et+=1)Array.isArray($[et])?B.push([w($[et][0]),$[et][1],$[et][2]]):B.push([w($[et])]);F=B}else F=w($);return typeof arguments[0]=="string"?F:(arguments[0].text=F,arguments[0])};r.events.push(["preProcessText",M])})(_e.API),_e.API.autoPrint=function(r){var t;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(r){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(h){e=h}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(h){n=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var s;if((e=e||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(_e.API),(function(r){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(F){d=F}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(F){m=F}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(F){v=F}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(F){_=F}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(F){A=F}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(F){w=F}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(F){M=F}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},r.getTextDimensions=function(d,m){n.call(this);var v=(m=m||{}).fontSize||this.getFontSize(),_=m.font||this.getFont(),A=m.scaleFactor||this.internal.scaleFactor,w=0,M=0,F=0,$=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var B=m.maxWidth;B>0?typeof d=="string"?d=this.splitTextToSize(d,B):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(tt,ct){return tt.concat($.splitTextToSize(ct,B))},[])):d=Array.isArray(d)?d:[d];for(var et=0;et<d.length;et++)w<(F=this.getStringUnitWidth(d[et],{font:_})*v)&&(w=F);return w!==0&&(M=d.length),{w:w/=A,h:Math.max((M*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/A,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=r.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var m=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,_=this.internal.__cell__.margins||t,A=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===d.lineNumber?(d.x=(m.x||0)+(m.width||0),d.y=m.y||0):m.y+m.height+d.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=_.top,w&&A&&(this.printHeaderRow(d.lineNumber,!0),d.y+=A[0].height)):d.y=m.y+m.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,e===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-v,d.y+v,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+v,{align:"center",baseline:"top",maxWidth:d.width-v-v}):this.text(d.text,d.x+v,d.y+v,{align:"left",baseline:"top",maxWidth:d.width-v-v})),this.internal.__cell__.lastCell=d,this};r.table=function(d,m,v,_,A){if(n.call(this),!v)throw new Error("No data for PDF table.");var w,M,F,$,B=[],et=[],tt=[],ct={},At={},It=[],Q=[],N=(A=A||{}).autoSize||!1,C=A.printHeaders!==!1,q=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,L=A.margins||Object.assign({width:this.getPageWidth()},t),R=typeof A.padding=="number"?A.padding:3,j=A.headerBackgroundColor||"#c8c8c8",ot=A.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=ot,this.setFontSize(q),_==null)et=B=Object.keys(v[0]),tt=B.map(function(){return"left"});else if(Array.isArray(_)&&Qr(_[0])==="object")for(B=_.map(function(qt){return qt.name}),et=_.map(function(qt){return qt.prompt||qt.name||""}),tt=_.map(function(qt){return qt.align||"left"}),w=0;w<_.length;w+=1)At[_[w].name]=.7499990551181103*_[w].width;else Array.isArray(_)&&typeof _[0]=="string"&&(et=B=_,tt=B.map(function(){return"left"}));if(N||Array.isArray(_)&&typeof _[0]=="string")for(w=0;w<B.length;w+=1){for(ct[$=B[w]]=v.map(function(qt){return qt[$]}),this.setFont(void 0,"bold"),It.push(this.getTextDimensions(et[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=ct[$],this.setFont(void 0,"normal"),F=0;F<M.length;F+=1)It.push(this.getTextDimensions(M[F],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);At[$]=Math.max.apply(null,It)+R+R,It=[]}if(C){var _t={};for(w=0;w<B.length;w+=1)_t[B[w]]={},_t[B[w]].text=et[w],_t[B[w]].align=tt[w];var nt=h.call(this,_t,At);Q=B.map(function(qt){return new o(d,m,At[qt],nt,_t[qt].text,void 0,_t[qt].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var ut=_.reduce(function(qt,H){return qt[H.name]=H.align,qt},{});for(w=0;w<v.length;w+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:w,data:v[w]},this);var Z=h.call(this,v[w],At);for(F=0;F<B.length;F+=1){var bt=v[w][B[F]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:w,col:F,data:bt},this),u.call(this,new o(d,m,At[B[F]],Z,bt,w+2,ut[B[F]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=m,this};var h=function(d,m){var v=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(d).map(function(w){var M=d[w];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,m[w]-v-v)},this).map(function(w){return this.getLineHeightFactor()*w.length*_/A+v+v},this).reduce(function(w,M){return Math.max(w,M)},0)};r.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},r.printHeaderRow=function(d,m){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){v=this.internal.__cell__.tableHeaderRow[w].clone(),m&&(v.y=this.internal.__cell__.margins.top||0,A.push(v)),v.lineNumber=d;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,v),this.setTextColor(M)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),e=!1}})(_e.API);var cS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],D1=uS(hS),dS=[100,200,300,400,500,600,700,800,900],u9=uS(dS);function Y0(r){var t=r.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return cS[o=o||"normal"]?o:"normal"})(r.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),s=(function(o){return typeof D1[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:t,style:e,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:t,style:[s,e,n].join(" ")}}}function c4(r,t,e,n){var s;for(s=e;s>=0&&s<t.length;s+=n)if(r[t[s]])return r[t[s]];for(s=e;s>=0&&s<t.length;s-=n)if(r[t[s]])return r[t[s]]}var c9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},h4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function d4(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function f4(r){return r.trimLeft()}function h9(r,t){for(var e=0;e<r.length;){if(r.charAt(e)===t)return[r.substring(0,e),r.substring(e+1)];e+=1}return null}function d9(r){var t=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],r.substring(t[0].length)]}var Rp,p4,m4,vh,jp,g4,y4,v4,b4=["times"];function w4(r,t,e,n,s){var o=4,u=_4;switch(s){case _e.API.image_compression.FAST:o=1,u=x4;break;case _e.API.image_compression.MEDIUM:o=6,u=S4;break;case _e.API.image_compression.SLOW:o=9,u=N4}r=(function(d,m,v,_){for(var A,w=d.length/m,M=new Uint8Array(d.length+w),F=[f9,x4,_4,S4,N4],$=0;$<w;$+=1){var B=$*m,et=d.subarray(B,B+m);if(_)M.set(_(et,v,A),B+$);else{for(var tt=F.length,ct=[],At=0;At<tt;At+=1)ct[At]=F[At](et,v,A);var It=m9(ct.concat());M.set(ct[It],B+$)}A=et}return M})(r,t,Math.ceil(e*n/8),u);var h=C1(r,{level:o});return _e.API.__addimage__.arrayBufferToBinaryString(h)}function f9(r){var t=Array.apply([],r);return t.unshift(0),t}function x4(r,t){var e=r.length,n=[];n[0]=1;for(var s=0;s<e;s+=1){var o=r[s-t]||0;n[s+1]=r[s]-o+256&255}return n}function _4(r,t,e){var n=r.length,s=[];s[0]=2;for(var o=0;o<n;o+=1){var u=e&&e[o]||0;s[o+1]=r[o]-u+256&255}return s}function S4(r,t,e){var n=r.length,s=[];s[0]=3;for(var o=0;o<n;o+=1){var u=r[o-t]||0,h=e&&e[o]||0;s[o+1]=r[o]+256-(u+h>>>1)&255}return s}function N4(r,t,e){var n=r.length,s=[];s[0]=4;for(var o=0;o<n;o+=1){var u=p9(r[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);s[o+1]=r[o]-u+256&255}return s}function p9(r,t,e){if(r===t&&t===e)return r;var n=Math.abs(t-e),s=Math.abs(r-e),o=Math.abs(r+t-e-e);return n<=s&&n<=o?r:s<=o?t:e}function m9(r){var t=r.map(function(e){return e.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function J0(r,t,e){var n=t*e,s=Math.floor(n/8),o=16-(n-8*s+e),u=(1<<e)-1;return fS(r,s)>>o&u}function k4(r,t,e,n){var s=e*n,o=Math.floor(s/8),u=16-(s-8*o+n),h=(1<<n)-1,d=(t&h)<<u;(function(m,v,_){if(v+1<m.byteLength)m.setUint16(v,_,!1);else{var A=_>>8&255;m.setUint8(v,A)}})(r,o,fS(r,o)&~(h<<u)&65535|d)}function fS(r,t){return t+1<r.byteLength?r.getUint16(t,!1):r.getUint8(t)<<8}function g9(r){var t=0;if(r[t++]!==71||r[t++]!==73||r[t++]!==70||r[t++]!==56||(r[t++]+1&253)!=56||r[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=r[t++]|r[t++]<<8,n=r[t++]|r[t++]<<8,s=r[t++],o=s>>7,u=1<<1+(7&s);r[t++],r[t++];var h=null,d=null;o&&(h=t,d=u,t+=3*u);var m=!0,v=[],_=0,A=null,w=0,M=null;for(this.width=e,this.height=n;m&&t<r.length;)switch(r[t++]){case 33:switch(r[t++]){case 255:if(r[t]!==11||r[t+1]==78&&r[t+2]==69&&r[t+3]==84&&r[t+4]==83&&r[t+5]==67&&r[t+6]==65&&r[t+7]==80&&r[t+8]==69&&r[t+9]==50&&r[t+10]==46&&r[t+11]==48&&r[t+12]==3&&r[t+13]==1&&r[t+16]==0)t+=14,M=r[t++]|r[t++]<<8,t++;else for(t+=12;;){if(!((L=r[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(r[t++]!==4||r[t+4]!==0)throw new Error("Invalid graphics extension block.");var F=r[t++];_=r[t++]|r[t++]<<8,A=r[t++],1&F||(A=null),w=F>>2&7,t++;break;case 254:for(;;){if(!((L=r[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+r[t-1].toString(16))}break;case 44:var $=r[t++]|r[t++]<<8,B=r[t++]|r[t++]<<8,et=r[t++]|r[t++]<<8,tt=r[t++]|r[t++]<<8,ct=r[t++],At=ct>>6&1,It=1<<1+(7&ct),Q=h,N=d,C=!1;ct>>7&&(C=!0,Q=t,N=It,t+=3*It);var q=t;for(t++;;){var L;if(!((L=r[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}v.push({x:$,y:B,width:et,height:tt,has_local_palette:C,palette_offset:Q,palette_size:N,data_offset:q,data_length:t-q,transparent_index:A,interlaced:!!At,delay:_,disposal:w});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+r[t-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return M},this.frameInfo=function(R){if(R<0||R>=v.length)throw new Error("Frame index out of range.");return v[R]},this.decodeAndBlitFrameBGRA=function(R,j){var ot=this.frameInfo(R),_t=ot.width*ot.height,nt=new Uint8Array(_t);A4(r,ot.data_offset,nt,_t);var ut=ot.palette_offset,Z=ot.transparent_index;Z===null&&(Z=256);var bt=ot.width,qt=e-bt,H=bt,O=4*(ot.y*e+ot.x),K=4*((ot.y+ot.height)*e+ot.x),X=O,st=4*qt;ot.interlaced===!0&&(st+=4*e*7);for(var dt=8,yt=0,Tt=nt.length;yt<Tt;++yt){var Nt=nt[yt];if(H===0&&(H=bt,(X+=st)>=K&&(st=4*qt+4*e*(dt-1),X=O+(bt+qt)*(dt<<1),dt>>=1)),Nt===Z)X+=4;else{var Mt=r[ut+3*Nt],Yt=r[ut+3*Nt+1],te=r[ut+3*Nt+2];j[X++]=te,j[X++]=Yt,j[X++]=Mt,j[X++]=255}--H}},this.decodeAndBlitFrameRGBA=function(R,j){var ot=this.frameInfo(R),_t=ot.width*ot.height,nt=new Uint8Array(_t);A4(r,ot.data_offset,nt,_t);var ut=ot.palette_offset,Z=ot.transparent_index;Z===null&&(Z=256);var bt=ot.width,qt=e-bt,H=bt,O=4*(ot.y*e+ot.x),K=4*((ot.y+ot.height)*e+ot.x),X=O,st=4*qt;ot.interlaced===!0&&(st+=4*e*7);for(var dt=8,yt=0,Tt=nt.length;yt<Tt;++yt){var Nt=nt[yt];if(H===0&&(H=bt,(X+=st)>=K&&(st=4*qt+4*e*(dt-1),X=O+(bt+qt)*(dt<<1),dt>>=1)),Nt===Z)X+=4;else{var Mt=r[ut+3*Nt],Yt=r[ut+3*Nt+1],te=r[ut+3*Nt+2];j[X++]=Mt,j[X++]=Yt,j[X++]=te,j[X++]=255}--H}}}function A4(r,t,e,n){for(var s=r[t++],o=1<<s,u=o+1,h=u+1,d=s+1,m=(1<<d)-1,v=0,_=0,A=0,w=r[t++],M=new Int32Array(4096),F=null;;){for(;v<16&&w!==0;)_|=r[t++]<<v,v+=8,w===1?w=r[t++]:--w;if(v<d)break;var $=_&m;if(_>>=d,v-=d,$!==o){if($===u)break;for(var B=$<h?$:F,et=0,tt=B;tt>o;)tt=M[tt]>>8,++et;var ct=tt;if(A+et+(B!==$?1:0)>n)return void un.log("Warning, gif stream longer than expected.");e[A++]=ct;var At=A+=et;for(B!==$&&(e[A++]=ct),tt=B;et--;)tt=M[tt],e[--At]=255&tt,tt>>=8;F!==null&&h<4096&&(M[h++]=F<<8|ct,h>=m+1&&d<12&&(++d,m=m<<1|1)),F=$}else h=u+1,m=(1<<(d=s+1))-1,F=null}return A!==n&&un.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function X0(r){var t,e,n,s,o,u=Math.floor,h=new Array(64),d=new Array(64),m=new Array(64),v=new Array(64),_=new Array(65535),A=new Array(65535),w=new Array(64),M=new Array(64),F=[],$=0,B=7,et=new Array(64),tt=new Array(64),ct=new Array(64),At=new Array(256),It=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],ot=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_t=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function nt(O,K){for(var X=0,st=0,dt=new Array,yt=1;yt<=16;yt++){for(var Tt=1;Tt<=O[yt];Tt++)dt[K[st]]=[],dt[K[st]][0]=X,dt[K[st]][1]=yt,st++,X++;X*=2}return dt}function ut(O){for(var K=O[0],X=O[1]-1;X>=0;)K&1<<X&&($|=1<<B),X--,--B<0&&($==255?(Z(255),Z(0)):Z($),B=7,$=0)}function Z(O){F.push(O)}function bt(O){Z(O>>8&255),Z(255&O)}function qt(O,K,X,st,dt){for(var yt,Tt=dt[0],Nt=dt[240],Mt=(function(Wt,ie){var ee,Qe,ve,We,Re,De,Sr,je,be,Pe,ge=0;for(be=0;be<8;++be){ee=Wt[ge],Qe=Wt[ge+1],ve=Wt[ge+2],We=Wt[ge+3],Re=Wt[ge+4],De=Wt[ge+5],Sr=Wt[ge+6];var Fr=ee+(je=Wt[ge+7]),rr=ee-je,ae=Qe+Sr,Ne=Qe-Sr,Me=ve+De,Ee=ve-De,ir=We+Re,ze=We-Re,Cr=Fr+ir,an=Fr-ir,Ve=ae+Me,ke=ae-Me;Wt[ge]=Cr+Ve,Wt[ge+4]=Cr-Ve;var ar=.707106781*(ke+an);Wt[ge+2]=an+ar,Wt[ge+6]=an-ar;var ui=.382683433*((Cr=ze+Ee)-(ke=Ne+rr)),ti=.5411961*Cr+ui,Ra=1.306562965*ke+ui,Hn=.707106781*(Ve=Ee+Ne),xe=rr+Hn,ss=rr-Hn;Wt[ge+5]=ss+ti,Wt[ge+3]=ss-ti,Wt[ge+1]=xe+Ra,Wt[ge+7]=xe-Ra,ge+=8}for(ge=0,be=0;be<8;++be){ee=Wt[ge],Qe=Wt[ge+8],ve=Wt[ge+16],We=Wt[ge+24],Re=Wt[ge+32],De=Wt[ge+40],Sr=Wt[ge+48];var Bi=ee+(je=Wt[ge+56]),Ni=ee-je,ki=Qe+Sr,Br=Qe-Sr,Yr=ve+De,On=ve-De,ci=We+Re,ei=We-Re,Tr=Bi+ci,zr=Bi-ci,Rn=ki+Yr,Ai=ki-Yr;Wt[ge]=Tr+Rn,Wt[ge+32]=Tr-Rn;var na=.707106781*(Ai+zr);Wt[ge+16]=zr+na,Wt[ge+48]=zr-na;var Ss=.382683433*((Tr=ei+On)-(Ai=Br+Ni)),va=.5411961*Tr+Ss,Ei=1.306562965*Ai+Ss,os=.707106781*(Rn=On+Br),qi=Ni+os,hi=Ni-os;Wt[ge+40]=hi+va,Wt[ge+24]=hi-va,Wt[ge+8]=qi+Ei,Wt[ge+56]=qi-Ei,ge++}for(be=0;be<64;++be)Pe=Wt[be]*ie[be],w[be]=Pe>0?Pe+.5|0:Pe-.5|0;return w})(O,K),Yt=0;Yt<64;++Yt)M[Q[Yt]]=Mt[Yt];var te=M[0]-X;X=M[0],te==0?ut(st[0]):(ut(st[A[yt=32767+te]]),ut(_[yt]));for(var ne=63;ne>0&&M[ne]==0;)ne--;if(ne==0)return ut(Tt),X;for(var jt,lt=1;lt<=ne;){for(var Je=lt;M[lt]==0&&lt<=ne;)++lt;var qe=lt-Je;if(qe>=16){jt=qe>>4;for(var we=1;we<=jt;++we)ut(Nt);qe&=15}yt=32767+M[lt],ut(dt[(qe<<4)+A[yt]]),ut(_[yt]),lt++}return ne!=63&&ut(Tt),X}function H(O){O=Math.min(Math.max(O,1),100),o!=O&&((function(K){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],st=0;st<64;st++){var dt=u((X[st]*K+50)/100);dt=Math.min(Math.max(dt,1),255),h[Q[st]]=dt}for(var yt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Tt=0;Tt<64;Tt++){var Nt=u((yt[Tt]*K+50)/100);Nt=Math.min(Math.max(Nt,1),255),d[Q[Tt]]=Nt}for(var Mt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Yt=0,te=0;te<8;te++)for(var ne=0;ne<8;ne++)m[Yt]=1/(h[Q[Yt]]*Mt[te]*Mt[ne]*8),v[Yt]=1/(d[Q[Yt]]*Mt[te]*Mt[ne]*8),Yt++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,K){K&&H(K),F=new Array,$=0,B=7,bt(65496),bt(65504),bt(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),bt(1),bt(1),Z(0),Z(0),(function(){bt(65499),bt(132),Z(0);for(var Qe=0;Qe<64;Qe++)Z(h[Qe]);Z(1);for(var ve=0;ve<64;ve++)Z(d[ve])})(),(function(Qe,ve){bt(65472),bt(17),Z(8),bt(ve),bt(Qe),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)})(O.width,O.height),(function(){bt(65476),bt(418),Z(0);for(var Qe=0;Qe<16;Qe++)Z(N[Qe+1]);for(var ve=0;ve<=11;ve++)Z(C[ve]);Z(16);for(var We=0;We<16;We++)Z(q[We+1]);for(var Re=0;Re<=161;Re++)Z(L[Re]);Z(1);for(var De=0;De<16;De++)Z(R[De+1]);for(var Sr=0;Sr<=11;Sr++)Z(j[Sr]);Z(17);for(var je=0;je<16;je++)Z(ot[je+1]);for(var be=0;be<=161;be++)Z(_t[be])})(),bt(65498),bt(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var X=0,st=0,dt=0;$=0,B=7,this.encode.displayName="_encode_";for(var yt,Tt,Nt,Mt,Yt,te,ne,jt,lt,Je=O.data,qe=O.width,we=O.height,Wt=4*qe,ie=0;ie<we;){for(yt=0;yt<Wt;){for(Yt=Wt*ie+yt,ne=-1,jt=0,lt=0;lt<64;lt++)te=Yt+(jt=lt>>3)*Wt+(ne=4*(7&lt)),ie+jt>=we&&(te-=Wt*(ie+1+jt-we)),yt+ne>=Wt&&(te-=yt+ne-Wt+4),Tt=Je[te++],Nt=Je[te++],Mt=Je[te++],et[lt]=(It[Tt]+It[Nt+256|0]+It[Mt+512|0]>>16)-128,tt[lt]=(It[Tt+768|0]+It[Nt+1024|0]+It[Mt+1280|0]>>16)-128,ct[lt]=(It[Tt+1280|0]+It[Nt+1536|0]+It[Mt+1792|0]>>16)-128;X=qt(et,m,X,t,n),st=qt(tt,v,st,e,s),dt=qt(ct,v,dt,e,s),yt+=32}ie+=8}if(B>=0){var ee=[];ee[1]=B+1,ee[0]=(1<<B+1)-1,ut(ee)}return bt(65497),new Uint8Array(F)},r=r||50,(function(){for(var O=String.fromCharCode,K=0;K<256;K++)At[K]=O(K)})(),t=nt(N,C),e=nt(R,j),n=nt(q,L),s=nt(ot,_t),(function(){for(var O=1,K=2,X=1;X<=15;X++){for(var st=O;st<K;st++)A[32767+st]=X,_[32767+st]=[],_[32767+st][1]=X,_[32767+st][0]=st;for(var dt=-(K-1);dt<=-O;dt++)A[32767+dt]=X,_[32767+dt]=[],_[32767+dt][1]=X,_[32767+dt][0]=K-1+dt;O<<=1,K<<=1}})(),(function(){for(var O=0;O<256;O++)It[O]=19595*O,It[O+256|0]=38470*O,It[O+512|0]=7471*O+32768,It[O+768|0]=-11059*O,It[O+1024|0]=-21709*O,It[O+1280|0]=32768*O+8421375,It[O+1536|0]=-27439*O,It[O+1792|0]=-5329*O})(),H(r)}/**
* @license
* Copyright (c) 2017 Aras Abbasi
*
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/function co(r,t){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function E4(r){function t(C){if(!C)throw Error("assert :P")}function e(C,q,L){for(var R=0;4>R;R++)if(C[q+R]!=L.charCodeAt(R))return!0;return!1}function n(C,q,L,R,j){for(var ot=0;ot<j;ot++)C[q+ot]=L[R+ot]}function s(C,q,L,R){for(var j=0;j<R;j++)C[q+j]=L}function o(C){return new Int32Array(C)}function u(C,q){for(var L=[],R=0;R<C;R++)L.push(new q);return L}function h(C,q){var L=[];return(function R(j,ot,_t){for(var nt=_t[ot],ut=0;ut<nt&&(j.push(_t.length>ot+1?[]:new q),!(_t.length<ot+1));ut++)R(j[ut],ot+1,_t)})(L,0,C),L}var d=function(){var C=this;function q(f,y){for(var S=1<<y-1>>>0;f&S;)S>>>=1;return S?(f&S-1)+S:f}function L(f,y,S,I,U){t(!(I%S));do f[y+(I-=S)]=U;while(0<I)}function R(f,y,S,I,U){if(t(2328>=U),512>=U)var z=o(512);else if((z=o(U))==null)return 0;return(function(V,G,J,at,pt,Et){var rt,gt,St=G,Dt=1<<J,kt=o(16),Ft=o(16);for(t(pt!=0),t(at!=null),t(V!=null),t(0<J),gt=0;gt<pt;++gt){if(15<at[gt])return 0;++kt[at[gt]]}if(kt[0]==pt)return 0;for(Ft[1]=0,rt=1;15>rt;++rt){if(kt[rt]>1<<rt)return 0;Ft[rt+1]=Ft[rt]+kt[rt]}for(gt=0;gt<pt;++gt)rt=at[gt],0<at[gt]&&(Et[Ft[rt]++]=gt);if(Ft[15]==1)return(at=new j).g=0,at.value=Et[0],L(V,St,1,Dt,at),Dt;var Vt,Jt=-1,Kt=Dt-1,fe=0,se=1,He=1,ce=1<<J;for(gt=0,rt=1,pt=2;rt<=J;++rt,pt<<=1){if(se+=He<<=1,0>(He-=kt[rt]))return 0;for(;0<kt[rt];--kt[rt])(at=new j).g=rt,at.value=Et[gt++],L(V,St+fe,pt,ce,at),fe=q(fe,rt)}for(rt=J+1,pt=2;15>=rt;++rt,pt<<=1){if(se+=He<<=1,0>(He-=kt[rt]))return 0;for(;0<kt[rt];--kt[rt]){if(at=new j,(fe&Kt)!=Jt){for(St+=ce,Vt=1<<(Jt=rt)-J;15>Jt&&!(0>=(Vt-=kt[Jt]));)++Jt,Vt<<=1;Dt+=ce=1<<(Vt=Jt-J),V[G+(Jt=fe&Kt)].g=Vt+J,V[G+Jt].value=St-G-Jt}at.g=rt-J,at.value=Et[gt++],L(V,St+(fe>>J),pt,ce,at),fe=q(fe,rt)}}return se!=2*Ft[15]-1?0:Dt})(f,y,S,I,U,z)}function j(){this.value=this.g=0}function ot(){this.value=this.g=0}function _t(){this.G=u(5,j),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Lo,ot)}function nt(f,y,S,I){t(f!=null),t(y!=null),t(2147483648>I),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=y,f.pa=S,f.Jd=y,f.Yc=S+I,f.Zc=4<=I?S+I-4+1:S,Tt(f)}function ut(f,y){for(var S=0;0<y--;)S|=Mt(f,128)<<y;return S}function Z(f,y){var S=ut(f,y);return Nt(f)?-S:S}function bt(f,y,S,I){var U,z=0;for(t(f!=null),t(y!=null),t(4294967288>I),f.Sb=I,f.Ra=0,f.u=0,f.h=0,4<I&&(I=4),U=0;U<I;++U)z+=y[S+U]<<8*U;f.Ra=z,f.bb=I,f.oa=y,f.pa=S}function qt(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Ls-8>>>0,++f.bb,f.u-=8;st(f)&&(f.h=1,f.u=0)}function H(f,y){if(t(0<=y),!f.h&&y<=Qi){var S=X(f)&oa[y];return f.u+=y,qt(f),S}return f.h=1,f.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(f){return f.Ra>>>(f.u&Ls-1)>>>0}function st(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Ls}function dt(f,y){f.u=y,f.h=st(f)}function yt(f){f.u>=Cs&&(t(f.u>=Cs),qt(f))}function Tt(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function Nt(f){return ut(f,1)}function Mt(f,y){var S=f.Ca;0>f.b&&Tt(f);var I=f.b,U=S*y>>>8,z=(f.I>>>I>U)+0;for(z?(S-=U,f.I-=U+1<<I>>>0):S=U+1,I=S,U=0;256<=I;)U+=8,I>>=8;return I=7^U+Js[I],f.b-=I,f.Ca=(S<<I)-1,z}function Yt(f,y,S){f[y+0]=S>>24&255,f[y+1]=S>>16&255,f[y+2]=S>>8&255,f[y+3]=255&S}function te(f,y){return f[y+0]|f[y+1]<<8}function ne(f,y){return te(f,y)|f[y+2]<<16}function jt(f,y){return te(f,y)|te(f,y+2)<<16}function lt(f,y){var S=1<<y;return t(f!=null),t(0<y),f.X=o(S),f.X==null?0:(f.Mb=32-y,f.Xa=y,1)}function Je(f,y){t(f!=null),t(y!=null),t(f.Xa==y.Xa),n(y.X,0,f.X,0,1<<y.Xa)}function qe(){this.X=[],this.Xa=this.Mb=0}function we(f,y,S,I){t(S!=null),t(I!=null);var U=S[0],z=I[0];return U==0&&(U=(f*z+y/2)/y),z==0&&(z=(y*U+f/2)/f),0>=U||0>=z?0:(S[0]=U,I[0]=z,1)}function Wt(f,y){return f+(1<<y)-1>>>y}function ie(f,y){return((4278255360&f)+(4278255360&y)>>>0&4278255360)+((16711935&f)+(16711935&y)>>>0&16711935)>>>0}function ee(f,y){C[y]=function(S,I,U,z,V,G,J){var at;for(at=0;at<V;++at){var pt=C[f](G[J+at-1],U,z+at);G[J+at]=ie(S[I+at],pt)}}}function Qe(){this.ud=this.hd=this.jd=0}function ve(f,y){return((4278124286&(f^y))>>>1)+(f&y)>>>0}function We(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Re(f,y){return We(f+(f-y+.5>>1))}function De(f,y,S){return Math.abs(y-S)-Math.abs(f-S)}function Sr(f,y,S,I,U,z,V){for(I=z[V-1],S=0;S<U;++S)z[V+S]=I=ie(f[y+S],I)}function je(f,y,S,I,U){var z;for(z=0;z<S;++z){var V=f[y+z],G=V>>8&255,J=16711935&(J=(J=16711935&V)+((G<<16)+G));I[U+z]=(4278255360&V)+J>>>0}}function be(f,y){y.jd=255&f,y.hd=f>>8&255,y.ud=f>>16&255}function Pe(f,y,S,I,U,z){var V;for(V=0;V<I;++V){var G=y[S+V],J=G>>>8,at=G,pt=255&(pt=(pt=G>>>16)+((f.jd<<24>>24)*(J<<24>>24)>>>5));at=255&(at=(at+=(f.hd<<24>>24)*(J<<24>>24)>>>5)+((f.ud<<24>>24)*(pt<<24>>24)>>>5)),U[z+V]=(4278255360&G)+(pt<<16)+at}}function ge(f,y,S,I,U){C[y]=function(z,V,G,J,at,pt,Et,rt,gt){for(J=Et;J<rt;++J)for(Et=0;Et<gt;++Et)at[pt++]=U(G[I(z[V++])])},C[f]=function(z,V,G,J,at,pt,Et){var rt=8>>z.b,gt=z.Ea,St=z.K[0],Dt=z.w;if(8>rt)for(z=(1<<z.b)-1,Dt=(1<<rt)-1;V<G;++V){var kt,Ft=0;for(kt=0;kt<gt;++kt)kt&z||(Ft=I(J[at++])),pt[Et++]=U(St[Ft&Dt]),Ft>>=rt}else C["VP8LMapColor"+S](J,at,St,Dt,pt,Et,V,G,gt)}}function Fr(f,y,S,I,U){for(S=y+S;y<S;){var z=f[y++];I[U++]=z>>16&255,I[U++]=z>>8&255,I[U++]=255&z}}function rr(f,y,S,I,U){for(S=y+S;y<S;){var z=f[y++];I[U++]=z>>16&255,I[U++]=z>>8&255,I[U++]=255&z,I[U++]=z>>24&255}}function ae(f,y,S,I,U){for(S=y+S;y<S;){var z=(V=f[y++])>>16&240|V>>12&15,V=240&V|V>>28&15;I[U++]=z,I[U++]=V}}function Ne(f,y,S,I,U){for(S=y+S;y<S;){var z=(V=f[y++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;I[U++]=z,I[U++]=V}}function Me(f,y,S,I,U){for(S=y+S;y<S;){var z=f[y++];I[U++]=255&z,I[U++]=z>>8&255,I[U++]=z>>16&255}}function Ee(f,y,S,I,U,z){if(z==0)for(S=y+S;y<S;)Yt(I,((z=f[y++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),U+=32;else n(I,U,f,y,S)}function ir(f,y){C[y][0]=C[f+"0"],C[y][1]=C[f+"1"],C[y][2]=C[f+"2"],C[y][3]=C[f+"3"],C[y][4]=C[f+"4"],C[y][5]=C[f+"5"],C[y][6]=C[f+"6"],C[y][7]=C[f+"7"],C[y][8]=C[f+"8"],C[y][9]=C[f+"9"],C[y][10]=C[f+"10"],C[y][11]=C[f+"11"],C[y][12]=C[f+"12"],C[y][13]=C[f+"13"],C[y][14]=C[f+"0"],C[y][15]=C[f+"0"]}function ze(f){return f==tc||f==Bc||f==eu||f==qc}function Cr(){this.eb=[],this.size=this.A=this.fb=0}function an(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ve(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Cr,this.f.kb=new an,this.sd=null}function ke(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ar(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ui(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function ti(f,y){var S=f.T,I=y.ba.f.RGBA,U=I.eb,z=I.fb+f.ka*I.A,V=bi[y.ba.S],G=f.y,J=f.O,at=f.f,pt=f.N,Et=f.ea,rt=f.W,gt=y.cc,St=y.dc,Dt=y.Mc,kt=y.Nc,Ft=f.ka,Vt=f.ka+f.T,Jt=f.U,Kt=Jt+1>>1;for(Ft==0?V(G,J,null,null,at,pt,Et,rt,at,pt,Et,rt,U,z,null,null,Jt):(V(y.ec,y.fc,G,J,gt,St,Dt,kt,at,pt,Et,rt,U,z-I.A,U,z,Jt),++S);Ft+2<Vt;Ft+=2)gt=at,St=pt,Dt=Et,kt=rt,pt+=f.Rc,rt+=f.Rc,z+=2*I.A,V(G,(J+=2*f.fa)-f.fa,G,J,gt,St,Dt,kt,at,pt,Et,rt,U,z-I.A,U,z,Jt);return J+=f.fa,f.j+Vt<f.o?(n(y.ec,y.fc,G,J,Jt),n(y.cc,y.dc,at,pt,Kt),n(y.Mc,y.Nc,Et,rt,Kt),S--):1&Vt||V(G,J,null,null,at,pt,Et,rt,at,pt,Et,rt,U,z+I.A,null,null,Jt),S}function Ra(f,y,S){var I=f.F,U=[f.J];if(I!=null){var z=f.U,V=y.ba.S,G=V==Zu||V==eu;y=y.ba.f.RGBA;var J=[0],at=f.ka;J[0]=f.T,f.Kb&&(at==0?--J[0]:(--at,U[0]-=f.width),f.j+f.ka+f.T==f.o&&(J[0]=f.o-f.j-at));var pt=y.eb;at=y.fb+at*y.A,f=Qu(I,U[0],f.width,z,J,pt,at+(G?0:3),y.A),t(S==J),f&&ze(V)&&pl(pt,at,G,z,J,y.A)}return 0}function Hn(f){var y=f.ma,S=y.ba.S,I=11>S,U=S==Ri||S==za||S==Zu||S==tu||S==12||ze(S);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Ys(y.Oa,f,U?11:12))return 0;if(U&&ze(S)&&Xt(),f.da)alert("todo:use_scaling");else{if(I){if(y.Ib=ui,f.Kb){if(S=f.U+1>>1,y.memory=o(f.U+2*S),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+f.U,y.Mc=y.cc,y.Nc=y.dc+S,y.Ib=ti,Xt()}}else alert("todo:EmitYUV");U&&(y.Jb=Ra,I&&xt())}if(I&&!Fo){for(f=0;256>f;++f)wi[f]=89858*(f-128)+iu>>Ga,eg[f]=-22014*(f-128)+iu,Lf[f]=-45773*(f-128),Hc[f]=113618*(f-128)+iu>>Ga;for(f=vl;f<jo;++f)y=76283*(f-16)+iu>>Ga,rg[f-vl]=En(y,255),ng[f-vl]=En(y+8>>4,15);Fo=1}return 1}function xe(f){var y=f.ma,S=f.U,I=f.T;return t(!(1&f.ka)),0>=S||0>=I?0:(S=y.Ib(f,y),y.Jb!=null&&y.Jb(f,y,S),y.Dc+=S,1)}function ss(f){f.ma.memory=null}function Bi(f,y,S,I){return H(f,8)!=47?0:(y[0]=H(f,14)+1,S[0]=H(f,14)+1,I[0]=H(f,1),H(f,3)!=0?0:!f.h)}function Ni(f,y){if(4>f)return f+1;var S=f-2>>1;return(2+(1&f)<<S)+H(y,S)+1}function ki(f,y){return 120<y?y-120:1<=(S=((S=$a[y-1])>>4)*f+(8-(15&S)))?S:1;var S}function Br(f,y,S){var I=X(S),U=f[y+=255&I].g-8;return 0<U&&(dt(S,S.u+8),I=X(S),y+=f[y].value,y+=I&(1<<U)-1),dt(S,S.u+f[y].g),f[y].value}function Yr(f,y,S){return S.g+=f.g,S.value+=f.value<<y>>>0,t(8>=S.g),f.g}function On(f,y,S){var I=f.xc;return t((y=I==0?0:f.vc[f.md*(S>>I)+(y>>I)])<f.Wb),f.Ya[y]}function ci(f,y,S,I){var U=f.ab,z=f.c*y,V=f.C;y=V+y;var G=S,J=I;for(I=f.Ta,S=f.Ua;0<U--;){var at=f.gc[U],pt=V,Et=y,rt=G,gt=J,St=(J=I,G=S,at.Ea);switch(t(pt<Et),t(Et<=at.nc),at.hc){case 2:In(rt,gt,(Et-pt)*St,J,G);break;case 0:var Dt=pt,kt=Et,Ft=J,Vt=G,Jt=(ce=at).Ea;Dt==0&&(Yl(rt,gt,null,null,1,Ft,Vt),Sr(rt,gt+1,0,0,Jt-1,Ft,Vt+1),gt+=Jt,Vt+=Jt,++Dt);for(var Kt=1<<ce.b,fe=Kt-1,se=Wt(Jt,ce.b),He=ce.K,ce=ce.w+(Dt>>ce.b)*se;Dt<kt;){var cr=He,on=ce,Xe=1;for(Jl(rt,gt,Ft,Vt-Jt,1,Ft,Vt);Xe<Jt;){var oe=(Xe&~fe)+Kt;oe>Jt&&(oe=Jt),(0,Xs[cr[on++]>>8&15])(rt,gt+ +Xe,Ft,Vt+Xe-Jt,oe-Xe,Ft,Vt+Xe),Xe=oe}gt+=Jt,Vt+=Jt,++Dt&fe||(ce+=se)}Et!=at.nc&&n(J,G-St,J,G+(Et-pt-1)*St,St);break;case 1:for(St=rt,kt=gt,Jt=(rt=at.Ea)-(Vt=rt&~(Ft=(gt=1<<at.b)-1)),Dt=Wt(rt,at.b),Kt=at.K,at=at.w+(pt>>at.b)*Dt;pt<Et;){for(fe=Kt,se=at,He=new Qe,ce=kt+Vt,cr=kt+rt;kt<ce;)be(fe[se++],He),Xl(He,St,kt,gt,J,G),kt+=gt,G+=gt;kt<cr&&(be(fe[se++],He),Xl(He,St,kt,Jt,J,G),kt+=Jt,G+=Jt),++pt&Ft||(at+=Dt)}break;case 3:if(rt==J&&gt==G&&0<at.b){for(kt=J,rt=St=G+(Et-pt)*St-(Vt=(Et-pt)*Wt(at.Ea,at.b)),gt=J,Ft=G,Dt=[],Vt=(Jt=Vt)-1;0<=Vt;--Vt)Dt[Vt]=gt[Ft+Vt];for(Vt=Jt-1;0<=Vt;--Vt)kt[rt+Vt]=Dt[Vt];jc(at,pt,Et,J,St,J,G)}else jc(at,pt,Et,rt,gt,J,G)}G=I,J=S}J!=S&&n(I,S,G,J,z)}function ei(f,y){var S=f.V,I=f.Ba+f.c*f.C,U=y-f.C;if(t(y<=f.l.o),t(16>=U),0<U){var z=f.l,V=f.Ta,G=f.Ua,J=z.width;if(ci(f,U,S,I),U=G=[G],t((S=f.C)<(I=y)),t(z.v<z.va),I>z.o&&(I=z.o),S<z.j){var at=z.j-S;S=z.j,U[0]+=at*J}if(S>=I?S=0:(U[0]+=4*z.v,z.ka=S-z.j,z.U=z.va-z.v,z.T=I-S,S=1),S){if(G=G[0],11>(S=f.ca).S){var pt=S.f.RGBA,Et=(I=S.S,U=z.U,z=z.T,at=pt.eb,pt.A),rt=z;for(pt=pt.fb+f.Ma*pt.A;0<rt--;){var gt=V,St=G,Dt=U,kt=at,Ft=pt;switch(I){case Mc:Zl(gt,St,Dt,kt,Ft);break;case Ri:Zs(gt,St,Dt,kt,Ft);break;case tc:Zs(gt,St,Dt,kt,Ft),pl(kt,Ft,0,Dt,1,0);break;case Uc:dl(gt,St,Dt,kt,Ft);break;case za:Ee(gt,St,Dt,kt,Ft,1);break;case Bc:Ee(gt,St,Dt,kt,Ft,1),pl(kt,Ft,0,Dt,1,0);break;case Zu:Ee(gt,St,Dt,kt,Ft,0);break;case eu:Ee(gt,St,Dt,kt,Ft,0),pl(kt,Ft,1,Dt,1,0);break;case tu:to(gt,St,Dt,kt,Ft);break;case qc:to(gt,St,Dt,kt,Ft),qa(kt,Ft,Dt,1,0);break;case Co:Os(gt,St,Dt,kt,Ft);break;default:t(0)}G+=J,pt+=Et}f.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=S.height)}}f.C=y,t(f.C<=f.i)}function Tr(f){var y;if(0<f.ua)return 0;for(y=0;y<f.Wb;++y){var S=f.Ya[y].G,I=f.Ya[y].H;if(0<S[1][I[1]+0].g||0<S[2][I[2]+0].g||0<S[3][I[3]+0].g)return 0}return 1}function zr(f,y,S,I,U,z){if(f.Z!=0){var V=f.qd,G=f.rd;for(t(no[f.Z]!=null);y<S;++y)no[f.Z](V,G,I,U,I,U,z),V=I,G=U,U+=z;f.qd=V,f.rd=G}}function Rn(f,y){var S=f.l.ma,I=S.Z==0||S.Z==1?f.l.j:f.C;if(I=f.C<I?I:f.C,t(y<=f.l.o),y>I){var U=f.l.width,z=S.ca,V=S.tb+U*I,G=f.V,J=f.Ba+f.c*I,at=f.gc;t(f.ab==1),t(at[0].hc==3),Ps(at[0],I,y,G,J,z,V),zr(S,I,y,z,V,U)}f.C=f.Ma=y}function Ai(f,y,S,I,U,z,V){var G=f.$/I,J=f.$%I,at=f.m,pt=f.s,Et=S+f.$,rt=Et;U=S+I*U;var gt=S+I*z,St=280+pt.ua,Dt=f.Pb?G:16777216,kt=0<pt.ua?pt.Wa:null,Ft=pt.wc,Vt=Et<gt?On(pt,J,G):null;t(f.C<z),t(gt<=U);var Jt=!1;t:for(;;){for(;Jt||Et<gt;){var Kt=0;if(G>=Dt){var fe=Et-S;t((Dt=f).Pb),Dt.wd=Dt.m,Dt.xd=fe,0<Dt.s.ua&&Je(Dt.s.Wa,Dt.s.vb),Dt=G+To}if(J&Ft||(Vt=On(pt,J,G)),t(Vt!=null),Vt.Qb&&(y[Et]=Vt.qb,Jt=!0),!Jt)if(yt(at),Vt.jc){Kt=at,fe=y;var se=Et,He=Vt.pd[X(Kt)&Lo-1];t(Vt.jc),256>He.g?(dt(Kt,Kt.u+He.g),fe[se]=He.value,Kt=0):(dt(Kt,Kt.u+He.g-256),t(256<=He.value),Kt=He.value),Kt==0&&(Jt=!0)}else Kt=Br(Vt.G[0],Vt.H[0],at);if(at.h)break;if(Jt||256>Kt){if(!Jt)if(Vt.nd)y[Et]=(Vt.qb|Kt<<8)>>>0;else{if(yt(at),Jt=Br(Vt.G[1],Vt.H[1],at),yt(at),fe=Br(Vt.G[2],Vt.H[2],at),se=Br(Vt.G[3],Vt.H[3],at),at.h)break;y[Et]=(se<<24|Jt<<16|Kt<<8|fe)>>>0}if(Jt=!1,++Et,++J>=I&&(J=0,++G,V!=null&&G<=z&&!(G%16)&&V(f,G),kt!=null))for(;rt<Et;)Kt=y[rt++],kt.X[(506832829*Kt&4294967295)>>>kt.Mb]=Kt}else if(280>Kt){if(Kt=Ni(Kt-256,at),fe=Br(Vt.G[4],Vt.H[4],at),yt(at),fe=ki(I,fe=Ni(fe,at)),at.h)break;if(Et-S<fe||U-Et<Kt)break t;for(se=0;se<Kt;++se)y[Et+se]=y[Et+se-fe];for(Et+=Kt,J+=Kt;J>=I;)J-=I,++G,V!=null&&G<=z&&!(G%16)&&V(f,G);if(t(Et<=U),J&Ft&&(Vt=On(pt,J,G)),kt!=null)for(;rt<Et;)Kt=y[rt++],kt.X[(506832829*Kt&4294967295)>>>kt.Mb]=Kt}else{if(!(Kt<St))break t;for(Jt=Kt-280,t(kt!=null);rt<Et;)Kt=y[rt++],kt.X[(506832829*Kt&4294967295)>>>kt.Mb]=Kt;Kt=Et,t(!(Jt>>>(fe=kt).Xa)),y[Kt]=fe.X[Jt],Jt=!0}Jt||t(at.h==st(at))}if(f.Pb&&at.h&&Et<U)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Je(f.s.vb,f.s.Wa);else{if(at.h)break t;V?.(f,G>z?z:G),f.a=0,f.$=Et-S}return 1}return f.a=3,0}function na(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var y=f.Wa;y!=null&&(y.X=null),f.vb=null,t(f!=null)}function Ss(){var f=new de;return f==null?null:(f.a=0,f.xb=Zh,ir("Predictor","VP8LPredictors"),ir("Predictor","VP8LPredictors_C"),ir("PredictorAdd","VP8LPredictorsAdd"),ir("PredictorAdd","VP8LPredictorsAdd_C"),In=je,Xl=Pe,Zl=Fr,Zs=rr,to=ae,Os=Ne,dl=Me,C.VP8LMapColor32b=Ts,C.VP8LMapColor8b=gi,f)}function va(f,y,S,I,U){var z=1,V=[f],G=[y],J=I.m,at=I.s,pt=null,Et=0;t:for(;;){if(S)for(;z&&H(J,1);){var rt=V,gt=G,St=I,Dt=1,kt=St.m,Ft=St.gc[St.ab],Vt=H(kt,2);if(St.Oc&1<<Vt)z=0;else{switch(St.Oc|=1<<Vt,Ft.hc=Vt,Ft.Ea=rt[0],Ft.nc=gt[0],Ft.K=[null],++St.ab,t(4>=St.ab),Vt){case 0:case 1:Ft.b=H(kt,3)+2,Dt=va(Wt(Ft.Ea,Ft.b),Wt(Ft.nc,Ft.b),0,St,Ft.K),Ft.K=Ft.K[0];break;case 3:var Jt,Kt=H(kt,8)+1,fe=16<Kt?0:4<Kt?1:2<Kt?2:3;if(rt[0]=Wt(Ft.Ea,fe),Ft.b=fe,Jt=Dt=va(Kt,1,0,St,Ft.K)){var se,He=Kt,ce=Ft,cr=1<<(8>>ce.b),on=o(cr);if(on==null)Jt=0;else{var Xe=ce.K[0],oe=ce.w;for(on[0]=ce.K[0][0],se=1;se<1*He;++se)on[se]=ie(Xe[oe+se],on[se-1]);for(;se<4*cr;++se)on[se]=0;ce.K[0]=null,ce.K[0]=on,Jt=1}}Dt=Jt;break;case 2:break;default:t(0)}z=Dt}}if(V=V[0],G=G[0],z&&H(J,1)&&!(z=1<=(Et=H(J,4))&&11>=Et)){I.a=3;break t}var Zt;if(Zt=z)e:{var fn,Oe,nr,Dr=I,Gn=V,xi=G,tn=Et,Fn=S,ji=Dr.m,Dn=Dr.s,lr=[null],Nr=1,pn=0,Ir=Wa[tn];r:for(;;){if(Fn&&H(ji,1)){var Qn=H(ji,3)+2,mn=Wt(Gn,Qn),Lr=Wt(xi,Qn),Tn=mn*Lr;if(!va(mn,Lr,0,Dr,lr))break r;for(lr=lr[0],Dn.xc=Qn,fn=0;fn<Tn;++fn){var Mr=lr[fn]>>8&65535;lr[fn]=Mr,Mr>=Nr&&(Nr=Mr+1)}}if(ji.h)break r;for(Oe=0;5>Oe;++Oe){var Mn=gl[Oe];!Oe&&0<tn&&(Mn+=1<<tn),pn<Mn&&(pn=Mn)}var Un=u(Nr*Ir,j),Hr=Nr,_r=u(Hr,_t);if(_r==null)var Fi=null;else t(65536>=Hr),Fi=_r;var wn=o(pn);if(Fi==null||wn==null||Un==null){Dr.a=1;break r}var Ae=Un;for(fn=nr=0;fn<Nr;++fn){var Le=Fi[fn],kr=Le.G,la=Le.H,Qa=0,Ji=1,Bn=0;for(Oe=0;5>Oe;++Oe){Mn=gl[Oe],kr[Oe]=Ae,la[Oe]=nr,!Oe&&0<tn&&(Mn+=1<<tn);i:{var Do,Mo=Mn,Gc=Dr,en=wn,ed=Ae,rd=nr,Qc=0,io=Gc.m,ig=H(io,1);if(s(en,0,0,Mo),ig){var nd=H(io,1)+1,id=H(io,1),Yc=H(io,id==0?1:8);en[Yc]=1,nd==2&&(en[Yc=H(io,8)]=1);var ni=1}else{var xn=o(19),ic=H(io,4)+4;if(19<ic){Gc.a=3;var Uo=0;break i}for(Do=0;Do<ic;++Do)xn[ec[Do]]=H(io,3);var su=void 0,bl=void 0,Fs=Gc,Jc=xn,ou=Mo,Xc=en,Zc=0,ao=Fs.m,ad=8,sd=u(128,j);n:for(;R(sd,0,7,Jc,19);){if(H(ao,1)){var Cf=2+2*H(ao,3);if((su=2+H(ao,Cf))>ou)break n}else su=ou;for(bl=0;bl<ou&&su--;){yt(ao);var od=sd[0+(127&X(ao))];dt(ao,ao.u+od.g);var Bo=od.value;if(16>Bo)Xc[bl++]=Bo,Bo!=0&&(ad=Bo);else{var Tf=Bo==16,Pf=Bo-16,Of=ru[Pf],ld=H(ao,Va[Pf])+Of;if(bl+ld>ou)break n;for(var Rf=Tf?ad:0;0<ld--;)Xc[bl++]=Rf}}Zc=1;break n}Zc||(Fs.a=3),ni=Zc}(ni=ni&&!io.h)&&(Qc=R(ed,rd,8,en,Mo)),ni&&Qc!=0?Uo=Qc:(Gc.a=3,Uo=0)}if(Uo==0)break r;if(Ji&&zc[Oe]==1&&(Ji=Ae[nr].g==0),Qa+=Ae[nr].g,nr+=Uo,3>=Oe){var wl,th=wn[0];for(wl=1;wl<Mn;++wl)wn[wl]>th&&(th=wn[wl]);Bn+=th}}if(Le.nd=Ji,Le.Qb=0,Ji&&(Le.qb=(kr[3][la[3]+0].value<<24|kr[1][la[1]+0].value<<16|kr[2][la[2]+0].value)>>>0,Qa==0&&256>kr[0][la[0]+0].value&&(Le.Qb=1,Le.qb+=kr[0][la[0]+0].value<<8)),Le.jc=!Le.Qb&&6>Bn,Le.jc){var ac,Ds=Le;for(ac=0;ac<Lo;++ac){var so=ac,oo=Ds.pd[so],eh=Ds.G[0][Ds.H[0]+so];256<=eh.value?(oo.g=eh.g+256,oo.value=eh.value):(oo.g=0,oo.value=0,so>>=Yr(eh,8,oo),so>>=Yr(Ds.G[1][Ds.H[1]+so],16,oo),so>>=Yr(Ds.G[2][Ds.H[2]+so],0,oo),Yr(Ds.G[3][Ds.H[3]+so],24,oo))}}}Dn.vc=lr,Dn.Wb=Nr,Dn.Ya=Fi,Dn.yc=Un,Zt=1;break e}Zt=0}if(!(z=Zt)){I.a=3;break t}if(0<Et){if(at.ua=1<<Et,!lt(at.Wa,Et)){I.a=1,z=0;break t}}else at.ua=0;var rh=I,xl=V,jf=G,lu=rh.s,uu=lu.xc;if(rh.c=xl,rh.i=jf,lu.md=Wt(xl,uu),lu.wc=uu==0?-1:(1<<uu)-1,S){I.xb=Po;break t}if((pt=o(V*G))==null){I.a=1,z=0;break t}z=(z=Ai(I,pt,0,V,G,G,null))&&!J.h;break t}return z?(U!=null?U[0]=pt:(t(pt==null),t(S)),I.$=0,S||na(at)):na(at),z}function Ei(f,y){var S=f.c*f.i,I=S+y+16*y;return t(f.c<=y),f.V=o(I),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+S+y,1)}function os(f,y){var S=f.C,I=y-S,U=f.V,z=f.Ba+f.c*S;for(t(y<=f.l.o);0<I;){var V=16<I?16:I,G=f.l.ma,J=f.l.width,at=J*V,pt=G.ca,Et=G.tb+J*S,rt=f.Ta,gt=f.Ua;ci(f,V,U,z),Ca(rt,gt,pt,Et,at),zr(G,S,S+V,pt,Et,J),I-=V,U+=V*f.c,S+=V}t(S==y),f.C=f.Ma=y}function qi(){this.ub=this.yd=this.td=this.Rb=0}function hi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zi(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ia(){this.Yb=(function(){var f=[];return(function y(S,I,U){for(var z=U[I],V=0;V<z&&(S.push(U.length>I+1?[]:0),!(U.length<I+1));V++)y(S[V],I+1,U)})(f,0,[3,11]),f})()}function dn(){this.jb=o(3),this.Wc=h([4,8],ia),this.Xc=h([4,17],ia)}function wo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ii(){this.ld=this.La=this.dd=this.tc=0}function aa(){this.Na=this.la=0}function ba(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $s(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ii),this.Y=0,this.ya=Array(new $s),this.aa=0,this.l=new ls}function _o(){this.y=o(16),this.f=o(8),this.ea=o(8)}function al(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new qi,this.Kc=new hi,this.ed=new wo,this.Qa=new zi,this.Ic=this.$c=this.Aa=0,this.D=new xo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,O),this.ia=0,this.pb=u(4,ba),this.Pa=new dn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _o),this.Hd=0,this.rb=Array(new aa),this.sb=0,this.wa=Array(new Ii),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $s),this.L=this.aa=0,this.gd=h([4,2],Ii),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ls(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vi(){var f=new al;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Ta||(Ta=wa)),f}function sr(f,y,S){return f.a==0&&(f.a=y,f.sc=S,f.cb=0),0}function Nn(f,y,S){return 3<=S&&f[y+0]==157&&f[y+1]==1&&f[y+2]==42}function us(f,y){if(f==null)return 0;if(f.a=0,f.sc="OK",y==null)return sr(f,2,"null VP8Io passed to VP8GetHeaders()");var S=y.data,I=y.w,U=y.ha;if(4>U)return sr(f,7,"Truncated header.");var z=S[I+0]|S[I+1]<<8|S[I+2]<<16,V=f.Od;if(V.Rb=!(1&z),V.td=z>>1&7,V.yd=z>>4&1,V.ub=z>>5,3<V.td)return sr(f,3,"Incorrect keyframe parameters.");if(!V.yd)return sr(f,4,"Frame not displayable.");I+=3,U-=3;var G=f.Kc;if(V.Rb){if(7>U)return sr(f,7,"cannot parse picture header");if(!Nn(S,I,U))return sr(f,3,"Bad code word");G.c=16383&(S[I+4]<<8|S[I+3]),G.Td=S[I+4]>>6,G.i=16383&(S[I+6]<<8|S[I+5]),G.Ud=S[I+6]>>6,I+=7,U-=7,f.za=G.c+15>>4,f.Ub=G.i+15>>4,y.width=G.c,y.height=G.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,s((z=f.Pa).jb,0,255,z.jb.length),t((z=f.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,s(z.Zb,0,0,z.Zb.length),s(z.Lb,0,0,z.Lb)}if(V.ub>U)return sr(f,7,"bad partition length");nt(z=f.m,S,I,V.ub),I+=V.ub,U-=V.ub,V.Rb&&(G.Ld=Nt(z),G.Kd=Nt(z)),G=f.Qa;var J,at=f.Pa;if(t(z!=null),t(G!=null),G.Cb=Nt(z),G.Cb){if(G.Bb=Nt(z),Nt(z)){for(G.Fb=Nt(z),J=0;4>J;++J)G.Zb[J]=Nt(z)?Z(z,7):0;for(J=0;4>J;++J)G.Lb[J]=Nt(z)?Z(z,6):0}if(G.Bb)for(J=0;3>J;++J)at.jb[J]=Nt(z)?ut(z,8):255}else G.Bb=0;if(z.Ka)return sr(f,3,"cannot parse segment header");if((G=f.ed).zd=Nt(z),G.Tb=ut(z,6),G.wb=ut(z,3),G.Pc=Nt(z),G.Pc&&Nt(z)){for(at=0;4>at;++at)Nt(z)&&(G.vd[at]=Z(z,6));for(at=0;4>at;++at)Nt(z)&&(G.od[at]=Z(z,6))}if(f.L=G.Tb==0?0:G.zd?1:2,z.Ka)return sr(f,3,"cannot parse filter header");var pt=U;if(U=J=I,I=J+pt,G=pt,f.Xb=(1<<ut(f.m,2))-1,pt<3*(at=f.Xb))S=7;else{for(J+=3*at,G-=3*at,pt=0;pt<at;++pt){var Et=S[U+0]|S[U+1]<<8|S[U+2]<<16;Et>G&&(Et=G),nt(f.Jc[+pt],S,J,Et),J+=Et,G-=Et,U+=3}nt(f.Jc[+at],S,J,G),S=J<I?0:5}if(S!=0)return sr(f,S,"cannot parse partitions");for(S=ut(J=f.m,7),U=Nt(J)?Z(J,4):0,I=Nt(J)?Z(J,4):0,G=Nt(J)?Z(J,4):0,at=Nt(J)?Z(J,4):0,J=Nt(J)?Z(J,4):0,pt=f.Qa,Et=0;4>Et;++Et){if(pt.Cb){var rt=pt.Zb[Et];pt.Fb||(rt+=S)}else{if(0<Et){f.pb[Et]=f.pb[0];continue}rt=S}var gt=f.pb[Et];gt.Sc[0]=Ha[En(rt+U,127)],gt.Sc[1]=Ka[En(rt+0,127)],gt.Eb[0]=2*Ha[En(rt+I,127)],gt.Eb[1]=101581*Ka[En(rt+G,127)]>>16,8>gt.Eb[1]&&(gt.Eb[1]=8),gt.Qc[0]=Ha[En(rt+at,117)],gt.Qc[1]=Ka[En(rt+J,127)],gt.lc=rt+J}if(!V.Rb)return sr(f,4,"Not a key frame.");for(Nt(z),V=f.Pa,S=0;4>S;++S){for(U=0;8>U;++U)for(I=0;3>I;++I)for(G=0;11>G;++G)at=Mt(z,sn[S][U][I][G])?ut(z,8):If[S][U][I][G],V.Wc[S][U].Yb[I][G]=at;for(U=0;17>U;++U)V.Xc[S][U]=V.Wc[S][dr[U]]}return f.kc=Nt(z),f.kc&&(f.Bd=ut(z,8)),f.cb=1}function wa(f,y,S,I,U,z,V){var G=y[U].Yb[S];for(S=0;16>U;++U){if(!Mt(f,G[S+0]))return U;for(;!Mt(f,G[S+1]);)if(G=y[++U].Yb[0],S=0,U==16)return 16;var J=y[U+1].Yb;if(Mt(f,G[S+2])){var at=f,pt=0;if(Mt(at,(rt=G)[(Et=S)+3]))if(Mt(at,rt[Et+6])){for(G=0,Et=2*(pt=Mt(at,rt[Et+8]))+(rt=Mt(at,rt[Et+9+pt])),pt=0,rt=Ef[Et];rt[G];++G)pt+=pt+Mt(at,rt[G]);pt+=3+(8<<Et)}else Mt(at,rt[Et+7])?(pt=7+2*Mt(at,165),pt+=Mt(at,145)):pt=5+Mt(at,159);else pt=Mt(at,rt[Et+4])?3+Mt(at,rt[Et+5]):2;G=J[2]}else pt=1,G=J[1];J=V+Xh[U],0>(at=f).b&&Tt(at);var Et,rt=at.b,gt=(Et=at.Ca>>1)-(at.I>>rt)>>31;--at.b,at.Ca+=gt,at.Ca|=1,at.I-=(Et+1&gt)<<rt,z[J]=((pt^gt)-gt)*I[(0<U)+0]}return 16}function hr(f){var y=f.rb[f.sb-1];y.la=0,y.Na=0,s(f.zc,0,0,f.zc.length),f.ja=0}function di(f,y,S,I,U){U=f[y+S+32*I]+(U>>3),f[y+S+32*I]=-256&U?0>U?0:255:U}function Li(f,y,S,I,U,z){di(f,y,0,S,I+U),di(f,y,1,S,I+z),di(f,y,2,S,I-z),di(f,y,3,S,I-U)}function Vr(f){return(20091*f>>16)+f}function fi(f,y,S,I){var U,z=0,V=o(16);for(U=0;4>U;++U){var G=f[y+0]+f[y+8],J=f[y+0]-f[y+8],at=(35468*f[y+4]>>16)-Vr(f[y+12]),pt=Vr(f[y+4])+(35468*f[y+12]>>16);V[z+0]=G+pt,V[z+1]=J+at,V[z+2]=J-at,V[z+3]=G-pt,z+=4,y++}for(U=z=0;4>U;++U)G=(f=V[z+0]+4)+V[z+8],J=f-V[z+8],at=(35468*V[z+4]>>16)-Vr(V[z+12]),di(S,I,0,0,G+(pt=Vr(V[z+4])+(35468*V[z+12]>>16))),di(S,I,1,0,J+at),di(S,I,2,0,J-at),di(S,I,3,0,G-pt),z++,I+=32}function So(f,y,S,I){var U=f[y+0]+4,z=35468*f[y+4]>>16,V=Vr(f[y+4]),G=35468*f[y+1]>>16;Li(S,I,0,U+V,f=Vr(f[y+1]),G),Li(S,I,1,U+z,f,G),Li(S,I,2,U-z,f,G),Li(S,I,3,U-V,f,G)}function Gl(f,y,S,I,U){fi(f,y,S,I),U&&fi(f,y+16,S,I+4)}function sl(f,y,S,I){eo(f,y+0,S,I,1),eo(f,y+32,S,I+128,1)}function pi(f,y,S,I){var U;for(f=f[y+0]+4,U=0;4>U;++U)for(y=0;4>y;++y)di(S,I,y,U,f)}function ol(f,y,S,I){f[y+0]&&Er(f,y+0,S,I),f[y+16]&&Er(f,y+16,S,I+4),f[y+32]&&Er(f,y+32,S,I+128),f[y+48]&&Er(f,y+48,S,I+128+4)}function cs(f,y,S,I){var U,z=o(16);for(U=0;4>U;++U){var V=f[y+0+U]+f[y+12+U],G=f[y+4+U]+f[y+8+U],J=f[y+4+U]-f[y+8+U],at=f[y+0+U]-f[y+12+U];z[0+U]=V+G,z[8+U]=V-G,z[4+U]=at+J,z[12+U]=at-J}for(U=0;4>U;++U)V=(f=z[0+4*U]+3)+z[3+4*U],G=z[1+4*U]+z[2+4*U],J=z[1+4*U]-z[2+4*U],at=f-z[3+4*U],S[I+0]=V+G>>3,S[I+16]=at+J>>3,S[I+32]=V-G>>3,S[I+48]=at-J>>3,I+=64}function kn(f,y,S){var I,U=y-32,z=Oi,V=255-f[U-1];for(I=0;I<S;++I){var G,J=z,at=V+f[y-1];for(G=0;G<S;++G)f[y+G]=J[at+f[U+G]];y+=32}}function No(f,y){kn(f,y,4)}function ll(f,y){kn(f,y,8)}function ul(f,y){kn(f,y,16)}function ko(f,y){var S;for(S=0;16>S;++S)n(f,y+32*S,f,y-32,16)}function Ao(f,y){var S;for(S=16;0<S;--S)s(f,y,f[y-1],16),y+=32}function sa(f,y,S){var I;for(I=0;16>I;++I)s(y,S+32*I,f,16)}function xa(f,y){var S,I=16;for(S=0;16>S;++S)I+=f[y-1+32*S]+f[y+S-32];sa(I>>5,f,y)}function _a(f,y){var S,I=8;for(S=0;16>S;++S)I+=f[y-1+32*S];sa(I>>4,f,y)}function hs(f,y){var S,I=8;for(S=0;16>S;++S)I+=f[y+S-32];sa(I>>4,f,y)}function Ci(f,y){sa(128,f,y)}function Te(f,y,S){return f+2*y+S+2>>2}function ja(f,y){var S,I=y-32;for(I=new Uint8Array([Te(f[I-1],f[I+0],f[I+1]),Te(f[I+0],f[I+1],f[I+2]),Te(f[I+1],f[I+2],f[I+3]),Te(f[I+2],f[I+3],f[I+4])]),S=0;4>S;++S)n(f,y+32*S,I,0,I.length)}function Ws(f,y){var S=f[y-1],I=f[y-1+32],U=f[y-1+64],z=f[y-1+96];Yt(f,y+0,16843009*Te(f[y-1-32],S,I)),Yt(f,y+32,16843009*Te(S,I,U)),Yt(f,y+64,16843009*Te(I,U,z)),Yt(f,y+96,16843009*Te(U,z,z))}function Eo(f,y){var S,I=4;for(S=0;4>S;++S)I+=f[y+S-32]+f[y-1+32*S];for(I>>=3,S=0;4>S;++S)s(f,y+32*S,I,4)}function Ns(f,y){var S=f[y-1+0],I=f[y-1+32],U=f[y-1+64],z=f[y-1-32],V=f[y+0-32],G=f[y+1-32],J=f[y+2-32],at=f[y+3-32];f[y+0+96]=Te(I,U,f[y-1+96]),f[y+1+96]=f[y+0+64]=Te(S,I,U),f[y+2+96]=f[y+1+64]=f[y+0+32]=Te(z,S,I),f[y+3+96]=f[y+2+64]=f[y+1+32]=f[y+0+0]=Te(V,z,S),f[y+3+64]=f[y+2+32]=f[y+1+0]=Te(G,V,z),f[y+3+32]=f[y+2+0]=Te(J,G,V),f[y+3+0]=Te(at,J,G)}function Kn(f,y){var S=f[y+1-32],I=f[y+2-32],U=f[y+3-32],z=f[y+4-32],V=f[y+5-32],G=f[y+6-32],J=f[y+7-32];f[y+0+0]=Te(f[y+0-32],S,I),f[y+1+0]=f[y+0+32]=Te(S,I,U),f[y+2+0]=f[y+1+32]=f[y+0+64]=Te(I,U,z),f[y+3+0]=f[y+2+32]=f[y+1+64]=f[y+0+96]=Te(U,z,V),f[y+3+32]=f[y+2+64]=f[y+1+96]=Te(z,V,G),f[y+3+64]=f[y+2+96]=Te(V,G,J),f[y+3+96]=Te(G,J,J)}function jn(f,y){var S=f[y-1+0],I=f[y-1+32],U=f[y-1+64],z=f[y-1-32],V=f[y+0-32],G=f[y+1-32],J=f[y+2-32],at=f[y+3-32];f[y+0+0]=f[y+1+64]=z+V+1>>1,f[y+1+0]=f[y+2+64]=V+G+1>>1,f[y+2+0]=f[y+3+64]=G+J+1>>1,f[y+3+0]=J+at+1>>1,f[y+0+96]=Te(U,I,S),f[y+0+64]=Te(I,S,z),f[y+0+32]=f[y+1+96]=Te(S,z,V),f[y+1+32]=f[y+2+96]=Te(z,V,G),f[y+2+32]=f[y+3+96]=Te(V,G,J),f[y+3+32]=Te(G,J,at)}function Hs(f,y){var S=f[y+0-32],I=f[y+1-32],U=f[y+2-32],z=f[y+3-32],V=f[y+4-32],G=f[y+5-32],J=f[y+6-32],at=f[y+7-32];f[y+0+0]=S+I+1>>1,f[y+1+0]=f[y+0+64]=I+U+1>>1,f[y+2+0]=f[y+1+64]=U+z+1>>1,f[y+3+0]=f[y+2+64]=z+V+1>>1,f[y+0+32]=Te(S,I,U),f[y+1+32]=f[y+0+96]=Te(I,U,z),f[y+2+32]=f[y+1+96]=Te(U,z,V),f[y+3+32]=f[y+2+96]=Te(z,V,G),f[y+3+64]=Te(V,G,J),f[y+3+96]=Te(G,J,at)}function Pr(f,y){var S=f[y-1+0],I=f[y-1+32],U=f[y-1+64],z=f[y-1+96];f[y+0+0]=S+I+1>>1,f[y+2+0]=f[y+0+32]=I+U+1>>1,f[y+2+32]=f[y+0+64]=U+z+1>>1,f[y+1+0]=Te(S,I,U),f[y+3+0]=f[y+1+32]=Te(I,U,z),f[y+3+32]=f[y+1+64]=Te(U,z,z),f[y+3+64]=f[y+2+64]=f[y+0+96]=f[y+1+96]=f[y+2+96]=f[y+3+96]=z}function $i(f,y){var S=f[y-1+0],I=f[y-1+32],U=f[y-1+64],z=f[y-1+96],V=f[y-1-32],G=f[y+0-32],J=f[y+1-32],at=f[y+2-32];f[y+0+0]=f[y+2+32]=S+V+1>>1,f[y+0+32]=f[y+2+64]=I+S+1>>1,f[y+0+64]=f[y+2+96]=U+I+1>>1,f[y+0+96]=z+U+1>>1,f[y+3+0]=Te(G,J,at),f[y+2+0]=Te(V,G,J),f[y+1+0]=f[y+3+32]=Te(S,V,G),f[y+1+32]=f[y+3+64]=Te(I,S,V),f[y+1+64]=f[y+3+96]=Te(U,I,S),f[y+1+96]=Te(z,U,I)}function Ks(f,y){var S;for(S=0;8>S;++S)n(f,y+32*S,f,y-32,8)}function Sa(f,y){var S;for(S=0;8>S;++S)s(f,y,f[y-1],8),y+=32}function ks(f,y,S){var I;for(I=0;8>I;++I)s(y,S+32*I,f,8)}function Fa(f,y){var S,I=8;for(S=0;8>S;++S)I+=f[y+S-32]+f[y-1+32*S];ks(I>>4,f,y)}function ds(f,y){var S,I=4;for(S=0;8>S;++S)I+=f[y+S-32];ks(I>>3,f,y)}function Wi(f,y){var S,I=4;for(S=0;8>S;++S)I+=f[y-1+32*S];ks(I>>3,f,y)}function An(f,y){ks(128,f,y)}function Hi(f,y,S){var I=f[y-S],U=f[y+0],z=3*(U-I)+ro[1020+f[y-2*S]-f[y+S]],V=Xu[112+(z+4>>3)];f[y-S]=Oi[255+I+Xu[112+(z+3>>3)]],f[y+0]=Oi[255+U-V]}function Ti(f,y,S,I){var U=f[y+0],z=f[y+S];return yi[255+f[y-2*S]-f[y-S]]>I||yi[255+z-U]>I}function Da(f,y,S,I){return 4*yi[255+f[y-S]-f[y+0]]+yi[255+f[y-2*S]-f[y+S]]<=I}function As(f,y,S,I,U){var z=f[y-3*S],V=f[y-2*S],G=f[y-S],J=f[y+0],at=f[y+S],pt=f[y+2*S],Et=f[y+3*S];return 4*yi[255+G-J]+yi[255+V-at]>I?0:yi[255+f[y-4*S]-z]<=U&&yi[255+z-V]<=U&&yi[255+V-G]<=U&&yi[255+Et-pt]<=U&&yi[255+pt-at]<=U&&yi[255+at-J]<=U}function Ma(f,y,S,I){var U=2*I+1;for(I=0;16>I;++I)Da(f,y+I,S,U)&&Hi(f,y+I,S)}function Ua(f,y,S,I){var U=2*I+1;for(I=0;16>I;++I)Da(f,y+I*S,1,U)&&Hi(f,y+I*S,1)}function Na(f,y,S,I){var U;for(U=3;0<U;--U)Ma(f,y+=4*S,S,I)}function Gs(f,y,S,I){var U;for(U=3;0<U;--U)Ua(f,y+=4,S,I)}function ka(f,y,S,I,U,z,V,G){for(z=2*z+1;0<U--;){if(As(f,y,S,z,V))if(Ti(f,y,S,G))Hi(f,y,S);else{var J=f,at=y,pt=S,Et=J[at-2*pt],rt=J[at-pt],gt=J[at+0],St=J[at+pt],Dt=J[at+2*pt],kt=27*(Vt=ro[1020+3*(gt-rt)+ro[1020+Et-St]])+63>>7,Ft=18*Vt+63>>7,Vt=9*Vt+63>>7;J[at-3*pt]=Oi[255+J[at-3*pt]+Vt],J[at-2*pt]=Oi[255+Et+Ft],J[at-pt]=Oi[255+rt+kt],J[at+0]=Oi[255+gt-kt],J[at+pt]=Oi[255+St-Ft],J[at+2*pt]=Oi[255+Dt-Vt]}y+=I}}function Ki(f,y,S,I,U,z,V,G){for(z=2*z+1;0<U--;){if(As(f,y,S,z,V))if(Ti(f,y,S,G))Hi(f,y,S);else{var J=f,at=y,pt=S,Et=J[at-pt],rt=J[at+0],gt=J[at+pt],St=Xu[112+(4+(Dt=3*(rt-Et))>>3)],Dt=Xu[112+(Dt+3>>3)],kt=St+1>>1;J[at-2*pt]=Oi[255+J[at-2*pt]+kt],J[at-pt]=Oi[255+Et+Dt],J[at+0]=Oi[255+rt-St],J[at+pt]=Oi[255+gt-kt]}y+=I}}function cl(f,y,S,I,U,z){ka(f,y,S,1,16,I,U,z)}function hl(f,y,S,I,U,z){ka(f,y,1,S,16,I,U,z)}function Aa(f,y,S,I,U,z){var V;for(V=3;0<V;--V)Ki(f,y+=4*S,S,1,16,I,U,z)}function Io(f,y,S,I,U,z){var V;for(V=3;0<V;--V)Ki(f,y+=4,1,S,16,I,U,z)}function x(f,y,S,I,U,z,V,G){ka(f,y,U,1,8,z,V,G),ka(S,I,U,1,8,z,V,G)}function D(f,y,S,I,U,z,V,G){ka(f,y,1,U,8,z,V,G),ka(S,I,1,U,8,z,V,G)}function it(f,y,S,I,U,z,V,G){Ki(f,y+4*U,U,1,8,z,V,G),Ki(S,I+4*U,U,1,8,z,V,G)}function ft(f,y,S,I,U,z,V,G){Ki(f,y+4,1,U,8,z,V,G),Ki(S,I+4,1,U,8,z,V,G)}function vt(){this.ba=new Ve,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ar,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ut(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function le(){this.ua=0,this.Wa=new qe,this.vb=new qe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _t,this.yc=new j}function de(){this.xb=this.a=0,this.l=new ls,this.ca=new Ve,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new le,this.ab=0,this.gc=u(4,Qt),this.Oc=0}function Ie(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ls,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ye(f,y,S,I,U,z,V){for(f=f==null?0:f[y+0],y=0;y<V;++y)U[z+y]=f+S[I+y]&255,f=U[z+y]}function mr(f,y,S,I,U,z,V){var G;if(f==null)ye(null,null,S,I,U,z,V);else for(G=0;G<V;++G)U[z+G]=f[y+G]+S[I+G]&255}function Jr(f,y,S,I,U,z,V){if(f==null)ye(null,null,S,I,U,z,V);else{var G,J=f[y+0],at=J,pt=J;for(G=0;G<V;++G)at=pt+(J=f[y+G])-at,pt=S[I+G]+(-256&at?0>at?0:255:at)&255,at=J,U[z+G]=pt}}function $r(f,y,S,I){var U=y.width,z=y.o;if(t(f!=null&&y!=null),0>S||0>=I||S+I>z)return null;if(!f.Cc){if(f.ga==null){var V;if(f.ga=new Ie,(V=f.ga==null)||(V=y.width*y.o,t(f.Gb.length==0),f.Gb=o(V),f.Uc=0,f.Gb==null?V=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,V=1),V=!V),!V){V=f.ga;var G=f.Fa,J=f.P,at=f.qc,pt=f.mb,Et=f.nb,rt=J+1,gt=at-1,St=V.l;if(t(G!=null&&pt!=null&&y!=null),no[0]=null,no[1]=ye,no[2]=mr,no[3]=Jr,V.ca=pt,V.tb=Et,V.c=y.width,V.i=y.height,t(0<V.c&&0<V.i),1>=at)y=0;else if(V.$a=3&G[J+0],V.Z=G[J+0]>>2&3,V.Lc=G[J+0]>>4&3,J=G[J+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||J)y=0;else if(St.put=xe,St.ac=Hn,St.bc=ss,St.ma=V,St.width=y.width,St.height=y.height,St.Da=y.Da,St.v=y.v,St.va=y.va,St.j=y.j,St.o=y.o,V.$a)t:{t(V.$a==1),y=Ss();e:for(;;){if(y==null){y=0;break t}if(t(V!=null),V.mc=y,y.c=V.c,y.i=V.i,y.l=V.l,y.l.ma=V,y.l.width=V.c,y.l.height=V.i,y.a=0,bt(y.m,G,rt,gt),!va(V.c,V.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Tr(y.s)?(V.ic=1,G=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(G),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(V.ic=0,y=Ei(y,V.c)),!y))break e;y=1;break t}V.mc=null,y=0}else y=gt>=V.c*V.i;V=!y}if(V)return null;f.ga.Lc!=1?f.Ga=0:I=z-S}t(f.ga!=null),t(S+I<=z);t:{if(y=(G=f.ga).c,z=G.l.o,G.$a==0){if(rt=f.rc,gt=f.Vc,St=f.Fa,J=f.P+1+S*y,at=f.mb,pt=f.nb+S*y,t(J<=f.P+f.qc),G.Z!=0)for(t(no[G.Z]!=null),V=0;V<I;++V)no[G.Z](rt,gt,St,J,at,pt,y),rt=at,gt=pt,pt+=y,J+=y;else for(V=0;V<I;++V)n(at,pt,St,J,y),rt=at,gt=pt,pt+=y,J+=y;f.rc=rt,f.Vc=gt}else{if(t(G.mc!=null),y=S+I,t((V=G.mc)!=null),t(y<=V.i),V.C>=y)y=1;else if(G.ic||xt(),G.ic){G=V.V,rt=V.Ba,gt=V.c;var Dt=V.i,kt=(St=1,J=V.$/gt,at=V.$%gt,pt=V.m,Et=V.s,V.$),Ft=gt*Dt,Vt=gt*y,Jt=Et.wc,Kt=kt<Vt?On(Et,at,J):null;t(kt<=Ft),t(y<=Dt),t(Tr(Et));e:for(;;){for(;!pt.h&&kt<Vt;){if(at&Jt||(Kt=On(Et,at,J)),t(Kt!=null),yt(pt),256>(Dt=Br(Kt.G[0],Kt.H[0],pt)))G[rt+kt]=Dt,++kt,++at>=gt&&(at=0,++J<=y&&!(J%16)&&Rn(V,J));else{if(!(280>Dt)){St=0;break e}Dt=Ni(Dt-256,pt);var fe,se=Br(Kt.G[4],Kt.H[4],pt);if(yt(pt),!(kt>=(se=ki(gt,se=Ni(se,pt)))&&Ft-kt>=Dt)){St=0;break e}for(fe=0;fe<Dt;++fe)G[rt+kt+fe]=G[rt+kt+fe-se];for(kt+=Dt,at+=Dt;at>=gt;)at-=gt,++J<=y&&!(J%16)&&Rn(V,J);kt<Vt&&at&Jt&&(Kt=On(Et,at,J))}t(pt.h==st(pt))}Rn(V,J>y?y:J);break e}!St||pt.h&&kt<Ft?(St=0,V.a=pt.h?5:3):V.$=kt,y=St}else y=Ai(V,V.V,V.Ba,V.c,V.i,y,os);if(!y){I=0;break t}}S+I>=z&&(f.Cc=1),I=1}if(!I)return null;if(f.Cc&&((I=f.ga)!=null&&(I.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+S*U}function p(f,y,S,I,U,z){for(;0<U--;){var V,G=f,J=y+(S?1:0),at=f,pt=y+(S?0:3);for(V=0;V<I;++V){var Et=at[pt+4*V];Et!=255&&(Et*=32897,G[J+4*V+0]=G[J+4*V+0]*Et>>23,G[J+4*V+1]=G[J+4*V+1]*Et>>23,G[J+4*V+2]=G[J+4*V+2]*Et>>23)}y+=z}}function k(f,y,S,I,U){for(;0<I--;){var z;for(z=0;z<S;++z){var V=f[y+2*z+0],G=15&(at=f[y+2*z+1]),J=4369*G,at=(240&at|at>>4)*J>>16;f[y+2*z+0]=(240&V|V>>4)*J>>16&240|(15&V|V<<4)*J>>16>>4&15,f[y+2*z+1]=240&at|G}y+=U}}function P(f,y,S,I,U,z,V,G){var J,at,pt=255;for(at=0;at<U;++at){for(J=0;J<I;++J){var Et=f[y+J];z[V+4*J]=Et,pt&=Et}y+=S,V+=G}return pt!=255}function Y(f,y,S,I,U){var z;for(z=0;z<U;++z)S[I+z]=f[y+z]>>8}function xt(){pl=p,qa=k,Qu=P,Ca=Y}function Pt(f,y,S){C[f]=function(I,U,z,V,G,J,at,pt,Et,rt,gt,St,Dt,kt,Ft,Vt,Jt){var Kt,fe=Jt-1>>1,se=G[J+0]|at[pt+0]<<16,He=Et[rt+0]|gt[St+0]<<16;t(I!=null);var ce=3*se+He+131074>>2;for(y(I[U+0],255&ce,ce>>16,Dt,kt),z!=null&&(ce=3*He+se+131074>>2,y(z[V+0],255&ce,ce>>16,Ft,Vt)),Kt=1;Kt<=fe;++Kt){var cr=G[J+Kt]|at[pt+Kt]<<16,on=Et[rt+Kt]|gt[St+Kt]<<16,Xe=se+cr+He+on+524296,oe=Xe+2*(cr+He)>>3;ce=oe+se>>1,se=(Xe=Xe+2*(se+on)>>3)+cr>>1,y(I[U+2*Kt-1],255&ce,ce>>16,Dt,kt+(2*Kt-1)*S),y(I[U+2*Kt-0],255&se,se>>16,Dt,kt+(2*Kt-0)*S),z!=null&&(ce=Xe+He>>1,se=oe+on>>1,y(z[V+2*Kt-1],255&ce,ce>>16,Ft,Vt+(2*Kt-1)*S),y(z[V+2*Kt+0],255&se,se>>16,Ft,Vt+(2*Kt+0)*S)),se=cr,He=on}1&Jt||(ce=3*se+He+131074>>2,y(I[U+Jt-1],255&ce,ce>>16,Dt,kt+(Jt-1)*S),z!=null&&(ce=3*He+se+131074>>2,y(z[V+Jt-1],255&ce,ce>>16,Ft,Vt+(Jt-1)*S)))}}function Xt(){bi[Mc]=yl,bi[Ri]=nu,bi[Uc]=td,bi[za]=$c,bi[Zu]=Oo,bi[tu]=js,bi[Co]=Ro,bi[tc]=nu,bi[Bc]=$c,bi[eu]=Oo,bi[qc]=js}function $e(f){return f&-16384?0>f?0:255:f>>Wc}function Wr(f,y){return $e((19077*f>>8)+(26149*y>>8)-14234)}function ur(f,y,S){return $e((19077*f>>8)-(6419*y>>8)-(13320*S>>8)+8708)}function Or(f,y){return $e((19077*f>>8)+(33050*y>>8)-17685)}function ri(f,y,S,I,U){I[U+0]=Wr(f,S),I[U+1]=ur(f,y,S),I[U+2]=Or(f,y)}function Gi(f,y,S,I,U){I[U+0]=Or(f,y),I[U+1]=ur(f,y,S),I[U+2]=Wr(f,S)}function Xr(f,y,S,I,U){var z=ur(f,y,S);y=z<<3&224|Or(f,y)>>3,I[U+0]=248&Wr(f,S)|z>>5,I[U+1]=y}function mi(f,y,S,I,U){var z=240&Or(f,y)|15;I[U+0]=240&Wr(f,S)|ur(f,y,S)>>4,I[U+1]=z}function Ea(f,y,S,I,U){I[U+0]=255,ri(f,y,S,I,U+1)}function Es(f,y,S,I,U){Gi(f,y,S,I,U),I[U+3]=255}function Is(f,y,S,I,U){ri(f,y,S,I,U),I[U+3]=255}function En(f,y){return 0>f?0:f>y?y:f}function Qs(f,y,S){C[f]=function(I,U,z,V,G,J,at,pt,Et){for(var rt=pt+(-2&Et)*S;pt!=rt;)y(I[U+0],z[V+0],G[J+0],at,pt),y(I[U+1],z[V+0],G[J+0],at,pt+S),U+=2,++V,++J,pt+=2*S;1&Et&&y(I[U+0],z[V+0],G[J+0],at,pt)}}function Ql(f,y,S){return S==0?f==0?y==0?6:5:y==0?4:0:S}function Hu(f,y,S,I,U){switch(f>>>30){case 3:eo(y,S,I,U,0);break;case 2:Pi(y,S,I,U);break;case 1:Er(y,S,I,U)}}function Ia(f,y){var S,I,U=y.M,z=y.Nb,V=f.oc,G=f.pc+40,J=f.oc,at=f.pc+584,pt=f.oc,Et=f.pc+600;for(S=0;16>S;++S)V[G+32*S-1]=129;for(S=0;8>S;++S)J[at+32*S-1]=129,pt[Et+32*S-1]=129;for(0<U?V[G-1-32]=J[at-1-32]=pt[Et-1-32]=129:(s(V,G-32-1,127,21),s(J,at-32-1,127,9),s(pt,Et-32-1,127,9)),I=0;I<f.za;++I){var rt=y.ya[y.aa+I];if(0<I){for(S=-1;16>S;++S)n(V,G+32*S-4,V,G+32*S+12,4);for(S=-1;8>S;++S)n(J,at+32*S-4,J,at+32*S+4,4),n(pt,Et+32*S-4,pt,Et+32*S+4,4)}var gt=f.Gd,St=f.Hd+I,Dt=rt.ad,kt=rt.Hc;if(0<U&&(n(V,G-32,gt[St].y,0,16),n(J,at-32,gt[St].f,0,8),n(pt,Et-32,gt[St].ea,0,8)),rt.Za){var Ft=V,Vt=G-32+16;for(0<U&&(I>=f.za-1?s(Ft,Vt,gt[St].y[15],4):n(Ft,Vt,gt[St+1].y,0,4)),S=0;4>S;S++)Ft[Vt+128+S]=Ft[Vt+256+S]=Ft[Vt+384+S]=Ft[Vt+0+S];for(S=0;16>S;++S,kt<<=2)Ft=V,Vt=G+Cn[S],bn[rt.Ob[S]](Ft,Vt),Hu(kt,Dt,16*+S,Ft,Vt)}else if(Ft=Ql(I,U,rt.Ob[0]),Yi[Ft](V,G),kt!=0)for(S=0;16>S;++S,kt<<=2)Hu(kt,Dt,16*+S,V,G+Cn[S]);for(S=rt.Gc,Ft=Ql(I,U,rt.Dd),gs[Ft](J,at),gs[Ft](pt,Et),kt=Dt,Ft=J,Vt=at,255&(rt=0|S)&&(170&rt?Ba(kt,256,Ft,Vt):xr(kt,256,Ft,Vt)),rt=pt,kt=Et,255&(S>>=8)&&(170&S?Ba(Dt,320,rt,kt):xr(Dt,320,rt,kt)),U<f.Ub-1&&(n(gt[St].y,0,V,G+480,16),n(gt[St].f,0,J,at+224,8),n(gt[St].ea,0,pt,Et+224,8)),S=8*z*f.B,gt=f.sa,St=f.ta+16*I+16*z*f.R,Dt=f.qa,rt=f.ra+8*I+S,kt=f.Ha,Ft=f.Ia+8*I+S,S=0;16>S;++S)n(gt,St+S*f.R,V,G+32*S,16);for(S=0;8>S;++S)n(Dt,rt+S*f.B,J,at+32*S,8),n(kt,Ft+S*f.B,pt,Et+32*S,8)}}function fs(f,y,S,I,U,z,V,G,J){var at=[0],pt=[0],Et=0,rt=J!=null?J.kd:0,gt=J??new Ut;if(f==null||12>S)return 7;gt.data=f,gt.w=y,gt.ha=S,y=[y],S=[S],gt.gb=[gt.gb];t:{var St=y,Dt=S,kt=gt.gb;if(t(f!=null),t(Dt!=null),t(kt!=null),kt[0]=0,12<=Dt[0]&&!e(f,St[0],"RIFF")){if(e(f,St[0]+8,"WEBP")){kt=3;break t}var Ft=jt(f,St[0]+4);if(12>Ft||4294967286<Ft){kt=3;break t}if(rt&&Ft>Dt[0]-8){kt=7;break t}kt[0]=Ft,St[0]+=12,Dt[0]-=12}kt=0}if(kt!=0)return kt;for(Ft=0<gt.gb[0],S=S[0];;){t:{var Vt=f;Dt=y,kt=S;var Jt=at,Kt=pt,fe=St=[0];if((ce=Et=[Et])[0]=0,8>kt[0])kt=7;else{if(!e(Vt,Dt[0],"VP8X")){if(jt(Vt,Dt[0]+4)!=10){kt=3;break t}if(18>kt[0]){kt=7;break t}var se=jt(Vt,Dt[0]+8),He=1+ne(Vt,Dt[0]+12);if(2147483648<=He*(Vt=1+ne(Vt,Dt[0]+15))){kt=3;break t}fe!=null&&(fe[0]=se),Jt!=null&&(Jt[0]=He),Kt!=null&&(Kt[0]=Vt),Dt[0]+=18,kt[0]-=18,ce[0]=1}kt=0}}if(Et=Et[0],St=St[0],kt!=0)return kt;if(Dt=!!(2&St),!Ft&&Et)return 3;if(z!=null&&(z[0]=!!(16&St)),V!=null&&(V[0]=Dt),G!=null&&(G[0]=0),V=at[0],St=pt[0],Et&&Dt&&J==null){kt=0;break}if(4>S){kt=7;break}if(Ft&&Et||!Ft&&!Et&&!e(f,y[0],"ALPH")){S=[S],gt.na=[gt.na],gt.P=[gt.P],gt.Sa=[gt.Sa];t:{se=f,kt=y,Ft=S;var ce=gt.gb;Jt=gt.na,Kt=gt.P,fe=gt.Sa,He=22,t(se!=null),t(Ft!=null),Vt=kt[0];var cr=Ft[0];for(t(Jt!=null),t(fe!=null),Jt[0]=null,Kt[0]=null,fe[0]=0;;){if(kt[0]=Vt,Ft[0]=cr,8>cr){kt=7;break t}var on=jt(se,Vt+4);if(4294967286<on){kt=3;break t}var Xe=8+on+1&-2;if(He+=Xe,0<ce&&He>ce){kt=3;break t}if(!e(se,Vt,"VP8 ")||!e(se,Vt,"VP8L")){kt=0;break t}if(cr[0]<Xe){kt=7;break t}e(se,Vt,"ALPH")||(Jt[0]=se,Kt[0]=Vt+8,fe[0]=on),Vt+=Xe,cr-=Xe}}if(S=S[0],gt.na=gt.na[0],gt.P=gt.P[0],gt.Sa=gt.Sa[0],kt!=0)break}S=[S],gt.Ja=[gt.Ja],gt.xa=[gt.xa];t:if(ce=f,kt=y,Ft=S,Jt=gt.gb[0],Kt=gt.Ja,fe=gt.xa,se=kt[0],Vt=!e(ce,se,"VP8 "),He=!e(ce,se,"VP8L"),t(ce!=null),t(Ft!=null),t(Kt!=null),t(fe!=null),8>Ft[0])kt=7;else{if(Vt||He){if(ce=jt(ce,se+4),12<=Jt&&ce>Jt-12){kt=3;break t}if(rt&&ce>Ft[0]-8){kt=7;break t}Kt[0]=ce,kt[0]+=8,Ft[0]-=8,fe[0]=He}else fe[0]=5<=Ft[0]&&ce[se+0]==47&&!(ce[se+4]>>5),Kt[0]=Ft[0];kt=0}if(S=S[0],gt.Ja=gt.Ja[0],gt.xa=gt.xa[0],y=y[0],kt!=0)break;if(4294967286<gt.Ja)return 3;if(G==null||Dt||(G[0]=gt.xa?2:1),V=[V],St=[St],gt.xa){if(5>S){kt=7;break}G=V,rt=St,Dt=z,f==null||5>S?f=0:5<=S&&f[y+0]==47&&!(f[y+4]>>5)?(Ft=[0],ce=[0],Jt=[0],bt(Kt=new K,f,y,S),Bi(Kt,Ft,ce,Jt)?(G!=null&&(G[0]=Ft[0]),rt!=null&&(rt[0]=ce[0]),Dt!=null&&(Dt[0]=Jt[0]),f=1):f=0):f=0}else{if(10>S){kt=7;break}G=St,f==null||10>S||!Nn(f,y+3,S-3)?f=0:(rt=f[y+0]|f[y+1]<<8|f[y+2]<<16,Dt=16383&(f[y+7]<<8|f[y+6]),f=16383&(f[y+9]<<8|f[y+8]),1&rt||3<(rt>>1&7)||!(rt>>4&1)||rt>>5>=gt.Ja||!Dt||!f?f=0:(V&&(V[0]=Dt),G&&(G[0]=f),f=1))}if(!f||(V=V[0],St=St[0],Et&&(at[0]!=V||pt[0]!=St)))return 3;J!=null&&(J[0]=gt,J.offset=y-J.w,t(4294967286>y-J.w),t(J.offset==J.ha-S));break}return kt==0||kt==7&&Et&&J==null?(z!=null&&(z[0]|=gt.na!=null&&0<gt.na.length),I!=null&&(I[0]=V),U!=null&&(U[0]=St),0):kt}function Ys(f,y,S){var I=y.width,U=y.height,z=0,V=0,G=I,J=U;if(y.Da=f!=null&&0<f.Da,y.Da&&(G=f.cd,J=f.bd,z=f.v,V=f.j,11>S||(z&=-2,V&=-2),0>z||0>V||0>=G||0>=J||z+G>I||V+J>U))return 0;if(y.v=z,y.j=V,y.va=z+G,y.o=V+J,y.U=G,y.T=J,y.da=f!=null&&0<f.da,y.da){if(!we(G,J,S=[f.ib],z=[f.hb]))return 0;y.ib=S[0],y.hb=z[0]}return y.ob=f!=null&&f.ob,y.Kb=f==null||!f.Sd,y.da&&(y.ob=y.ib<3*I/4&&y.hb<3*U/4,y.Kb=0),1}function Ku(f){if(f==null)return 2;if(11>f.S){var y=f.f.RGBA;y.fb+=(f.height-1)*y.A,y.A=-y.A}else y=f.f.kb,f=f.height,y.O+=(f-1)*y.fa,y.fa=-y.fa,y.N+=(f-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(f-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(f-1)*y.lb,y.lb=-y.lb);return 0}function ps(f,y,S,I){if(I==null||0>=f||0>=y)return 2;if(S!=null){if(S.Da){var U=S.cd,z=S.bd,V=-2&S.v,G=-2&S.j;if(0>V||0>G||0>=U||0>=z||V+U>f||G+z>y)return 2;f=U,y=z}if(S.da){if(!we(f,y,U=[S.ib],z=[S.hb]))return 2;f=U[0],y=z[0]}}I.width=f,I.height=y;t:{var J=I.width,at=I.height;if(f=I.S,0>=J||0>=at||!(f>=Mc&&13>f))f=2;else{if(0>=I.Rd&&I.sd==null){V=z=U=y=0;var pt=(G=J*Kc[f])*at;if(11>f||(z=(at+1)/2*(y=(J+1)/2),f==12&&(V=(U=J)*at)),(at=o(pt+2*z+V))==null){f=1;break t}I.sd=at,11>f?((J=I.f.RGBA).eb=at,J.fb=0,J.A=G,J.size=pt):((J=I.f.kb).y=at,J.O=0,J.fa=G,J.Fd=pt,J.f=at,J.N=0+pt,J.Ab=y,J.Cd=z,J.ea=at,J.W=0+pt+z,J.Db=y,J.Ed=z,f==12&&(J.F=at,J.J=0+pt+2*z),J.Tc=V,J.lb=U)}if(y=1,U=I.S,z=I.width,V=I.height,U>=Mc&&13>U)if(11>U)f=I.f.RGBA,y&=(G=Math.abs(f.A))*(V-1)+z<=f.size,y&=G>=z*Kc[U],y&=f.eb!=null;else{f=I.f.kb,G=(z+1)/2,pt=(V+1)/2,J=Math.abs(f.fa),at=Math.abs(f.Ab);var Et=Math.abs(f.Db),rt=Math.abs(f.lb),gt=rt*(V-1)+z;y&=J*(V-1)+z<=f.Fd,y&=at*(pt-1)+G<=f.Cd,y=(y&=Et*(pt-1)+G<=f.Ed)&J>=z&at>=G&Et>=G,y&=f.y!=null,y&=f.f!=null,y&=f.ea!=null,U==12&&(y&=rt>=z,y&=gt<=f.Tc,y&=f.F!=null)}else y=0;f=y?0:2}}return f!=0||S!=null&&S.fd&&(f=Ku(I)),f}var Lo=64,oa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qi=24,Ls=32,Cs=8,Js=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ee("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(f){return f},C.Predictor2=function(f,y,S){return y[S+0]},C.Predictor3=function(f,y,S){return y[S+1]},C.Predictor4=function(f,y,S){return y[S-1]},C.Predictor5=function(f,y,S){return ve(ve(f,y[S+1]),y[S+0])},C.Predictor6=function(f,y,S){return ve(f,y[S-1])},C.Predictor7=function(f,y,S){return ve(f,y[S+0])},C.Predictor8=function(f,y,S){return ve(y[S-1],y[S+0])},C.Predictor9=function(f,y,S){return ve(y[S+0],y[S+1])},C.Predictor10=function(f,y,S){return ve(ve(f,y[S-1]),ve(y[S+0],y[S+1]))},C.Predictor11=function(f,y,S){var I=y[S+0];return 0>=De(I>>24&255,f>>24&255,(y=y[S-1])>>24&255)+De(I>>16&255,f>>16&255,y>>16&255)+De(I>>8&255,f>>8&255,y>>8&255)+De(255&I,255&f,255&y)?I:f},C.Predictor12=function(f,y,S){var I=y[S+0];return(We((f>>24&255)+(I>>24&255)-((y=y[S-1])>>24&255))<<24|We((f>>16&255)+(I>>16&255)-(y>>16&255))<<16|We((f>>8&255)+(I>>8&255)-(y>>8&255))<<8|We((255&f)+(255&I)-(255&y)))>>>0},C.Predictor13=function(f,y,S){var I=y[S-1];return(Re((f=ve(f,y[S+0]))>>24&255,I>>24&255)<<24|Re(f>>16&255,I>>16&255)<<16|Re(f>>8&255,I>>8&255)<<8|Re(255&f,255&I))>>>0};var Yl=C.PredictorAdd0;C.PredictorAdd1=Sr,ee("Predictor2","PredictorAdd2"),ee("Predictor3","PredictorAdd3"),ee("Predictor4","PredictorAdd4"),ee("Predictor5","PredictorAdd5"),ee("Predictor6","PredictorAdd6"),ee("Predictor7","PredictorAdd7"),ee("Predictor8","PredictorAdd8"),ee("Predictor9","PredictorAdd9"),ee("Predictor10","PredictorAdd10"),ee("Predictor11","PredictorAdd11"),ee("Predictor12","PredictorAdd12"),ee("Predictor13","PredictorAdd13");var Jl=C.PredictorAdd2;ge("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var In,jc=C.ColorIndexInverseTransform,Ts=C.MapARGB,Ps=C.VP8LColorIndexInverseTransformAlpha,gi=C.MapAlpha,Xs=C.VP8LPredictorsAdd=[];Xs.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Xl,Zl,Zs,to,Os,dl,La,eo,Pi,Ba,Er,xr,Zr,Ln,Rs,ms,fl,Gu,Qh,Nf,kf,Af,Yh,Jh,pl,qa,Qu,Ca,ml=o(511),Fc=o(2041),Yu=o(225),Ju=o(767),Dc=0,ro=Fc,Xu=Yu,Oi=Ju,yi=ml,Mc=0,Ri=1,Uc=2,za=3,Zu=4,tu=5,Co=6,tc=7,Bc=8,eu=9,qc=10,Va=[2,3,7],ru=[3,3,11],gl=[280,256,256,256,40],zc=[0,1,1,1,0],ec=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$a=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Wa=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],To=8,Ha=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ka=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ta=null,Ef=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Xh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],If=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],sn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Yi=[],bn=[],gs=[],Po=1,Zh=2,no=[],bi=[];Pt("UpsampleRgbLinePair",ri,3),Pt("UpsampleBgrLinePair",Gi,3),Pt("UpsampleRgbaLinePair",Is,4),Pt("UpsampleBgraLinePair",Es,4),Pt("UpsampleArgbLinePair",Ea,4),Pt("UpsampleRgba4444LinePair",mi,2),Pt("UpsampleRgb565LinePair",Xr,2);var yl=C.UpsampleRgbLinePair,td=C.UpsampleBgrLinePair,nu=C.UpsampleRgbaLinePair,$c=C.UpsampleBgraLinePair,Oo=C.UpsampleArgbLinePair,js=C.UpsampleRgba4444LinePair,Ro=C.UpsampleRgb565LinePair,Ga=16,iu=1<<Ga-1,vl=-227,jo=482,Wc=6,Fo=0,wi=o(256),Hc=o(256),Lf=o(256),eg=o(256),rg=o(jo-vl),ng=o(jo-vl);Qs("YuvToRgbRow",ri,3),Qs("YuvToBgrRow",Gi,3),Qs("YuvToRgbaRow",Is,4),Qs("YuvToBgraRow",Es,4),Qs("YuvToArgbRow",Ea,4),Qs("YuvToRgba4444Row",mi,2),Qs("YuvToRgb565Row",Xr,2);var Cn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],au=[0,2,8],rc=[8,7,6,4,4,2,2,2,1,1,1,1],nc=1;this.WebPDecodeRGBA=function(f,y,S,I,U){var z=Ri,V=new vt,G=new Ve;V.ba=G,G.S=z,G.width=[G.width],G.height=[G.height];var J=G.width,at=G.height,pt=new ke;if(pt==null||f==null)var Et=2;else t(pt!=null),Et=fs(f,y,S,pt.width,pt.height,pt.Pd,pt.Qd,pt.format,null);if(Et!=0?J=0:(J!=null&&(J[0]=pt.width[0]),at!=null&&(at[0]=pt.height[0]),J=1),J){G.width=G.width[0],G.height=G.height[0],I!=null&&(I[0]=G.width),U!=null&&(U[0]=G.height);t:{if(I=new ls,(U=new Ut).data=f,U.w=y,U.ha=S,U.kd=1,y=[0],t(U!=null),((f=fs(U.data,U.w,U.ha,null,null,null,y,null,U))==0||f==7)&&y[0]&&(f=4),(y=f)==0){if(t(V!=null),I.data=U.data,I.w=U.w+U.offset,I.ha=U.ha-U.offset,I.put=xe,I.ac=Hn,I.bc=ss,I.ma=V,U.xa){if((f=Ss())==null){V=1;break t}if((function(rt,gt){var St=[0],Dt=[0],kt=[0];e:for(;;){if(rt==null)return 0;if(gt==null)return rt.a=2,0;if(rt.l=gt,rt.a=0,bt(rt.m,gt.data,gt.w,gt.ha),!Bi(rt.m,St,Dt,kt)){rt.a=3;break e}if(rt.xb=Zh,gt.width=St[0],gt.height=Dt[0],!va(St[0],Dt[0],1,rt,null))break e;return 1}return t(rt.a!=0),0})(f,I)){if(I=(y=ps(I.width,I.height,V.Oa,V.ba))==0){e:{I=f;r:for(;;){if(I==null){I=0;break e}if(t(I.s.yc!=null),t(I.s.Ya!=null),t(0<I.s.Wb),t((S=I.l)!=null),t((U=S.ma)!=null),I.xb!=0){if(I.ca=U.ba,I.tb=U.tb,t(I.ca!=null),!Ys(U.Oa,S,za)){I.a=2;break r}if(!Ei(I,S.width)||S.da)break r;if((S.da||ze(I.ca.S))&&xt(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&xt()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!lt(I.s.vb,I.s.Wa.Xa)){I.a=1;break r}I.xb=0}if(!Ai(I,I.V,I.Ba,I.c,I.i,S.o,ei))break r;U.Dc=I.Ma,I=1;break e}t(I.a!=0),I=0}I=!I}I&&(y=f.a)}else y=f.a}else{if((f=new Vi)==null){V=1;break t}if(f.Fa=U.na,f.P=U.P,f.qc=U.Sa,us(f,I)){if((y=ps(I.width,I.height,V.Oa,V.ba))==0){if(f.Aa=0,S=V.Oa,t((U=f)!=null),S!=null){if(0<(J=0>(J=S.Md)?0:100<J?255:255*J/100)){for(at=pt=0;4>at;++at)12>(Et=U.pb[at]).lc&&(Et.ia=J*rc[0>Et.lc?0:Et.lc]>>3),pt|=Et.ia;pt&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=S.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(rt,gt){if(rt==null)return 0;if(gt==null)return sr(rt,2,"NULL VP8Io parameter in VP8Decode().");if(!rt.cb&&!us(rt,gt))return 0;if(t(rt.cb),gt.ac==null||gt.ac(gt)){gt.ob&&(rt.L=0);var St=au[rt.L];if(rt.L==2?(rt.yb=0,rt.zb=0):(rt.yb=gt.v-St>>4,rt.zb=gt.j-St>>4,0>rt.yb&&(rt.yb=0),0>rt.zb&&(rt.zb=0)),rt.Va=gt.o+15+St>>4,rt.Hb=gt.va+15+St>>4,rt.Hb>rt.za&&(rt.Hb=rt.za),rt.Va>rt.Ub&&(rt.Va=rt.Ub),0<rt.L){var Dt=rt.ed;for(St=0;4>St;++St){var kt;if(rt.Qa.Cb){var Ft=rt.Qa.Lb[St];rt.Qa.Fb||(Ft+=Dt.Tb)}else Ft=Dt.Tb;for(kt=0;1>=kt;++kt){var Vt=rt.gd[St][kt],Jt=Ft;if(Dt.Pc&&(Jt+=Dt.vd[0],kt&&(Jt+=Dt.od[0])),0<(Jt=0>Jt?0:63<Jt?63:Jt)){var Kt=Jt;0<Dt.wb&&(Kt=4<Dt.wb?Kt>>2:Kt>>1)>9-Dt.wb&&(Kt=9-Dt.wb),1>Kt&&(Kt=1),Vt.dd=Kt,Vt.tc=2*Jt+Kt,Vt.ld=40<=Jt?2:15<=Jt?1:0}else Vt.tc=0;Vt.La=kt}}}St=0}else sr(rt,6,"Frame setup failed"),St=rt.a;if(St=St==0){if(St){rt.$c=0,0<rt.Aa||(rt.Ic=nc);e:{St=rt.Ic,Dt=4*(Kt=rt.za);var fe=32*Kt,se=Kt+1,He=0<rt.L?Kt*(0<rt.Aa?2:1):0,ce=(rt.Aa==2?2:1)*Kt;if((Vt=Dt+832+(kt=3*(16*St+au[rt.L])/2*fe)+(Ft=rt.Fa!=null&&0<rt.Fa.length?rt.Kc.c*rt.Kc.i:0))!=Vt)St=0;else{if(Vt>rt.Vb){if(rt.Vb=0,rt.Ec=o(Vt),rt.Fc=0,rt.Ec==null){St=sr(rt,1,"no memory during frame initialization.");break e}rt.Vb=Vt}Vt=rt.Ec,Jt=rt.Fc,rt.Ac=Vt,rt.Bc=Jt,Jt+=Dt,rt.Gd=u(fe,_o),rt.Hd=0,rt.rb=u(se+1,aa),rt.sb=1,rt.wa=He?u(He,Ii):null,rt.Y=0,rt.D.Nb=0,rt.D.wa=rt.wa,rt.D.Y=rt.Y,0<rt.Aa&&(rt.D.Y+=Kt),t(!0),rt.oc=Vt,rt.pc=Jt,Jt+=832,rt.ya=u(ce,$s),rt.aa=0,rt.D.ya=rt.ya,rt.D.aa=rt.aa,rt.Aa==2&&(rt.D.aa+=Kt),rt.R=16*Kt,rt.B=8*Kt,Kt=(fe=au[rt.L])*rt.R,fe=fe/2*rt.B,rt.sa=Vt,rt.ta=Jt+Kt,rt.qa=rt.sa,rt.ra=rt.ta+16*St*rt.R+fe,rt.Ha=rt.qa,rt.Ia=rt.ra+8*St*rt.B+fe,rt.$c=0,Jt+=kt,rt.mb=Ft?Vt:null,rt.nb=Ft?Jt:null,t(Jt+Ft<=rt.Fc+rt.Vb),hr(rt),s(rt.Ac,rt.Bc,0,Dt),St=1}}if(St){if(gt.ka=0,gt.y=rt.sa,gt.O=rt.ta,gt.f=rt.qa,gt.N=rt.ra,gt.ea=rt.Ha,gt.Vd=rt.Ia,gt.fa=rt.R,gt.Rc=rt.B,gt.F=null,gt.J=0,!Dc){for(St=-255;255>=St;++St)ml[255+St]=0>St?-St:St;for(St=-1020;1020>=St;++St)Fc[1020+St]=-128>St?-128:127<St?127:St;for(St=-112;112>=St;++St)Yu[112+St]=-16>St?-16:15<St?15:St;for(St=-255;510>=St;++St)Ju[255+St]=0>St?0:255<St?255:St;Dc=1}La=cs,eo=Gl,Ba=sl,Er=pi,xr=ol,Pi=So,Zr=cl,Ln=hl,Rs=x,ms=D,fl=Aa,Gu=Io,Qh=it,Nf=ft,kf=Ma,Af=Ua,Yh=Na,Jh=Gs,bn[0]=Eo,bn[1]=No,bn[2]=ja,bn[3]=Ws,bn[4]=Ns,bn[5]=jn,bn[6]=Kn,bn[7]=Hs,bn[8]=$i,bn[9]=Pr,Yi[0]=xa,Yi[1]=ul,Yi[2]=ko,Yi[3]=Ao,Yi[4]=_a,Yi[5]=hs,Yi[6]=Ci,gs[0]=Fa,gs[1]=ll,gs[2]=Ks,gs[3]=Sa,gs[4]=Wi,gs[5]=ds,gs[6]=An,St=1}else St=0}St&&(St=(function(cr,on){for(cr.M=0;cr.M<cr.Va;++cr.M){var Xe,oe=cr.Jc[cr.M&cr.Xb],Zt=cr.m,fn=cr;for(Xe=0;Xe<fn.za;++Xe){var Oe=Zt,nr=fn,Dr=nr.Ac,Gn=nr.Bc+4*Xe,xi=nr.zc,tn=nr.ya[nr.aa+Xe];if(nr.Qa.Bb?tn.$b=Mt(Oe,nr.Pa.jb[0])?2+Mt(Oe,nr.Pa.jb[2]):Mt(Oe,nr.Pa.jb[1]):tn.$b=0,nr.kc&&(tn.Ad=Mt(Oe,nr.Bd)),tn.Za=!Mt(Oe,145)+0,tn.Za){var Fn=tn.Ob,ji=0;for(nr=0;4>nr;++nr){var Dn,lr=xi[0+nr];for(Dn=0;4>Dn;++Dn){lr=vi[Dr[Gn+Dn]][lr];for(var Nr=Vc[Mt(Oe,lr[0])];0<Nr;)Nr=Vc[2*Nr+Mt(Oe,lr[Nr])];lr=-Nr,Dr[Gn+Dn]=lr}n(Fn,ji,Dr,Gn,4),ji+=4,xi[0+nr]=lr}}else lr=Mt(Oe,156)?Mt(Oe,128)?1:3:Mt(Oe,163)?2:0,tn.Ob[0]=lr,s(Dr,Gn,lr,4),s(xi,0,lr,4);tn.Dd=Mt(Oe,142)?Mt(Oe,114)?Mt(Oe,183)?1:3:2:0}if(fn.m.Ka)return sr(cr,7,"Premature end-of-partition0 encountered.");for(;cr.ja<cr.za;++cr.ja){if(fn=oe,Oe=(Zt=cr).rb[Zt.sb-1],Dr=Zt.rb[Zt.sb+Zt.ja],Xe=Zt.ya[Zt.aa+Zt.ja],Gn=Zt.kc?Xe.Ad:0)Oe.la=Dr.la=0,Xe.Za||(Oe.Na=Dr.Na=0),Xe.Hc=0,Xe.Gc=0,Xe.ia=0;else{var pn,Ir;if(Oe=Dr,Dr=fn,Gn=Zt.Pa.Xc,xi=Zt.ya[Zt.aa+Zt.ja],tn=Zt.pb[xi.$b],nr=xi.ad,Fn=0,ji=Zt.rb[Zt.sb-1],lr=Dn=0,s(nr,Fn,0,384),xi.Za)var Qn=0,mn=Gn[3];else{Nr=o(16);var Lr=Oe.Na+ji.Na;if(Lr=Ta(Dr,Gn[1],Lr,tn.Eb,0,Nr,0),Oe.Na=ji.Na=(0<Lr)+0,1<Lr)La(Nr,0,nr,Fn);else{var Tn=Nr[0]+3>>3;for(Nr=0;256>Nr;Nr+=16)nr[Fn+Nr]=Tn}Qn=1,mn=Gn[0]}var Mr=15&Oe.la,Mn=15&ji.la;for(Nr=0;4>Nr;++Nr){var Un=1&Mn;for(Tn=Ir=0;4>Tn;++Tn)Mr=Mr>>1|(Un=(Lr=Ta(Dr,mn,Lr=Un+(1&Mr),tn.Sc,Qn,nr,Fn))>Qn)<<7,Ir=Ir<<2|(3<Lr?3:1<Lr?2:nr[Fn+0]!=0),Fn+=16;Mr>>=4,Mn=Mn>>1|Un<<7,Dn=(Dn<<8|Ir)>>>0}for(mn=Mr,Qn=Mn>>4,pn=0;4>pn;pn+=2){for(Ir=0,Mr=Oe.la>>4+pn,Mn=ji.la>>4+pn,Nr=0;2>Nr;++Nr){for(Un=1&Mn,Tn=0;2>Tn;++Tn)Lr=Un+(1&Mr),Mr=Mr>>1|(Un=0<(Lr=Ta(Dr,Gn[2],Lr,tn.Qc,0,nr,Fn)))<<3,Ir=Ir<<2|(3<Lr?3:1<Lr?2:nr[Fn+0]!=0),Fn+=16;Mr>>=2,Mn=Mn>>1|Un<<5}lr|=Ir<<4*pn,mn|=Mr<<4<<pn,Qn|=(240&Mn)<<pn}Oe.la=mn,ji.la=Qn,xi.Hc=Dn,xi.Gc=lr,xi.ia=43690&lr?0:tn.ia,Gn=!(Dn|lr)}if(0<Zt.L&&(Zt.wa[Zt.Y+Zt.ja]=Zt.gd[Xe.$b][Xe.Za],Zt.wa[Zt.Y+Zt.ja].La|=!Gn),fn.Ka)return sr(cr,7,"Premature end-of-file encountered.")}if(hr(cr),Zt=on,fn=1,Xe=(oe=cr).D,Oe=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(Xe.M=oe.M,Xe.uc=Oe,Ia(oe,Xe),fn=1,Xe=(Ir=oe.D).Nb,Oe=(lr=au[oe.L])*oe.R,Dr=lr/2*oe.B,Nr=16*Xe*oe.R,Tn=8*Xe*oe.B,Gn=oe.sa,xi=oe.ta-Oe+Nr,tn=oe.qa,nr=oe.ra-Dr+Tn,Fn=oe.Ha,ji=oe.Ia-Dr+Tn,Mn=(Mr=Ir.M)==0,Dn=Mr>=oe.Va-1,oe.Aa==2&&Ia(oe,Ir),Ir.uc)for(Un=(Lr=oe).D.M,t(Lr.D.uc),Ir=Lr.yb;Ir<Lr.Hb;++Ir){Qn=Ir,mn=Un;var Hr=(_r=(Bn=Lr).D).Nb;pn=Bn.R;var _r=_r.wa[_r.Y+Qn],Fi=Bn.sa,wn=Bn.ta+16*Hr*pn+16*Qn,Ae=_r.dd,Le=_r.tc;if(Le!=0)if(t(3<=Le),Bn.L==1)0<Qn&&Af(Fi,wn,pn,Le+4),_r.La&&Jh(Fi,wn,pn,Le),0<mn&&kf(Fi,wn,pn,Le+4),_r.La&&Yh(Fi,wn,pn,Le);else{var kr=Bn.B,la=Bn.qa,Qa=Bn.ra+8*Hr*kr+8*Qn,Ji=Bn.Ha,Bn=Bn.Ia+8*Hr*kr+8*Qn;Hr=_r.ld,0<Qn&&(Ln(Fi,wn,pn,Le+4,Ae,Hr),ms(la,Qa,Ji,Bn,kr,Le+4,Ae,Hr)),_r.La&&(Gu(Fi,wn,pn,Le,Ae,Hr),Nf(la,Qa,Ji,Bn,kr,Le,Ae,Hr)),0<mn&&(Zr(Fi,wn,pn,Le+4,Ae,Hr),Rs(la,Qa,Ji,Bn,kr,Le+4,Ae,Hr)),_r.La&&(fl(Fi,wn,pn,Le,Ae,Hr),Qh(la,Qa,Ji,Bn,kr,Le,Ae,Hr))}}if(oe.ia&&alert("todo:DitherRow"),Zt.put!=null){if(Ir=16*Mr,Mr=16*(Mr+1),Mn?(Zt.y=oe.sa,Zt.O=oe.ta+Nr,Zt.f=oe.qa,Zt.N=oe.ra+Tn,Zt.ea=oe.Ha,Zt.W=oe.Ia+Tn):(Ir-=lr,Zt.y=Gn,Zt.O=xi,Zt.f=tn,Zt.N=nr,Zt.ea=Fn,Zt.W=ji),Dn||(Mr-=lr),Mr>Zt.o&&(Mr=Zt.o),Zt.F=null,Zt.J=null,oe.Fa!=null&&0<oe.Fa.length&&Ir<Mr&&(Zt.J=$r(oe,Zt,Ir,Mr-Ir),Zt.F=oe.mb,Zt.F==null&&Zt.F.length==0)){fn=sr(oe,3,"Could not decode alpha data.");break e}Ir<Zt.j&&(lr=Zt.j-Ir,Ir=Zt.j,t(!(1&lr)),Zt.O+=oe.R*lr,Zt.N+=oe.B*(lr>>1),Zt.W+=oe.B*(lr>>1),Zt.F!=null&&(Zt.J+=Zt.width*lr)),Ir<Mr&&(Zt.O+=Zt.v,Zt.N+=Zt.v>>1,Zt.W+=Zt.v>>1,Zt.F!=null&&(Zt.J+=Zt.v),Zt.ka=Ir-Zt.j,Zt.U=Zt.va-Zt.v,Zt.T=Mr-Ir,fn=Zt.put(Zt))}Xe+1!=oe.Ic||Dn||(n(oe.sa,oe.ta-Oe,Gn,xi+16*oe.R,Oe),n(oe.qa,oe.ra-Dr,tn,nr+8*oe.B,Dr),n(oe.Ha,oe.Ia-Dr,Fn,ji+8*oe.B,Dr))}if(!fn)return sr(cr,6,"Output aborted.")}return 1})(rt,gt)),gt.bc!=null&&gt.bc(gt),St&=1}return St?(rt.cb=0,St):0})(f,I)||(y=f.a)}}else y=f.a}y==0&&V.Oa!=null&&V.Oa.fd&&(y=Ku(V.ba))}V=y}z=V!=0?null:11>z?G.f.RGBA.eb:G.f.kb.y}else z=null;return z};var Kc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(C,q){for(var L="",R=0;R<4;R++)L+=String.fromCharCode(C[q++]);return L}function v(C,q){return C[q+0]|C[q+1]<<8}function _(C,q){return(C[q+0]|C[q+1]<<8|C[q+2]<<16)>>>0}function A(C,q){return(C[q+0]|C[q+1]<<8|C[q+2]<<16|C[q+3]<<24)>>>0}new d;var w=[0],M=[0],F=[],$=new d,B=r,et=(function(C,q){var L={},R=0,j=!1,ot=0,_t=0;if(L.frames=[],!(function(O,K){for(var X=0;X<4;X++)if(O[K+X]!="RIFF".charCodeAt(X))return!0;return!1})(C,q)){for(A(C,q+=4),q+=8;q<C.length;){var nt=m(C,q),ut=A(C,q+=4);q+=4;var Z=ut+(1&ut);switch(nt){case"VP8 ":case"VP8L":L.frames[R]===void 0&&(L.frames[R]={}),(H=L.frames[R]).src_off=j?_t:q-8,H.src_size=ot+ut+8,R++,j&&(j=!1,ot=0,_t=0);break;case"VP8X":(H=L.header={}).feature_flags=C[q];var bt=q+4;H.canvas_width=1+_(C,bt),bt+=3,H.canvas_height=1+_(C,bt),bt+=3;break;case"ALPH":j=!0,ot=Z+8,_t=q-8;break;case"ANIM":(H=L.header).bgcolor=A(C,q),bt=q+4,H.loop_count=v(C,bt),bt+=2;break;case"ANMF":var qt,H;(H=L.frames[R]={}).offset_x=2*_(C,q),q+=3,H.offset_y=2*_(C,q),q+=3,H.width=1+_(C,q),q+=3,H.height=1+_(C,q),q+=3,H.duration=_(C,q),q+=3,qt=C[q++],H.dispose=1&qt,H.blend=qt>>1&1}nt!="ANMF"&&(q+=Z)}return L}})(B,0);et.response=B,et.rgbaoutput=!0,et.dataurl=!1;var tt=et.header?et.header:null,ct=et.frames?et.frames:null;if(tt){tt.loop_counter=tt.loop_count,w=[tt.canvas_height],M=[tt.canvas_width];for(var At=0;At<ct.length&&ct[At].blend!=0;At++);}var It=ct[0],Q=$.WebPDecodeRGBA(B,It.src_off,It.src_size,M,w);It.rgba=Q,It.imgwidth=M[0],It.imgheight=w[0];for(var N=0;N<M[0]*w[0]*4;N++)F[N]=Q[N];return this.width=M,this.height=w,this.data=F,this}(function(r){var t,e,n,s,o,u,h,d,m,v=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new d,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new u,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new u,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new _(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,d=this.internal.Matrix,m=new v}]);var _=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=O;Object.defineProperty(this,"pdf",{get:function(){return K}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(jt){X=!!jt}});var st=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return st},set:function(jt){st=!!jt}});var dt=0;Object.defineProperty(this,"posX",{get:function(){return dt},set:function(jt){isNaN(jt)||(dt=jt)}});var yt=0;Object.defineProperty(this,"posY",{get:function(){return yt},set:function(jt){isNaN(jt)||(yt=jt)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(jt){var lt;typeof jt=="number"?lt=[jt,jt,jt,jt]:((lt=new Array(4))[0]=jt[0],lt[1]=jt.length>=2?jt[1]:lt[0],lt[2]=jt.length>=3?jt[2]:lt[0],lt[3]=jt.length>=4?jt[3]:lt[1]),m.margin=lt}});var Tt=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Tt},set:function(jt){Tt=jt}});var Nt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Nt},set:function(jt){Nt=jt}});var Mt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Mt},set:function(jt){Mt=jt}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(jt){jt instanceof v&&(m=jt)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(jt){m.path=jt}});var Yt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Yt},set:function(jt){Yt=jt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(jt){var lt;lt=A(jt),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(jt){var lt=A(jt);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(jt){["butt","round","square"].indexOf(jt)!==-1&&(this.ctx.lineCap=jt,this.pdf.setLineCap(jt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(jt){isNaN(jt)||(this.ctx.lineWidth=jt,this.pdf.setLineWidth(jt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(jt){["bevel","round","miter"].indexOf(jt)!==-1&&(this.ctx.lineJoin=jt,this.pdf.setLineJoin(jt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(jt){isNaN(jt)||(this.ctx.miterLimit=jt,this.pdf.setMiterLimit(jt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(jt){this.ctx.textBaseline=jt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(jt){["right","end","center","left","start"].indexOf(jt)!==-1&&(this.ctx.textAlign=jt)}});var te=null,ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return ne},set:function(jt){te=null,ne=jt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(jt){var lt;if(this.ctx.font=jt,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(jt))!==null){var Je=lt[1];lt[2];var qe=lt[3],we=lt[4];lt[5];var Wt=lt[6],ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(we)[2];we=Math.floor(ie==="px"?parseFloat(we)*this.pdf.internal.scaleFactor:ie==="em"?parseFloat(we)*this.pdf.getFontSize():parseFloat(we)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(we);var ee=(function(Pe){var ge,Fr,rr=[],ae=Pe.trim();if(ae==="")return b4;if(ae in h4)return[h4[ae]];for(;ae!=="";){switch(Fr=null,ge=(ae=f4(ae)).charAt(0)){case'"':case"'":Fr=h9(ae.substring(1),ge);break;default:Fr=d9(ae)}if(Fr===null||(rr.push(Fr[0]),(ae=f4(Fr[1]))!==""&&ae.charAt(0)!==","))return b4;ae=ae.replace(/^,/,"")}return rr})(Wt);if(this.fontFaces){var Qe=(function(Pe,ge){if(te===null){var Fr=(function(rr){var ae=[];return Object.keys(rr).forEach(function(Ne){rr[Ne].forEach(function(Me){var Ee=null;switch(Me){case"bold":Ee={family:Ne,weight:"bold"};break;case"italic":Ee={family:Ne,style:"italic"};break;case"bolditalic":Ee={family:Ne,weight:"bold",style:"italic"};break;case"":case"normal":Ee={family:Ne}}Ee!==null&&(Ee.ref={name:Ne,style:Me},ae.push(Ee))})}),ae})(Pe.getFontList());te=(function(rr){for(var ae={},Ne=0;Ne<rr.length;++Ne){var Me=Y0(rr[Ne]),Ee=Me.family,ir=Me.stretch,ze=Me.style,Cr=Me.weight;ae[Ee]=ae[Ee]||{},ae[Ee][ir]=ae[Ee][ir]||{},ae[Ee][ir][ze]=ae[Ee][ir][ze]||{},ae[Ee][ir][ze][Cr]=Me}return ae})(Fr.concat(ge))}return te})(this.pdf,this.fontFaces),ve=ee.map(function(Pe){return{family:Pe,stretch:"normal",weight:qe,style:Je}}),We=(function(Pe,ge,Fr){for(var rr=(Fr=Fr||{}).defaultFontFamily||"times",ae=Object.assign({},c9,Fr.genericFontFamilies||{}),Ne=null,Me=null,Ee=0;Ee<ge.length;++Ee)if(ae[(Ne=Y0(ge[Ee])).family]&&(Ne.family=ae[Ne.family]),Pe.hasOwnProperty(Ne.family)){Me=Pe[Ne.family];break}if(!(Me=Me||Pe[rr]))throw new Error("Could not find a font-family for the rule '"+d4(Ne)+"' and default family '"+rr+"'.");if(Me=(function(ir,ze){if(ze[ir])return ze[ir];var Cr=D1[ir],an=Cr<=D1.normal?-1:1,Ve=c4(ze,hS,Cr,an);if(!Ve)throw new Error("Could not find a matching font-stretch value for "+ir);return Ve})(Ne.stretch,Me),Me=(function(ir,ze){if(ze[ir])return ze[ir];for(var Cr=cS[ir],an=0;an<Cr.length;++an)if(ze[Cr[an]])return ze[Cr[an]];throw new Error("Could not find a matching font-style for "+ir)})(Ne.style,Me),!(Me=(function(ir,ze){if(ze[ir])return ze[ir];if(ir===400&&ze[500])return ze[500];if(ir===500&&ze[400])return ze[400];var Cr=u9[ir],an=c4(ze,dS,Cr,ir<400?-1:1);if(!an)throw new Error("Could not find a matching font-weight for value "+ir);return an})(Ne.weight,Me)))throw new Error("Failed to resolve a font for the rule '"+d4(Ne)+"'.");return Me})(Qe,ve);this.pdf.setFont(We.ref.name,We.ref.style)}else{var Re="";(qe==="bold"||parseInt(qe,10)>=700||Je==="bold")&&(Re="bold"),Je==="italic"&&(Re+="italic"),Re.length===0&&(Re="normal");for(var De="",Sr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},je=0;je<ee.length;je++){if(this.pdf.internal.getFont(ee[je],Re,{noFallback:!0,disableWarning:!0})!==void 0){De=ee[je];break}if(Re==="bolditalic"&&this.pdf.internal.getFont(ee[je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)De=ee[je],Re="bold";else if(this.pdf.internal.getFont(ee[je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){De=ee[je],Re="normal";break}}if(De===""){for(var be=0;be<ee.length;be++)if(Sr[ee[be]]){De=Sr[ee[be]];break}}De=De===""?"Times":De,this.pdf.setFont(De,Re)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(jt){this.ctx.globalCompositeOperation=jt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(jt){this.ctx.globalAlpha=jt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(jt){this.ctx.lineDashOffset=jt,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(jt){this.ctx.lineDash=jt,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(jt){this.ctx.ignoreClearRect=!!jt}})};_.prototype.setLineDash=function(O){this.lineDash=O},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){ct.call(this,"fill",!1)},_.prototype.stroke=function(){ct.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(O,K){if(isNaN(O)||isNaN(K))throw un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new u(O,K));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(O,K)},_.prototype.closePath=function(){var O=new u(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Qr(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){O=new u(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(O.x,O.y)},_.prototype.lineTo=function(O,K){if(isNaN(O)||isNaN(K))throw un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new u(O,K));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(X.x,X.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ct.call(this,null,!0)},_.prototype.quadraticCurveTo=function(O,K,X,st){if(isNaN(X)||isNaN(st)||isNaN(O)||isNaN(K))throw un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var dt=this.ctx.transform.applyToPoint(new u(X,st)),yt=this.ctx.transform.applyToPoint(new u(O,K));this.path.push({type:"qct",x1:yt.x,y1:yt.y,x:dt.x,y:dt.y}),this.ctx.lastPoint=new u(dt.x,dt.y)},_.prototype.bezierCurveTo=function(O,K,X,st,dt,yt){if(isNaN(dt)||isNaN(yt)||isNaN(O)||isNaN(K)||isNaN(X)||isNaN(st))throw un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Tt=this.ctx.transform.applyToPoint(new u(dt,yt)),Nt=this.ctx.transform.applyToPoint(new u(O,K)),Mt=this.ctx.transform.applyToPoint(new u(X,st));this.path.push({type:"bct",x1:Nt.x,y1:Nt.y,x2:Mt.x,y2:Mt.y,x:Tt.x,y:Tt.y}),this.ctx.lastPoint=new u(Tt.x,Tt.y)},_.prototype.arc=function(O,K,X,st,dt,yt){if(isNaN(O)||isNaN(K)||isNaN(X)||isNaN(st)||isNaN(dt))throw un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(yt=!!yt,!this.ctx.transform.isIdentity){var Tt=this.ctx.transform.applyToPoint(new u(O,K));O=Tt.x,K=Tt.y;var Nt=this.ctx.transform.applyToPoint(new u(0,X)),Mt=this.ctx.transform.applyToPoint(new u(0,0));X=Math.sqrt(Math.pow(Nt.x-Mt.x,2)+Math.pow(Nt.y-Mt.y,2))}Math.abs(dt-st)>=2*Math.PI&&(st=0,dt=2*Math.PI),this.path.push({type:"arc",x:O,y:K,radius:X,startAngle:st,endAngle:dt,counterclockwise:yt})},_.prototype.arcTo=function(O,K,X,st,dt){throw new Error("arcTo not implemented.")},_.prototype.rect=function(O,K,X,st){if(isNaN(O)||isNaN(K)||isNaN(X)||isNaN(st))throw un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,K),this.lineTo(O+X,K),this.lineTo(O+X,K+st),this.lineTo(O,K+st),this.lineTo(O,K),this.lineTo(O+X,K),this.lineTo(O,K)},_.prototype.fillRect=function(O,K,X,st){if(isNaN(O)||isNaN(K)||isNaN(X)||isNaN(st))throw un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var dt={};this.lineCap!=="butt"&&(dt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(dt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,K,X,st),this.fill(),dt.hasOwnProperty("lineCap")&&(this.lineCap=dt.lineCap),dt.hasOwnProperty("lineJoin")&&(this.lineJoin=dt.lineJoin)}},_.prototype.strokeRect=function(O,K,X,st){if(isNaN(O)||isNaN(K)||isNaN(X)||isNaN(st))throw un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(O,K,X,st),this.stroke())},_.prototype.clearRect=function(O,K,X,st){if(isNaN(O)||isNaN(K)||isNaN(X)||isNaN(st))throw un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,K,X,st))},_.prototype.save=function(O){O=typeof O!="boolean"||O;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var st=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=st}},_.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(K),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(O){var K,X,st,dt;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))K=0,X=0,st=0,dt=0;else{var yt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(yt!==null)K=parseInt(yt[1]),X=parseInt(yt[2]),st=parseInt(yt[3]),dt=1;else if((yt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)K=parseInt(yt[1]),X=parseInt(yt[2]),st=parseInt(yt[3]),dt=parseFloat(yt[4]);else{if(dt=1,typeof O=="string"&&O.charAt(0)!=="#"){var Tt=new nS(O);O=Tt.ok?Tt.toHex():"#000000"}O.length===4?(K=O.substring(1,2),K+=K,X=O.substring(2,3),X+=X,st=O.substring(3,4),st+=st):(K=O.substring(1,3),X=O.substring(3,5),st=O.substring(5,7)),K=parseInt(K,16),X=parseInt(X,16),st=parseInt(st,16)}}return{r:K,g:X,b:st,a:dt,style:O}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},M=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(O,K,X,st){if(isNaN(K)||isNaN(X)||typeof O!="string")throw un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(st=isNaN(st)?void 0:st,!w.call(this)){var dt=Z(this.ctx.transform.rotation),yt=this.ctx.transform.scaleX;R.call(this,{text:O,x:K,y:X,scale:yt,angle:dt,align:this.textAlign,maxWidth:st})}},_.prototype.strokeText=function(O,K,X,st){if(isNaN(K)||isNaN(X)||typeof O!="string")throw un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){st=isNaN(st)?void 0:st;var dt=Z(this.ctx.transform.rotation),yt=this.ctx.transform.scaleX;R.call(this,{text:O,x:K,y:X,scale:yt,renderingMode:"stroke",angle:dt,align:this.textAlign,maxWidth:st})}},_.prototype.measureText=function(O){if(typeof O!="string")throw un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,X=this.pdf.internal.scaleFactor,st=K.internal.getFontSize(),dt=K.getStringUnitWidth(O)*st/K.internal.scaleFactor;return new function(yt){var Tt=(yt=yt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Tt}}),this}({width:dt*=Math.round(96*X/72*1e4)/1e4})},_.prototype.scale=function(O,K){if(isNaN(O)||isNaN(K))throw un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new d(O,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},_.prototype.rotate=function(O){if(isNaN(O))throw un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new d(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},_.prototype.translate=function(O,K){if(isNaN(O)||isNaN(K))throw un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new d(1,0,0,1,O,K);this.ctx.transform=this.ctx.transform.multiply(X)},_.prototype.transform=function(O,K,X,st,dt,yt){if(isNaN(O)||isNaN(K)||isNaN(X)||isNaN(st)||isNaN(dt)||isNaN(yt))throw un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Tt=new d(O,K,X,st,dt,yt);this.ctx.transform=this.ctx.transform.multiply(Tt)},_.prototype.setTransform=function(O,K,X,st,dt,yt){O=isNaN(O)?1:O,K=isNaN(K)?0:K,X=isNaN(X)?0:X,st=isNaN(st)?1:st,dt=isNaN(dt)?0:dt,yt=isNaN(yt)?0:yt,this.ctx.transform=new d(O,K,X,st,dt,yt)};var F=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(O,K,X,st,dt,yt,Tt,Nt,Mt){var Yt=this.pdf.getImageProperties(O),te=1,ne=1,jt=1,lt=1;st!==void 0&&Nt!==void 0&&(jt=Nt/st,lt=Mt/dt,te=Yt.width/st*Nt/st,ne=Yt.height/dt*Mt/dt),yt===void 0&&(yt=K,Tt=X,K=0,X=0),st!==void 0&&Nt===void 0&&(Nt=st,Mt=dt),st===void 0&&Nt===void 0&&(Nt=Yt.width,Mt=Yt.height);for(var Je,qe=this.ctx.transform.decompose(),we=Z(qe.rotate.shx),Wt=new d,ie=(Wt=(Wt=(Wt=Wt.multiply(qe.translate)).multiply(qe.skew)).multiply(qe.scale)).applyToRectangle(new h(yt-K*jt,Tt-X*lt,st*te,dt*ne)),ee=$.call(this,ie),Qe=[],ve=0;ve<ee.length;ve+=1)Qe.indexOf(ee[ve])===-1&&Qe.push(ee[ve]);if(tt(Qe),this.autoPaging)for(var We=Qe[0],Re=Qe[Qe.length-1],De=We;De<Re+1;De++){this.pdf.setPage(De);var Sr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=De===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ge=De===1?0:be+(De-2)*Pe;if(this.ctx.clip_path.length!==0){var Fr=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=et(Je,this.posX+this.margin[3],-ge+je+this.ctx.prevPageLastElemOffset),At.call(this,"fill",!0),this.path=Fr}var rr=JSON.parse(JSON.stringify(ie));rr=et([rr],this.posX+this.margin[3],-ge+je+this.ctx.prevPageLastElemOffset)[0];var ae=(De>We||De<Re)&&F.call(this);ae&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Sr,Pe,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",rr.x,rr.y,rr.w,rr.h,null,null,we),ae&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",ie.x,ie.y,ie.w,ie.h,null,null,we)};var $=function(O,K,X){var st=[];K=K||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var dt=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":st.push(Math.floor((O.y+dt)/X)+1);break;case"arc":st.push(Math.floor((O.y+dt-O.radius)/X)+1),st.push(Math.floor((O.y+dt+O.radius)/X)+1);break;case"qct":var yt=bt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);st.push(Math.floor((yt.y+dt)/X)+1),st.push(Math.floor((yt.y+yt.h+dt)/X)+1);break;case"bct":var Tt=qt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);st.push(Math.floor((Tt.y+dt)/X)+1),st.push(Math.floor((Tt.y+Tt.h+dt)/X)+1);break;case"rect":st.push(Math.floor((O.y+dt)/X)+1),st.push(Math.floor((O.y+O.h+dt)/X)+1)}for(var Nt=0;Nt<st.length;Nt+=1)for(;this.pdf.internal.getNumberOfPages()<st[Nt];)B.call(this);return st},B=function(){var O=this.fillStyle,K=this.strokeStyle,X=this.font,st=this.lineCap,dt=this.lineWidth,yt=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=K,this.font=X,this.lineCap=st,this.lineWidth=dt,this.lineJoin=yt},et=function(O,K,X){for(var st=0;st<O.length;st++)switch(O[st].type){case"bct":O[st].x2+=K,O[st].y2+=X;case"qct":O[st].x1+=K,O[st].y1+=X;default:O[st].x+=K,O[st].y+=X}return O},tt=function(O){return O.sort(function(K,X){return K-X})},ct=function(O,K){for(var X,st,dt=this.fillStyle,yt=this.strokeStyle,Tt=this.lineCap,Nt=this.lineWidth,Mt=Math.abs(Nt*this.ctx.transform.scaleX),Yt=this.lineJoin,te=JSON.parse(JSON.stringify(this.path)),ne=JSON.parse(JSON.stringify(this.path)),jt=[],lt=0;lt<ne.length;lt++)if(ne[lt].x!==void 0)for(var Je=$.call(this,ne[lt]),qe=0;qe<Je.length;qe+=1)jt.indexOf(Je[qe])===-1&&jt.push(Je[qe]);for(var we=0;we<jt.length;we++)for(;this.pdf.internal.getNumberOfPages()<jt[we];)B.call(this);if(tt(jt),this.autoPaging)for(var Wt=jt[0],ie=jt[jt.length-1],ee=Wt;ee<ie+1;ee++){this.pdf.setPage(ee),this.fillStyle=dt,this.strokeStyle=yt,this.lineCap=Tt,this.lineWidth=Mt,this.lineJoin=Yt;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=ee===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=ee===1?0:We+(ee-2)*Re;if(this.ctx.clip_path.length!==0){var Sr=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=et(X,this.posX+this.margin[3],-De+ve+this.ctx.prevPageLastElemOffset),At.call(this,O,!0),this.path=Sr}if(st=JSON.parse(JSON.stringify(te)),this.path=et(st,this.posX+this.margin[3],-De+ve+this.ctx.prevPageLastElemOffset),K===!1||ee===0){var je=(ee>Wt||ee<ie)&&F.call(this);je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,Re,null).clip().discardPath()),At.call(this,O,K),je&&this.pdf.restoreGraphicsState()}this.lineWidth=Nt}else this.lineWidth=Mt,At.call(this,O,K),this.lineWidth=Nt;this.path=te},At=function(O,K){if((O!=="stroke"||K||!M.call(this))&&(O==="stroke"||K||!w.call(this))){for(var X,st,dt=[],yt=this.path,Tt=0;Tt<yt.length;Tt++){var Nt=yt[Tt];switch(Nt.type){case"begin":dt.push({begin:!0});break;case"close":dt.push({close:!0});break;case"mt":dt.push({start:Nt,deltas:[],abs:[]});break;case"lt":var Mt=dt.length;if(yt[Tt-1]&&!isNaN(yt[Tt-1].x)&&(X=[Nt.x-yt[Tt-1].x,Nt.y-yt[Tt-1].y],Mt>0)){for(;Mt>=0;Mt--)if(dt[Mt-1].close!==!0&&dt[Mt-1].begin!==!0){dt[Mt-1].deltas.push(X),dt[Mt-1].abs.push(Nt);break}}break;case"bct":X=[Nt.x1-yt[Tt-1].x,Nt.y1-yt[Tt-1].y,Nt.x2-yt[Tt-1].x,Nt.y2-yt[Tt-1].y,Nt.x-yt[Tt-1].x,Nt.y-yt[Tt-1].y],dt[dt.length-1].deltas.push(X);break;case"qct":var Yt=yt[Tt-1].x+2/3*(Nt.x1-yt[Tt-1].x),te=yt[Tt-1].y+2/3*(Nt.y1-yt[Tt-1].y),ne=Nt.x+2/3*(Nt.x1-Nt.x),jt=Nt.y+2/3*(Nt.y1-Nt.y),lt=Nt.x,Je=Nt.y;X=[Yt-yt[Tt-1].x,te-yt[Tt-1].y,ne-yt[Tt-1].x,jt-yt[Tt-1].y,lt-yt[Tt-1].x,Je-yt[Tt-1].y],dt[dt.length-1].deltas.push(X);break;case"arc":dt.push({deltas:[],abs:[],arc:!0}),Array.isArray(dt[dt.length-1].abs)&&dt[dt.length-1].abs.push(Nt)}}st=K?null:O==="stroke"?"stroke":"fill";for(var qe=!1,we=0;we<dt.length;we++)if(dt[we].arc)for(var Wt=dt[we].abs,ie=0;ie<Wt.length;ie++){var ee=Wt[ie];ee.type==="arc"?N.call(this,ee.x,ee.y,ee.radius,ee.startAngle,ee.endAngle,ee.counterclockwise,void 0,K,!qe):j.call(this,ee.x,ee.y),qe=!0}else if(dt[we].close===!0)this.pdf.internal.out("h"),qe=!1;else if(dt[we].begin!==!0){var Qe=dt[we].start.x,ve=dt[we].start.y;ot.call(this,dt[we].deltas,Qe,ve),qe=!0}st&&C.call(this,st),K&&q.call(this)}},It=function(O){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-X;case"top":return O+K-X;case"hanging":return O+K-2*X;case"middle":return O+K/2-X;default:return O}},Q=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(K,X){this.colorStops.push([K,X])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(O,K,X,st,dt,yt,Tt,Nt,Mt){for(var Yt=nt.call(this,X,st,dt,yt),te=0;te<Yt.length;te++){var ne=Yt[te];te===0&&(Mt?L.call(this,ne.x1+O,ne.y1+K):j.call(this,ne.x1+O,ne.y1+K)),_t.call(this,O,K,ne.x2,ne.y2,ne.x3,ne.y3,ne.x4,ne.y4)}Nt?q.call(this):C.call(this,Tt)},C=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(O,K){this.pdf.internal.out(e(O)+" "+n(K)+" m")},R=function(O){var K;switch(O.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var X=this.pdf.getTextDimensions(O.text),st=It.call(this,O.y),dt=Q.call(this,st)-X.h,yt=this.ctx.transform.applyToPoint(new u(O.x,st)),Tt=this.ctx.transform.decompose(),Nt=new d;Nt=(Nt=(Nt=Nt.multiply(Tt.translate)).multiply(Tt.skew)).multiply(Tt.scale);for(var Mt,Yt,te,ne=this.ctx.transform.applyToRectangle(new h(O.x,st,X.w,X.h)),jt=Nt.applyToRectangle(new h(O.x,dt,X.w,X.h)),lt=$.call(this,jt),Je=[],qe=0;qe<lt.length;qe+=1)Je.indexOf(lt[qe])===-1&&Je.push(lt[qe]);if(tt(Je),this.autoPaging)for(var we=Je[0],Wt=Je[Je.length-1],ie=we;ie<Wt+1;ie++){this.pdf.setPage(ie);var ee=ie===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],We=ve-this.margin[0],Re=this.pdf.internal.pageSize.width-this.margin[1],De=Re-this.margin[3],Sr=ie===1?0:Qe+(ie-2)*We;if(this.ctx.clip_path.length!==0){var je=this.path;Mt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=et(Mt,this.posX+this.margin[3],-1*Sr+ee),At.call(this,"fill",!0),this.path=je}var be=et([JSON.parse(JSON.stringify(jt))],this.posX+this.margin[3],-Sr+ee+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Yt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Yt*O.scale),te=this.lineWidth,this.lineWidth=te*O.scale);var Pe=this.autoPaging!=="text";if(Pe||be.y+be.h<=ve){if(Pe||be.y>=ee&&be.x<=Re){var ge=Pe?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Re-be.x)[0],Fr=et([JSON.parse(JSON.stringify(ne))],this.posX+this.margin[3],-Sr+ee+this.ctx.prevPageLastElemOffset)[0],rr=Pe&&(ie>we||ie<Wt)&&F.call(this);rr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,We,null).clip().discardPath()),this.pdf.text(ge,Fr.x,Fr.y,{angle:O.angle,align:K,renderingMode:O.renderingMode}),rr&&this.pdf.restoreGraphicsState()}}else be.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-be.y);O.scale>=.01&&(this.pdf.setFontSize(Yt),this.lineWidth=te)}else O.scale>=.01&&(Yt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Yt*O.scale),te=this.lineWidth,this.lineWidth=te*O.scale),this.pdf.text(O.text,yt.x+this.posX,yt.y+this.posY,{angle:O.angle,align:K,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Yt),this.lineWidth=te)},j=function(O,K,X,st){X=X||0,st=st||0,this.pdf.internal.out(e(O+X)+" "+n(K+st)+" l")},ot=function(O,K,X){return this.pdf.lines(O,K,X,null,null)},_t=function(O,K,X,st,dt,yt,Tt,Nt){this.pdf.internal.out([t(s(X+O)),t(o(st+K)),t(s(dt+O)),t(o(yt+K)),t(s(Tt+O)),t(o(Nt+K)),"c"].join(" "))},nt=function(O,K,X,st){for(var dt=2*Math.PI,yt=Math.PI/2;K>X;)K-=dt;var Tt=Math.abs(X-K);Tt<dt&&st&&(Tt=dt-Tt);for(var Nt=[],Mt=st?-1:1,Yt=K;Tt>1e-5;){var te=Yt+Mt*Math.min(Tt,yt);Nt.push(ut.call(this,O,Yt,te)),Tt-=Math.abs(te-Yt),Yt=te}return Nt},ut=function(O,K,X){var st=(X-K)/2,dt=O*Math.cos(st),yt=O*Math.sin(st),Tt=dt,Nt=-yt,Mt=Tt*Tt+Nt*Nt,Yt=Mt+Tt*dt+Nt*yt,te=4/3*(Math.sqrt(2*Mt*Yt)-Yt)/(Tt*yt-Nt*dt),ne=Tt-te*Nt,jt=Nt+te*Tt,lt=ne,Je=-jt,qe=st+K,we=Math.cos(qe),Wt=Math.sin(qe);return{x1:O*Math.cos(K),y1:O*Math.sin(K),x2:ne*we-jt*Wt,y2:ne*Wt+jt*we,x3:lt*we-Je*Wt,y3:lt*Wt+Je*we,x4:O*Math.cos(X),y4:O*Math.sin(X)}},Z=function(O){return 180*O/Math.PI},bt=function(O,K,X,st,dt,yt){var Tt=O+.5*(X-O),Nt=K+.5*(st-K),Mt=dt+.5*(X-dt),Yt=yt+.5*(st-yt),te=Math.min(O,dt,Tt,Mt),ne=Math.max(O,dt,Tt,Mt),jt=Math.min(K,yt,Nt,Yt),lt=Math.max(K,yt,Nt,Yt);return new h(te,jt,ne-te,lt-jt)},qt=function(O,K,X,st,dt,yt,Tt,Nt){var Mt,Yt,te,ne,jt,lt,Je,qe,we,Wt,ie,ee,Qe,ve,We=X-O,Re=st-K,De=dt-X,Sr=yt-st,je=Tt-dt,be=Nt-yt;for(Yt=0;Yt<41;Yt++)we=(Je=(te=O+(Mt=Yt/40)*We)+Mt*((jt=X+Mt*De)-te))+Mt*(jt+Mt*(dt+Mt*je-jt)-Je),Wt=(qe=(ne=K+Mt*Re)+Mt*((lt=st+Mt*Sr)-ne))+Mt*(lt+Mt*(yt+Mt*be-lt)-qe),Yt==0?(ie=we,ee=Wt,Qe=we,ve=Wt):(ie=Math.min(ie,we),ee=Math.min(ee,Wt),Qe=Math.max(Qe,we),ve=Math.max(ve,Wt));return new h(Math.round(ie),Math.round(ee),Math.round(Qe-ie),Math.round(ve-ee))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,K,X=(O=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:K}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(_e.API),(function(r){var t=function(u){var h,d,m,v,_,A,w,M,F,$;for(d=[],m=0,v=(u+=h="\0\0\0\0".slice(u.length%4||4)).length;v>m;m+=4)(_=(u.charCodeAt(m)<<24)+(u.charCodeAt(m+1)<<16)+(u.charCodeAt(m+2)<<8)+u.charCodeAt(m+3))!==0?(A=(_=((_=((_=((_=(_-($=_%85))/85)-(F=_%85))/85)-(M=_%85))/85)-(w=_%85))/85)%85,d.push(A+33,w+33,M+33,F+33,$+33)):d.push(122);return(function(B,et){for(var tt=et;tt>0;tt--)B.pop()})(d,h.length),String.fromCharCode.apply(String,d)+"~>"},e=function(u){var h,d,m,v,_,A=String,w="length",M=255,F="charCodeAt",$="slice",B="replace";for(u[$](-2),u=u[$](0,-2)[B](/\s/g,"")[B]("z","!!!!!"),m=[],v=0,_=(u+=h="uuuuu"[$](u[w]%5||5))[w];_>v;v+=5)d=52200625*(u[F](v)-33)+614125*(u[F](v+1)-33)+7225*(u[F](v+2)-33)+85*(u[F](v+3)-33)+(u[F](v+4)-33),m.push(M&d>>24,M&d>>16,M&d>>8,M&d);return(function(et,tt){for(var ct=tt;ct>0;ct--)et.pop()})(m,h[w]),A.fromCharCode.apply(A,m)},n=function(u){return u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),h.test(u)===!1)return"";for(var d="",m=0;m<u.length;m+=2)d+=String.fromCharCode("0x"+(u[m]+u[m+1]));return d},o=function(u){for(var h=new Uint8Array(u.length),d=u.length;d--;)h[d]=u.charCodeAt(d);return(h=C1(h)).reduce(function(m,v){return m+String.fromCharCode(v)},"")};r.processDataByFilters=function(u,h){var d=0,m=u||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),d=0;d<h.length;d+=1)switch(h[d]){case"ASCII85Decode":case"/ASCII85Decode":m=e(m),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=t(m),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=s(m),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=n(m),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=o(m),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[d]+'" is not implemented')}return{data:m,reverseChain:v.reverse().join(" ")}}})(_e.API),(function(r){r.loadFile=function(t,e,n){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=(function(d,m,v){var _=new XMLHttpRequest,A=0,w=function(M){var F=M.length,$=[],B=String.fromCharCode;for(A=0;A<F;A+=1)$.push(B(255&M.charCodeAt(A)));return $.join("")};if(_.open("GET",d,!m),_.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(_.onload=function(){_.status===200?v(w(this.responseText)):v(void 0)}),_.send(null),m&&_.status===200)return w(_.responseText)})(s,o,u)}catch{}return h})(t,e,n)},r.loadImageFile=r.loadFile})(_e.API),(function(r){function t(){return(Ke.html2canvas?Promise.resolve(Ke.html2canvas):P0(()=>d0(()=>import("./html2canvas.esm-B0tyYwQk-CQoT0aXb.js"),[]),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function e(){return(Ke.DOMPurify?Promise.resolve(Ke.DOMPurify):P0(()=>d0(()=>import("./purify.es-B6FQ9oRL-G4oQ6L8y.js"),[]),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var n=function(h){var d=Qr(h);return d==="undefined"?"undefined":d==="string"||h instanceof String?"string":d==="number"||h instanceof Number?"number":d==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(h,d){var m=document.createElement(h);for(var v in d.className&&(m.className=d.className),d.innerHTML&&d.dompurify&&(m.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)m.style[v]=d.style[v];return m},o=function h(d,m){for(var v=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),_=d.firstChild;_;_=_.nextSibling)m!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||v.appendChild(h(_,m));return d.nodeType===1&&(d.nodeName==="CANVAS"?(v.width=d.width,v.height=d.height,v.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(v.value=d.value),v.addEventListener("load",function(){v.scrollTop=d.scrollTop,v.scrollLeft=d.scrollLeft},!0)),v},u=function h(d){var m=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),m);return(v=v.setProgress(1,h,1,[h])).set(d)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(h,d){return h.__proto__=d||u.prototype,h},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(h,d){return this.then(function(){switch(d=d||(function(m){switch(n(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),d){case"string":return this.then(e).then(function(m){return this.set({src:s("div",{innerHTML:h,dompurify:m})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},u.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(d){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,d(this.prop.container,m)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(d){var m=this.opt.jsPDF,v=this.opt.fontFaces,_=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=v,v)for(var w=0;w<v.length;++w){var M=v[w],F=M.src.find(function($){return $.format==="truetype"});F&&m.addFont(F.url,M.ref.name,M.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,m.context2d.save(!0),d(this.prop.container,A)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(h,d,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(h,d):this.outputPdf(h,d)},u.prototype.outputPdf=function(h,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,d)})},u.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},u.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(h){if(n(h)!=="object")return this;var d=Object.keys(h||{}).map(function(m){if(m in u.template.prop)return function(){this.prop[m]=h[m]};switch(m){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[m]=h[m]}}},this);return this.then(function(){return this.thenList(d)})},u.prototype.get=function(h,d){return this.then(function(){var m=h in u.template.prop?this.prop[h]:this.opt[h];return d?d(m):m})},u.prototype.setMargin=function(h){return this.then(function(){switch(n(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},u.prototype.setPageSize=function(h){function d(m,v){return Math.floor(m*v/72*96)}return this.then(function(){(h=h||_e.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:d(h.inner.width,h.k),height:d(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},u.prototype.setProgress=function(h,d,m,v){return h!=null&&(this.progress.val=h),d!=null&&(this.progress.state=d),m!=null&&(this.progress.n=m),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(h,d,m,v){return this.setProgress(h?this.progress.val+h:null,d||null,m?this.progress.n+m:null,v?this.progress.stack.concat(v):null)},u.prototype.then=function(h,d){var m=this;return this.thenCore(h,d,function(v,_){return m.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(A){return m.updateProgress(null,v),A}).then(v,_).then(function(A){return m.updateProgress(1),A})})},u.prototype.thenCore=function(h,d,m){m=m||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),d&&(d=d.bind(v));var _=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:u.convert(Object.assign({},v),Promise.prototype),A=m.call(_,h,d);return u.convert(A,v.__proto__)},u.prototype.thenExternal=function(h,d){return Promise.prototype.then.call(this,h,d)},u.prototype.thenList=function(h){var d=this;return h.forEach(function(m){d=d.thenCore(m)}),d},u.prototype.catch=function(h){h&&(h=h.bind(this));var d=Promise.prototype.catch.call(this,h);return u.convert(d,this)},u.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},u.prototype.error=function(h){return this.then(function(){throw new Error(h)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,_e.getPageSize=function(h,d,m){if(Qr(h)==="object"){var v=h;h=v.orientation,d=v.unit||d,m=v.format||m}d=d||"mm",m=m||"a4",h=(""+(h||"P")).toLowerCase();var _,A=(""+m).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+d}var M,F=0,$=0;if(w.hasOwnProperty(A))F=w[A][1]/_,$=w[A][0]/_;else try{F=m[1],$=m[0]}catch{throw new Error("Invalid format: "+m)}if(h==="p"||h==="portrait")h="p",$>F&&(M=$,$=F,F=M);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",F>$&&(M=$,$=F,F=M)}return{width:$,height:F,unit:d,k:_,orientation:h}},r.html=function(h,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Y0):null;var m=new u(d);return d.worker?m:m.from(h).doCallback()}})(_e.API),_e.API.addJS=function(r){return m4=r,this.internal.events.subscribe("postPutResources",function(){Rp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Rp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),p4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+m4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Rp!==void 0&&p4!==void 0&&this.internal.out("/Names <</JavaScript "+Rp+" 0 R>>")}),this},(function(r){var t;r.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=e.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],h=n.exec(u);if(h!=null){var d=h[1];e.internal.newObjectDeferredBegin(d,!1)}e.internal.write(u)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,v=[];for(o=0;o<m;o++){var _=e.internal.newObject();v.push(_);var A=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var w=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<v.length;o++)e.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+w+" 0 R"),e.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),r.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,s,o){var u={title:s,options:o,children:[]};return n==null&&(n=this.root),n.children.push(u),u},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var u=n.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var d=e.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var m=0;m<n.children.length;m++)this.renderItems(n.children[m])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,s){for(var o=0;o<s.children.length;o++)n.count++,this.count_r(n,s.children[o]);return n.count}}])})(_e.API),(function(r){var t=[192,193,194,195,196,197,198,199];r.processJPEG=function(e,n,s,o,u,h){var d,m=this.decode.DCT_DECODE,v=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=u||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,d=(function(_){for(var A,w=256*_.charCodeAt(4)+_.charCodeAt(5),M=_.length,F={width:0,height:0,numcomponents:1},$=4;$<M;$+=2){if($+=w,t.indexOf(_.charCodeAt($+1))!==-1){A=256*_.charCodeAt($+5)+_.charCodeAt($+6),F={width:256*_.charCodeAt($+7)+_.charCodeAt($+8),height:A,numcomponents:_.charCodeAt($+9)};break}w=256*_.charCodeAt($+2)+_.charCodeAt($+3)}return F})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),d.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:e,width:d.width,height:d.height,colorSpace:h,bitsPerComponent:8,filter:m,index:n,alias:s}}return v}})(_e.API),_e.API.processPNG=function(r,t,e,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var s,o=QP(r,{checkCrc:!0}),u=o.width,h=o.height,d=o.channels,m=o.palette,v=o.depth;s=m&&d===1?(function(N){for(var C=N.width,q=N.height,L=N.data,R=N.palette,j=N.depth,ot=!1,_t=[],nt=[],ut=void 0,Z=!1,bt=0,qt=0;qt<R.length;qt++){var H=bw(R[qt],4),O=H[0],K=H[1],X=H[2],st=H[3];_t.push(O,K,X),st!=null&&(st===0?(bt++,nt.length<1&&nt.push(qt)):st<255&&(Z=!0))}if(Z||bt>1){ot=!0,nt=void 0;var dt=C*q;ut=new Uint8Array(dt);for(var yt=new DataView(L.buffer),Tt=0;Tt<dt;Tt++){var Nt=J0(yt,Tt,j),Mt=bw(R[Nt],4)[3];ut[Tt]=Mt}}else bt===0&&(nt=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ot?8:void 0,colorBytes:L,alphaBytes:ut,needSMask:ot,palette:_t,mask:nt}})(o):d===2||d===4?(function(N){for(var C=N.data,q=N.width,L=N.height,R=N.channels,j=N.depth,ot=R===2?"DeviceGray":"DeviceRGB",_t=R-1,nt=q*L,ut=_t,Z=nt*ut,bt=1*nt,qt=Math.ceil(Z*j/8),H=Math.ceil(bt*j/8),O=new Uint8Array(qt),K=new Uint8Array(H),X=new DataView(C.buffer),st=new DataView(O.buffer),dt=new DataView(K.buffer),yt=!1,Tt=0;Tt<nt;Tt++){for(var Nt=Tt*R,Mt=0;Mt<ut;Mt++)k4(st,J0(X,Nt+Mt,j),Tt*ut+Mt,j);var Yt=J0(X,Nt+ut,j);Yt<(1<<j)-1&&(yt=!0),k4(dt,Yt,1*Tt,j)}return{colorSpace:ot,colorsPerPixel:_t,sMaskBitsPerComponent:yt?j:void 0,colorBytes:O,alphaBytes:K,needSMask:yt}})(o):(function(N){var C=N.data,q=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?(function(L){for(var R=L.length,j=new Uint8Array(2*R),ot=new DataView(j.buffer,j.byteOffset,j.byteLength),_t=0;_t<R;_t++)ot.setUint16(2*_t,L[_t],!1);return j})(C):C,needSMask:!1}})(o);var _,A,w,M=s,F=M.colorSpace,$=M.colorsPerPixel,B=M.sMaskBitsPerComponent,et=M.colorBytes,tt=M.alphaBytes,ct=M.needSMask,At=M.palette,It=M.mask,Q=null;return n!==_e.API.image_compression.NONE&&typeof C1=="function"?(Q=(function(N){var C;switch(N){case _e.API.image_compression.FAST:C=11;break;case _e.API.image_compression.MEDIUM:C=13;break;case _e.API.image_compression.SLOW:C=14;break;default:C=12}return C})(n),_=this.decode.FLATE_DECODE,A="/Predictor ".concat(Q," /Colors ").concat($," /BitsPerComponent ").concat(v," /Columns ").concat(u),r=w4(et,Math.ceil(u*$*v/8),$,v,n),ct&&(w=w4(tt,Math.ceil(u*B/8),1,B,n))):(_=void 0,A=void 0,r=et,ct&&(w=tt)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:e,data:r,index:t,filter:_,decodeParameters:A,transparency:It,palette:At,sMask:w,predictor:Q,width:u,height:h,bitsPerComponent:v,sMaskBitsPerComponent:B,colorSpace:F}}},(function(r){r.processGIF89A=function(t,e,n,s){var o=new g9(t),u=o.width,h=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var m={data:d,width:u,height:h},v=new X0(100).encode(m,100);return r.processJPEG.call(this,v,e,n,s)},r.processGIF87A=r.processGIF89A})(_e.API),co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var t=0;t<r;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},co.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[r]()}catch(e){un.log("bit decode error:"+e)}},co.prototype.bit1=function(){var r,t=Math.ceil(this.width/8),e=t%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var d=this.palette[o>>7-h&1];this.data[u+4*h]=d.blue,this.data[u+4*h+1]=d.green,this.data[u+4*h+2]=d.red,this.data[u+4*h+3]=255}e!==0&&(this.pos+=4-e)}},co.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),t=r%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<r;s++){var o=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+2*s*4,h=o>>4,d=15&o,m=this.palette[h];if(this.data[u]=m.blue,this.data[u+1]=m.green,this.data[u+2]=m.red,this.data[u+3]=255,2*s+1>=this.width)break;m=this.palette[d],this.data[u+4]=m.blue,this.data[u+4+1]=m.green,this.data[u+4+2]=m.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},co.prototype.bit8=function(){for(var r=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},co.prototype.bit15=function(){for(var r=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,h=(o>>5&t)/t*255|0,d=(o>>10&t)/t*255|0,m=o>>15?255:0,v=n*this.width*4+4*s;this.data[v]=d,this.data[v+1]=h,this.data[v+2]=u,this.data[v+3]=m}this.pos+=r}},co.prototype.bit16=function(){for(var r=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&t)/t*255|0,d=(u>>5&e)/e*255|0,m=(u>>11)/t*255|0,v=s*this.width*4+4*o;this.data[v]=m,this.data[v+1]=d,this.data[v+2]=h,this.data[v+3]=255}this.pos+=r}},co.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=n,this.data[u+3]=255}this.pos+=this.width%4}},co.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*e;this.data[h]=o,this.data[h+1]=s,this.data[h+2]=n,this.data[h+3]=u}},co.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(t,e,n,s){var o=new co(t,!1),u=o.width,h=o.height,d={data:o.getData(),width:u,height:h},m=new X0(100).encode(d,100);return r.processJPEG.call(this,m,e,n,s)}})(_e.API),E4.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(t,e,n,s){var o=new E4(t),u=o.width,h=o.height,d={data:o.getData(),width:u,height:h},m=new X0(100).encode(d,100);return r.processJPEG.call(this,m,e,n,s)}})(_e.API),_e.API.processRGBA=function(r,t,e){for(var n=r.data,s=n.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),h=0,d=0,m=0;m<s;m+=4){var v=n[m],_=n[m+1],A=n[m+2],w=n[m+3];o[h++]=v,o[h++]=_,o[h++]=A,u[d++]=w}var M=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:M,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},_e.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vh=_e.API,jp=vh.getCharWidthsArray=function(r,t){var e,n,s=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),h=t.widths?t.widths:s.metadata.Unicode.widths,d=h.fof?h.fof:1,m=t.kerning?t.kerning:s.metadata.Unicode.kerning,v=m.fof?m.fof:1,_=t.doKerning!==!1,A=0,w=r.length,M=0,F=h[0]||d,$=[];for(e=0;e<w;e++)n=r.charCodeAt(e),typeof s.metadata.widthOfString=="function"?$.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+u*(1e3/o)||0)/1e3):(A=_&&Qr(m[n])==="object"&&!isNaN(parseInt(m[n][M],10))?m[n][M]/v:0,$.push((h[n]||F)/d+A)),M=n;return $},g4=vh.getStringUnitWidth=function(r,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return vh.processArabic&&(r=vh.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,e,s)/e:jp.apply(this,arguments).reduce(function(o,u){return o+u},0)},y4=function(r,t,e,n){for(var s=[],o=0,u=r.length,h=0;o!==u&&h+t[o]<e;)h+=t[o],o++;s.push(r.slice(0,o));var d=o;for(h=0;o!==u;)h+t[o]>n&&(s.push(r.slice(d,o)),h=0,d=o),h+=t[o],o++;return d!==o&&s.push(r.slice(d,o)),s},v4=function(r,t,e){e||(e={});var n,s,o,u,h,d,m,v=[],_=[v],A=e.textIndent||0,w=0,M=0,F=r.split(" "),$=jp.apply(this,[" ",e])[0];if(d=e.lineIndent===-1?F[0].length+2:e.lineIndent||0){var B=Array(d).join(" "),et=[];F.map(function(ct){(ct=ct.split(/\s*\n/)).length>1?et=et.concat(ct.map(function(At,It){return(It&&At.length?`
`:"")+At})):et.push(ct[0])}),F=et,d=g4.apply(this,[B,e])}for(o=0,u=F.length;o<u;o++){var tt=0;if(n=F[o],d&&n[0]==`
`&&(n=n.substr(1),tt=1),A+w+(M=(s=jp.apply(this,[n,e])).reduce(function(ct,At){return ct+At},0))>t||tt){if(M>t){for(h=y4.apply(this,[n,s,t-(A+w),t]),v.push(h.shift()),v=[h.pop()];h.length;)_.push([h.shift()]);M=s.slice(n.length-(v[0]?v[0].length:0)).reduce(function(ct,At){return ct+At},0)}else v=[n];_.push(v),A=M+d,w=$}else v.push(n),A+=w+M,w=$}return m=d?function(ct,At){return(At?B:"")+ct.join(" ")}:function(ct){return ct.join(" ")},_.map(m)},vh.splitTextToSize=function(r,t,e){var n,s=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var _=this.internal.getFont(v.fontName,v.fontStyle),A="Unicode";return _.metadata[A]?{widths:_.metadata[A].widths||{0:1},kerning:_.metadata[A].kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/s;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=e.lineIndent;var h,d,m=[];for(h=0,d=n.length;h<d;h++)m=m.concat(v4.apply(this,[n[h],u,o]));return m},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",n={},s={},o=0;o<16;o++)n[e[o]]=t[o],s[t[o]]=e[o];var u=function(A){return"0x"+parseInt(A,10).toString(16)},h=r.__fontmetrics__.compress=function(A){var w,M,F,$,B=["{"];for(var et in A){if(w=A[et],isNaN(parseInt(et,10))?M="'"+et+"'":(et=parseInt(et,10),M=(M=u(et).slice(2)).slice(0,-1)+s[M.slice(-1)]),typeof w=="number")w<0?(F=u(w).slice(3),$="-"):(F=u(w).slice(2),$=""),F=$+F.slice(0,-1)+s[F.slice(-1)];else{if(Qr(w)!=="object")throw new Error("Don't know what to do with value type "+Qr(w)+".");F=h(w)}B.push(M+F)}return B.push("}"),B.join("")},d=r.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,M,F,$,B={},et=1,tt=B,ct=[],At="",It="",Q=A.length-1,N=1;N<Q;N+=1)($=A[N])=="'"?w?(F=w.join(""),w=void 0):w=[]:w?w.push($):$=="{"?(ct.push([tt,F]),tt={},F=void 0):$=="}"?((M=ct.pop())[0][M[1]]=tt,F=void 0,tt=M[0]):$=="-"?et=-1:F===void 0?n.hasOwnProperty($)?(At+=n[$],F=parseInt(At,16)*et,et=1,At=""):At+=$:n.hasOwnProperty($)?(It+=n[$],tt[F]=parseInt(It,16)*et,et=1,F=void 0,It=""):It+=$;return B},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},_={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(A){var w=A.font,M=_.Unicode[w.postScriptName];M&&(w.metadata.Unicode={},w.metadata.Unicode.widths=M.widths,w.metadata.Unicode.kerning=M.kerning);var F=v.Unicode[w.postScriptName];F&&(w.metadata.Unicode.encoding=F,w.encoding=F.codePages[0])}])})(_e.API),(function(r){var t=function(e){for(var n=e.length,s=new Uint8Array(n),o=0;o<n;o++)s[o]=e.charCodeAt(o);return s};r.API.events.push(["addFont",function(e){var n=void 0,s=e.font,o=e.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?t(h):t(Gp(h)),u.metadata=r.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,n)}}])})(_e),_e.API.addSvgAsImage=function(r,t,e,n,s,o,u,h){if(isNaN(t)||isNaN(e))throw un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=s;var m=d.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,d.width,d.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return(Ke.canvg?Promise.resolve(Ke.canvg):P0(()=>d0(()=>import("./index.es-D0z1D1PN-CrlaujlA.js"),[]),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(m,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(v)}).then(function(){_.addImage(d.toDataURL("image/jpeg",1),t,e,n,s,u,h)})},_e.API.putTotalPages=function(r){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(r,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,e);return this},_e.API.viewerPreferences=function(r,t){var e;r=r||{},t=t||!1;var n,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),d=[],m=0,v=0,_=0;function A(M,F){var $,B=!1;for($=0;$<M.length;$+=1)M[$]===F&&(B=!0);return B}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,r==="reset"||t===!0){var w=h.length;for(_=0;_<w;_+=1)e[h[_]].value=e[h[_]].defaultValue,e[h[_]].explicitSet=!1}if(Qr(r)==="object"){for(s in r)if(o=r[s],A(h,s)&&o!==void 0){if(e[s].type==="boolean"&&typeof o=="boolean")e[s].value=o;else if(e[s].type==="name"&&A(e[s].valueSet,o))e[s].value=o;else if(e[s].type==="integer"&&Number.isInteger(o))e[s].value=o;else if(e[s].type==="array"){for(m=0;m<o.length;m+=1)if(n=!0,o[m].length===1&&typeof o[m][0]=="number")d.push(String(o[m]-1));else if(o[m].length>1){for(v=0;v<o[m].length;v+=1)typeof o[m][v]!="number"&&(n=!1);n===!0&&d.push([o[m][0]-1,o[m][1]-1].join(" "))}e[s].value="["+d.join(" ")+"]"}else e[s].value=e[s].defaultValue;e[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var M,F=[];for(M in e)e[M].explicitSet===!0&&(e[M].type==="name"?F.push("/"+M+" /"+e[M].value):F.push("/"+M+" "+e[M].value));F.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+F.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(r){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),m=o.length+u.length+h.length+s.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(s+o+u+h+d),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(_e.API),(function(r){var t=r.API,e=t.pdfEscape16=function(o,u){for(var h,d=u.metadata.Unicode.widths,m=["","0","00","000","0000"],v=[""],_=0,A=o.length;_<A;++_){if(h=u.metadata.characterToGlyph(o.charCodeAt(_)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=o.charCodeAt(_),d.indexOf(h)==-1&&(d.push(h),d.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(m[4-h.length],h)}return v.join("")},n=function(o){var u,h,d,m,v,_,A;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],_=0,A=(h=Object.keys(o).sort(function(w,M){return w-M})).length;_<A;_++)u=h[_],d.length>=100&&(v+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(m=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),d.push("<"+u+"><"+m+">"));return d.length&&(v+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(u){var h=u.font,d=u.out,m=u.newObject,v=u.putStream;if(h.metadata instanceof r.API.TTFFont&&h.encoding==="Identity-H"){for(var _=h.metadata.Unicode.widths,A=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),w="",M=0;M<A.length;M++)w+=String.fromCharCode(A[M]);var F=m();v({data:w,addLength1:!0,objectId:F}),d("endobj");var $=m();v({data:n(h.metadata.toUnicode),addLength1:!0,objectId:$}),d("endobj");var B=m();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+kh(h.fontName)),d("/FontFile2 "+F+" 0 R"),d("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),d("/Flags "+h.metadata.flags),d("/StemV "+h.metadata.stemV),d("/ItalicAngle "+h.metadata.italicAngle),d("/Ascent "+h.metadata.ascender),d("/Descent "+h.metadata.decender),d("/CapHeight "+h.metadata.capHeight),d(">>"),d("endobj");var et=m();d("<<"),d("/Type /Font"),d("/BaseFont /"+kh(h.fontName)),d("/FontDescriptor "+B+" 0 R"),d("/W "+r.API.PDFObject.convert(_)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+h.encoding+")"),d(">>"),d(">>"),d("endobj"),h.objectNumber=m(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+$+" 0 R"),d("/BaseFont /"+kh(h.fontName)),d("/Encoding /"+h.encoding),d("/DescendantFonts ["+et+" 0 R]"),d(">>"),d("endobj"),h.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(u){var h=u.font,d=u.out,m=u.newObject,v=u.putStream;if(h.metadata instanceof r.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var _=h.metadata.rawData,A="",w=0;w<_.length;w++)A+=String.fromCharCode(_[w]);var M=m();v({data:A,addLength1:!0,objectId:M}),d("endobj");var F=m();v({data:n(h.metadata.toUnicode),addLength1:!0,objectId:F}),d("endobj");var $=m();d("<<"),d("/Descent "+h.metadata.decender),d("/CapHeight "+h.metadata.capHeight),d("/StemV "+h.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+M+" 0 R"),d("/Flags 96"),d("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),d("/FontName /"+kh(h.fontName)),d("/ItalicAngle "+h.metadata.italicAngle),d("/Ascent "+h.metadata.ascender),d(">>"),d("endobj"),h.objectNumber=m();for(var B=0;B<h.metadata.hmtx.widths.length;B++)h.metadata.hmtx.widths[B]=parseInt(h.metadata.hmtx.widths[B]*(1e3/h.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+F+" 0 R/BaseFont/"+kh(h.fontName)+"/FontDescriptor "+$+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),d("endobj"),h.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,h=o.text||"",d=o.x,m=o.y,v=o.options||{},_=o.mutex||{},A=_.pdfEscape,w=_.activeFontKey,M=_.fonts,F=w,$="",B=0,et="",tt=M[F].encoding;if(M[F].encoding!=="Identity-H")return{text:h,x:d,y:m,options:v,mutex:_};for(et=h,F=w,Array.isArray(h)&&(et=h[0]),B=0;B<et.length;B+=1)M[F].metadata.hasOwnProperty("cmap")&&(u=M[F].metadata.cmap.unicode.codeMap[et[B].charCodeAt(0)]),u||et[B].charCodeAt(0)<256&&M[F].metadata.hasOwnProperty("Unicode")?$+=et[B]:$+="";var ct="";return parseInt(F.slice(1))<14||tt==="WinAnsiEncoding"?ct=A($,F).split("").map(function(At){return At.charCodeAt(0).toString(16)}).join(""):tt==="Identity-H"&&(ct=e($,M[F])),_.isHex=!0,{text:ct,x:d,y:m,options:v,mutex:_}};t.events.push(["postProcessText",function(o){var u=o.text||"",h=[],d={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var m=0;for(m=0;m<u.length;m+=1)Array.isArray(u[m])&&u[m].length===3?h.push([s(Object.assign({},d,{text:u[m][0]})).text,u[m][1],u[m][2]]):h.push(s(Object.assign({},d,{text:u[m]})).text);o.text=h}else o.text=s(Object.assign({},d,{text:u})).text}])})(_e),(function(r){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},r.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},r.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(_e.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,o,u,h,d,m,v,_=t,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},F={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},$=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],B=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),et=!1,tt=0;this.__bidiEngine__={};var ct=function(L){var R=L.charCodeAt(),j=R>>8,ot=F[j];return ot!==void 0?_[256*ot+(255&R)]:j===252||j===253?"AL":B.test(j)?"L":j===8?"R":"N"},At=function(L){for(var R,j=0;j<L.length;j++){if((R=ct(L.charAt(j)))==="L")return!1;if(R==="R")return!0}return!1},It=function(L,R,j,ot){var _t,nt,ut,Z,bt=R[ot];switch(bt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":et=!1;break;case"N":case"AN":break;case"EN":et&&(bt="AN");break;case"AL":et=!0,bt="R";break;case"WS":case"BN":bt="N";break;case"CS":ot<1||ot+1>=R.length||(_t=j[ot-1])!=="EN"&&_t!=="AN"||(nt=R[ot+1])!=="EN"&&nt!=="AN"?bt="N":et&&(nt="AN"),bt=nt===_t?nt:"N";break;case"ES":bt=(_t=ot>0?j[ot-1]:"B")==="EN"&&ot+1<R.length&&R[ot+1]==="EN"?"EN":"N";break;case"ET":if(ot>0&&j[ot-1]==="EN"){bt="EN";break}if(et){bt="N";break}for(ut=ot+1,Z=R.length;ut<Z&&R[ut]==="ET";)ut++;bt=ut<Z&&R[ut]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for(Z=R.length,ut=ot+1;ut<Z&&R[ut]==="NSM";)ut++;if(ut<Z){var qt=L[ot],H=qt>=1425&&qt<=2303||qt===64286;if(_t=R[ut],H&&(_t==="R"||_t==="AL")){bt="R";break}}}bt=ot<1||(_t=R[ot-1])==="B"?"N":j[ot-1];break;case"B":et=!1,s=!0,bt=tt;break;case"S":o=!0,bt="N"}return bt},Q=function(L,R,j){var ot=L.split("");return j&&N(ot,j,{hiLevel:tt}),ot.reverse(),R&&R.reverse(),ot.join("")},N=function(L,R,j){var ot,_t,nt,ut,Z,bt=-1,qt=L.length,H=0,O=[],K=tt?w:A,X=[];for(et=!1,s=!1,o=!1,_t=0;_t<qt;_t++)X[_t]=ct(L[_t]);for(nt=0;nt<qt;nt++){if(Z=H,O[nt]=It(L,X,O,nt),ot=240&(H=K[Z][M[O[nt]]]),H&=15,R[nt]=ut=K[H][5],ot>0)if(ot===16){for(_t=bt;_t<nt;_t++)R[_t]=1;bt=-1}else bt=-1;if(K[H][6])bt===-1&&(bt=nt);else if(bt>-1){for(_t=bt;_t<nt;_t++)R[_t]=ut;bt=-1}X[nt]==="B"&&(R[nt]=0),j.hiLevel|=ut}o&&(function(st,dt,yt){for(var Tt=0;Tt<yt;Tt++)if(st[Tt]==="S"){dt[Tt]=tt;for(var Nt=Tt-1;Nt>=0&&st[Nt]==="WS";Nt--)dt[Nt]=tt}})(X,R,qt)},C=function(L,R,j,ot,_t){if(!(_t.hiLevel<L)){if(L===1&&tt===1&&!s)return R.reverse(),void(j&&j.reverse());for(var nt,ut,Z,bt,qt=R.length,H=0;H<qt;){if(ot[H]>=L){for(Z=H+1;Z<qt&&ot[Z]>=L;)Z++;for(bt=H,ut=Z-1;bt<ut;bt++,ut--)nt=R[bt],R[bt]=R[ut],R[ut]=nt,j&&(nt=j[bt],j[bt]=j[ut],j[ut]=nt);H=Z}H++}}},q=function(L,R,j){var ot=L.split(""),_t={hiLevel:tt};return j||(j=[]),N(ot,j,_t),(function(nt,ut,Z){if(Z.hiLevel!==0&&v)for(var bt,qt=0;qt<nt.length;qt++)ut[qt]===1&&(bt=$.indexOf(nt[qt]))>=0&&(nt[qt]=$[bt+1])})(ot,j,_t),C(2,ot,R,j,_t),C(1,ot,R,j,_t),ot.join("")};return this.__bidiEngine__.doBidiReorder=function(L,R,j){if((function(_t,nt){if(nt)for(var ut=0;ut<_t.length;ut++)nt[ut]=ut;h===void 0&&(h=At(_t)),m===void 0&&(m=At(_t))})(L,R),u||!d||m)if(u&&d&&h^m)tt=h?1:0,L=Q(L,R,j);else if(!u&&d&&m)tt=h?1:0,L=q(L,R,j),L=Q(L,R);else if(!u||h||d||m){if(u&&!d&&h^m)L=Q(L,R),h?(tt=0,L=q(L,R,j)):(tt=1,L=q(L,R,j),L=Q(L,R));else if(u&&h&&!d&&m)tt=1,L=q(L,R,j),L=Q(L,R);else if(!u&&!d&&h^m){var ot=v;h?(tt=1,L=q(L,R,j),tt=0,v=!1,L=q(L,R,j),v=ot):(tt=0,L=q(L,R,j),L=Q(L,R),tt=1,v=!1,L=q(L,R,j),v=ot,L=Q(L,R))}}else tt=0,L=q(L,R,j);else tt=h?1:0,L=q(L,R,j);return L},this.__bidiEngine__.setOptions=function(L){L&&(u=L.isInputVisual,d=L.isOutputVisual,h=L.isInputRtl,m=L.isOutputRtl,v=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(u=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?u.push([e.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):u.push([e.doBidiReorder(s[h])]);n.text=u}else n.text=e.doBidiReorder(s);e.setOptions({isInputVisual:!0})}])})(_e),_e.API.TTFFont=(function(){function r(t){var e;if(this.rawData=t,e=this.contents=new zu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new T9(this),this.registerTTF()}return r.open=function(t){return new r(t)},r.prototype.parse=function(){return this.directory=new y9(this.contents),this.head=new b9(this),this.name=new N9(this),this.cmap=new pS(this),this.toUnicode={},this.hhea=new w9(this),this.maxp=new k9(this),this.hmtx=new A9(this),this.post=new _9(this),this.os2=new x9(this),this.loca=new C9(this),this.glyf=new E9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,e,n,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,h,d,m;for(m=[],u=0,h=(d=this.bbox).length;u<h;u++)t=d[u],m.push(Math.round(t*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(e=s>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},r.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},r.prototype.widthOfString=function(t,e,n){var s,o,u,h;for(u=0,o=0,h=(t=""+t).length;0<=h?o<h:o>h;o=0<=h?++o:--o)s=t.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/e)||0;return u*(e/1e3)},r.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},r})();var bo,zu=(function(){function r(t){this.data=t??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(t){return this.data[this.pos++]=t},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},r.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},r.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},r.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(t){var e,n,s;for(s=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)s.push(this.writeByte(t.charCodeAt(e)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(t){return this.writeInt16(t)},r.prototype.readLongLong=function(){var t,e,n,s,o,u,h,d;return t=this.readByte(),e=this.readByte(),n=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^h)+(255^d)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*s+16777216*o+65536*u+256*h+d},r.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(t){return this.writeInt32(t)},r.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},r.prototype.write=function(t){var e,n,s,o;for(o=[],n=0,s=t.length;n<s;n++)e=t[n],o.push(this.writeByte(e));return o},r})(),y9=(function(){var r;function t(e){var n,s,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,s,o,u,h,d,m,v,_,A,w,M,F;for(F in w=Object.keys(e).length,d=Math.log(2),_=16*Math.floor(Math.log(w)/d),u=Math.floor(_/d),v=16*w-_,(s=new zu).writeInt(this.scalarType),s.writeShort(w),s.writeShort(_),s.writeShort(u),s.writeShort(v),o=16*w,m=s.pos+o,h=null,M=[],e)for(A=e[F],s.writeString(F),s.writeInt(r(A)),s.writeInt(m),s.writeInt(A.length),M=M.concat(A),F==="head"&&(h=m),m+=A.length;m%4;)M.push(0),m++;return s.write(M),n=2981146554-r(s.data),s.pos=h+8,s.writeUInt32(n),s.data},r=function(e){var n,s,o,u;for(e=mS.call(e);e.length%4;)e.push(0);for(o=new zu(e),s=0,n=0,u=e.length;n<u;n=n+=4)s+=o.readUInt32();return 4294967295&s},t})(),v9={}.hasOwnProperty,il=function(r,t){for(var e in t)v9.call(t,e)&&(r[e]=t[e]);function n(){this.constructor=r}return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r};bo=(function(){function r(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var b9=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return il(r,bo),r.prototype.tag="head",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},r.prototype.encode=function(t){var e;return(e=new zu).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},r})(),I4=(function(){function r(t,e){var n,s,o,u,h,d,m,v,_,A,w,M,F,$,B,et,tt;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),_=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(w=t.readUInt16(),A=w/2,t.pos+=6,o=(function(){var ct,At;for(At=[],d=ct=0;0<=A?ct<A:ct>A;d=0<=A?++ct:--ct)At.push(t.readUInt16());return At})(),t.pos+=2,F=(function(){var ct,At;for(At=[],d=ct=0;0<=A?ct<A:ct>A;d=0<=A?++ct:--ct)At.push(t.readUInt16());return At})(),m=(function(){var ct,At;for(At=[],d=ct=0;0<=A?ct<A:ct>A;d=0<=A?++ct:--ct)At.push(t.readUInt16());return At})(),v=(function(){var ct,At;for(At=[],d=ct=0;0<=A?ct<A:ct>A;d=0<=A?++ct:--ct)At.push(t.readUInt16());return At})(),s=(this.length-t.pos+this.offset)/2,h=(function(){var ct,At;for(At=[],d=ct=0;0<=s?ct<s:ct>s;d=0<=s?++ct:--ct)At.push(t.readUInt16());return At})(),d=B=0,tt=o.length;B<tt;d=++B)for($=o[d],n=et=M=F[d];M<=$?et<=$:et>=$;n=M<=$?++et:--et)v[d]===0?u=n+m[d]:(u=h[v[d]/2+(n-M)-(A-d)]||0)!==0&&(u+=m[d]),this.codeMap[n]=65535&u}t.pos=_}return r.encode=function(t,e){var n,s,o,u,h,d,m,v,_,A,w,M,F,$,B,et,tt,ct,At,It,Q,N,C,q,L,R,j,ot,_t,nt,ut,Z,bt,qt,H,O,K,X,st,dt,yt,Tt,Nt,Mt,Yt,te;switch(ot=new zu,u=Object.keys(t).sort(function(ne,jt){return ne-jt}),e){case"macroman":for(F=0,$=(function(){var ne=[];for(M=0;M<256;++M)ne.push(0);return ne})(),et={0:0},o={},_t=0,bt=u.length;_t<bt;_t++)et[Nt=t[s=u[_t]]]==null&&(et[Nt]=++F),o[s]={old:t[s],new:et[t[s]]},$[s]=et[t[s]];return ot.writeUInt16(1),ot.writeUInt16(0),ot.writeUInt32(12),ot.writeUInt16(0),ot.writeUInt16(262),ot.writeUInt16(0),ot.write($),{charMap:o,subtable:ot.data,maxGlyphID:F+1};case"unicode":for(R=[],_=[],tt=0,et={},n={},B=m=null,nt=0,qt=u.length;nt<qt;nt++)et[At=t[s=u[nt]]]==null&&(et[At]=++tt),n[s]={old:At,new:et[At]},h=et[At]-s,B!=null&&h===m||(B&&_.push(B),R.push(s),m=h),B=s;for(B&&_.push(B),_.push(65535),R.push(65535),q=2*(C=R.length),N=2*Math.pow(Math.log(C)/Math.LN2,2),A=Math.log(N/2)/Math.LN2,Q=2*C-N,d=[],It=[],w=[],M=ut=0,H=R.length;ut<H;M=++ut){if(L=R[M],v=_[M],L===65535){d.push(0),It.push(0);break}if(L-(j=n[L].new)>=32768)for(d.push(0),It.push(2*(w.length+C-M)),s=Z=L;L<=v?Z<=v:Z>=v;s=L<=v?++Z:--Z)w.push(n[s].new);else d.push(j-L),It.push(0)}for(ot.writeUInt16(3),ot.writeUInt16(1),ot.writeUInt32(12),ot.writeUInt16(4),ot.writeUInt16(16+8*C+2*w.length),ot.writeUInt16(0),ot.writeUInt16(q),ot.writeUInt16(N),ot.writeUInt16(A),ot.writeUInt16(Q),yt=0,O=_.length;yt<O;yt++)s=_[yt],ot.writeUInt16(s);for(ot.writeUInt16(0),Tt=0,K=R.length;Tt<K;Tt++)s=R[Tt],ot.writeUInt16(s);for(Mt=0,X=d.length;Mt<X;Mt++)h=d[Mt],ot.writeUInt16(h);for(Yt=0,st=It.length;Yt<st;Yt++)ct=It[Yt],ot.writeUInt16(ct);for(te=0,dt=w.length;te<dt;te++)F=w[te],ot.writeUInt16(F);return{charMap:n,subtable:ot.data,maxGlyphID:tt+1}}},r})(),pS=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return il(r,bo),r.prototype.tag="cmap",r.prototype.parse=function(t){var e,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)e=new I4(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},r.encode=function(t,e){var n,s;return e==null&&(e="macroman"),n=I4.encode(t,e),(s=new zu).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},r})(),w9=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return il(r,bo),r.prototype.tag="hhea",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},r})(),x9=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return il(r,bo),r.prototype.tag="OS/2",r.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n})(),this.charRange=(function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},r})(),_9=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return il(r,bo),r.prototype.tag="post",r.prototype.parse=function(t){var e,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)e=t.readByte(),s.push(this.names.push(t.readString(e)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var u,h,d;for(d=[],o=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;o=0<=h?++u:--u)d.push(t.readUInt32());return d}).call(this)}},r})(),S9=function(r,t){this.raw=r,this.length=r.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},N9=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return il(r,bo),r.prototype.tag="name",r.prototype.parse=function(t){var e,n,s,o,u,h,d,m,v,_,A;for(t.pos=this.offset,t.readShort(),e=t.readShort(),h=t.readShort(),n=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(d={},o=v=0,_=n.length;v<_;o=++v)s=n[o],t.pos=s.offset,m=t.readString(s.length),u=new S9(m,s),d[A=s.nameID]==null&&(d[A]=[]),d[s.nameID].push(u);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},r})(),k9=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return il(r,bo),r.prototype.tag="maxp",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},r})(),A9=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return il(r,bo),r.prototype.tag="hmtx",r.prototype.parse=function(t){var e,n,s,o,u,h,d;for(t.pos=this.offset,this.metrics=[],e=0,h=this.file.hhea.numberOfMetrics;0<=h?e<h:e>h;e=0<=h?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,v;for(v=[],e=m=0;0<=s?m<s:m>s;e=0<=s?++m:--m)v.push(t.readInt16());return v})(),this.widths=(function(){var m,v,_,A;for(A=[],m=0,v=(_=this.metrics).length;m<v;m++)o=_[m],A.push(o.advance);return A}).call(this),n=this.widths[this.widths.length-1],d=[],e=u=0;0<=s?u<s:u>s;e=0<=s?++u:--u)d.push(this.widths.push(n));return d},r.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},r})(),mS=[].slice,E9=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return il(r,bo),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(t){var e,n,s,o,u,h,d,m,v,_;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,n=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+n,u=(h=new zu(e.read(s))).readShort(),m=h.readShort(),_=h.readShort(),d=h.readShort(),v=h.readShort(),this.cache[t]=u===-1?new L9(h,m,_,d,v):new I9(h,u,m,_,d,v),this.cache[t]))},r.prototype.encode=function(t,e,n){var s,o,u,h,d;for(u=[],o=[],h=0,d=e.length;h<d;h++)s=t[e[h]],o.push(u.length),s&&(u=u.concat(s.encode(n)));return o.push(u.length),{table:u,offsets:o}},r})(),I9=(function(){function r(t,e,n,s,o,u){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),L9=(function(){function r(t,e,n,s,o){var u,h;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return r.prototype.encode=function(){var t,e,n;for(e=new zu(mS.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},r})(),C9=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return il(r,bo),r.prototype.tag="loca",r.prototype.parse=function(t){var e,n;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var s,o;for(o=[],n=0,s=this.length;n<s;n+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],n=0,s=this.length;n<s;n+=4)o.push(t.readUInt32());return o}).call(this)},r.prototype.indexOf=function(t){return this.offsets[t]},r.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},r.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<n.length;++u)if(n[u]=s,o<e.length&&e[o]==u){++o,n[u]=s;var h=this.offsets[u],d=this.offsets[u+1]-h;d>0&&(s+=d)}for(var m=new Array(4*n.length),v=0;v<n.length;++v)m[4*v+3]=255&n[v],m[4*v+2]=(65280&n[v])>>8,m[4*v+1]=(16711680&n[v])>>16,m[4*v]=(4278190080&n[v])>>24;return m},r})(),T9=(function(){function r(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var t,e,n,s,o;for(e in s=this.font.cmap.tables[0].codeMap,t={},o=this.subset)n=o[e],t[e]=s[n];return t},r.prototype.glyphsFor=function(t){var e,n,s,o,u,h,d;for(s={},u=0,h=t.length;u<h;u++)s[o=t[u]]=this.font.glyf.glyphFor(o);for(o in e=[],s)(n=s[o])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(o in d=this.glyphsFor(e))n=d[o],s[o]=n;return s},r.prototype.encode=function(t,e){var n,s,o,u,h,d,m,v,_,A,w,M,F,$,B;for(s in n=pS.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),w={0:0},B=n.charMap)w[(d=B[s]).old]=d.new;for(M in A=n.maxGlyphID,u)M in w||(w[M]=A++);return v=(function(et){var tt,ct;for(tt in ct={},et)ct[et[tt]]=tt;return ct})(w),_=Object.keys(v).sort(function(et,tt){return et-tt}),F=(function(){var et,tt,ct;for(ct=[],et=0,tt=_.length;et<tt;et++)h=_[et],ct.push(v[h]);return ct})(),o=this.font.glyf.encode(u,F,w),m=this.font.loca.encode(o.offsets,F),$={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&($["OS/2"]=this.font.os2.raw()),this.font.directory.encode($)},r})();_e.API.PDFObject=(function(){var r;function t(){}return r=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,s,o,u;if(Array.isArray(e))return"["+(function(){var h,d,m;for(m=[],h=0,d=e.length;h<d;h++)n=e[h],m.push(t.convert(n));return m})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+r(e.getUTCFullYear(),4)+r(e.getUTCMonth(),2)+r(e.getUTCDate(),2)+r(e.getUTCHours(),2)+r(e.getUTCMinutes(),2)+r(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(s in o=["<<"],e)u=e[s],o.push("/"+s+" "+t.convert(u));return o.push(">>"),o.join(`
`)}return""+e},t})();const Z0="florale_customer_info",L4="florale_billing_history",C4="florale_billing_drafts",P9="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRssaEpDZ2QDfCM4FHEBDx6C9lJ2VolMcKtvm3QdvSxTcDrWnMjzAUAja636gNn0LBYlbY&usqp=CAU";function O9({selectedProducts:r,setSelectedProducts:t}){const[e,n]=Ge.useState(()=>{try{const N=localStorage.getItem(Z0);return N&&JSON.parse(N).name||""}catch{return""}}),[s,o]=Ge.useState(()=>{try{const N=localStorage.getItem(Z0);return N&&JSON.parse(N).phone||""}catch{return""}}),[u,h]=Ge.useState("none"),[d,m]=Ge.useState(0),[v,_]=Ge.useState("");Ge.useEffect(()=>{try{localStorage.setItem(Z0,JSON.stringify({name:e,phone:s}))}catch(N){console.error("Error saving customer info:",N)}},[e,s]);const A=(N,C,q)=>{if(C<=0){w(N,q);return}t(r.map(L=>L.id===N&&L.priceType===q?{...L,quantity:C}:L))},w=(N,C)=>{t(r.filter(q=>!(q.id===N&&q.priceType===C)))},M=Ge.useMemo(()=>{let N=0,C=0;r.forEach(ot=>{const _t=(ot.selectedPrice||ot.price)*ot.quantity;N+=_t,ot.discountType==="percentage"?C+=_t*ot.discountValue/100:ot.discountType==="amount"&&(C+=ot.discountValue*ot.quantity)});const q=N-C;let L=0;u==="percentage"?L=q*d/100:u==="amount"&&(L=d);const R=C+L,j=N-R;return{subtotal:N,productDiscount:C,cartDiscount:L,totalDiscount:R,total:j}},[r,u,d]);Ge.useEffect(()=>{r.length>0?_(parseFloat(M.total.toFixed(2))):_("")},[M.total,r.length]);const F=()=>{if(r.length===0){alert(" Please add at least one product");return}const N=At();It(N)},$=async()=>{if(r.length===0){alert(" Please add at least one product");return}const N=At();if(navigator.share)try{await navigator.share({title:"Florale Invoice",text:N})}catch(C){console.error("Error sharing:",C)}else navigator.clipboard.writeText(N),alert("Invoice copied to clipboard!")},B=N=>{if(N===0)return"Zero";const C=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],q=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],L=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],R=Z=>{if(Z===0)return"";if(Z<10)return C[Z];if(Z<20)return L[Z-10];if(Z<100){const H=Math.floor(Z/10),O=Z%10;return q[H]+(O?" "+C[O]:"")}const bt=Math.floor(Z/100),qt=Z%100;return C[bt]+" Hundred"+(qt?" "+R(qt):"")},j=Math.floor(N/1e7),ot=Math.floor(N%1e7/1e5),_t=Math.floor(N%1e5/1e3),nt=N%1e3;let ut="";return j&&(ut+=R(j)+" Crore "),ot&&(ut+=R(ot)+" Lakh "),_t&&(ut+=R(_t)+" Thousand "),nt&&(ut+=R(nt)),ut.trim()},et=()=>{if(r.length===0){alert(" Please add at least one product");return}try{const N=new _e,C=Date.now().toString().slice(-6),q=new Date().toLocaleDateString("en-GB"),L="/pdf background.jpeg",R=N.internal.pageSize.height,j=N.internal.pageSize.width,ot=40,_t=()=>{N.addImage(L,"JPEG",0,0,j,R,void 0,"FAST")};_t();const nt={r:70,g:70,b:70};N.setDrawColor(200,200,200),N.setLineWidth(.5),N.line(0,60,210,60),N.addImage("/Florale Logo-09.png","PNG",15,2,50,50,void 0,"FAST"),N.setTextColor(nt.r,nt.g,nt.b),N.setFontSize(9),N.setFont("helvetica","normal"),N.text("Phone: +91 7594011460",80,33),N.text("Email: Florale.ind@gmail.com",80,39),N.setFontSize(16),N.setFont("helvetica","bold"),N.text("TAX INVOICE",195,30,{align:"right"}),N.setTextColor(0,0,0),N.setFontSize(10),N.setFont("helvetica","bold"),N.setTextColor(nt.r,nt.g,nt.b),N.text("BILL TO",18,73),N.setFont("helvetica","normal"),N.setFontSize(9),N.setTextColor(0,0,0),e&&N.text(e,18,79),s&&N.text(`Phone: ${s}`,18,85),N.setFont("helvetica","bold"),N.setFontSize(10),N.setTextColor(nt.r,nt.g,nt.b),N.text("INVOICE DETAILS",192,73,{align:"right"}),N.setFont("helvetica","normal"),N.setFontSize(9),N.setTextColor(0,0,0),N.text(`Invoice #: ${C}`,192,79,{align:"right"}),N.text(`Date: ${q}`,192,85,{align:"right"});let ut=100;const Z=()=>{N.setTextColor(0,0,0),N.setFont("helvetica","bold"),N.setFontSize(9),N.text("#",18,ut+6.5),N.text("ITEM NAME",28,ut+6.5),N.text("QTY",90,ut+6.5,{align:"center"}),N.text("PRICE/UNIT",122,ut+6.5,{align:"right"}),N.text("DISCOUNT",152,ut+6.5,{align:"right"}),N.text("AMOUNT",192,ut+6.5,{align:"right"}),ut+=12};Z(),N.setTextColor(0,0,0),N.setFont("helvetica","normal");let bt=0;r.forEach((st,dt)=>{ut>R-ot&&(N.addPage(),_t(),ut=20,Z());const yt=st.selectedPrice||st.price,Tt=yt*st.quantity;let Nt=0,Mt=0;st.discountType==="percentage"?(Nt=Tt*st.discountValue/100,Mt=st.discountValue):st.discountType==="amount"&&(Nt=st.discountValue*st.quantity,Mt=Nt/Tt*100);const Yt=Tt-Nt;bt+=st.quantity,N.setFontSize(9),N.text(`${dt+1}`,18,ut);let te=st.name.substring(0,25);st.priceType&&(te+=` (${st.priceType==="retail"?"R":"W"})`),N.text(te,28,ut),N.text(`${st.quantity}`,90,ut,{align:"center"}),N.text(`Rs ${yt.toLocaleString("en-IN",{minimumFractionDigits:2})}`,122,ut,{align:"right"}),Nt>0?N.text(`Rs ${Nt.toLocaleString("en-IN",{minimumFractionDigits:2})} (${Mt.toFixed(1)}%)`,152,ut,{align:"right"}):N.text("-",152,ut,{align:"right"}),N.text(`Rs ${Yt.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,ut,{align:"right"}),ut+=7}),ut>R-ot-60&&(N.addPage(),_t(),ut=20),ut+=2,N.setFont("helvetica","bold"),N.setFontSize(9),N.setTextColor(nt.r,nt.g,nt.b),N.text("TOTAL",28,ut),N.setTextColor(0,0,0),N.text(`${bt}`,90,ut,{align:"center"}),N.text(`Rs ${M.totalDiscount.toLocaleString("en-IN",{minimumFractionDigits:2})}`,152,ut,{align:"right"}),N.text(`Rs ${M.total.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,ut,{align:"right"}),ut+=15,N.setFont("helvetica","bold"),N.setFontSize(9),N.setTextColor(nt.r,nt.g,nt.b),N.text("AMOUNT IN WORDS",15,ut),N.setFont("helvetica","normal"),N.setFontSize(10),N.setTextColor(0,0,0);const qt=B(Math.floor(M.total));N.text(`Rupees ${qt} Only`,15,ut+6,{maxWidth:100});let H=ut-18;N.setFont("helvetica","normal"),N.setFontSize(9),N.setTextColor(0,0,0),N.text("Sub Total",130,H),N.text(`Rs ${M.subtotal.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,H,{align:"right"}),H+=6,M.productDiscount>0&&(N.text("Product Discount",130,H),N.text(`- Rs ${M.productDiscount.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,H,{align:"right"}),H+=6),M.cartDiscount>0&&(N.text("Special Discount",130,H),N.text(`- Rs ${M.cartDiscount.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,H,{align:"right"}),H+=6),M.totalDiscount>0&&(H+=4,N.setDrawColor(nt.r,nt.g,nt.b),N.setLineWidth(.5),N.line(130,H,195,H),H+=5,N.setFont("helvetica","bold"),N.text("Total Discount",130,H),N.text(`- Rs ${M.totalDiscount.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,H,{align:"right"}),N.setFont("helvetica","normal"),H+=6),N.setFont("helvetica","bold"),N.setFontSize(10),N.text("TOTAL",130,H),N.text(`Rs ${M.total.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,H,{align:"right"}),H+=9;const O=Number(v)||0;N.setFont("helvetica","normal"),N.text("Received",130,H),N.text(`Rs ${O.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,H,{align:"right"}),H+=6;const K=Math.max(0,M.total-O);N.setFont("helvetica","bold"),N.text("Balance Due",130,H),N.text(`Rs ${K.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,H,{align:"right"}),H+=6,M.totalDiscount>0&&(N.setFont("helvetica","bold"),N.text("YOU SAVED",130,H),N.text(`Rs ${M.totalDiscount.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,H,{align:"right"})),ut+=18,N.setFont("helvetica","bold"),N.setFontSize(9),N.setTextColor(nt.r,nt.g,nt.b),N.text("TERMS & CONDITIONS",15,ut),N.setFont("helvetica","normal"),N.setFontSize(8),N.setTextColor(0,0,0),N.text("Thank you for doing business with us.",15,ut+6),Math.max(ut,H)+20>R-ot&&(N.addPage(),_t());const X=R-30;N.setFont("helvetica","normal"),N.setFontSize(8),N.setTextColor(100,100,100),N.text("For: Florale",195,X,{align:"right"}),N.addImage("/signature.png","JPEG",160,X+3,30,15,void 0,"FAST"),N.setFont("helvetica","bold"),N.setFontSize(8),N.setTextColor(0,0,0),N.text("Authorized Signatory",195,X+20,{align:"right"}),N.save(`Florale-Invoice-${C}.pdf`),alert(" Invoice downloaded as PDF!")}catch(N){console.error("Error generating PDF:",N),alert(" Failed to generate PDF")}},tt=()=>{if(r.length===0){alert(" Please add at least one product");return}try{const N=localStorage.getItem(L4),C=N?JSON.parse(N):[],q={id:Date.now().toString(),invoiceNumber:`INV-${Date.now()}`,date:new Date().toISOString(),customerName:e,customerPhone:s,products:[...r],subtotal:M.subtotal,totalDiscount:M.totalDiscount,total:M.total};C.unshift(q),localStorage.setItem(L4,JSON.stringify(C)),alert(" Billing saved successfully!"),t([]),n(""),o(""),h("none"),m(0),_("")}catch(N){console.error("Error saving billing:",N),alert(" Failed to save billing")}},ct=()=>{if(r.length===0){alert(" Please add at least one product to save as draft");return}try{const N={id:Date.now().toString(),savedAt:new Date().toISOString(),customerName:e,customerPhone:s,products:[...r],cartDiscountType:u,cartDiscountValue:d},C=localStorage.getItem(C4),q=C?JSON.parse(C):[];q.unshift(N),localStorage.setItem(C4,JSON.stringify(q)),alert(" Billing saved as draft!"),t([]),n(""),o(""),h("none"),m(0),_("")}catch(N){console.error("Error saving draft:",N),alert(" Failed to save draft")}},At=()=>{const N=new Date().toLocaleDateString(),C=`INV-${Date.now()}`;let q=`*FLORALE INVOICE*

`;return q+=`Invoice #: ${C}
`,q+=`Date: ${N}

`,e&&(q+=`Customer: ${e}
`),s&&(q+=`Phone: ${s}
`),q+=`


`,q+=`*ITEMS:*

`,r.forEach(L=>{const R=L.price*L.quantity;if(q+=`${L.name}
`,q+=`  ${L.quantity}  ${L.price} = ${R}
`,L.discountType!=="none"&&L.discountValue>0){const j=L.discountType==="percentage"?`${L.discountValue}%`:`${L.discountValue}`;q+=`  Discount: ${j}
`}q+=`
`}),q+=`

`,q+=`Subtotal: ${M.subtotal.toFixed(2)}
`,q+=`Discount: -${M.totalDiscount.toFixed(2)}
`,q+=`*Total: ${M.total.toFixed(2)}*

`,q+=`

`,q+="Thank you for your business! ",q},It=N=>{const C=`https://wa.me/?text=${encodeURIComponent(N)}`;window.open(C,"_blank")},Q=()=>{confirm("Clear all items from the bill?")&&(t([]),n(""),o(""),h("none"),m(0),_(""))};return E.jsx(E.Fragment,{children:r.length===0?E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[E.jsx("span",{className:"text-6xl block mb-4",children:""}),E.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Items in Cart"}),E.jsx("p",{className:"text-gray-600",children:"Go to Products page and add items to the cart to create a bill"})]}):E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Customer Information"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsx("input",{type:"text",placeholder:"Customer Name (Optional)",value:e,onChange:N=>n(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none"}),E.jsx("input",{type:"tel",placeholder:"Customer Phone (Optional)",value:s,onChange:N=>o(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none"})]})]}),E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[E.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:["Cart Items (",r.length,")"]}),E.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:r.map(N=>{const C=N.selectedPrice||N.price,q=C*N.quantity;let L=0;N.discountType==="percentage"?L=q*N.discountValue/100:N.discountType==="amount"&&(L=N.discountValue*N.quantity);const R=q-L;return E.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:E.jsxs("div",{className:"flex gap-4 mb-3",children:[E.jsx("img",{src:N.imageUrl||P9,alt:N.name,className:"w-20 h-20 object-contain bg-white rounded-lg border border-gray-200"}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-start justify-between mb-2",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("h4",{className:"font-semibold text-gray-800",children:N.name}),E.jsx("p",{className:"text-sm text-gray-500 capitalize",children:N.category}),N.priceType&&E.jsx("span",{className:`inline-block text-xs font-semibold px-2 py-0.5 rounded mt-1 ${N.priceType==="retail"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:N.priceType==="retail"?" Retail":" Wholesale"}),E.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["",C,"  ",N.quantity," = ",q.toFixed(2)]}),L>0&&E.jsxs("p",{className:"text-sm text-amber-600",children:["Discount: -",L.toFixed(2)]})]}),E.jsx("button",{onClick:()=>w(N.id,N.priceType),className:"text-red-500 hover:text-red-700 p-1",title:"Remove item",children:""})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>A(N.id,N.quantity-1,N.priceType),className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded flex items-center justify-center font-bold",children:""}),E.jsx("input",{type:"number",value:N.quantity,onChange:j=>A(N.id,parseInt(j.target.value)||1,N.priceType),className:"w-16 text-center border border-gray-300 rounded px-2 py-1",min:"1"}),E.jsx("button",{onClick:()=>A(N.id,N.quantity+1,N.priceType),className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded flex items-center justify-center font-bold",children:"+"})]}),E.jsx("div",{className:"text-right",children:E.jsxs("p",{className:"text-lg font-bold text-indigo-600",children:["",R.toFixed(2)]})})]})]})]})},`${N.id}-${N.priceType}`)})})]})]}),E.jsx("div",{className:"lg:col-span-1",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-6 space-y-4",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Bill Summary"}),E.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),E.jsxs("span",{className:"font-semibold",children:["",M.subtotal.toFixed(2)]})]}),M.productDiscount>0&&E.jsxs("div",{className:"flex justify-between text-amber-600",children:[E.jsx("span",{children:"Product Discounts:"}),E.jsxs("span",{className:"font-semibold",children:["-",M.productDiscount.toFixed(2)]})]})]}),E.jsxs("div",{className:"pb-4 border-b",children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Special Cart Discount"}),E.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[E.jsxs("select",{value:u,onChange:N=>h(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-sm",children:[E.jsx("option",{value:"none",children:"No Discount"}),E.jsx("option",{value:"percentage",children:"Percentage %"}),E.jsx("option",{value:"amount",children:"Amount "})]}),E.jsx("input",{type:"number",value:d,onChange:N=>m(parseFloat(N.target.value)||0),disabled:u==="none",placeholder:"0",min:"0",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-sm disabled:bg-gray-100"})]}),M.cartDiscount>0&&E.jsxs("div",{className:"flex justify-between text-green-600 text-sm font-medium",children:[E.jsx("span",{children:"Cart Discount:"}),E.jsxs("span",{children:["-",M.cartDiscount.toFixed(2)]})]})]}),E.jsxs("div",{className:"space-y-2 pb-4 border-b",children:[M.totalDiscount>0&&E.jsxs("div",{className:"flex justify-between text-amber-600",children:[E.jsx("span",{className:"font-semibold",children:"Total Discount:"}),E.jsxs("span",{className:"font-bold",children:["-",M.totalDiscount.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-800 pt-2 border-t-2 border-gray-300",children:[E.jsx("span",{children:"Grand Total:"}),E.jsxs("span",{className:"text-indigo-600",children:["",M.total.toFixed(2)]})]})]}),E.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Received Amount"}),E.jsx("input",{type:"number",step:"0.01",value:v,onChange:N=>{const C=N.target.value;if(C==="")_("");else{const q=parseFloat(C);_(isNaN(q)?"":q)}},placeholder:"0.00",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-sm"})]}),E.jsxs("div",{className:"flex justify-between text-base font-bold",children:[E.jsx("span",{className:"text-gray-700",children:"Balance Due:"}),E.jsxs("span",{className:`${M.total-(Number(v)||0)>0?"text-red-600":"text-green-600"}`,children:["",Math.max(0,M.total-(Number(v)||0)).toFixed(2)]})]}),(Number(v)||0)>M.total&&E.jsxs("div",{className:"flex justify-between text-sm font-semibold text-green-600",children:[E.jsx("span",{children:"Change to Return:"}),E.jsxs("span",{children:["",((Number(v)||0)-M.total).toFixed(2)]})]})]}),E.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[E.jsxs("button",{onClick:ct,disabled:r.length===0,className:"w-full py-2.5 bg-amber-600 hover:bg-amber-700 text-white font-medium rounded-lg shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[E.jsx("span",{children:""})," Save as Draft"]}),E.jsxs("button",{onClick:tt,disabled:r.length===0,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[E.jsx("span",{children:""})," Save Billing"]}),E.jsxs("button",{onClick:F,disabled:r.length===0,className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[E.jsx("span",{children:""})," Share on WhatsApp"]}),E.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[E.jsxs("button",{onClick:$,disabled:r.length===0,className:"py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-1 text-sm",children:[E.jsx("span",{children:""})," Share"]}),E.jsxs("button",{onClick:et,disabled:r.length===0,className:"py-2 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white font-medium rounded-lg shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-1 text-sm border border-gray-700",children:[E.jsx("span",{children:""})," Download PDF"]})]}),E.jsx("button",{onClick:Q,disabled:r.length===0,className:"w-full py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear Bill"})]})]})})]})})}const T4="florale_billing_history";function R9(){const[r,t]=Ge.useState([]),[e,n]=Ge.useState(null),[s,o]=Ge.useState("");Ge.useEffect(()=>{u()},[]);const u=()=>{try{const _=localStorage.getItem(T4);t(_?JSON.parse(_):[])}catch(_){console.error("Error loading billing history:",_),t([])}},h=_=>{if(confirm("Are you sure you want to delete this billing record?"))try{const A=r.filter(w=>w.id!==_);localStorage.setItem(T4,JSON.stringify(A)),t(A),e?.id===_&&n(null),alert(" Billing record deleted")}catch(A){console.error("Error deleting billing:",A),alert(" Failed to delete billing record")}},d=_=>{const A=m(_),w=`https://wa.me/?text=${encodeURIComponent(A)}`;window.open(w,"_blank")},m=_=>{const A=new Date(_.date).toLocaleDateString();let w=`*FLORALE INVOICE*

`;return w+=`Invoice #: ${_.invoiceNumber}
`,w+=`Date: ${A}

`,_.customerName&&(w+=`Customer: ${_.customerName}
`),_.customerPhone&&(w+=`Phone: ${_.customerPhone}
`),w+=`


`,w+=`*ITEMS:*

`,_.products.forEach(M=>{const F=M.price*M.quantity;if(w+=`${M.name}
`,w+=`  ${M.quantity}  ${M.price} = ${F}
`,M.discountType!=="none"&&M.discountValue>0){const $=M.discountType==="percentage"?`${M.discountValue}%`:`${M.discountValue}`;w+=`  Discount: ${$}
`}w+=`
`}),w+=`

`,w+=`Subtotal: ${_.subtotal.toFixed(2)}
`,w+=`Discount: -${_.totalDiscount.toFixed(2)}
`,w+=`*Total: ${_.total.toFixed(2)}*

`,w+=`

`,w+="Thank you for your business! ",w},v=r.filter(_=>{if(!s)return!0;const A=s.toLowerCase();return _.invoiceNumber.toLowerCase().includes(A)||_.customerName.toLowerCase().includes(A)||_.customerPhone.includes(A)});return r.length===0?E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[E.jsx("span",{className:"text-6xl block mb-4",children:""}),E.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Billing History"}),E.jsx("p",{className:"text-gray-600",children:"Saved billings will appear here"})]}):E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[E.jsx("div",{className:"lg:col-span-1",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Billing History"}),E.jsx("input",{type:"text",placeholder:" Search by invoice, customer...",value:s,onChange:_=>o(_.target.value),className:"w-full px-4 py-2 mb-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-sm"}),E.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:v.length>0?v.map(_=>E.jsxs("div",{onClick:()=>n(_),className:`p-3 border-2 rounded-lg cursor-pointer transition-all ${e?.id===_.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-indigo-300"}`,children:[E.jsxs("div",{className:"flex items-start justify-between mb-1",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"font-semibold text-sm text-gray-800",children:_.invoiceNumber}),E.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(_.date).toLocaleDateString()," ",new Date(_.date).toLocaleTimeString()]})]}),E.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:["",_.total.toFixed(2)]})]}),_.customerName&&E.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[" ",_.customerName]}),E.jsxs("p",{className:"text-xs text-gray-500",children:[_.products.length," items"]})]},_.id)):E.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No results found"})})]})}),E.jsx("div",{className:"lg:col-span-2",children:e?E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[E.jsxs("div",{className:"flex items-start justify-between mb-6",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.invoiceNumber}),E.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(e.date).toLocaleDateString()," at"," ",new Date(e.date).toLocaleTimeString()]})]}),E.jsx("button",{onClick:()=>h(e.id),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm",children:" Delete"})]}),(e.customerName||e.customerPhone)&&E.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[E.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Customer Information"}),e.customerName&&E.jsxs("p",{className:"text-sm text-gray-600",children:["Name: ",e.customerName]}),e.customerPhone&&E.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",e.customerPhone]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Items"}),E.jsx("div",{className:"space-y-3",children:e.products.map((_,A)=>{const w=_.price*_.quantity;let M=0;_.discountType==="percentage"?M=w*_.discountValue/100:_.discountType==="amount"&&(M=_.discountValue*_.quantity);const F=w-M;return E.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[E.jsx("div",{className:"flex items-start justify-between mb-2",children:E.jsxs("div",{className:"flex-1",children:[E.jsx("h5",{className:"font-semibold text-sm text-gray-800",children:_.name}),E.jsx("p",{className:"text-xs text-gray-500 capitalize",children:_.category}),E.jsxs("p",{className:"text-xs text-gray-600",children:[_.quantity,"  ",_.price," = ",w.toFixed(2)]})]})}),M>0&&E.jsxs("p",{className:"text-xs text-amber-600",children:["Discount: -",M.toFixed(2)]}),E.jsxs("p",{className:"text-sm font-semibold text-indigo-600 mt-1",children:["Total: ",F.toFixed(2)]})]},A)})})]}),E.jsx("div",{className:"border-t-2 border-gray-200 pt-4 mb-6",children:E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex justify-between text-sm",children:[E.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),E.jsxs("span",{className:"font-medium",children:["",e.subtotal.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between text-sm text-amber-600",children:[E.jsx("span",{children:"Total Discount:"}),E.jsxs("span",{className:"font-medium",children:["-",e.totalDiscount.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-800 pt-2 border-t-2 border-gray-300",children:[E.jsx("span",{children:"Final Total:"}),E.jsxs("span",{className:"text-indigo-600",children:["",e.total.toFixed(2)]})]})]})}),E.jsx("div",{className:"space-y-2",children:E.jsxs("button",{onClick:()=>d(e),className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md transition-all flex items-center justify-center gap-2",children:[E.jsx("span",{children:""})," Share on WhatsApp"]})})]}):E.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[E.jsx("span",{className:"text-6xl block mb-4",children:""}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Select a Billing Record"}),E.jsx("p",{className:"text-gray-600",children:"Click on a billing from the list to view details"})]})})]})}const t1="florale_billing_drafts";function j9({onRestoreDraft:r}){const[t,e]=Ge.useState([]);Ge.useEffect(()=>{n()},[]);const n=()=>{try{const u=localStorage.getItem(t1);e(u?JSON.parse(u):[])}catch(u){console.error("Error loading drafts:",u),e([])}},s=u=>{if(confirm("Delete this draft?"))try{const h=t.filter(d=>d.id!==u);localStorage.setItem(t1,JSON.stringify(h)),e(h),alert(" Draft deleted!")}catch(h){console.error("Error deleting draft:",h),alert(" Failed to delete draft")}},o=u=>{try{const h=t.filter(d=>d.id!==u.id);localStorage.setItem(t1,JSON.stringify(h)),e(h),r&&r(u)}catch(h){console.error("Error restoring draft:",h),alert(" Failed to restore draft")}};return E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Draft Billings"}),E.jsx("p",{className:"text-gray-600",children:"View and restore saved billing drafts"})]}),t.length===0?E.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300",children:[E.jsx("span",{className:"text-6xl mb-4 block",children:""}),E.jsx("p",{className:"text-gray-600 text-lg",children:"No drafts saved yet"}),E.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Save in-progress billings as drafts to come back later"})]}):E.jsx("div",{className:"grid gap-4",children:t.map(u=>{const h=new Date(u.savedAt),d=u.products.reduce((m,v)=>{let _=v.price*v.quantity;return v.discountType==="percentage"?_-=_*v.discountValue/100:v.discountType==="amount"&&(_-=v.discountValue*v.quantity),m+_},0);return E.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 md:p-6 hover:border-amber-400 hover:shadow-lg transition-all",children:E.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[E.jsx("div",{className:"bg-amber-100 text-amber-700 p-3 rounded-lg",children:E.jsx("span",{className:"text-2xl",children:""})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-lg text-gray-900",children:u.customerName||"No customer name"}),u.customerPhone&&E.jsx("p",{className:"text-sm text-gray-500",children:u.customerPhone})]})]}),E.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[E.jsxs("span",{className:"bg-blue-100 text-blue-700 px-3 py-1.5 rounded-lg text-sm font-medium",children:[u.products.length," item",u.products.length!==1?"s":""]}),E.jsxs("span",{className:"bg-green-100 text-green-700 px-3 py-1.5 rounded-lg text-sm font-bold",children:["",d.toFixed(2)]}),E.jsxs("span",{className:"bg-gray-100 text-gray-700 px-3 py-1.5 rounded-lg text-sm",children:[h.toLocaleDateString(),"  ",h.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),E.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[E.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Products:"}),E.jsx("p",{className:"text-sm text-gray-700",children:u.products.map(m=>`${m.name} (${m.quantity})`).join(", ")})]}),u.cartDiscountType!=="none"&&E.jsxs("div",{className:"mt-2 text-sm text-amber-700 bg-amber-50 px-3 py-1 rounded inline-block",children:["Cart Discount: ",u.cartDiscountType==="percentage"?`${u.cartDiscountValue}%`:`${u.cartDiscountValue}`]})]}),E.jsxs("div",{className:"flex lg:flex-col gap-2",children:[E.jsxs("button",{onClick:()=>o(u),className:"flex-1 lg:flex-initial px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-semibold transition-all flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[E.jsx("span",{children:""})," Restore & Continue"]}),E.jsx("button",{onClick:()=>s(u.id),className:"px-4 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all shadow-md hover:shadow-lg",title:"Delete draft",children:""})]})]})},u.id)})})]})}const P4="florale_cart";function F9(){const{user:r,isAuthenticated:t,isLoading:e,signOut:n}=S_(),[s,o]=Ge.useState("products"),[u,h]=Ge.useState(!1),[d,m]=Ge.useState(()=>{try{const A=localStorage.getItem(P4);return A?JSON.parse(A):[]}catch(A){return console.error("Error loading cart from localStorage:",A),[]}});Ge.useEffect(()=>{try{localStorage.setItem(P4,JSON.stringify(d))}catch(A){console.error("Error saving cart to localStorage:",A)}},[d]);const v=A=>{const w=d.find(M=>M.id===A.id&&M.priceType===A.priceType);if(w){m(d.map(F=>F.id===A.id&&F.priceType===A.priceType?{...F,quantity:F.quantity+1}:F));const M=A.priceType==="retail"?"Retail":"Wholesale";alert(`Added another ${A.name} (${M}) to cart! (${w.quantity+1} total)`)}else{const M={...A,quantity:A.quantity||1,priceType:A.priceType||"retail",selectedPrice:A.selectedPrice||A.price};m([...d,M]);const F=M.priceType==="retail"?"Retail":"Wholesale";alert(`${A.name} (${F}) added to cart!`)}},_=A=>{d.length>0&&!confirm(" You have items in the current cart. Restoring this draft will replace them. Continue?")||(m(A.products),o("billing"),alert(" Draft restored! Continue billing in the Billing tab."))};return e?E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-indigo-600 mx-auto mb-4"}),E.jsx("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}):!t||!r?E.jsx(jC,{}):E.jsxs("div",{className:"flex h-screen bg-gray-100 overflow-hidden",children:[E.jsx("button",{onClick:()=>h(!u),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-gradient-to-r from-gray-900 to-black text-white rounded-lg shadow-lg border border-gray-700",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u?E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),u&&E.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>h(!1)}),E.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-40
        w-64 bg-gradient-to-b from-gray-900 via-gray-800 to-black text-white
        flex flex-col shadow-2xl
        transform transition-transform duration-300 ease-in-out
        ${u?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[E.jsxs("div",{className:"p-6 border-b border-white/10",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E.jsx("img",{src:"/Florale Logo-09.png",alt:"Florale Logo",className:"h-10 w-auto object-contain"}),E.jsx("h1",{className:"text-2xl font-bold",children:"Florale"})]}),E.jsx("p",{className:"text-xs text-indigo-200",children:"Management Portal"})]}),E.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[E.jsxs("button",{onClick:()=>{o("dashboard"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${s==="dashboard"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("span",{children:"Dashboard"})]}),E.jsxs("button",{onClick:()=>{o("products"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${s==="products"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("span",{children:"All Products"})]}),E.jsxs("button",{onClick:()=>{o("add-product"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${s==="add-product"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[E.jsx("span",{className:"text-xl",style:{color:"#d97706"},children:""}),E.jsx("span",{children:"Add Product"})]}),E.jsxs("button",{onClick:()=>{o("categories"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${s==="categories"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("span",{children:"Categories"})]}),E.jsxs("button",{onClick:()=>{o("billing"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${s==="billing"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("span",{children:"Billing"}),d.length>0&&E.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:d.length})]}),E.jsxs("button",{onClick:()=>{o("billing-history"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${s==="billing-history"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("span",{children:"Billing History"})]}),E.jsxs("button",{onClick:()=>{o("drafts"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${s==="drafts"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[E.jsx("span",{className:"text-xl",children:""}),E.jsx("span",{children:"Drafts"})]})]}),E.jsxs("div",{className:"p-4 border-t border-white/10",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[E.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center font-bold text-white",children:(r.email?.[0]||"A").toUpperCase()}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"text-sm font-medium truncate",children:r.name||"Admin"}),E.jsx("p",{className:"text-xs text-indigo-200 truncate",children:r.email})]})]}),E.jsx("button",{onClick:n,className:"w-full px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-white rounded-lg font-medium transition-all text-sm",children:" Sign Out"})]})]}),E.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden lg:ml-0",children:[E.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 lg:px-8 py-4 shadow-sm",children:[E.jsx("div",{className:"flex items-center justify-between mb-3",children:E.jsxs("div",{className:"lg:ml-0 ml-12",children:[E.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:[s==="dashboard"&&" Dashboard",s==="products"&&" All Products",s==="add-product"&&" Add New Product",s==="categories"&&" Category Management",s==="billing"&&" Billing",s==="billing-history"&&" Billing History",s==="drafts"&&" Draft Billings"]}),E.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 hidden sm:block",children:[s==="dashboard"&&"Overview of your business metrics",s==="products"&&"View and manage your product inventory",s==="add-product"&&"Add a new product to your inventory",s==="categories"&&"Organize products with categories",s==="billing"&&"Create and manage invoices",s==="billing-history"&&"View past billing records",s==="drafts"&&"Manage saved billing drafts"]})]})}),s==="products"&&E.jsx("div",{id:"products-search-filter-container",className:"mt-3"})]}),E.jsxs("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 sm:p-6 lg:p-8",children:[s==="products"&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("div",{children:E.jsx("p",{className:"text-gray-600",children:"Manage your product inventory"})}),E.jsxs("button",{onClick:()=>o("add-product"),className:"px-6 py-3 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all flex items-center gap-2 border border-gray-700 active:scale-95",children:[E.jsx("span",{children:""})," Add New Product"]})]}),E.jsx("div",{className:"bg-white rounded-lg shadow-md",children:E.jsx(BC,{onAddToCart:v})})]}),s==="add-product"&&E.jsx("div",{className:"max-w-4xl mx-auto",children:E.jsx("div",{className:"bg-white rounded-lg shadow-md p-8",children:E.jsx(DC,{onSuccess:()=>o("products")})})}),s==="categories"&&E.jsx("div",{className:"max-w-6xl mx-auto",children:E.jsx("div",{className:"bg-white rounded-lg shadow-md p-8",children:E.jsx(qC,{})})}),s==="billing"&&E.jsx(O9,{selectedProducts:d,setSelectedProducts:m}),s==="billing-history"&&E.jsx(R9,{}),s==="drafts"&&E.jsx(j9,{onRestoreDraft:_}),s==="dashboard"&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-black rounded-lg shadow-xl p-8 text-white border border-gray-700",children:[E.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",r.name||"Admin","! "]}),E.jsx("p",{className:"text-gray-300",children:"Here's what's happening with your store today"})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Quick Actions"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[E.jsxs("button",{onClick:()=>o("products"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-indigo-500 text-left group",children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),E.jsx("span",{className:"text-gray-400 group-hover:text-indigo-600",children:""})]}),E.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"All Products"}),E.jsx("p",{className:"text-sm text-gray-600",children:"View and manage your inventory"})]}),E.jsxs("button",{onClick:()=>o("add-product"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-yellow-500 text-left group",children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),E.jsx("span",{className:"text-gray-400 group-hover:text-yellow-600",children:""})]}),E.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Add Product"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Add new items to your store"})]}),E.jsxs("button",{onClick:()=>o("categories"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-purple-500 text-left group",children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),E.jsx("span",{className:"text-gray-400 group-hover:text-purple-600",children:""})]}),E.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Categories"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Organize your products"})]}),E.jsxs("button",{onClick:()=>o("billing"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-green-500 text-left group",children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),E.jsx("span",{className:"text-gray-400 group-hover:text-green-600",children:""})]}),E.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Create Bill"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Generate new invoices"}),d.length>0&&E.jsx("div",{className:"mt-2",children:E.jsxs("span",{className:"inline-block bg-red-100 text-red-600 text-xs font-bold px-2 py-1 rounded-full",children:[d.length," items in cart"]})})]}),E.jsxs("button",{onClick:()=>o("billing-history"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-indigo-500 text-left group",children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),E.jsx("span",{className:"text-gray-400 group-hover:text-indigo-600",children:""})]}),E.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Billing History"}),E.jsx("p",{className:"text-sm text-gray-600",children:"View past invoices"})]}),E.jsxs("button",{onClick:()=>o("drafts"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-amber-500 text-left group",children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),E.jsx("span",{className:"text-gray-400 group-hover:text-amber-600",children:""})]}),E.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Draft Billings"}),E.jsx("p",{className:"text-sm text-gray-600",children:"Resume saved drafts"})]})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Overview"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Cart Items"}),E.jsx("p",{className:"text-2xl font-bold text-gray-800",children:d.length})]}),E.jsx("div",{className:"text-4xl",children:""})]})}),E.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"User"}),E.jsx("p",{className:"text-lg font-bold text-gray-800 truncate",children:r.email})]}),E.jsx("div",{className:"text-4xl",children:""})]})})]})]})]})]})]})]})}R6.createRoot(document.getElementById("root")).render(E.jsx(Ge.StrictMode,{children:E.jsx(F9,{})}));export{Qr as Q,D9 as k,k6 as w};
