(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var kk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var f0={exports:{}},Lf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function AE(){if(yv)return Lf;yv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return Lf.Fragment=e,Lf.jsx=t,Lf.jsxs=t,Lf}var vv;function xE(){return vv||(vv=1,f0.exports=AE()),f0.exports}var I=xE(),d0={exports:{}},Zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function EE(){if(bv)return Zt;bv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),S=Symbol.iterator;function _(J){return J===null||typeof J!="object"?null:(J=S&&J[S]||J["@@iterator"],typeof J=="function"?J:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,q={};function F(J,D,K){this.props=J,this.context=D,this.refs=q,this.updater=K||M}F.prototype.isReactComponent={},F.prototype.setState=function(J,D){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,D,"setState")},F.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function ie(){}ie.prototype=F.prototype;function ae(J,D,K){this.props=J,this.context=D,this.refs=q,this.updater=K||M}var se=ae.prototype=new ie;se.constructor=ae,j(se,F.prototype),se.isPureReactComponent=!0;var we=Array.isArray;function ke(){}var Y={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function L(J,D,K){var Z=K.ref;return{$$typeof:n,type:J,key:D,ref:Z!==void 0?Z:null,props:K}}function B(J,D){return L(J.type,D,J.props)}function N(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function O(J){var D={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(K){return D[K]})}var P=/\/+/g;function oe(J,D){return typeof J=="object"&&J!==null&&J.key!=null?O(""+J.key):D.toString(36)}function xe(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(ke,ke):(J.status="pending",J.then(function(D){J.status==="pending"&&(J.status="fulfilled",J.value=D)},function(D){J.status==="pending"&&(J.status="rejected",J.reason=D)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function ee(J,D,K,Z,ue){var he=typeof J;(he==="undefined"||he==="boolean")&&(J=null);var ye=!1;if(J===null)ye=!0;else switch(he){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(J.$$typeof){case n:case e:ye=!0;break;case v:return ye=J._init,ee(ye(J._payload),D,K,Z,ue)}}if(ye)return ue=ue(J),ye=Z===""?"."+oe(J,0):Z,we(ue)?(K="",ye!=null&&(K=ye.replace(P,"$&/")+"/"),ee(ue,D,K,"",function(Ue){return Ue})):ue!=null&&(N(ue)&&(ue=B(ue,K+(ue.key==null||J&&J.key===ue.key?"":(""+ue.key).replace(P,"$&/")+"/")+ye)),D.push(ue)),1;ye=0;var Se=Z===""?".":Z+":";if(we(J))for(var Ne=0;Ne<J.length;Ne++)Z=J[Ne],he=Se+oe(Z,Ne),ye+=ee(Z,D,K,he,ue);else if(Ne=_(J),typeof Ne=="function")for(J=Ne.call(J),Ne=0;!(Z=J.next()).done;)Z=Z.value,he=Se+oe(Z,Ne++),ye+=ee(Z,D,K,he,ue);else if(he==="object"){if(typeof J.then=="function")return ee(xe(J),D,K,Z,ue);throw D=String(J),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return ye}function de(J,D,K){if(J==null)return J;var Z=[],ue=0;return ee(J,Z,"","",function(he){return D.call(K,he,ue++)}),Z}function $(J){if(J._status===-1){var D=J._result;D=D(),D.then(function(K){(J._status===0||J._status===-1)&&(J._status=1,J._result=K)},function(K){(J._status===0||J._status===-1)&&(J._status=2,J._result=K)}),J._status===-1&&(J._status=0,J._result=D)}if(J._status===1)return J._result.default;throw J._result}var be=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},Fe={map:de,forEach:function(J,D,K){de(J,function(){D.apply(this,arguments)},K)},count:function(J){var D=0;return de(J,function(){D++}),D},toArray:function(J){return de(J,function(D){return D})||[]},only:function(J){if(!N(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return Zt.Activity=A,Zt.Children=Fe,Zt.Component=F,Zt.Fragment=t,Zt.Profiler=a,Zt.PureComponent=ae,Zt.StrictMode=r,Zt.Suspense=f,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Zt.__COMPILER_RUNTIME={__proto__:null,c:function(J){return Y.H.useMemoCache(J)}},Zt.cache=function(J){return function(){return J.apply(null,arguments)}},Zt.cacheSignal=function(){return null},Zt.cloneElement=function(J,D,K){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Z=j({},J.props),ue=J.key;if(D!=null)for(he in D.key!==void 0&&(ue=""+D.key),D)!E.call(D,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&D.ref===void 0||(Z[he]=D[he]);var he=arguments.length-2;if(he===1)Z.children=K;else if(1<he){for(var ye=Array(he),Se=0;Se<he;Se++)ye[Se]=arguments[Se+2];Z.children=ye}return L(J.type,ue,Z)},Zt.createContext=function(J){return J={$$typeof:u,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:o,_context:J},J},Zt.createElement=function(J,D,K){var Z,ue={},he=null;if(D!=null)for(Z in D.key!==void 0&&(he=""+D.key),D)E.call(D,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ue[Z]=D[Z]);var ye=arguments.length-2;if(ye===1)ue.children=K;else if(1<ye){for(var Se=Array(ye),Ne=0;Ne<ye;Ne++)Se[Ne]=arguments[Ne+2];ue.children=Se}if(J&&J.defaultProps)for(Z in ye=J.defaultProps,ye)ue[Z]===void 0&&(ue[Z]=ye[Z]);return L(J,he,ue)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(J){return{$$typeof:h,render:J}},Zt.isValidElement=N,Zt.lazy=function(J){return{$$typeof:v,_payload:{_status:-1,_result:J},_init:$}},Zt.memo=function(J,D){return{$$typeof:d,type:J,compare:D===void 0?null:D}},Zt.startTransition=function(J){var D=Y.T,K={};Y.T=K;try{var Z=J(),ue=Y.S;ue!==null&&ue(K,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ke,be)}catch(he){be(he)}finally{D!==null&&K.types!==null&&(D.types=K.types),Y.T=D}},Zt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Zt.use=function(J){return Y.H.use(J)},Zt.useActionState=function(J,D,K){return Y.H.useActionState(J,D,K)},Zt.useCallback=function(J,D){return Y.H.useCallback(J,D)},Zt.useContext=function(J){return Y.H.useContext(J)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(J,D){return Y.H.useDeferredValue(J,D)},Zt.useEffect=function(J,D){return Y.H.useEffect(J,D)},Zt.useEffectEvent=function(J){return Y.H.useEffectEvent(J)},Zt.useId=function(){return Y.H.useId()},Zt.useImperativeHandle=function(J,D,K){return Y.H.useImperativeHandle(J,D,K)},Zt.useInsertionEffect=function(J,D){return Y.H.useInsertionEffect(J,D)},Zt.useLayoutEffect=function(J,D){return Y.H.useLayoutEffect(J,D)},Zt.useMemo=function(J,D){return Y.H.useMemo(J,D)},Zt.useOptimistic=function(J,D){return Y.H.useOptimistic(J,D)},Zt.useReducer=function(J,D,K){return Y.H.useReducer(J,D,K)},Zt.useRef=function(J){return Y.H.useRef(J)},Zt.useState=function(J){return Y.H.useState(J)},Zt.useSyncExternalStore=function(J,D,K){return Y.H.useSyncExternalStore(J,D,K)},Zt.useTransition=function(){return Y.H.useTransition()},Zt.version="19.2.0",Zt}var _v;function z1(){return _v||(_v=1,d0.exports=EE()),d0.exports}var Kt=z1();const mp=wE(Kt);var p0={exports:{}},Df={},g0={exports:{}},m0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function SE(){return wv||(wv=1,(function(n){function e(ee,de){var $=ee.length;ee.push(de);e:for(;0<$;){var be=$-1>>>1,Fe=ee[be];if(0<a(Fe,de))ee[be]=de,ee[$]=Fe,$=be;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var de=ee[0],$=ee.pop();if($!==de){ee[0]=$;e:for(var be=0,Fe=ee.length,J=Fe>>>1;be<J;){var D=2*(be+1)-1,K=ee[D],Z=D+1,ue=ee[Z];if(0>a(K,$))Z<Fe&&0>a(ue,K)?(ee[be]=ue,ee[Z]=$,be=Z):(ee[be]=K,ee[D]=$,be=D);else if(Z<Fe&&0>a(ue,$))ee[be]=ue,ee[Z]=$,be=Z;else break e}}return de}function a(ee,de){var $=ee.sortIndex-de.sortIndex;return $!==0?$:ee.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],v=1,A=null,S=3,_=!1,M=!1,j=!1,q=!1,F=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function se(ee){for(var de=t(d);de!==null;){if(de.callback===null)r(d);else if(de.startTime<=ee)r(d),de.sortIndex=de.expirationTime,e(f,de);else break;de=t(d)}}function we(ee){if(j=!1,se(ee),!M)if(t(f)!==null)M=!0,ke||(ke=!0,O());else{var de=t(d);de!==null&&xe(we,de.startTime-ee)}}var ke=!1,Y=-1,E=5,L=-1;function B(){return q?!0:!(n.unstable_now()-L<E)}function N(){if(q=!1,ke){var ee=n.unstable_now();L=ee;var de=!0;try{e:{M=!1,j&&(j=!1,ie(Y),Y=-1),_=!0;var $=S;try{t:{for(se(ee),A=t(f);A!==null&&!(A.expirationTime>ee&&B());){var be=A.callback;if(typeof be=="function"){A.callback=null,S=A.priorityLevel;var Fe=be(A.expirationTime<=ee);if(ee=n.unstable_now(),typeof Fe=="function"){A.callback=Fe,se(ee),de=!0;break t}A===t(f)&&r(f),se(ee)}else r(f);A=t(f)}if(A!==null)de=!0;else{var J=t(d);J!==null&&xe(we,J.startTime-ee),de=!1}}break e}finally{A=null,S=$,_=!1}de=void 0}}finally{de?O():ke=!1}}}var O;if(typeof ae=="function")O=function(){ae(N)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,oe=P.port2;P.port1.onmessage=N,O=function(){oe.postMessage(null)}}else O=function(){F(N,0)};function xe(ee,de){Y=F(function(){ee(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(ee){switch(S){case 1:case 2:case 3:var de=3;break;default:de=S}var $=S;S=de;try{return ee()}finally{S=$}},n.unstable_requestPaint=function(){q=!0},n.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var $=S;S=ee;try{return de()}finally{S=$}},n.unstable_scheduleCallback=function(ee,de,$){var be=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?be+$:be):$=be,ee){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=$+Fe,ee={id:v++,callback:de,priorityLevel:ee,startTime:$,expirationTime:Fe,sortIndex:-1},$>be?(ee.sortIndex=$,e(d,ee),t(f)===null&&ee===t(d)&&(j?(ie(Y),Y=-1):j=!0,xe(we,$-be))):(ee.sortIndex=Fe,e(f,ee),M||_||(M=!0,ke||(ke=!0,O()))),ee},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(ee){var de=S;return function(){var $=S;S=de;try{return ee.apply(this,arguments)}finally{S=$}}}})(m0)),m0}var Av;function TE(){return Av||(Av=1,g0.exports=SE()),g0.exports}var y0={exports:{}},us={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function NE(){if(xv)return us;xv=1;var n=z1();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:A==null?null:""+A,children:f,containerInfo:d,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,us.createPortal=function(f,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,v)},us.flushSync=function(f){var d=u.T,v=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=v,r.d.f()}},us.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},us.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},us.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:_}):v==="script"&&r.d.X(f,{crossOrigin:A,integrity:S,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},us.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},us.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin);r.d.L(f,v,{crossOrigin:A,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},us.preloadModule=function(f,d){if(typeof f=="string")if(d){var v=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},us.requestFormReset=function(f){r.d.r(f)},us.unstable_batchedUpdates=function(f,d){return f(d)},us.useFormState=function(f,d,v){return u.H.useFormState(f,d,v)},us.useFormStatus=function(){return u.H.useHostTransitionStatus()},us.version="19.2.0",us}var Ev;function Dw(){if(Ev)return y0.exports;Ev=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),y0.exports=NE(),y0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function IE(){if(Sv)return Df;Sv=1;var n=TE(),e=z1(),t=Dw();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var m=l.return;if(m===null)break;var b=m.alternate;if(b===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===l)return f(m),i;if(b===c)return f(m),s;b=b.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=b;else{for(var R=!1,G=m.child;G;){if(G===l){R=!0,l=m,c=b;break}if(G===c){R=!0,c=m,l=b;break}G=G.sibling}if(!R){for(G=b.child;G;){if(G===l){R=!0,l=b,c=m;break}if(G===c){R=!0,c=b,l=m;break}G=G.sibling}if(!R)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var A=Object.assign,S=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function O(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case F:return"Profiler";case q:return"StrictMode";case we:return"Suspense";case ke:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case ae:return i.displayName||"Context";case ie:return(i._context.displayName||"Context")+".Consumer";case se:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return s=i.displayName||null,s!==null?s:oe(i.type)||"Memo";case E:s=i._payload,i=i._init;try{return oe(i(s))}catch{}}return null}var xe=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},be=[],Fe=-1;function J(i){return{current:i}}function D(i){0>Fe||(i.current=be[Fe],be[Fe]=null,Fe--)}function K(i,s){Fe++,be[Fe]=i.current,i.current=s}var Z=J(null),ue=J(null),he=J(null),ye=J(null);function Se(i,s){switch(K(he,s),K(ue,i),K(Z,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?F5(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=F5(s),i=B5(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}D(Z),K(Z,i)}function Ne(){D(Z),D(ue),D(he)}function Ue(i){i.memoizedState!==null&&K(ye,i);var s=Z.current,l=B5(s,i.type);s!==l&&(K(ue,i),K(Z,l))}function Qe(i){ue.current===i&&(D(Z),D(ue)),ye.current===i&&(D(ye),Nf._currentValue=$)}var Ze,tt;function Oe(i){if(Ze===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ze=s&&s[1]||"",tt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+i+tt}var le=!1;function Xt(i,s){if(!i||le)return"";le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Pe){var De=Pe}Reflect.construct(i,[],Ge)}else{try{Ge.call()}catch(Pe){De=Pe}i.call(Ge.prototype)}}else{try{throw Error()}catch(Pe){De=Pe}(Ge=i())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(Pe){if(Pe&&De&&typeof Pe.stack=="string")return[Pe.stack,De.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),R=b[0],G=b[1];if(R&&G){var ce=R.split(`
`),Le=G.split(`
`);for(m=c=0;c<ce.length&&!ce[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Le.length&&!Le[m].includes("DetermineComponentFrameRoot");)m++;if(c===ce.length||m===Le.length)for(c=ce.length-1,m=Le.length-1;1<=c&&0<=m&&ce[c]!==Le[m];)m--;for(;1<=c&&0<=m;c--,m--)if(ce[c]!==Le[m]){if(c!==1||m!==1)do if(c--,m--,0>m||ce[c]!==Le[m]){var Be=`
`+ce[c].replace(" at new "," at ");return i.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",i.displayName)),Be}while(1<=c&&0<=m);break}}}finally{le=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Oe(l):""}function qt(i,s){switch(i.tag){case 26:case 27:case 5:return Oe(i.type);case 16:return Oe("Lazy");case 13:return i.child!==s&&s!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Xt(i.type,!1);case 11:return Xt(i.type.render,!1);case 1:return Xt(i.type,!0);case 31:return Oe("Activity");default:return""}}function _t(i){try{var s="",l=null;do s+=qt(i,l),l=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ye=Object.prototype.hasOwnProperty,it=n.unstable_scheduleCallback,nt=n.unstable_cancelCallback,Wt=n.unstable_shouldYield,vt=n.unstable_requestPaint,Gt=n.unstable_now,Ot=n.unstable_getCurrentPriorityLevel,jt=n.unstable_ImmediatePriority,En=n.unstable_UserBlockingPriority,Pt=n.unstable_NormalPriority,bt=n.unstable_LowPriority,Dt=n.unstable_IdlePriority,mt=n.log,jn=n.unstable_setDisableYieldValue,nn=null,st=null;function Et(i){if(typeof mt=="function"&&jn(i),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(nn,i)}catch{}}var Ut=Math.clz32?Math.clz32:zt,Nt=Math.log,sn=Math.LN2;function zt(i){return i>>>=0,i===0?32:31-(Nt(i)/sn|0)|0}var Ln=256,sr=262144,Ht=4194304;function St(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function an(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,b=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var G=c&134217727;return G!==0?(c=G&~b,c!==0?m=St(c):(R&=G,R!==0?m=St(R):l||(l=G&~i,l!==0&&(m=St(l))))):(G=c&~b,G!==0?m=St(G):R!==0?m=St(R):l||(l=c&~i,l!==0&&(m=St(l)))),m===0?0:s!==0&&s!==m&&(s&b)===0&&(b=m&-m,l=s&-s,b>=l||b===32&&(l&4194048)!==0)?s:m}function ci(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ei(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var i=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),i}function Yr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function wt(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function aa(i,s,l,c,m,b){var R=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var G=i.entanglements,ce=i.expirationTimes,Le=i.hiddenUpdates;for(l=R&~l;0<l;){var Be=31-Ut(l),Ge=1<<Be;G[Be]=0,ce[Be]=-1;var De=Le[Be];if(De!==null)for(Le[Be]=null,Be=0;Be<De.length;Be++){var Pe=De[Be];Pe!==null&&(Pe.lane&=-536870913)}l&=~Ge}c!==0&&Bi(i,c,0),b!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=b&~(R&~s))}function Bi(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Ut(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function Ei(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-Ut(l),m=1<<c;m&s|i[c]&s&&(i[c]|=s),l&=~m}}function Si(i,s){var l=s&-s;return l=(l&42)!==0?1:Bn(l),(l&(i.suspendedLanes|s))!==0?0:l}function Bn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function kr(){var i=de.p;return i!==0?i:(i=window.event,i===void 0?32:cv(i.type))}function hi(i,s){var l=de.p;try{return de.p=i,s()}finally{de.p=l}}var ti=Math.random().toString(36).slice(2),Dn="__reactFiber$"+ti,Hn="__reactProps$"+ti,Or="__reactContainer$"+ti,Ti="__reactEvents$"+ti,rs="__reactListeners$"+ti,Ea="__reactHandles$"+ti,vs="__reactResources$"+ti,Ni="__reactMarker$"+ti;function oa(i){delete i[Dn],delete i[Hn],delete i[Ti],delete i[rs],delete i[Ea]}function qi(i){var s=i[Dn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Or]||l[Dn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=K5(i);i!==null;){if(l=i[Dn])return l;i=K5(i)}return s}i=l,l=i.parentNode}return null}function fi(i){if(i=i[Dn]||i[Or]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function zi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function is(i){var s=i[vs];return s||(s=i[vs]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function fr(i){i[Ni]=!0}var _o=new Set,Ii={};function ss(i,s){bs(i,s),bs(i+"Capture",s)}function bs(i,s){for(Ii[i]=s,i=0;i<s.length;i++)_o.add(s[i])}var Ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ao={};function sl(i){return Ye.call(Ao,i)?!0:Ye.call(wo,i)?!1:Ga.test(i)?Ao[i]=!0:(wo[i]=!0,!1)}function la(i,s,l){if(sl(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Hi(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function on(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}function Sr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ua(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _s(i,s,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,b=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(R){l=""+R,b.call(this,R)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(R){l=""+R},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function fn(i){if(!i._valueTracker){var s=ua(i)?"checked":"value";i._valueTracker=_s(i,s,""+i[s])}}function di(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=ua(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function Ci(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Gn=/[\n"\\]/g;function ni(i){return i.replace(Gn,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xo(i,s,l,c,m,b,R,G){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),s!=null?R==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Sr(s)):i.value!==""+Sr(s)&&(i.value=""+Sr(s)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),s!=null?al(i,R,Sr(s)):l!=null?al(i,R,Sr(l)):c!=null&&i.removeAttribute("value"),m==null&&b!=null&&(i.defaultChecked=!!b),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?i.name=""+Sr(G):i.removeAttribute("name")}function Kl(i,s,l,c,m,b,R,G){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){fn(i);return}l=l!=null?""+Sr(l):"",s=s!=null?""+Sr(s):l,G||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=G?i.checked:!!c,i.defaultChecked=!!c,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R),fn(i)}function al(i,s,l){s==="number"&&Ci(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function pi(i,s,l,c){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Sr(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function ol(i,s,l){if(s!=null&&(s=""+Sr(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Sr(l):""}function ca(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(xe(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Sr(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),fn(i)}function Tr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Eo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ll(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||Eo.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function ul(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&l[m]!==c&&ll(i,m,c)}else for(var b in s)s.hasOwnProperty(b)&&ll(i,b,s[b])}function So(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ws(i){return as.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function As(){}var ha=null;function Ri(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Lt=null,Ps=null;function Ya(i){var s=fi(i);if(s&&(i=s.stateNode)){var l=i[Hn]||null;e:switch(i=s.stateNode,s.type){case"input":if(xo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ni(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var m=c[Hn]||null;if(!m)throw Error(r(90));xo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&di(c)}break e;case"textarea":ol(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&pi(i,!!l.multiple,s,!1)}}}var No=!1;function Sa(i,s,l){if(No)return i(s,l);No=!0;try{var c=i(s);return c}finally{if(No=!1,(Lt!==null||Ps!==null)&&(Kd(),Lt&&(s=Lt,i=Ps,Ps=Lt=null,Ya(s),i)))for(s=0;s<i.length;s++)Ya(i[s])}}function $r(i,s){var l=i.stateNode;if(l===null)return null;var c=l[Hn]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=!1;if(Pr)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){$a=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{$a=!1}var Gi=null,Ka=null,xs=null;function Ta(){if(xs)return xs;var i,s=Ka,l=s.length,c,m="value"in Gi?Gi.value:Gi.textContent,b=m.length;for(i=0;i<l&&s[i]===m[i];i++);var R=l-i;for(c=1;c<=R&&s[l-c]===m[b-c];c++);return xs=m.slice(i,1<c?1-c:void 0)}function Ms(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function fa(){return!0}function Yi(){return!1}function Nr(i){function s(l,c,m,b,R){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var G in i)i.hasOwnProperty(G)&&(l=i[G],this[G]=l?l(b):b[G]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?fa:Yi,this.isPropagationStopped=Yi,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),s}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Nr($i),js=A({},$i,{view:0,detail:0}),Na=Nr(js),Us,Vs,Es,Wa=A({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:It,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Es&&(Es&&i.type==="mousemove"?(Us=i.screenX-Es.screenX,Vs=i.screenY-Es.screenY):Vs=Us=0,Es=i),Us)},movementY:function(i){return"movementY"in i?i.movementY:Vs}}),Ss=Nr(Wa),Ki=A({},Wa,{dataTransfer:0}),cl=Nr(Ki),hl=A({},js,{relatedTarget:0}),Ts=Nr(hl),Io=A({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),w=Nr(Io),U=A({},$i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ne=Nr(U),fe=A({},$i,{data:0}),ve=Nr(fe),Ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},We={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ft(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=lt[i])?!!s[i]:!1}function It(){return ft}var yt=A({},js,{key:function(i){if(i.key){var s=Ve[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ms(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?We[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:It,charCode:function(i){return i.type==="keypress"?Ms(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ms(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mn=Nr(yt),Jn=A({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qn=Nr(Jn),g=A({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:It}),T=Nr(g),k=A({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=Nr(k),Ae=A({},Wa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Re=Nr(Ae),Je=A({},$i,{newState:0,oldState:0}),Vt=Nr(Je),Yn=[9,13,27,32],un=Pr&&"CompositionEvent"in window,On=null;Pr&&"documentMode"in document&&(On=document.documentMode);var ri=Pr&&"TextEvent"in window&&!On,Di=Pr&&(!un||On&&8<On&&11>=On),Zn=" ",gi=!1;function Ns(i,s){switch(i){case"keyup":return Yn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ca=!1;function br(i,s){switch(i){case"compositionend":return Ia(s);case"keypress":return s.which!==32?null:(gi=!0,Zn);case"textInput":return i=s.data,i===Zn&&gi?null:i;default:return null}}function Qa(i,s){if(Ca)return i==="compositionend"||!un&&Ns(i,s)?(i=Ta(),xs=Ka=Gi=null,Ca=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Di&&s.locale!=="ko"?null:s.data;default:return null}}var Wl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yu(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Wl[i.type]:s==="textarea"}function Is(i,s,l,c){Lt?Ps?Ps.push(c):Ps=[c]:Lt=c,s=tp(s,"onChange"),0<s.length&&(l=new Li("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var da=null,Xa=null;function $u(i){O5(i,0)}function pa(i){var s=zi(i);if(di(s))return i}function Co(i,s){if(i==="change")return s}var os=!1;if(Pr){var Wi;if(Pr){var Ra="oninput"in document;if(!Ra){var La=document.createElement("div");La.setAttribute("oninput","return;"),Ra=typeof La.oninput=="function"}Wi=Ra}else Wi=!1;os=Wi&&(!document.documentMode||9<document.documentMode)}function Ja(){da&&(da.detachEvent("onpropertychange",Ql),Xa=da=null)}function Ql(i){if(i.propertyName==="value"&&pa(Xa)){var s=[];Is(s,Xa,i,Ri(i)),Sa($u,s)}}function Xl(i,s,l){i==="focusin"?(Ja(),da=s,Xa=l,da.attachEvent("onpropertychange",Ql)):i==="focusout"&&Ja()}function Ir(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pa(Xa)}function Pc(i,s){if(i==="click")return pa(s)}function Da(i,s){if(i==="input"||i==="change")return pa(s)}function ka(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var mi=typeof Object.is=="function"?Object.is:ka;function Za(i,s){if(mi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Ye.call(s,m)||!mi(i[m],s[m]))return!1}return!0}function Jl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zl(i,s){var l=Jl(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jl(l)}}function eo(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?eo(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function to(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ci(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ci(i.document)}return s}function Oa(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var fl=Pr&&"documentMode"in document&&11>=document.documentMode,Cs=null,no=null,ki=null,Fs=!1;function Cn(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fs||Cs==null||Cs!==Ci(c)||(c=Cs,"selectionStart"in c&&Oa(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ki&&Za(ki,c)||(ki=c,c=tp(no,"onSelect"),0<c.length&&(s=new Li("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Cs)))}function An(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var er={animationend:An("Animation","AnimationEnd"),animationiteration:An("Animation","AnimationIteration"),animationstart:An("Animation","AnimationStart"),transitionrun:An("Transition","TransitionRun"),transitionstart:An("Transition","TransitionStart"),transitioncancel:An("Transition","TransitionCancel"),transitionend:An("Transition","TransitionEnd")},Cr={},Pa={};Pr&&(Pa=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function ga(i){if(Cr[i])return Cr[i];if(!er[i])return i;var s=er[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Pa)return Cr[i]=s[l];return i}var dl=ga("animationend"),Ku=ga("animationiteration"),Wh=ga("animationstart"),Ed=ga("transitionrun"),Sd=ga("transitionstart"),Td=ga("transitioncancel"),Qh=ga("transitionend"),Xh=new Map,pl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pl.push("scrollEnd");function Bs(i,s){Xh.set(i,s),ss(s,[i])}var Wu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Rs=[],gl=0,Mc=0;function Qu(){for(var i=gl,s=Mc=gl=0;s<i;){var l=Rs[s];Rs[s++]=null;var c=Rs[s];Rs[s++]=null;var m=Rs[s];Rs[s++]=null;var b=Rs[s];if(Rs[s++]=null,c!==null&&m!==null){var R=c.pending;R===null?m.next=m:(m.next=R.next,R.next=m),c.pending=m}b!==0&&Ju(l,m,b)}}function Xu(i,s,l,c){Rs[gl++]=i,Rs[gl++]=s,Rs[gl++]=l,Rs[gl++]=c,Mc|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function jc(i,s,l,c){return Xu(i,s,l,c),Oi(i)}function ro(i,s){return Xu(i,null,null,s),Oi(i)}function Ju(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,b=i.return;b!==null;)b.childLanes|=l,c=b.alternate,c!==null&&(c.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(m=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,m&&s!==null&&(m=31-Ut(l),i=b.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=l|536870912),b):null}function Oi(i){if(50<_f)throw _f=0,Mm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var yi={};function Uc(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(i,s,l,c){return new Uc(i,s,l,c)}function Vc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qs(i,s){var l=i.alternate;return l===null?(l=Pi(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Zu(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function eu(i,s,l,c,m,b){var R=0;if(c=i,typeof i=="function")Vc(i)&&(R=1);else if(typeof i=="string")R=uE(i,l,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=Pi(31,l,s,m),i.elementType=L,i.lanes=b,i;case j:return Ro(l.children,m,b,s);case q:R=8,m|=24;break;case F:return i=Pi(12,l,s,m|2),i.elementType=F,i.lanes=b,i;case we:return i=Pi(13,l,s,m),i.elementType=we,i.lanes=b,i;case ke:return i=Pi(19,l,s,m),i.elementType=ke,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ae:R=10;break e;case ie:R=9;break e;case se:R=11;break e;case Y:R=14;break e;case E:R=16,c=null;break e}R=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Pi(R,l,s,m),s.elementType=i,s.type=c,s.lanes=b,s}function Ro(i,s,l,c){return i=Pi(7,i,c,s),i.lanes=l,i}function ec(i,s,l){return i=Pi(6,i,null,s),i.lanes=l,i}function Fc(i){var s=Pi(18,null,null,0);return s.stateNode=i,s}function tu(i,s,l){return s=Pi(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Bc=new WeakMap;function zs(i,s){if(typeof i=="object"&&i!==null){var l=Bc.get(i);return l!==void 0?l:(s={value:i,source:s,stack:_t(s)},Bc.set(i,s),s)}return{value:i,source:s,stack:_t(s)}}var nu=[],ml=0,qc=null,tc=0,Hs=[],Gs=0,Lo=null,Ys=1,$s="";function Ls(i,s){nu[ml++]=tc,nu[ml++]=qc,qc=i,tc=s}function Nd(i,s,l){Hs[Gs++]=Ys,Hs[Gs++]=$s,Hs[Gs++]=Lo,Lo=i;var c=Ys;i=$s;var m=32-Ut(c)-1;c&=~(1<<m),l+=1;var b=32-Ut(s)+m;if(30<b){var R=m-m%5;b=(c&(1<<R)-1).toString(32),c>>=R,m-=R,Ys=1<<32-Ut(s)+m|l<<m|c,$s=b+i}else Ys=1<<b|l<<m|c,$s=i}function Jh(i){i.return!==null&&(Ls(i,1),Nd(i,1,0))}function zc(i){for(;i===qc;)qc=nu[--ml],nu[ml]=null,tc=nu[--ml],nu[ml]=null;for(;i===Lo;)Lo=Hs[--Gs],Hs[Gs]=null,$s=Hs[--Gs],Hs[Gs]=null,Ys=Hs[--Gs],Hs[Gs]=null}function Id(i,s){Hs[Gs++]=Ys,Hs[Gs++]=$s,Hs[Gs++]=Lo,Ys=s.id,$s=s.overflow,Lo=i}var vi=null,ar=null,dn=!1,Qi=null,_r=!1,ma=Error(r(519));function Do(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ru(zs(s,i)),ma}function Zh(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Dn]=i,s[Hn]=c,l){case"dialog":gn("cancel",s),gn("close",s);break;case"iframe":case"object":case"embed":gn("load",s);break;case"video":case"audio":for(l=0;l<Af.length;l++)gn(Af[l],s);break;case"source":gn("error",s);break;case"img":case"image":case"link":gn("error",s),gn("load",s);break;case"details":gn("toggle",s);break;case"input":gn("invalid",s),Kl(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":gn("invalid",s);break;case"textarea":gn("invalid",s),ca(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||U5(s.textContent,l)?(c.popover!=null&&(gn("beforetoggle",s),gn("toggle",s)),c.onScroll!=null&&gn("scroll",s),c.onScrollEnd!=null&&gn("scrollend",s),c.onClick!=null&&(s.onclick=As),s=!0):s=!1,s||Do(i,!0)}function io(i){for(vi=i.return;vi;)switch(vi.tag){case 5:case 31:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:vi=vi.return}}function bi(i){if(i!==vi)return!1;if(!dn)return io(i),dn=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Xm(i.type,i.memoizedProps)),l=!l),l&&ar&&Do(i),io(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ar=$5(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ar=$5(i)}else s===27?(s=ar,yu(i.type)?(i=n0,n0=null,ar=i):ar=s):ar=vi?Va(i.stateNode.nextSibling):null;return!0}function yl(){ar=vi=null,dn=!1}function ef(){var i=Qi;return i!==null&&(Zs===null?Zs=i:Zs.push.apply(Zs,i),Qi=null),i}function ru(i){Qi===null?Qi=[i]:Qi.push(i)}var Hc=J(null),ko=null,Ma=null;function Oo(i,s,l){K(Hc,s._currentValue),s._currentValue=l}function Ks(i){i._currentValue=Hc.current,D(Hc)}function iu(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function vl(i,s,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var b=m.dependencies;if(b!==null){var R=m.child;b=b.firstContext;e:for(;b!==null;){var G=b;b=m;for(var ce=0;ce<s.length;ce++)if(G.context===s[ce]){b.lanes|=l,G=b.alternate,G!==null&&(G.lanes|=l),iu(b.return,l,i),c||(R=null);break e}b=G.next}}else if(m.tag===18){if(R=m.return,R===null)throw Error(r(341));R.lanes|=l,b=R.alternate,b!==null&&(b.lanes|=l),iu(R,l,i),R=null}else R=m.child;if(R!==null)R.return=m;else for(R=m;R!==null;){if(R===i){R=null;break}if(m=R.sibling,m!==null){m.return=R.return,R=m;break}R=R.return}m=R}}function Po(i,s,l,c){i=null;for(var m=s,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var R=m.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var G=m.type;mi(m.pendingProps.value,R.value)||(i!==null?i.push(G):i=[G])}}else if(m===ye.current){if(R=m.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Nf):i=[Nf])}m=m.return}i!==null&&vl(s,i,l,c),s.flags|=262144}function Gc(i){for(i=i.firstContext;i!==null;){if(!mi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Mo(i){ko=i,Ma=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _i(i){return Cd(ko,i)}function Yc(i,s){return ko===null&&Mo(i),Cd(i,s)}function Cd(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ma===null){if(i===null)throw Error(r(308));Ma=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ma=Ma.next=s;return l}var tm=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},nm=n.unstable_scheduleCallback,rm=n.unstable_NormalPriority,Rr={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function su(){return{controller:new tm,data:new Map,refCount:0}}function nc(i){i.refCount--,i.refCount===0&&nm(rm,function(){i.controller.abort()})}var rc=null,$c=0,p=0,y=null;function x(i,s){if(rc===null){var l=rc=[];$c=0,p=qm(),y={status:"pending",value:void 0,then:function(c){l.push(c)}}}return $c++,s.then(C,C),s}function C(){if(--$c===0&&rc!==null){y!==null&&(y.status="fulfilled");var i=rc;rc=null,p=0,y=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function V(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var z=ee.S;ee.S=function(i,s){l5=Gt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&x(i,s),z!==null&&z(i,s)};var H=J(null);function W(){var i=H.current;return i!==null?i:lr.pooledCache}function X(i,s){s===null?K(H,H.current):K(H,s.pool)}function re(){var i=W();return i===null?null:{parent:Rr._currentValue,pool:i}}var pe=Error(r(460)),Ie=Error(r(474)),te=Error(r(542)),me={then:function(){}};function Ee(i){return i=i.status,i==="fulfilled"||i==="rejected"}function je(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(As,As),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Xe(i),i;default:if(typeof s.status=="string")s.then(As,As);else{if(i=lr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Xe(i),i}throw Me=s,pe}}function Te(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Me=l,pe):l}}var Me=null;function ze(){if(Me===null)throw Error(r(459));var i=Me;return Me=null,i}function Xe(i){if(i===pe||i===te)throw Error(r(483))}var $e=null,dt=0;function at(i){var s=dt;return dt+=1,$e===null&&($e=[]),je($e,i,s)}function Yt(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ct(i,s){throw s.$$typeof===S?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function hn(i){function s(_e,ge){if(i){var Ce=_e.deletions;Ce===null?(_e.deletions=[ge],_e.flags|=16):Ce.push(ge)}}function l(_e,ge){if(!i)return null;for(;ge!==null;)s(_e,ge),ge=ge.sibling;return null}function c(_e){for(var ge=new Map;_e!==null;)_e.key!==null?ge.set(_e.key,_e):ge.set(_e.index,_e),_e=_e.sibling;return ge}function m(_e,ge){return _e=qs(_e,ge),_e.index=0,_e.sibling=null,_e}function b(_e,ge,Ce){return _e.index=Ce,i?(Ce=_e.alternate,Ce!==null?(Ce=Ce.index,Ce<ge?(_e.flags|=67108866,ge):Ce):(_e.flags|=67108866,ge)):(_e.flags|=1048576,ge)}function R(_e){return i&&_e.alternate===null&&(_e.flags|=67108866),_e}function G(_e,ge,Ce,He){return ge===null||ge.tag!==6?(ge=ec(Ce,_e.mode,He),ge.return=_e,ge):(ge=m(ge,Ce),ge.return=_e,ge)}function ce(_e,ge,Ce,He){var Rt=Ce.type;return Rt===j?Be(_e,ge,Ce.props.children,He,Ce.key):ge!==null&&(ge.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===E&&Te(Rt)===ge.type)?(ge=m(ge,Ce.props),Yt(ge,Ce),ge.return=_e,ge):(ge=eu(Ce.type,Ce.key,Ce.props,null,_e.mode,He),Yt(ge,Ce),ge.return=_e,ge)}function Le(_e,ge,Ce,He){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ce.containerInfo||ge.stateNode.implementation!==Ce.implementation?(ge=tu(Ce,_e.mode,He),ge.return=_e,ge):(ge=m(ge,Ce.children||[]),ge.return=_e,ge)}function Be(_e,ge,Ce,He,Rt){return ge===null||ge.tag!==7?(ge=Ro(Ce,_e.mode,He,Rt),ge.return=_e,ge):(ge=m(ge,Ce),ge.return=_e,ge)}function Ge(_e,ge,Ce){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=ec(""+ge,_e.mode,Ce),ge.return=_e,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case _:return Ce=eu(ge.type,ge.key,ge.props,null,_e.mode,Ce),Yt(Ce,ge),Ce.return=_e,Ce;case M:return ge=tu(ge,_e.mode,Ce),ge.return=_e,ge;case E:return ge=Te(ge),Ge(_e,ge,Ce)}if(xe(ge)||O(ge))return ge=Ro(ge,_e.mode,Ce,null),ge.return=_e,ge;if(typeof ge.then=="function")return Ge(_e,at(ge),Ce);if(ge.$$typeof===ae)return Ge(_e,Yc(_e,ge),Ce);ct(_e,ge)}return null}function De(_e,ge,Ce,He){var Rt=ge!==null?ge.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Rt!==null?null:G(_e,ge,""+Ce,He);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case _:return Ce.key===Rt?ce(_e,ge,Ce,He):null;case M:return Ce.key===Rt?Le(_e,ge,Ce,He):null;case E:return Ce=Te(Ce),De(_e,ge,Ce,He)}if(xe(Ce)||O(Ce))return Rt!==null?null:Be(_e,ge,Ce,He,null);if(typeof Ce.then=="function")return De(_e,ge,at(Ce),He);if(Ce.$$typeof===ae)return De(_e,ge,Yc(_e,Ce),He);ct(_e,Ce)}return null}function Pe(_e,ge,Ce,He,Rt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return _e=_e.get(Ce)||null,G(ge,_e,""+He,Rt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case _:return _e=_e.get(He.key===null?Ce:He.key)||null,ce(ge,_e,He,Rt);case M:return _e=_e.get(He.key===null?Ce:He.key)||null,Le(ge,_e,He,Rt);case E:return He=Te(He),Pe(_e,ge,Ce,He,Rt)}if(xe(He)||O(He))return _e=_e.get(Ce)||null,Be(ge,_e,He,Rt,null);if(typeof He.then=="function")return Pe(_e,ge,Ce,at(He),Rt);if(He.$$typeof===ae)return Pe(_e,ge,Ce,Yc(ge,He),Rt);ct(ge,He)}return null}function ht(_e,ge,Ce,He){for(var Rt=null,Pn=null,gt=ge,ln=ge=0,vn=null;gt!==null&&ln<Ce.length;ln++){gt.index>ln?(vn=gt,gt=null):vn=gt.sibling;var Mn=De(_e,gt,Ce[ln],He);if(Mn===null){gt===null&&(gt=vn);break}i&&gt&&Mn.alternate===null&&s(_e,gt),ge=b(Mn,ge,ln),Pn===null?Rt=Mn:Pn.sibling=Mn,Pn=Mn,gt=vn}if(ln===Ce.length)return l(_e,gt),dn&&Ls(_e,ln),Rt;if(gt===null){for(;ln<Ce.length;ln++)gt=Ge(_e,Ce[ln],He),gt!==null&&(ge=b(gt,ge,ln),Pn===null?Rt=gt:Pn.sibling=gt,Pn=gt);return dn&&Ls(_e,ln),Rt}for(gt=c(gt);ln<Ce.length;ln++)vn=Pe(gt,_e,ln,Ce[ln],He),vn!==null&&(i&&vn.alternate!==null&&gt.delete(vn.key===null?ln:vn.key),ge=b(vn,ge,ln),Pn===null?Rt=vn:Pn.sibling=vn,Pn=vn);return i&&gt.forEach(function(Au){return s(_e,Au)}),dn&&Ls(_e,ln),Rt}function Mt(_e,ge,Ce,He){if(Ce==null)throw Error(r(151));for(var Rt=null,Pn=null,gt=ge,ln=ge=0,vn=null,Mn=Ce.next();gt!==null&&!Mn.done;ln++,Mn=Ce.next()){gt.index>ln?(vn=gt,gt=null):vn=gt.sibling;var Au=De(_e,gt,Mn.value,He);if(Au===null){gt===null&&(gt=vn);break}i&&gt&&Au.alternate===null&&s(_e,gt),ge=b(Au,ge,ln),Pn===null?Rt=Au:Pn.sibling=Au,Pn=Au,gt=vn}if(Mn.done)return l(_e,gt),dn&&Ls(_e,ln),Rt;if(gt===null){for(;!Mn.done;ln++,Mn=Ce.next())Mn=Ge(_e,Mn.value,He),Mn!==null&&(ge=b(Mn,ge,ln),Pn===null?Rt=Mn:Pn.sibling=Mn,Pn=Mn);return dn&&Ls(_e,ln),Rt}for(gt=c(gt);!Mn.done;ln++,Mn=Ce.next())Mn=Pe(gt,_e,ln,Mn.value,He),Mn!==null&&(i&&Mn.alternate!==null&&gt.delete(Mn.key===null?ln:Mn.key),ge=b(Mn,ge,ln),Pn===null?Rt=Mn:Pn.sibling=Mn,Pn=Mn);return i&&gt.forEach(function(_E){return s(_e,_E)}),dn&&Ls(_e,ln),Rt}function ir(_e,ge,Ce,He){if(typeof Ce=="object"&&Ce!==null&&Ce.type===j&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case _:e:{for(var Rt=Ce.key;ge!==null;){if(ge.key===Rt){if(Rt=Ce.type,Rt===j){if(ge.tag===7){l(_e,ge.sibling),He=m(ge,Ce.props.children),He.return=_e,_e=He;break e}}else if(ge.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===E&&Te(Rt)===ge.type){l(_e,ge.sibling),He=m(ge,Ce.props),Yt(He,Ce),He.return=_e,_e=He;break e}l(_e,ge);break}else s(_e,ge);ge=ge.sibling}Ce.type===j?(He=Ro(Ce.props.children,_e.mode,He,Ce.key),He.return=_e,_e=He):(He=eu(Ce.type,Ce.key,Ce.props,null,_e.mode,He),Yt(He,Ce),He.return=_e,_e=He)}return R(_e);case M:e:{for(Rt=Ce.key;ge!==null;){if(ge.key===Rt)if(ge.tag===4&&ge.stateNode.containerInfo===Ce.containerInfo&&ge.stateNode.implementation===Ce.implementation){l(_e,ge.sibling),He=m(ge,Ce.children||[]),He.return=_e,_e=He;break e}else{l(_e,ge);break}else s(_e,ge);ge=ge.sibling}He=tu(Ce,_e.mode,He),He.return=_e,_e=He}return R(_e);case E:return Ce=Te(Ce),ir(_e,ge,Ce,He)}if(xe(Ce))return ht(_e,ge,Ce,He);if(O(Ce)){if(Rt=O(Ce),typeof Rt!="function")throw Error(r(150));return Ce=Rt.call(Ce),Mt(_e,ge,Ce,He)}if(typeof Ce.then=="function")return ir(_e,ge,at(Ce),He);if(Ce.$$typeof===ae)return ir(_e,ge,Yc(_e,Ce),He);ct(_e,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,ge!==null&&ge.tag===6?(l(_e,ge.sibling),He=m(ge,Ce),He.return=_e,_e=He):(l(_e,ge),He=ec(Ce,_e.mode,He),He.return=_e,_e=He),R(_e)):l(_e,ge)}return function(_e,ge,Ce,He){try{dt=0;var Rt=ir(_e,ge,Ce,He);return $e=null,Rt}catch(gt){if(gt===pe||gt===te)throw gt;var Pn=Pi(29,gt,null,_e.mode);return Pn.lanes=He,Pn.return=_e,Pn}finally{}}}var or=hn(!0),Jt=hn(!1),ot=!1;function et(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dr(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function kt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function rn(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Fn&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Oi(i),Ju(i,null,l),s}return Xu(i,c,s,l),Oi(i)}function Un(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Ei(i,l)}}function Kr(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?m=b=R:b=b.next=R,l=l.next}while(l!==null);b===null?m=b=s:b=b.next=s}else m=b=s;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var wi=!1;function tr(){if(wi){var i=y;if(i!==null)throw i}}function Mr(i,s,l,c){wi=!1;var m=i.updateQueue;ot=!1;var b=m.firstBaseUpdate,R=m.lastBaseUpdate,G=m.shared.pending;if(G!==null){m.shared.pending=null;var ce=G,Le=ce.next;ce.next=null,R===null?b=Le:R.next=Le,R=ce;var Be=i.alternate;Be!==null&&(Be=Be.updateQueue,G=Be.lastBaseUpdate,G!==R&&(G===null?Be.firstBaseUpdate=Le:G.next=Le,Be.lastBaseUpdate=ce))}if(b!==null){var Ge=m.baseState;R=0,Be=Le=ce=null,G=b;do{var De=G.lane&-536870913,Pe=De!==G.lane;if(Pe?(yn&De)===De:(c&De)===De){De!==0&&De===p&&(wi=!0),Be!==null&&(Be=Be.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var ht=i,Mt=G;De=s;var ir=l;switch(Mt.tag){case 1:if(ht=Mt.payload,typeof ht=="function"){Ge=ht.call(ir,Ge,De);break e}Ge=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=Mt.payload,De=typeof ht=="function"?ht.call(ir,Ge,De):ht,De==null)break e;Ge=A({},Ge,De);break e;case 2:ot=!0}}De=G.callback,De!==null&&(i.flags|=64,Pe&&(i.flags|=8192),Pe=m.callbacks,Pe===null?m.callbacks=[De]:Pe.push(De))}else Pe={lane:De,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Be===null?(Le=Be=Pe,ce=Ge):Be=Be.next=Pe,R|=De;if(G=G.next,G===null){if(G=m.shared.pending,G===null)break;Pe=G,G=Pe.next,Pe.next=null,m.lastBaseUpdate=Pe,m.shared.pending=null}}while(!0);Be===null&&(ce=Ge),m.baseState=ce,m.firstBaseUpdate=Le,m.lastBaseUpdate=Be,b===null&&(m.shared.lanes=0),fu|=R,i.lanes=R,i.memoizedState=Ge}}function Mi(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function jr(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Mi(l[i],s)}var cn=J(null),Sn=J(0);function pr(i,s){i=Il,K(Sn,i),K(cn,s),Il=i|s.baseLanes}function Rn(){K(Sn,Il),K(cn,cn.current)}function Wr(){Il=Sn.current,D(cn),D(Sn)}var gr=J(null),Tn=null;function Lr(i){var s=i.alternate;K(xn,xn.current&1),K(gr,i),Tn===null&&(s===null||cn.current!==null||s.memoizedState!==null)&&(Tn=i)}function Vn(i){K(xn,xn.current),K(gr,i),Tn===null&&(Tn=i)}function Ur(i){i.tag===22?(K(xn,xn.current),K(gr,i),Tn===null&&(Tn=i)):Vr()}function Vr(){K(xn,xn.current),K(gr,gr.current)}function $n(i){D(gr),Tn===i&&(Tn=null),D(xn)}var xn=J(0);function ji(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||e0(l)||t0(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var wr=0,Tt=null,Ct=null,Nn=null,ls=!1,Ws=!1,Xi=!1,Fr=0,jo=0,Uo=null,Kc=0;function nr(){throw Error(r(321))}function tf(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!mi(i[l],s[l]))return!1;return!0}function nf(i,s,l,c,m,b){return wr=b,Tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=i===null||i.memoizedState===null?by:hm,Xi=!1,b=l(c,m),Xi=!1,Ws&&(b=so(s,l,c,m)),Wc(i),b}function Wc(i){ee.H=hf;var s=Ct!==null&&Ct.next!==null;if(wr=0,Nn=Ct=Tt=null,ls=!1,jo=0,Uo=null,s)throw Error(r(300));i===null||si||(i=i.dependencies,i!==null&&Gc(i)&&(si=!0))}function so(i,s,l,c){Tt=i;var m=0;do{if(Ws&&(Uo=null),jo=0,Ws=!1,25<=m)throw Error(r(301));if(m+=1,Nn=Ct=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}ee.H=_y,b=s(l,c)}while(Ws);return b}function im(){var i=ee.H,s=i.useState()[0];return s=typeof s.then=="function"?Vo(s):s,i=i.useState()[0],(Ct!==null?Ct.memoizedState:null)!==i&&(Tt.flags|=1024),s}function rf(){var i=Fr!==0;return Fr=0,i}function sf(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Qc(i){if(ls){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ls=!1}wr=0,Nn=Ct=Tt=null,Ws=!1,jo=Fr=0,Uo=null}function ii(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Tt.memoizedState=Nn=i:Nn=Nn.next=i,Nn}function Ar(){if(Ct===null){var i=Tt.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var s=Nn===null?Tt.memoizedState:Nn.next;if(s!==null)Nn=s,Ct=i;else{if(i===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Nn===null?Tt.memoizedState=Nn=i:Nn=Nn.next=i}return Nn}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(i){var s=jo;return jo+=1,Uo===null&&(Uo=[]),i=je(Uo,i,s),s=Tt,(Nn===null?s.memoizedState:Nn.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?by:hm),i}function au(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vo(i);if(i.$$typeof===ae)return _i(i)}throw Error(r(438,String(i)))}function bl(i){var s=null,l=Tt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Tt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=ic(),Tt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=B;return s.index++,l}function ja(i,s){return typeof s=="function"?s(i):s}function Xc(i){var s=Ar();return ou(s,Ct,i)}function ou(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,b=c.pending;if(b!==null){if(m!==null){var R=m.next;m.next=b.next,b.next=R}s.baseQueue=m=b,c.pending=null}if(b=i.baseState,m===null)i.memoizedState=b;else{s=m.next;var G=R=null,ce=null,Le=s,Be=!1;do{var Ge=Le.lane&-536870913;if(Ge!==Le.lane?(yn&Ge)===Ge:(wr&Ge)===Ge){var De=Le.revertLane;if(De===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),Ge===p&&(Be=!0);else if((wr&De)===De){Le=Le.next,De===p&&(Be=!0);continue}else Ge={lane:0,revertLane:Le.revertLane,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ce===null?(G=ce=Ge,R=b):ce=ce.next=Ge,Tt.lanes|=De,fu|=De;Ge=Le.action,Xi&&l(b,Ge),b=Le.hasEagerState?Le.eagerState:l(b,Ge)}else De={lane:Ge,revertLane:Le.revertLane,gesture:Le.gesture,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ce===null?(G=ce=De,R=b):ce=ce.next=De,Tt.lanes|=Ge,fu|=Ge;Le=Le.next}while(Le!==null&&Le!==s);if(ce===null?R=b:ce.next=G,!mi(b,i.memoizedState)&&(si=!0,Be&&(l=y,l!==null)))throw l;i.memoizedState=b,i.baseState=R,i.baseQueue=ce,c.lastRenderedState=b}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Jc(i){var s=Ar(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,b=s.memoizedState;if(m!==null){l.pending=null;var R=m=m.next;do b=i(b,R.action),R=R.next;while(R!==m);mi(b,s.memoizedState)||(si=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),l.lastRenderedState=b}return[b,c]}function Zc(i,s,l){var c=Tt,m=Ar(),b=dn;if(b){if(l===void 0)throw Error(r(407));l=l()}else l=s();var R=!mi((Ct||m).memoizedState,l);if(R&&(m.memoizedState=l,si=!0),m=m.queue,sm(of.bind(null,c,m,i),[i]),m.getSnapshot!==s||R||Nn!==null&&Nn.memoizedState.tag&1){if(c.flags|=2048,wl(9,{destroy:void 0},af.bind(null,c,m,l,s),null),lr===null)throw Error(r(349));b||(wr&127)!==0||ao(c,s,l)}return l}function ao(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Tt.updateQueue,s===null?(s=ic(),Tt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function af(i,s,l,c){s.value=l,s.getSnapshot=c,Rd(s)&&lf(i)}function of(i,s,l){return l(function(){Rd(s)&&lf(i)})}function Rd(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!mi(i,l)}catch{return!0}}function lf(i){var s=ro(i,2);s!==null&&ea(s,i,2)}function Fo(i){var s=ii();if(typeof i=="function"){var l=i;if(i=l(),Xi){Et(!0);try{l()}finally{Et(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:i},s}function Ld(i,s,l,c){return i.baseState=l,ou(i,Ct,typeof c=="function"?c:ja)}function Dd(i,s,l,c,m){if(Md(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};ee.T!==null?l(!0):b.isTransition=!1,c(b),l=s.pending,l===null?(b.next=s.pending=b,kd(s,b)):(b.next=l.next,s.pending=l.next=b)}}function kd(i,s){var l=s.action,c=s.payload,m=i.state;if(s.isTransition){var b=ee.T,R={};ee.T=R;try{var G=l(m,c),ce=ee.S;ce!==null&&ce(R,G),uf(i,s,G)}catch(Le){_l(i,s,Le)}finally{b!==null&&R.types!==null&&(b.types=R.types),ee.T=b}}else try{b=l(m,c),uf(i,s,b)}catch(Le){_l(i,s,Le)}}function uf(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Od(i,s,c)},function(c){return _l(i,s,c)}):Od(i,s,l)}function Od(i,s,l){s.status="fulfilled",s.value=l,eh(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,kd(i,l)))}function _l(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,eh(s),s=s.next;while(s!==c)}i.action=null}function eh(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function sc(i,s){return s}function Ua(i,s){if(dn){var l=lr.formState;if(l!==null){e:{var c=Tt;if(dn){if(ar){t:{for(var m=ar,b=_r;m.nodeType!==8;){if(!b){m=null;break t}if(m=Va(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){ar=Va(m.nextSibling),c=m.data==="F!";break e}}Do(c)}c=!1}c&&(s=l[0])}}return l=ii(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:s},l.queue=c,l=my.bind(null,Tt,c),c.dispatch=l,c=Fo(!1),b=cm.bind(null,Tt,!1,c.queue),c=ii(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,l=Dd.bind(null,Tt,m,b,l),m.dispatch=l,c.memoizedState=i,[s,l,!1]}function oo(i){var s=Ar();return lo(s,Ct,i)}function lo(i,s,l){if(s=ou(i,s,sc)[0],i=Xc(ja)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Vo(s)}catch(R){throw R===pe?te:R}else c=s;s=Ar();var m=s.queue,b=m.dispatch;return l!==s.memoizedState&&(Tt.flags|=2048,wl(9,{destroy:void 0},th.bind(null,m,l),null)),[c,b,i]}function th(i,s){i.action=s}function nh(i){var s=Ar(),l=Ct;if(l!==null)return lo(s,l,i);Ar(),s=s.memoizedState,l=Ar();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function wl(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Tt.updateQueue,s===null&&(s=ic(),Tt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function Pd(){return Ar().memoizedState}function lu(i,s,l,c){var m=ii();Tt.flags|=i,m.memoizedState=wl(1|s,{destroy:void 0},l,c===void 0?null:c)}function uu(i,s,l,c){var m=Ar();c=c===void 0?null:c;var b=m.memoizedState.inst;Ct!==null&&c!==null&&tf(c,Ct.memoizedState.deps)?m.memoizedState=wl(s,b,l,c):(Tt.flags|=i,m.memoizedState=wl(1|s,b,l,c))}function ny(i,s){lu(8390656,8,i,s)}function sm(i,s){uu(2048,8,i,s)}function px(i){Tt.flags|=4;var s=Tt.updateQueue;if(s===null)s=ic(),Tt.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function ry(i){var s=Ar().memoizedState;return px({ref:s,nextImpl:i}),function(){if((Fn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function iy(i,s){return uu(4,2,i,s)}function sy(i,s){return uu(4,4,i,s)}function ay(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function oy(i,s,l){l=l!=null?l.concat([i]):null,uu(4,4,ay.bind(null,s,i),l)}function am(){}function ly(i,s){var l=Ar();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&tf(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function uy(i,s){var l=Ar();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&tf(s,c[1]))return c[0];if(c=i(),Xi){Et(!0);try{i()}finally{Et(!1)}}return l.memoizedState=[c,s],c}function om(i,s,l){return l===void 0||(wr&1073741824)!==0&&(yn&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=c5(),Tt.lanes|=i,fu|=i,l)}function cy(i,s,l,c){return mi(l,s)?l:cn.current!==null?(i=om(i,l,c),mi(i,s)||(si=!0),i):(wr&42)===0||(wr&1073741824)!==0&&(yn&261930)===0?(si=!0,i.memoizedState=l):(i=c5(),Tt.lanes|=i,fu|=i,s)}function hy(i,s,l,c,m){var b=de.p;de.p=b!==0&&8>b?b:8;var R=ee.T,G={};ee.T=G,cm(i,!1,s,l);try{var ce=m(),Le=ee.S;if(Le!==null&&Le(G,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Be=V(ce,c);cf(i,s,Be,ba(i))}else cf(i,s,c,ba(i))}catch(Ge){cf(i,s,{then:function(){},status:"rejected",reason:Ge},ba())}finally{de.p=b,R!==null&&G.types!==null&&(R.types=G.types),ee.T=R}}function gx(){}function lm(i,s,l,c){if(i.tag!==5)throw Error(r(476));var m=fy(i).queue;hy(i,m,s,$,l===null?gx:function(){return dy(i),l(c)})}function fy(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:$},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function dy(i){var s=fy(i);s.next===null&&(s=i.alternate.memoizedState),cf(i,s.next.queue,{},ba())}function um(){return _i(Nf)}function py(){return Ar().memoizedState}function gy(){return Ar().memoizedState}function mx(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=ba();i=kt(l);var c=rn(s,i,l);c!==null&&(ea(c,s,l),Un(c,s,l)),s={cache:su()},i.payload=s;return}s=s.return}}function yx(i,s,l){var c=ba();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Md(i)?yy(s,l):(l=jc(i,s,l,c),l!==null&&(ea(l,i,c),vy(l,s,c)))}function my(i,s,l){var c=ba();cf(i,s,l,c)}function cf(i,s,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Md(i))yy(s,m);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var R=s.lastRenderedState,G=b(R,l);if(m.hasEagerState=!0,m.eagerState=G,mi(G,R))return Xu(i,s,m,0),lr===null&&Qu(),!1}catch{}finally{}if(l=jc(i,s,m,c),l!==null)return ea(l,i,c),vy(l,s,c),!0}return!1}function cm(i,s,l,c){if(c={lane:2,revertLane:qm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Md(i)){if(s)throw Error(r(479))}else s=jc(i,l,c,2),s!==null&&ea(s,i,2)}function Md(i){var s=i.alternate;return i===Tt||s!==null&&s===Tt}function yy(i,s){Ws=ls=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function vy(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Ei(i,l)}}var hf={readContext:_i,use:au,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useLayoutEffect:nr,useInsertionEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useSyncExternalStore:nr,useId:nr,useHostTransitionStatus:nr,useFormState:nr,useActionState:nr,useOptimistic:nr,useMemoCache:nr,useCacheRefresh:nr};hf.useEffectEvent=nr;var by={readContext:_i,use:au,useCallback:function(i,s){return ii().memoizedState=[i,s===void 0?null:s],i},useContext:_i,useEffect:ny,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,lu(4194308,4,ay.bind(null,s,i),l)},useLayoutEffect:function(i,s){return lu(4194308,4,i,s)},useInsertionEffect:function(i,s){lu(4,2,i,s)},useMemo:function(i,s){var l=ii();s=s===void 0?null:s;var c=i();if(Xi){Et(!0);try{i()}finally{Et(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=ii();if(l!==void 0){var m=l(s);if(Xi){Et(!0);try{l(s)}finally{Et(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=yx.bind(null,Tt,i),[c.memoizedState,i]},useRef:function(i){var s=ii();return i={current:i},s.memoizedState=i},useState:function(i){i=Fo(i);var s=i.queue,l=my.bind(null,Tt,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:am,useDeferredValue:function(i,s){var l=ii();return om(l,i,s)},useTransition:function(){var i=Fo(!1);return i=hy.bind(null,Tt,i.queue,!0,!1),ii().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Tt,m=ii();if(dn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),lr===null)throw Error(r(349));(yn&127)!==0||ao(c,s,l)}m.memoizedState=l;var b={value:l,getSnapshot:s};return m.queue=b,ny(of.bind(null,c,b,i),[i]),c.flags|=2048,wl(9,{destroy:void 0},af.bind(null,c,b,l,s),null),l},useId:function(){var i=ii(),s=lr.identifierPrefix;if(dn){var l=$s,c=Ys;l=(c&~(1<<32-Ut(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Fr++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Kc++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:um,useFormState:Ua,useActionState:Ua,useOptimistic:function(i){var s=ii();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=cm.bind(null,Tt,!0,l),l.dispatch=s,[i,s]},useMemoCache:bl,useCacheRefresh:function(){return ii().memoizedState=mx.bind(null,Tt)},useEffectEvent:function(i){var s=ii(),l={impl:i};return s.memoizedState=l,function(){if((Fn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},hm={readContext:_i,use:au,useCallback:ly,useContext:_i,useEffect:sm,useImperativeHandle:oy,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:uy,useReducer:Xc,useRef:Pd,useState:function(){return Xc(ja)},useDebugValue:am,useDeferredValue:function(i,s){var l=Ar();return cy(l,Ct.memoizedState,i,s)},useTransition:function(){var i=Xc(ja)[0],s=Ar().memoizedState;return[typeof i=="boolean"?i:Vo(i),s]},useSyncExternalStore:Zc,useId:py,useHostTransitionStatus:um,useFormState:oo,useActionState:oo,useOptimistic:function(i,s){var l=Ar();return Ld(l,Ct,i,s)},useMemoCache:bl,useCacheRefresh:gy};hm.useEffectEvent=ry;var _y={readContext:_i,use:au,useCallback:ly,useContext:_i,useEffect:sm,useImperativeHandle:oy,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:uy,useReducer:Jc,useRef:Pd,useState:function(){return Jc(ja)},useDebugValue:am,useDeferredValue:function(i,s){var l=Ar();return Ct===null?om(l,i,s):cy(l,Ct.memoizedState,i,s)},useTransition:function(){var i=Jc(ja)[0],s=Ar().memoizedState;return[typeof i=="boolean"?i:Vo(i),s]},useSyncExternalStore:Zc,useId:py,useHostTransitionStatus:um,useFormState:nh,useActionState:nh,useOptimistic:function(i,s){var l=Ar();return Ct!==null?Ld(l,Ct,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:bl,useCacheRefresh:gy};_y.useEffectEvent=ry;function fm(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:A({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var dm={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=ba(),m=kt(c);m.payload=s,l!=null&&(m.callback=l),s=rn(i,m,c),s!==null&&(ea(s,i,c),Un(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=ba(),m=kt(c);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=rn(i,m,c),s!==null&&(ea(s,i,c),Un(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=ba(),c=kt(l);c.tag=2,s!=null&&(c.callback=s),s=rn(i,c,l),s!==null&&(ea(s,i,l),Un(s,i,l))}};function wy(i,s,l,c,m,b,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,b,R):s.prototype&&s.prototype.isPureReactComponent?!Za(l,c)||!Za(m,b):!0}function Ay(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&dm.enqueueReplaceState(s,s.state,null)}function ac(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=A({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}function xy(i){Wu(i)}function Ey(i){console.error(i)}function Sy(i){Wu(i)}function jd(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Ty(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function pm(i,s,l){return l=kt(l),l.tag=3,l.payload={element:null},l.callback=function(){jd(i,s)},l}function Ny(i){return i=kt(i),i.tag=3,i}function Iy(i,s,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var b=c.value;i.payload=function(){return m(b)},i.callback=function(){Ty(s,l,c)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){Ty(s,l,c),typeof m!="function"&&(du===null?du=new Set([this]):du.add(this));var G=c.stack;this.componentDidCatch(c.value,{componentStack:G!==null?G:""})})}function vx(i,s,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Po(s,l,m,!0),l=gr.current,l!==null){switch(l.tag){case 31:case 13:return Tn===null?Wd():l.alternate===null&&Br===0&&(Br=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===me?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Vm(i,c,m)),!1;case 22:return l.flags|=65536,c===me?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Vm(i,c,m)),!1}throw Error(r(435,l.tag))}return Vm(i,c,m),Wd(),!1}if(dn)return s=gr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==ma&&(i=Error(r(422),{cause:c}),ru(zs(i,l)))):(c!==ma&&(s=Error(r(423),{cause:c}),ru(zs(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=zs(c,l),m=pm(i.stateNode,c,m),Kr(i,m),Br!==4&&(Br=2)),!1;var b=Error(r(520),{cause:c});if(b=zs(b,l),bf===null?bf=[b]:bf.push(b),Br!==4&&(Br=2),s===null)return!0;c=zs(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=pm(l.stateNode,c,i),Kr(l,i),!1;case 1:if(s=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(du===null||!du.has(b))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Ny(m),Iy(m,i,l,c),Kr(l,m),!1}l=l.return}while(l!==null);return!1}var gm=Error(r(461)),si=!1;function Ji(i,s,l,c){s.child=i===null?Jt(s,null,l,c):or(s,i.child,l,c)}function Cy(i,s,l,c,m){l=l.render;var b=s.ref;if("ref"in c){var R={};for(var G in c)G!=="ref"&&(R[G]=c[G])}else R=c;return Mo(s),c=nf(i,s,l,R,b,m),G=rf(),i!==null&&!si?(sf(i,s,m),Al(i,s,m)):(dn&&G&&Jh(s),s.flags|=1,Ji(i,s,c,m),s.child)}function Ry(i,s,l,c,m){if(i===null){var b=l.type;return typeof b=="function"&&!Vc(b)&&b.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=b,Ly(i,s,b,c,m)):(i=eu(l.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!xm(i,m)){var R=b.memoizedProps;if(l=l.compare,l=l!==null?l:Za,l(R,c)&&i.ref===s.ref)return Al(i,s,m)}return s.flags|=1,i=qs(b,c),i.ref=s.ref,i.return=s,s.child=i}function Ly(i,s,l,c,m){if(i!==null){var b=i.memoizedProps;if(Za(b,c)&&i.ref===s.ref)if(si=!1,s.pendingProps=c=b,xm(i,m))(i.flags&131072)!==0&&(si=!0);else return s.lanes=i.lanes,Al(i,s,m)}return mm(i,s,l,c,m)}function Dy(i,s,l,c){var m=c.children,b=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,i!==null){for(c=s.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~b}else c=0,s.child=null;return ky(i,s,b,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&X(s,b!==null?b.cachePool:null),b!==null?pr(s,b):Rn(),Ur(s);else return c=s.lanes=536870912,ky(i,s,b!==null?b.baseLanes|l:l,l,c)}else b!==null?(X(s,b.cachePool),pr(s,b),Vr(),s.memoizedState=null):(i!==null&&X(s,null),Rn(),Vr());return Ji(i,s,m,l),s.child}function ff(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function ky(i,s,l,c,m){var b=W();return b=b===null?null:{parent:Rr._currentValue,pool:b},s.memoizedState={baseLanes:l,cachePool:b},i!==null&&X(s,null),Rn(),Ur(s),i!==null&&Po(i,s,c,!0),s.childLanes=m,null}function Ud(i,s){return s=Fd({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Oy(i,s,l){return or(s,i.child,null,l),i=Ud(s,s.pendingProps),i.flags|=2,$n(s),s.memoizedState=null,i}function bx(i,s,l){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(dn){if(c.mode==="hidden")return i=Ud(s,c),s.lanes=536870912,ff(null,i);if(Vn(s),(i=ar)?(i=Y5(i,_r),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Lo!==null?{id:Ys,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},l=Fc(i),l.return=s,s.child=l,vi=s,ar=null)):i=null,i===null)throw Do(s);return s.lanes=536870912,null}return Ud(s,c)}var b=i.memoizedState;if(b!==null){var R=b.dehydrated;if(Vn(s),m)if(s.flags&256)s.flags&=-257,s=Oy(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(si||Po(i,s,l,!1),m=(l&i.childLanes)!==0,si||m){if(c=lr,c!==null&&(R=Si(c,l),R!==0&&R!==b.retryLane))throw b.retryLane=R,ro(i,R),ea(c,i,R),gm;Wd(),s=Oy(i,s,l)}else i=b.treeContext,ar=Va(R.nextSibling),vi=s,dn=!0,Qi=null,_r=!1,i!==null&&Id(s,i),s=Ud(s,c),s.flags|=4096;return s}return i=qs(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Vd(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function mm(i,s,l,c,m){return Mo(s),l=nf(i,s,l,c,void 0,m),c=rf(),i!==null&&!si?(sf(i,s,m),Al(i,s,m)):(dn&&c&&Jh(s),s.flags|=1,Ji(i,s,l,m),s.child)}function Py(i,s,l,c,m,b){return Mo(s),s.updateQueue=null,l=so(s,c,l,m),Wc(i),c=rf(),i!==null&&!si?(sf(i,s,b),Al(i,s,b)):(dn&&c&&Jh(s),s.flags|=1,Ji(i,s,l,b),s.child)}function My(i,s,l,c,m){if(Mo(s),s.stateNode===null){var b=yi,R=l.contextType;typeof R=="object"&&R!==null&&(b=_i(R)),b=new l(c,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=dm,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=c,b.state=s.memoizedState,b.refs={},et(s),R=l.contextType,b.context=typeof R=="object"&&R!==null?_i(R):yi,b.state=s.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(fm(s,l,R,c),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&dm.enqueueReplaceState(b,b.state,null),Mr(s,c,b,m),tr(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){b=s.stateNode;var G=s.memoizedProps,ce=ac(l,G);b.props=ce;var Le=b.context,Be=l.contextType;R=yi,typeof Be=="object"&&Be!==null&&(R=_i(Be));var Ge=l.getDerivedStateFromProps;Be=typeof Ge=="function"||typeof b.getSnapshotBeforeUpdate=="function",G=s.pendingProps!==G,Be||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(G||Le!==R)&&Ay(s,b,c,R),ot=!1;var De=s.memoizedState;b.state=De,Mr(s,c,b,m),tr(),Le=s.memoizedState,G||De!==Le||ot?(typeof Ge=="function"&&(fm(s,l,Ge,c),Le=s.memoizedState),(ce=ot||wy(s,l,ce,c,De,Le,R))?(Be||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Le),b.props=c,b.state=Le,b.context=R,c=ce):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{b=s.stateNode,dr(i,s),R=s.memoizedProps,Be=ac(l,R),b.props=Be,Ge=s.pendingProps,De=b.context,Le=l.contextType,ce=yi,typeof Le=="object"&&Le!==null&&(ce=_i(Le)),G=l.getDerivedStateFromProps,(Le=typeof G=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==Ge||De!==ce)&&Ay(s,b,c,ce),ot=!1,De=s.memoizedState,b.state=De,Mr(s,c,b,m),tr();var Pe=s.memoizedState;R!==Ge||De!==Pe||ot||i!==null&&i.dependencies!==null&&Gc(i.dependencies)?(typeof G=="function"&&(fm(s,l,G,c),Pe=s.memoizedState),(Be=ot||wy(s,l,Be,c,De,Pe,ce)||i!==null&&i.dependencies!==null&&Gc(i.dependencies))?(Le||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Pe,ce),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Pe,ce)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===i.memoizedProps&&De===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&De===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Pe),b.props=c,b.state=Pe,b.context=ce,c=Be):(typeof b.componentDidUpdate!="function"||R===i.memoizedProps&&De===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&De===i.memoizedState||(s.flags|=1024),c=!1)}return b=c,Vd(i,s),c=(s.flags&128)!==0,b||c?(b=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&c?(s.child=or(s,i.child,null,m),s.child=or(s,null,l,m)):Ji(i,s,l,m),s.memoizedState=b.state,i=s.child):i=Al(i,s,m),i}function jy(i,s,l,c){return yl(),s.flags|=256,Ji(i,s,l,c),s.child}var ym={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vm(i){return{baseLanes:i,cachePool:re()}}function bm(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=va),i}function Uy(i,s,l){var c=s.pendingProps,m=!1,b=(s.flags&128)!==0,R;if((R=b)||(R=i!==null&&i.memoizedState===null?!1:(xn.current&2)!==0),R&&(m=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,i===null){if(dn){if(m?Lr(s):Vr(),(i=ar)?(i=Y5(i,_r),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Lo!==null?{id:Ys,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},l=Fc(i),l.return=s,s.child=l,vi=s,ar=null)):i=null,i===null)throw Do(s);return t0(i)?s.lanes=32:s.lanes=536870912,null}var G=c.children;return c=c.fallback,m?(Vr(),m=s.mode,G=Fd({mode:"hidden",children:G},m),c=Ro(c,m,l,null),G.return=s,c.return=s,G.sibling=c,s.child=G,c=s.child,c.memoizedState=vm(l),c.childLanes=bm(i,R,l),s.memoizedState=ym,ff(null,c)):(Lr(s),_m(s,G))}var ce=i.memoizedState;if(ce!==null&&(G=ce.dehydrated,G!==null)){if(b)s.flags&256?(Lr(s),s.flags&=-257,s=wm(i,s,l)):s.memoizedState!==null?(Vr(),s.child=i.child,s.flags|=128,s=null):(Vr(),G=c.fallback,m=s.mode,c=Fd({mode:"visible",children:c.children},m),G=Ro(G,m,l,null),G.flags|=2,c.return=s,G.return=s,c.sibling=G,s.child=c,or(s,i.child,null,l),c=s.child,c.memoizedState=vm(l),c.childLanes=bm(i,R,l),s.memoizedState=ym,s=ff(null,c));else if(Lr(s),t0(G)){if(R=G.nextSibling&&G.nextSibling.dataset,R)var Le=R.dgst;R=Le,c=Error(r(419)),c.stack="",c.digest=R,ru({value:c,source:null,stack:null}),s=wm(i,s,l)}else if(si||Po(i,s,l,!1),R=(l&i.childLanes)!==0,si||R){if(R=lr,R!==null&&(c=Si(R,l),c!==0&&c!==ce.retryLane))throw ce.retryLane=c,ro(i,c),ea(R,i,c),gm;e0(G)||Wd(),s=wm(i,s,l)}else e0(G)?(s.flags|=192,s.child=i.child,s=null):(i=ce.treeContext,ar=Va(G.nextSibling),vi=s,dn=!0,Qi=null,_r=!1,i!==null&&Id(s,i),s=_m(s,c.children),s.flags|=4096);return s}return m?(Vr(),G=c.fallback,m=s.mode,ce=i.child,Le=ce.sibling,c=qs(ce,{mode:"hidden",children:c.children}),c.subtreeFlags=ce.subtreeFlags&65011712,Le!==null?G=qs(Le,G):(G=Ro(G,m,l,null),G.flags|=2),G.return=s,c.return=s,c.sibling=G,s.child=c,ff(null,c),c=s.child,G=i.child.memoizedState,G===null?G=vm(l):(m=G.cachePool,m!==null?(ce=Rr._currentValue,m=m.parent!==ce?{parent:ce,pool:ce}:m):m=re(),G={baseLanes:G.baseLanes|l,cachePool:m}),c.memoizedState=G,c.childLanes=bm(i,R,l),s.memoizedState=ym,ff(i.child,c)):(Lr(s),l=i.child,i=l.sibling,l=qs(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(R=s.deletions,R===null?(s.deletions=[i],s.flags|=16):R.push(i)),s.child=l,s.memoizedState=null,l)}function _m(i,s){return s=Fd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Fd(i,s){return i=Pi(22,i,null,s),i.lanes=0,i}function wm(i,s,l){return or(s,i.child,null,l),i=_m(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Vy(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),iu(i.return,s,l)}function Am(i,s,l,c,m,b){var R=i.memoizedState;R===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:b}:(R.isBackwards=s,R.rendering=null,R.renderingStartTime=0,R.last=c,R.tail=l,R.tailMode=m,R.treeForkCount=b)}function Fy(i,s,l){var c=s.pendingProps,m=c.revealOrder,b=c.tail;c=c.children;var R=xn.current,G=(R&2)!==0;if(G?(R=R&1|2,s.flags|=128):R&=1,K(xn,R),Ji(i,s,c,l),c=dn?tc:0,!G&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Vy(i,l,s);else if(i.tag===19)Vy(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&ji(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Am(s,!1,m,l,b,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&ji(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Am(s,!0,l,null,b,c);break;case"together":Am(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Al(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),fu|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Po(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=qs(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=qs(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function xm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Gc(i)))}function _x(i,s,l){switch(s.tag){case 3:Se(s,s.stateNode.containerInfo),Oo(s,Rr,i.memoizedState.cache),yl();break;case 27:case 5:Ue(s);break;case 4:Se(s,s.stateNode.containerInfo);break;case 10:Oo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vn(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Lr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Uy(i,s,l):(Lr(s),i=Al(i,s,l),i!==null?i.sibling:null);Lr(s);break;case 19:var m=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Po(i,s,l,!1),c=(l&s.childLanes)!==0),m){if(c)return Fy(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),K(xn,xn.current),c)break;return null;case 22:return s.lanes=0,Dy(i,s,l,s.pendingProps);case 24:Oo(s,Rr,i.memoizedState.cache)}return Al(i,s,l)}function By(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)si=!0;else{if(!xm(i,l)&&(s.flags&128)===0)return si=!1,_x(i,s,l);si=(i.flags&131072)!==0}else si=!1,dn&&(s.flags&1048576)!==0&&Nd(s,tc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Te(s.elementType),s.type=i,typeof i=="function")Vc(i)?(c=ac(i,c),s.tag=1,s=My(null,s,i,c,l)):(s.tag=0,s=mm(null,s,i,c,l));else{if(i!=null){var m=i.$$typeof;if(m===se){s.tag=11,s=Cy(null,s,i,c,l);break e}else if(m===Y){s.tag=14,s=Ry(null,s,i,c,l);break e}}throw s=oe(i)||i,Error(r(306,s,""))}}return s;case 0:return mm(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,m=ac(c,s.pendingProps),My(i,s,c,m,l);case 3:e:{if(Se(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var b=s.memoizedState;m=b.element,dr(i,s),Mr(s,c,null,l);var R=s.memoizedState;if(c=R.cache,Oo(s,Rr,c),c!==b.cache&&vl(s,[Rr],l,!0),tr(),c=R.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=jy(i,s,c,l);break e}else if(c!==m){m=zs(Error(r(424)),s),ru(m),s=jy(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ar=Va(i.firstChild),vi=s,dn=!0,Qi=null,_r=!0,l=Jt(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(yl(),c===m){s=Al(i,s,l);break e}Ji(i,s,c,l)}s=s.child}return s;case 26:return Vd(i,s),i===null?(l=J5(s.type,null,s.pendingProps,null))?s.memoizedState=l:dn||(l=s.type,i=s.pendingProps,c=np(he.current).createElement(l),c[Dn]=s,c[Hn]=i,Zi(c,l,i),fr(c),s.stateNode=c):s.memoizedState=J5(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ue(s),i===null&&dn&&(c=s.stateNode=W5(s.type,s.pendingProps,he.current),vi=s,_r=!0,m=ar,yu(s.type)?(n0=m,ar=Va(c.firstChild)):ar=m),Ji(i,s,s.pendingProps.children,l),Vd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&dn&&((m=c=ar)&&(c=Qx(c,s.type,s.pendingProps,_r),c!==null?(s.stateNode=c,vi=s,ar=Va(c.firstChild),_r=!1,m=!0):m=!1),m||Do(s)),Ue(s),m=s.type,b=s.pendingProps,R=i!==null?i.memoizedProps:null,c=b.children,Xm(m,b)?c=null:R!==null&&Xm(m,R)&&(s.flags|=32),s.memoizedState!==null&&(m=nf(i,s,im,null,null,l),Nf._currentValue=m),Vd(i,s),Ji(i,s,c,l),s.child;case 6:return i===null&&dn&&((i=l=ar)&&(l=Xx(l,s.pendingProps,_r),l!==null?(s.stateNode=l,vi=s,ar=null,i=!0):i=!1),i||Do(s)),null;case 13:return Uy(i,s,l);case 4:return Se(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=or(s,null,c,l):Ji(i,s,c,l),s.child;case 11:return Cy(i,s,s.type,s.pendingProps,l);case 7:return Ji(i,s,s.pendingProps,l),s.child;case 8:return Ji(i,s,s.pendingProps.children,l),s.child;case 12:return Ji(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,Oo(s,s.type,c.value),Ji(i,s,c.children,l),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Mo(s),m=_i(m),c=c(m),s.flags|=1,Ji(i,s,c,l),s.child;case 14:return Ry(i,s,s.type,s.pendingProps,l);case 15:return Ly(i,s,s.type,s.pendingProps,l);case 19:return Fy(i,s,l);case 31:return bx(i,s,l);case 22:return Dy(i,s,l,s.pendingProps);case 24:return Mo(s),c=_i(Rr),i===null?(m=W(),m===null&&(m=lr,b=su(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=l),m=b),s.memoizedState={parent:c,cache:m},et(s),Oo(s,Rr,m)):((i.lanes&l)!==0&&(dr(i,s),Mr(s,null,null,l),tr()),m=i.memoizedState,b=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Oo(s,Rr,c)):(c=b.cache,Oo(s,Rr,c),c!==m.cache&&vl(s,[Rr],l,!0))),Ji(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function xl(i){i.flags|=4}function Em(i,s,l,c,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(p5())i.flags|=8192;else throw Me=me,Ie}else i.flags&=-16777217}function qy(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!rv(s))if(p5())i.flags|=8192;else throw Me=me,Ie}function Bd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Os():536870912,i.lanes|=s,ah|=s)}function df(i,s){if(!dn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function mr(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function wx(i,s,l){var c=s.pendingProps;switch(zc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(s),null;case 1:return mr(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ks(Rr),Ne(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(bi(s)?xl(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ef())),mr(s),null;case 26:var m=s.type,b=s.memoizedState;return i===null?(xl(s),b!==null?(mr(s),qy(s,b)):(mr(s),Em(s,m,null,c,l))):b?b!==i.memoizedState?(xl(s),mr(s),qy(s,b)):(mr(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&xl(s),mr(s),Em(s,m,i,c,l)),null;case 27:if(Qe(s),l=he.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&xl(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return mr(s),null}i=Z.current,bi(s)?Zh(s):(i=W5(m,c,l),s.stateNode=i,xl(s))}return mr(s),null;case 5:if(Qe(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&xl(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return mr(s),null}if(b=Z.current,bi(s))Zh(s);else{var R=np(he.current);switch(b){case 1:b=R.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=R.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=R.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=R.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=R.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof c.is=="string"?R.createElement("select",{is:c.is}):R.createElement("select"),c.multiple?b.multiple=!0:c.size&&(b.size=c.size);break;default:b=typeof c.is=="string"?R.createElement(m,{is:c.is}):R.createElement(m)}}b[Dn]=s,b[Hn]=c;e:for(R=s.child;R!==null;){if(R.tag===5||R.tag===6)b.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===s)break e;for(;R.sibling===null;){if(R.return===null||R.return===s)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}s.stateNode=b;e:switch(Zi(b,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&xl(s)}}return mr(s),Em(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&xl(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=he.current,bi(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,m=vi,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Dn]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||U5(i.nodeValue,l)),i||Do(s,!0)}else i=np(i).createTextNode(c),i[Dn]=s,s.stateNode=i}return mr(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(c=bi(s),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Dn]=s}else yl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mr(s),i=!1}else l=ef(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?($n(s),s):($n(s),null);if((s.flags&128)!==0)throw Error(r(558))}return mr(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=bi(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Dn]=s}else yl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mr(s),m=!1}else m=ef(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?($n(s),s):($n(s),null)}return $n(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==m&&(c.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),Bd(s,s.updateQueue),mr(s),null);case 4:return Ne(),i===null&&Ym(s.stateNode.containerInfo),mr(s),null;case 10:return Ks(s.type),mr(s),null;case 19:if(D(xn),c=s.memoizedState,c===null)return mr(s),null;if(m=(s.flags&128)!==0,b=c.rendering,b===null)if(m)df(c,!1);else{if(Br!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=ji(i),b!==null){for(s.flags|=128,df(c,!1),i=b.updateQueue,s.updateQueue=i,Bd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Zu(l,i),l=l.sibling;return K(xn,xn.current&1|2),dn&&Ls(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&Gt()>Yd&&(s.flags|=128,m=!0,df(c,!1),s.lanes=4194304)}else{if(!m)if(i=ji(b),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,Bd(s,i),df(c,!0),c.tail===null&&c.tailMode==="hidden"&&!b.alternate&&!dn)return mr(s),null}else 2*Gt()-c.renderingStartTime>Yd&&l!==536870912&&(s.flags|=128,m=!0,df(c,!1),s.lanes=4194304);c.isBackwards?(b.sibling=s.child,s.child=b):(i=c.last,i!==null?i.sibling=b:s.child=b,c.last=b)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Gt(),i.sibling=null,l=xn.current,K(xn,m?l&1|2:l&1),dn&&Ls(s,c.treeForkCount),i):(mr(s),null);case 22:case 23:return $n(s),Wr(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(mr(s),s.subtreeFlags&6&&(s.flags|=8192)):mr(s),l=s.updateQueue,l!==null&&Bd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&D(H),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ks(Rr),mr(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Ax(i,s){switch(zc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ks(Rr),Ne(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Qe(s),null;case 31:if(s.memoizedState!==null){if($n(s),s.alternate===null)throw Error(r(340));yl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if($n(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));yl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return D(xn),null;case 4:return Ne(),null;case 10:return Ks(s.type),null;case 22:case 23:return $n(s),Wr(),i!==null&&D(H),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ks(Rr),null;case 25:return null;default:return null}}function zy(i,s){switch(zc(s),s.tag){case 3:Ks(Rr),Ne();break;case 26:case 27:case 5:Qe(s);break;case 4:Ne();break;case 31:s.memoizedState!==null&&$n(s);break;case 13:$n(s);break;case 19:D(xn);break;case 10:Ks(s.type);break;case 22:case 23:$n(s),Wr(),i!==null&&D(H);break;case 24:Ks(Rr)}}function pf(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var b=l.create,R=l.inst;c=b(),R.destroy=c}l=l.next}while(l!==m)}}catch(G){Wn(s,s.return,G)}}function cu(i,s,l){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var b=m.next;c=b;do{if((c.tag&i)===i){var R=c.inst,G=R.destroy;if(G!==void 0){R.destroy=void 0,m=s;var ce=l,Le=G;try{Le()}catch(Be){Wn(m,ce,Be)}}}c=c.next}while(c!==b)}}catch(Be){Wn(s,s.return,Be)}}function Hy(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{jr(s,l)}catch(c){Wn(i,i.return,c)}}}function Gy(i,s,l){l.props=ac(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Wn(i,s,c)}}function gf(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){Wn(i,s,m)}}function Bo(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Wn(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Wn(i,s,m)}else l.current=null}function Yy(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Wn(i,i.return,m)}}function Sm(i,s,l){try{var c=i.stateNode;Hx(c,i.type,l,s),c[Hn]=s}catch(m){Wn(i,i.return,m)}}function $y(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&yu(i.type)||i.tag===4}function Tm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$y(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&yu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Nm(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=As));else if(c!==4&&(c===27&&yu(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Nm(i,s,l),i=i.sibling;i!==null;)Nm(i,s,l),i=i.sibling}function qd(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&yu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(qd(i,s,l),i=i.sibling;i!==null;)qd(i,s,l),i=i.sibling}function Ky(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Zi(s,c,l),s[Dn]=i,s[Hn]=l}catch(b){Wn(i,i.return,b)}}var El=!1,ai=!1,Im=!1,Wy=typeof WeakSet=="function"?WeakSet:Set,Ui=null;function xx(i,s){if(i=i.containerInfo,Wm=up,i=to(i),Oa(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var R=0,G=-1,ce=-1,Le=0,Be=0,Ge=i,De=null;t:for(;;){for(var Pe;Ge!==l||m!==0&&Ge.nodeType!==3||(G=R+m),Ge!==b||c!==0&&Ge.nodeType!==3||(ce=R+c),Ge.nodeType===3&&(R+=Ge.nodeValue.length),(Pe=Ge.firstChild)!==null;)De=Ge,Ge=Pe;for(;;){if(Ge===i)break t;if(De===l&&++Le===m&&(G=R),De===b&&++Be===c&&(ce=R),(Pe=Ge.nextSibling)!==null)break;Ge=De,De=Ge.parentNode}Ge=Pe}l=G===-1||ce===-1?null:{start:G,end:ce}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qm={focusedElem:i,selectionRange:l},up=!1,Ui=s;Ui!==null;)if(s=Ui,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ui=i;else for(;Ui!==null;){switch(s=Ui,b=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)m=i[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=s,m=b.memoizedProps,b=b.memoizedState,c=l.stateNode;try{var ht=ac(l.type,m);i=c.getSnapshotBeforeUpdate(ht,b),c.__reactInternalSnapshotBeforeUpdate=i}catch(Mt){Wn(l,l.return,Mt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Zm(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Zm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Ui=i;break}Ui=s.return}}function Qy(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Tl(i,l),c&4&&pf(5,l);break;case 1:if(Tl(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(R){Wn(l,l.return,R)}else{var m=ac(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Wn(l,l.return,R)}}c&64&&Hy(l),c&512&&gf(l,l.return);break;case 3:if(Tl(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{jr(i,s)}catch(R){Wn(l,l.return,R)}}break;case 27:s===null&&c&4&&Ky(l);case 26:case 5:Tl(i,l),s===null&&c&4&&Yy(l),c&512&&gf(l,l.return);break;case 12:Tl(i,l);break;case 31:Tl(i,l),c&4&&Zy(i,l);break;case 13:Tl(i,l),c&4&&e5(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Dx.bind(null,l),Jx(i,l))));break;case 22:if(c=l.memoizedState!==null||El,!c){s=s!==null&&s.memoizedState!==null||ai,m=El;var b=ai;El=c,(ai=s)&&!b?Nl(i,l,(l.subtreeFlags&8772)!==0):Tl(i,l),El=m,ai=b}break;case 30:break;default:Tl(i,l)}}function Xy(i){var s=i.alternate;s!==null&&(i.alternate=null,Xy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&oa(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xr=null,Qs=!1;function Sl(i,s,l){for(l=l.child;l!==null;)Jy(i,s,l),l=l.sibling}function Jy(i,s,l){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(nn,l)}catch{}switch(l.tag){case 26:ai||Bo(l,s),Sl(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ai||Bo(l,s);var c=xr,m=Qs;yu(l.type)&&(xr=l.stateNode,Qs=!1),Sl(i,s,l),Ef(l.stateNode),xr=c,Qs=m;break;case 5:ai||Bo(l,s);case 6:if(c=xr,m=Qs,xr=null,Sl(i,s,l),xr=c,Qs=m,xr!==null)if(Qs)try{(xr.nodeType===9?xr.body:xr.nodeName==="HTML"?xr.ownerDocument.body:xr).removeChild(l.stateNode)}catch(b){Wn(l,s,b)}else try{xr.removeChild(l.stateNode)}catch(b){Wn(l,s,b)}break;case 18:xr!==null&&(Qs?(i=xr,H5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),ph(i)):H5(xr,l.stateNode));break;case 4:c=xr,m=Qs,xr=l.stateNode.containerInfo,Qs=!0,Sl(i,s,l),xr=c,Qs=m;break;case 0:case 11:case 14:case 15:cu(2,l,s),ai||cu(4,l,s),Sl(i,s,l);break;case 1:ai||(Bo(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Gy(l,s,c)),Sl(i,s,l);break;case 21:Sl(i,s,l);break;case 22:ai=(c=ai)||l.memoizedState!==null,Sl(i,s,l),ai=c;break;default:Sl(i,s,l)}}function Zy(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ph(i)}catch(l){Wn(s,s.return,l)}}}function e5(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ph(i)}catch(l){Wn(s,s.return,l)}}function Ex(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Wy),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Wy),s;default:throw Error(r(435,i.tag))}}function zd(i,s){var l=Ex(i);s.forEach(function(c){if(!l.has(c)){l.add(c);var m=kx.bind(null,i,c);c.then(m,m)}})}function Xs(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],b=i,R=s,G=R;e:for(;G!==null;){switch(G.tag){case 27:if(yu(G.type)){xr=G.stateNode,Qs=!1;break e}break;case 5:xr=G.stateNode,Qs=!1;break e;case 3:case 4:xr=G.stateNode.containerInfo,Qs=!0;break e}G=G.return}if(xr===null)throw Error(r(160));Jy(b,R,m),xr=null,Qs=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)t5(s,i),s=s.sibling}var uo=null;function t5(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Xs(s,i),Js(i),c&4&&(cu(3,i,i.return),pf(3,i),cu(5,i,i.return));break;case 1:Xs(s,i),Js(i),c&512&&(ai||l===null||Bo(l,l.return)),c&64&&El&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=uo;if(Xs(s,i),Js(i),c&512&&(ai||l===null||Bo(l,l.return)),c&4){var b=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":b=m.getElementsByTagName("title")[0],(!b||b[Ni]||b[Dn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(c),m.head.insertBefore(b,m.querySelector("head > title"))),Zi(b,c,l),b[Dn]=i,fr(b),c=b;break e;case"link":var R=tv("link","href",m).get(c+(l.href||""));if(R){for(var G=0;G<R.length;G++)if(b=R[G],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(G,1);break t}}b=m.createElement(c),Zi(b,c,l),m.head.appendChild(b);break;case"meta":if(R=tv("meta","content",m).get(c+(l.content||""))){for(G=0;G<R.length;G++)if(b=R[G],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(G,1);break t}}b=m.createElement(c),Zi(b,c,l),m.head.appendChild(b);break;default:throw Error(r(468,c))}b[Dn]=i,fr(b),c=b}i.stateNode=c}else nv(m,i.type,i.stateNode);else i.stateNode=ev(m,c,i.memoizedProps);else b!==c?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,c===null?nv(m,i.type,i.stateNode):ev(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Sm(i,i.memoizedProps,l.memoizedProps)}break;case 27:Xs(s,i),Js(i),c&512&&(ai||l===null||Bo(l,l.return)),l!==null&&c&4&&Sm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Xs(s,i),Js(i),c&512&&(ai||l===null||Bo(l,l.return)),i.flags&32){m=i.stateNode;try{Tr(m,"")}catch(ht){Wn(i,i.return,ht)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Sm(i,m,l!==null?l.memoizedProps:m)),c&1024&&(Im=!0);break;case 6:if(Xs(s,i),Js(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ht){Wn(i,i.return,ht)}}break;case 3:if(sp=null,m=uo,uo=rp(s.containerInfo),Xs(s,i),uo=m,Js(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{ph(s.containerInfo)}catch(ht){Wn(i,i.return,ht)}Im&&(Im=!1,n5(i));break;case 4:c=uo,uo=rp(i.stateNode.containerInfo),Xs(s,i),Js(i),uo=c;break;case 12:Xs(s,i),Js(i);break;case 31:Xs(s,i),Js(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,zd(i,c)));break;case 13:Xs(s,i),Js(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Gd=Gt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,zd(i,c)));break;case 22:m=i.memoizedState!==null;var ce=l!==null&&l.memoizedState!==null,Le=El,Be=ai;if(El=Le||m,ai=Be||ce,Xs(s,i),ai=Be,El=Le,Js(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||ce||El||ai||oc(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){ce=l=s;try{if(b=ce.stateNode,m)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{G=ce.stateNode;var Ge=ce.memoizedProps.style,De=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;G.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(ht){Wn(ce,ce.return,ht)}}}else if(s.tag===6){if(l===null){ce=s;try{ce.stateNode.nodeValue=m?"":ce.memoizedProps}catch(ht){Wn(ce,ce.return,ht)}}}else if(s.tag===18){if(l===null){ce=s;try{var Pe=ce.stateNode;m?G5(Pe,!0):G5(ce.stateNode,!1)}catch(ht){Wn(ce,ce.return,ht)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,zd(i,l))));break;case 19:Xs(s,i),Js(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,zd(i,c)));break;case 30:break;case 21:break;default:Xs(s,i),Js(i)}}function Js(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if($y(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,b=Tm(i);qd(i,b,m);break;case 5:var R=l.stateNode;l.flags&32&&(Tr(R,""),l.flags&=-33);var G=Tm(i);qd(i,G,R);break;case 3:case 4:var ce=l.stateNode.containerInfo,Le=Tm(i);Nm(i,Le,ce);break;default:throw Error(r(161))}}catch(Be){Wn(i,i.return,Be)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function n5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;n5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Tl(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Qy(i,s.alternate,s),s=s.sibling}function oc(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:cu(4,s,s.return),oc(s);break;case 1:Bo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Gy(s,s.return,l),oc(s);break;case 27:Ef(s.stateNode);case 26:case 5:Bo(s,s.return),oc(s);break;case 22:s.memoizedState===null&&oc(s);break;case 30:oc(s);break;default:oc(s)}i=i.sibling}}function Nl(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,b=s,R=b.flags;switch(b.tag){case 0:case 11:case 15:Nl(m,b,l),pf(4,b);break;case 1:if(Nl(m,b,l),c=b,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Le){Wn(c,c.return,Le)}if(c=b,m=c.updateQueue,m!==null){var G=c.stateNode;try{var ce=m.shared.hiddenCallbacks;if(ce!==null)for(m.shared.hiddenCallbacks=null,m=0;m<ce.length;m++)Mi(ce[m],G)}catch(Le){Wn(c,c.return,Le)}}l&&R&64&&Hy(b),gf(b,b.return);break;case 27:Ky(b);case 26:case 5:Nl(m,b,l),l&&c===null&&R&4&&Yy(b),gf(b,b.return);break;case 12:Nl(m,b,l);break;case 31:Nl(m,b,l),l&&R&4&&Zy(m,b);break;case 13:Nl(m,b,l),l&&R&4&&e5(m,b);break;case 22:b.memoizedState===null&&Nl(m,b,l),gf(b,b.return);break;case 30:break;default:Nl(m,b,l)}s=s.sibling}}function Cm(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&nc(l))}function Rm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&nc(i))}function co(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)r5(i,s,l,c),s=s.sibling}function r5(i,s,l,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:co(i,s,l,c),m&2048&&pf(9,s);break;case 1:co(i,s,l,c);break;case 3:co(i,s,l,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&nc(i)));break;case 12:if(m&2048){co(i,s,l,c),i=s.stateNode;try{var b=s.memoizedProps,R=b.id,G=b.onPostCommit;typeof G=="function"&&G(R,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ce){Wn(s,s.return,ce)}}else co(i,s,l,c);break;case 31:co(i,s,l,c);break;case 13:co(i,s,l,c);break;case 23:break;case 22:b=s.stateNode,R=s.alternate,s.memoizedState!==null?b._visibility&2?co(i,s,l,c):mf(i,s):b._visibility&2?co(i,s,l,c):(b._visibility|=2,rh(i,s,l,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Cm(R,s);break;case 24:co(i,s,l,c),m&2048&&Rm(s.alternate,s);break;default:co(i,s,l,c)}}function rh(i,s,l,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=i,R=s,G=l,ce=c,Le=R.flags;switch(R.tag){case 0:case 11:case 15:rh(b,R,G,ce,m),pf(8,R);break;case 23:break;case 22:var Be=R.stateNode;R.memoizedState!==null?Be._visibility&2?rh(b,R,G,ce,m):mf(b,R):(Be._visibility|=2,rh(b,R,G,ce,m)),m&&Le&2048&&Cm(R.alternate,R);break;case 24:rh(b,R,G,ce,m),m&&Le&2048&&Rm(R.alternate,R);break;default:rh(b,R,G,ce,m)}s=s.sibling}}function mf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,m=c.flags;switch(c.tag){case 22:mf(l,c),m&2048&&Cm(c.alternate,c);break;case 24:mf(l,c),m&2048&&Rm(c.alternate,c);break;default:mf(l,c)}s=s.sibling}}var yf=8192;function ih(i,s,l){if(i.subtreeFlags&yf)for(i=i.child;i!==null;)i5(i,s,l),i=i.sibling}function i5(i,s,l){switch(i.tag){case 26:ih(i,s,l),i.flags&yf&&i.memoizedState!==null&&cE(l,uo,i.memoizedState,i.memoizedProps);break;case 5:ih(i,s,l);break;case 3:case 4:var c=uo;uo=rp(i.stateNode.containerInfo),ih(i,s,l),uo=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=yf,yf=16777216,ih(i,s,l),yf=c):ih(i,s,l));break;default:ih(i,s,l)}}function s5(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function vf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Ui=c,o5(c,i)}s5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)a5(i),i=i.sibling}function a5(i){switch(i.tag){case 0:case 11:case 15:vf(i),i.flags&2048&&cu(9,i,i.return);break;case 3:vf(i);break;case 12:vf(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Hd(i)):vf(i);break;default:vf(i)}}function Hd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Ui=c,o5(c,i)}s5(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:cu(8,s,s.return),Hd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Hd(s));break;default:Hd(s)}i=i.sibling}}function o5(i,s){for(;Ui!==null;){var l=Ui;switch(l.tag){case 0:case 11:case 15:cu(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:nc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Ui=c;else e:for(l=i;Ui!==null;){c=Ui;var m=c.sibling,b=c.return;if(Xy(c),c===l){Ui=null;break e}if(m!==null){m.return=b,Ui=m;break e}Ui=b}}}var Sx={getCacheForType:function(i){var s=_i(Rr),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return _i(Rr).controller.signal}},Tx=typeof WeakMap=="function"?WeakMap:Map,Fn=0,lr=null,pn=null,yn=0,Kn=0,ya=null,hu=!1,sh=!1,Lm=!1,Il=0,Br=0,fu=0,lc=0,Dm=0,va=0,ah=0,bf=null,Zs=null,km=!1,Gd=0,l5=0,Yd=1/0,$d=null,du=null,Ai=0,pu=null,oh=null,Cl=0,Om=0,Pm=null,u5=null,_f=0,Mm=null;function ba(){return(Fn&2)!==0&&yn!==0?yn&-yn:ee.T!==null?qm():kr()}function c5(){if(va===0)if((yn&536870912)===0||dn){var i=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),va=i}else va=536870912;return i=gr.current,i!==null&&(i.flags|=32),va}function ea(i,s,l){(i===lr&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)&&(lh(i,0),gu(i,yn,va,!1)),wt(i,l),((Fn&2)===0||i!==lr)&&(i===lr&&((Fn&2)===0&&(lc|=l),Br===4&&gu(i,yn,va,!1)),qo(i))}function h5(i,s,l){if((Fn&6)!==0)throw Error(r(327));var c=!l&&(s&127)===0&&(s&i.expiredLanes)===0||ci(i,s),m=c?Cx(i,s):Um(i,s,!0),b=c;do{if(m===0){sh&&!c&&gu(i,s,0,!1);break}else{if(l=i.current.alternate,b&&!Nx(l)){m=Um(i,s,!1),b=!1;continue}if(m===2){if(b=s,i.errorRecoveryDisabledLanes&b)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var G=i;m=bf;var ce=G.current.memoizedState.isDehydrated;if(ce&&(lh(G,R).flags|=256),R=Um(G,R,!1),R!==2){if(Lm&&!ce){G.errorRecoveryDisabledLanes|=b,lc|=b,m=4;break e}b=Zs,Zs=m,b!==null&&(Zs===null?Zs=b:Zs.push.apply(Zs,b))}m=R}if(b=!1,m!==2)continue}}if(m===1){lh(i,0),gu(i,s,0,!0);break}e:{switch(c=i,b=m,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:gu(c,s,va,!hu);break e;case 2:Zs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=Gd+300-Gt(),10<m)){if(gu(c,s,va,!hu),an(c,0,!0)!==0)break e;Cl=s,c.timeoutHandle=q5(f5.bind(null,c,l,Zs,$d,km,s,va,lc,ah,hu,b,"Throttled",-0,0),m);break e}f5(c,l,Zs,$d,km,s,va,lc,ah,hu,b,null,-0,0)}}break}while(!0);qo(i)}function f5(i,s,l,c,m,b,R,G,ce,Le,Be,Ge,De,Pe){if(i.timeoutHandle=-1,Ge=s.subtreeFlags,Ge&8192||(Ge&16785408)===16785408){Ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:As},i5(s,b,Ge);var ht=(b&62914560)===b?Gd-Gt():(b&4194048)===b?l5-Gt():0;if(ht=hE(Ge,ht),ht!==null){Cl=b,i.cancelPendingCommit=ht(_5.bind(null,i,s,b,l,c,m,R,G,ce,Be,Ge,null,De,Pe)),gu(i,b,R,!Le);return}}_5(i,s,b,l,c,m,R,G,ce)}function Nx(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],b=m.getSnapshot;m=m.value;try{if(!mi(b(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gu(i,s,l,c){s&=~Dm,s&=~lc,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var b=31-Ut(m),R=1<<b;c[b]=-1,m&=~R}l!==0&&Bi(i,l,s)}function Kd(){return(Fn&6)===0?(wf(0),!1):!0}function jm(){if(pn!==null){if(Kn===0)var i=pn.return;else i=pn,Ma=ko=null,Qc(i),$e=null,dt=0,i=pn;for(;i!==null;)zy(i.alternate,i),i=i.return;pn=null}}function lh(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,$x(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Cl=0,jm(),lr=i,pn=l=qs(i.current,null),yn=s,Kn=0,ya=null,hu=!1,sh=ci(i,s),Lm=!1,ah=va=Dm=lc=fu=Br=0,Zs=bf=null,km=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-Ut(c),b=1<<m;s|=i[m],c&=~b}return Il=s,Qu(),l}function d5(i,s){Tt=null,ee.H=hf,s===pe||s===te?(s=ze(),Kn=3):s===Ie?(s=ze(),Kn=4):Kn=s===gm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ya=s,pn===null&&(Br=1,jd(i,zs(s,i.current)))}function p5(){var i=gr.current;return i===null?!0:(yn&4194048)===yn?Tn===null:(yn&62914560)===yn||(yn&536870912)!==0?i===Tn:!1}function g5(){var i=ee.H;return ee.H=hf,i===null?hf:i}function m5(){var i=ee.A;return ee.A=Sx,i}function Wd(){Br=4,hu||(yn&4194048)!==yn&&gr.current!==null||(sh=!0),(fu&134217727)===0&&(lc&134217727)===0||lr===null||gu(lr,yn,va,!1)}function Um(i,s,l){var c=Fn;Fn|=2;var m=g5(),b=m5();(lr!==i||yn!==s)&&($d=null,lh(i,s)),s=!1;var R=Br;e:do try{if(Kn!==0&&pn!==null){var G=pn,ce=ya;switch(Kn){case 8:jm(),R=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(s=!0);var Le=Kn;if(Kn=0,ya=null,uh(i,G,ce,Le),l&&sh){R=0;break e}break;default:Le=Kn,Kn=0,ya=null,uh(i,G,ce,Le)}}Ix(),R=Br;break}catch(Be){d5(i,Be)}while(!0);return s&&i.shellSuspendCounter++,Ma=ko=null,Fn=c,ee.H=m,ee.A=b,pn===null&&(lr=null,yn=0,Qu()),R}function Ix(){for(;pn!==null;)y5(pn)}function Cx(i,s){var l=Fn;Fn|=2;var c=g5(),m=m5();lr!==i||yn!==s?($d=null,Yd=Gt()+500,lh(i,s)):sh=ci(i,s);e:do try{if(Kn!==0&&pn!==null){s=pn;var b=ya;t:switch(Kn){case 1:Kn=0,ya=null,uh(i,s,b,1);break;case 2:case 9:if(Ee(b)){Kn=0,ya=null,v5(s);break}s=function(){Kn!==2&&Kn!==9||lr!==i||(Kn=7),qo(i)},b.then(s,s);break e;case 3:Kn=7;break e;case 4:Kn=5;break e;case 7:Ee(b)?(Kn=0,ya=null,v5(s)):(Kn=0,ya=null,uh(i,s,b,7));break;case 5:var R=null;switch(pn.tag){case 26:R=pn.memoizedState;case 5:case 27:var G=pn;if(R?rv(R):G.stateNode.complete){Kn=0,ya=null;var ce=G.sibling;if(ce!==null)pn=ce;else{var Le=G.return;Le!==null?(pn=Le,Qd(Le)):pn=null}break t}}Kn=0,ya=null,uh(i,s,b,5);break;case 6:Kn=0,ya=null,uh(i,s,b,6);break;case 8:jm(),Br=6;break e;default:throw Error(r(462))}}Rx();break}catch(Be){d5(i,Be)}while(!0);return Ma=ko=null,ee.H=c,ee.A=m,Fn=l,pn!==null?0:(lr=null,yn=0,Qu(),Br)}function Rx(){for(;pn!==null&&!Wt();)y5(pn)}function y5(i){var s=By(i.alternate,i,Il);i.memoizedProps=i.pendingProps,s===null?Qd(i):pn=s}function v5(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=Py(l,s,s.pendingProps,s.type,void 0,yn);break;case 11:s=Py(l,s,s.pendingProps,s.type.render,s.ref,yn);break;case 5:Qc(s);default:zy(l,s),s=pn=Zu(s,Il),s=By(l,s,Il)}i.memoizedProps=i.pendingProps,s===null?Qd(i):pn=s}function uh(i,s,l,c){Ma=ko=null,Qc(s),$e=null,dt=0;var m=s.return;try{if(vx(i,m,s,l,yn)){Br=1,jd(i,zs(l,i.current)),pn=null;return}}catch(b){if(m!==null)throw pn=m,b;Br=1,jd(i,zs(l,i.current)),pn=null;return}s.flags&32768?(dn||c===1?i=!0:sh||(yn&536870912)!==0?i=!1:(hu=i=!0,(c===2||c===9||c===3||c===6)&&(c=gr.current,c!==null&&c.tag===13&&(c.flags|=16384))),b5(s,i)):Qd(s)}function Qd(i){var s=i;do{if((s.flags&32768)!==0){b5(s,hu);return}i=s.return;var l=wx(s.alternate,s,Il);if(l!==null){pn=l;return}if(s=s.sibling,s!==null){pn=s;return}pn=s=i}while(s!==null);Br===0&&(Br=5)}function b5(i,s){do{var l=Ax(i.alternate,i);if(l!==null){l.flags&=32767,pn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){pn=i;return}pn=i=l}while(i!==null);Br=6,pn=null}function _5(i,s,l,c,m,b,R,G,ce){i.cancelPendingCommit=null;do Xd();while(Ai!==0);if((Fn&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=Mc,aa(i,l,b,R,G,ce),i===lr&&(pn=lr=null,yn=0),oh=s,pu=i,Cl=l,Om=b,Pm=m,u5=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Ox(Pt,function(){return S5(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,m=de.p,de.p=2,R=Fn,Fn|=4;try{xx(i,s,l)}finally{Fn=R,de.p=m,ee.T=c}}Ai=1,w5(),A5(),x5()}}function w5(){if(Ai===1){Ai=0;var i=pu,s=oh,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null;var c=de.p;de.p=2;var m=Fn;Fn|=4;try{t5(s,i);var b=Qm,R=to(i.containerInfo),G=b.focusedElem,ce=b.selectionRange;if(R!==G&&G&&G.ownerDocument&&eo(G.ownerDocument.documentElement,G)){if(ce!==null&&Oa(G)){var Le=ce.start,Be=ce.end;if(Be===void 0&&(Be=Le),"selectionStart"in G)G.selectionStart=Le,G.selectionEnd=Math.min(Be,G.value.length);else{var Ge=G.ownerDocument||document,De=Ge&&Ge.defaultView||window;if(De.getSelection){var Pe=De.getSelection(),ht=G.textContent.length,Mt=Math.min(ce.start,ht),ir=ce.end===void 0?Mt:Math.min(ce.end,ht);!Pe.extend&&Mt>ir&&(R=ir,ir=Mt,Mt=R);var _e=Zl(G,Mt),ge=Zl(G,ir);if(_e&&ge&&(Pe.rangeCount!==1||Pe.anchorNode!==_e.node||Pe.anchorOffset!==_e.offset||Pe.focusNode!==ge.node||Pe.focusOffset!==ge.offset)){var Ce=Ge.createRange();Ce.setStart(_e.node,_e.offset),Pe.removeAllRanges(),Mt>ir?(Pe.addRange(Ce),Pe.extend(ge.node,ge.offset)):(Ce.setEnd(ge.node,ge.offset),Pe.addRange(Ce))}}}}for(Ge=[],Pe=G;Pe=Pe.parentNode;)Pe.nodeType===1&&Ge.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Ge.length;G++){var He=Ge[G];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}up=!!Wm,Qm=Wm=null}finally{Fn=m,de.p=c,ee.T=l}}i.current=s,Ai=2}}function A5(){if(Ai===2){Ai=0;var i=pu,s=oh,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=ee.T,ee.T=null;var c=de.p;de.p=2;var m=Fn;Fn|=4;try{Qy(i,s.alternate,s)}finally{Fn=m,de.p=c,ee.T=l}}Ai=3}}function x5(){if(Ai===4||Ai===3){Ai=0,vt();var i=pu,s=oh,l=Cl,c=u5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ai=5:(Ai=0,oh=pu=null,E5(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(du=null),Xn(l),s=s.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(nn,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=ee.T,m=de.p,de.p=2,ee.T=null;try{for(var b=i.onRecoverableError,R=0;R<c.length;R++){var G=c[R];b(G.value,{componentStack:G.stack})}}finally{ee.T=s,de.p=m}}(Cl&3)!==0&&Xd(),qo(i),m=i.pendingLanes,(l&261930)!==0&&(m&42)!==0?i===Mm?_f++:(_f=0,Mm=i):_f=0,wf(0)}}function E5(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,nc(s)))}function Xd(){return w5(),A5(),x5(),S5()}function S5(){if(Ai!==5)return!1;var i=pu,s=Om;Om=0;var l=Xn(Cl),c=ee.T,m=de.p;try{de.p=32>l?32:l,ee.T=null,l=Pm,Pm=null;var b=pu,R=Cl;if(Ai=0,oh=pu=null,Cl=0,(Fn&6)!==0)throw Error(r(331));var G=Fn;if(Fn|=4,a5(b.current),r5(b,b.current,R,l),Fn=G,wf(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(nn,b)}catch{}return!0}finally{de.p=m,ee.T=c,E5(i,s)}}function T5(i,s,l){s=zs(l,s),s=pm(i.stateNode,s,2),i=rn(i,s,2),i!==null&&(wt(i,2),qo(i))}function Wn(i,s,l){if(i.tag===3)T5(i,i,l);else for(;s!==null;){if(s.tag===3){T5(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(du===null||!du.has(c))){i=zs(l,i),l=Ny(2),c=rn(s,l,2),c!==null&&(Iy(l,c,s,i),wt(c,2),qo(c));break}}s=s.return}}function Vm(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new Tx;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(l)||(Lm=!0,m.add(l),i=Lx.bind(null,i,s,l),s.then(i,i))}function Lx(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,lr===i&&(yn&l)===l&&(Br===4||Br===3&&(yn&62914560)===yn&&300>Gt()-Gd?(Fn&2)===0&&lh(i,0):Dm|=l,ah===yn&&(ah=0)),qo(i)}function N5(i,s){s===0&&(s=Os()),i=ro(i,s),i!==null&&(wt(i,s),qo(i))}function Dx(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),N5(i,l)}function kx(i,s){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),N5(i,l)}function Ox(i,s){return it(i,s)}var Jd=null,ch=null,Fm=!1,Zd=!1,Bm=!1,mu=0;function qo(i){i!==ch&&i.next===null&&(ch===null?Jd=ch=i:ch=ch.next=i),Zd=!0,Fm||(Fm=!0,Mx())}function wf(i,s){if(!Bm&&Zd){Bm=!0;do for(var l=!1,c=Jd;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var b=0;else{var R=c.suspendedLanes,G=c.pingedLanes;b=(1<<31-Ut(42|i)+1)-1,b&=m&~(R&~G),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,L5(c,b))}else b=yn,b=an(c,c===lr?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||ci(c,b)||(l=!0,L5(c,b));c=c.next}while(l);Bm=!1}}function Px(){I5()}function I5(){Zd=Fm=!1;var i=0;mu!==0&&Yx()&&(i=mu);for(var s=Gt(),l=null,c=Jd;c!==null;){var m=c.next,b=C5(c,s);b===0?(c.next=null,l===null?Jd=m:l.next=m,m===null&&(ch=l)):(l=c,(i!==0||(b&3)!==0)&&(Zd=!0)),c=m}Ai!==0&&Ai!==5||wf(i),mu!==0&&(mu=0)}function C5(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var R=31-Ut(b),G=1<<R,ce=m[R];ce===-1?((G&l)===0||(G&c)!==0)&&(m[R]=ei(G,s)):ce<=s&&(i.expiredLanes|=G),b&=~G}if(s=lr,l=yn,l=an(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&nt(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ci(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&nt(c),Xn(l)){case 2:case 8:l=En;break;case 32:l=Pt;break;case 268435456:l=Dt;break;default:l=Pt}return c=R5.bind(null,i),l=it(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&nt(c),i.callbackPriority=2,i.callbackNode=null,2}function R5(i,s){if(Ai!==0&&Ai!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Xd()&&i.callbackNode!==l)return null;var c=yn;return c=an(i,i===lr?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(h5(i,c,s),C5(i,Gt()),i.callbackNode!=null&&i.callbackNode===l?R5.bind(null,i):null)}function L5(i,s){if(Xd())return null;h5(i,s,!0)}function Mx(){Kx(function(){(Fn&6)!==0?it(jt,Px):I5()})}function qm(){if(mu===0){var i=p;i===0&&(i=Ln,Ln<<=1,(Ln&261888)===0&&(Ln=256)),mu=i}return mu}function D5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ws(""+i)}function k5(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function jx(i,s,l,c,m){if(s==="submit"&&l&&l.stateNode===m){var b=D5((m[Hn]||null).action),R=c.submitter;R&&(s=(s=R[Hn]||null)?D5(s.formAction):R.getAttribute("formAction"),s!==null&&(b=s,R=null));var G=new Li("action","action",null,c,m);i.push({event:G,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(mu!==0){var ce=R?k5(m,R):new FormData(m);lm(l,{pending:!0,data:ce,method:m.method,action:b},null,ce)}}else typeof b=="function"&&(G.preventDefault(),ce=R?k5(m,R):new FormData(m),lm(l,{pending:!0,data:ce,method:m.method,action:b},b,ce))},currentTarget:m}]})}}for(var zm=0;zm<pl.length;zm++){var Hm=pl[zm],Ux=Hm.toLowerCase(),Vx=Hm[0].toUpperCase()+Hm.slice(1);Bs(Ux,"on"+Vx)}Bs(dl,"onAnimationEnd"),Bs(Ku,"onAnimationIteration"),Bs(Wh,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(Ed,"onTransitionRun"),Bs(Sd,"onTransitionStart"),Bs(Td,"onTransitionCancel"),Bs(Qh,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Af));function O5(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var b=void 0;if(s)for(var R=c.length-1;0<=R;R--){var G=c[R],ce=G.instance,Le=G.currentTarget;if(G=G.listener,ce!==b&&m.isPropagationStopped())break e;b=G,m.currentTarget=Le;try{b(m)}catch(Be){Wu(Be)}m.currentTarget=null,b=ce}else for(R=0;R<c.length;R++){if(G=c[R],ce=G.instance,Le=G.currentTarget,G=G.listener,ce!==b&&m.isPropagationStopped())break e;b=G,m.currentTarget=Le;try{b(m)}catch(Be){Wu(Be)}m.currentTarget=null,b=ce}}}}function gn(i,s){var l=s[Ti];l===void 0&&(l=s[Ti]=new Set);var c=i+"__bubble";l.has(c)||(P5(s,i,2,!1),l.add(c))}function Gm(i,s,l){var c=0;s&&(c|=4),P5(l,i,c,s)}var ep="_reactListening"+Math.random().toString(36).slice(2);function Ym(i){if(!i[ep]){i[ep]=!0,_o.forEach(function(l){l!=="selectionchange"&&(Fx.has(l)||Gm(l,!1,i),Gm(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ep]||(s[ep]=!0,Gm("selectionchange",!1,s))}}function P5(i,s,l,c){switch(cv(s)){case 2:var m=pE;break;case 8:m=gE;break;default:m=o0}l=m.bind(null,s,l,i),m=void 0,!$a||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function $m(i,s,l,c,m){var b=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var R=c.tag;if(R===3||R===4){var G=c.stateNode.containerInfo;if(G===m)break;if(R===4)for(R=c.return;R!==null;){var ce=R.tag;if((ce===3||ce===4)&&R.stateNode.containerInfo===m)return;R=R.return}for(;G!==null;){if(R=qi(G),R===null)return;if(ce=R.tag,ce===5||ce===6||ce===26||ce===27){c=b=R;continue e}G=G.parentNode}}c=c.return}Sa(function(){var Le=b,Be=Ri(l),Ge=[];e:{var De=Xh.get(i);if(De!==void 0){var Pe=Li,ht=i;switch(i){case"keypress":if(Ms(l)===0)break e;case"keydown":case"keyup":Pe=mn;break;case"focusin":ht="focus",Pe=Ts;break;case"focusout":ht="blur",Pe=Ts;break;case"beforeblur":case"afterblur":Pe=Ts;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=T;break;case dl:case Ku:case Wh:Pe=w;break;case Qh:Pe=Q;break;case"scroll":case"scrollend":Pe=Na;break;case"wheel":Pe=Re;break;case"copy":case"cut":case"paste":Pe=ne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=qn;break;case"toggle":case"beforetoggle":Pe=Vt}var Mt=(s&4)!==0,ir=!Mt&&(i==="scroll"||i==="scrollend"),_e=Mt?De!==null?De+"Capture":null:De;Mt=[];for(var ge=Le,Ce;ge!==null;){var He=ge;if(Ce=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Ce===null||_e===null||(He=$r(ge,_e),He!=null&&Mt.push(xf(ge,He,Ce))),ir)break;ge=ge.return}0<Mt.length&&(De=new Pe(De,ht,null,l,Be),Ge.push({event:De,listeners:Mt}))}}if((s&7)===0){e:{if(De=i==="mouseover"||i==="pointerover",Pe=i==="mouseout"||i==="pointerout",De&&l!==ha&&(ht=l.relatedTarget||l.fromElement)&&(qi(ht)||ht[Or]))break e;if((Pe||De)&&(De=Be.window===Be?Be:(De=Be.ownerDocument)?De.defaultView||De.parentWindow:window,Pe?(ht=l.relatedTarget||l.toElement,Pe=Le,ht=ht?qi(ht):null,ht!==null&&(ir=o(ht),Mt=ht.tag,ht!==ir||Mt!==5&&Mt!==27&&Mt!==6)&&(ht=null)):(Pe=null,ht=Le),Pe!==ht)){if(Mt=Ss,He="onMouseLeave",_e="onMouseEnter",ge="mouse",(i==="pointerout"||i==="pointerover")&&(Mt=qn,He="onPointerLeave",_e="onPointerEnter",ge="pointer"),ir=Pe==null?De:zi(Pe),Ce=ht==null?De:zi(ht),De=new Mt(He,ge+"leave",Pe,l,Be),De.target=ir,De.relatedTarget=Ce,He=null,qi(Be)===Le&&(Mt=new Mt(_e,ge+"enter",ht,l,Be),Mt.target=Ce,Mt.relatedTarget=ir,He=Mt),ir=He,Pe&&ht)t:{for(Mt=Bx,_e=Pe,ge=ht,Ce=0,He=_e;He;He=Mt(He))Ce++;He=0;for(var Rt=ge;Rt;Rt=Mt(Rt))He++;for(;0<Ce-He;)_e=Mt(_e),Ce--;for(;0<He-Ce;)ge=Mt(ge),He--;for(;Ce--;){if(_e===ge||ge!==null&&_e===ge.alternate){Mt=_e;break t}_e=Mt(_e),ge=Mt(ge)}Mt=null}else Mt=null;Pe!==null&&M5(Ge,De,Pe,Mt,!1),ht!==null&&ir!==null&&M5(Ge,ir,ht,Mt,!0)}}e:{if(De=Le?zi(Le):window,Pe=De.nodeName&&De.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&De.type==="file")var Pn=Co;else if(Yu(De))if(os)Pn=Da;else{Pn=Ir;var gt=Xl}else Pe=De.nodeName,!Pe||Pe.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Le&&So(Le.elementType)&&(Pn=Co):Pn=Pc;if(Pn&&(Pn=Pn(i,Le))){Is(Ge,Pn,l,Be);break e}gt&&gt(i,De,Le),i==="focusout"&&Le&&De.type==="number"&&Le.memoizedProps.value!=null&&al(De,"number",De.value)}switch(gt=Le?zi(Le):window,i){case"focusin":(Yu(gt)||gt.contentEditable==="true")&&(Cs=gt,no=Le,ki=null);break;case"focusout":ki=no=Cs=null;break;case"mousedown":Fs=!0;break;case"contextmenu":case"mouseup":case"dragend":Fs=!1,Cn(Ge,l,Be);break;case"selectionchange":if(fl)break;case"keydown":case"keyup":Cn(Ge,l,Be)}var ln;if(un)e:{switch(i){case"compositionstart":var vn="onCompositionStart";break e;case"compositionend":vn="onCompositionEnd";break e;case"compositionupdate":vn="onCompositionUpdate";break e}vn=void 0}else Ca?Ns(i,l)&&(vn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(vn="onCompositionStart");vn&&(Di&&l.locale!=="ko"&&(Ca||vn!=="onCompositionStart"?vn==="onCompositionEnd"&&Ca&&(ln=Ta()):(Gi=Be,Ka="value"in Gi?Gi.value:Gi.textContent,Ca=!0)),gt=tp(Le,vn),0<gt.length&&(vn=new ve(vn,i,null,l,Be),Ge.push({event:vn,listeners:gt}),ln?vn.data=ln:(ln=Ia(l),ln!==null&&(vn.data=ln)))),(ln=ri?br(i,l):Qa(i,l))&&(vn=tp(Le,"onBeforeInput"),0<vn.length&&(gt=new ve("onBeforeInput","beforeinput",null,l,Be),Ge.push({event:gt,listeners:vn}),gt.data=ln)),jx(Ge,i,Le,l,Be)}O5(Ge,s)})}function xf(i,s,l){return{instance:i,listener:s,currentTarget:l}}function tp(i,s){for(var l=s+"Capture",c=[];i!==null;){var m=i,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=$r(i,l),m!=null&&c.unshift(xf(i,m,b)),m=$r(i,s),m!=null&&c.push(xf(i,m,b))),i.tag===3)return c;i=i.return}return[]}function Bx(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function M5(i,s,l,c,m){for(var b=s._reactName,R=[];l!==null&&l!==c;){var G=l,ce=G.alternate,Le=G.stateNode;if(G=G.tag,ce!==null&&ce===c)break;G!==5&&G!==26&&G!==27||Le===null||(ce=Le,m?(Le=$r(l,b),Le!=null&&R.unshift(xf(l,Le,ce))):m||(Le=$r(l,b),Le!=null&&R.push(xf(l,Le,ce)))),l=l.return}R.length!==0&&i.push({event:s,listeners:R})}var qx=/\r\n?/g,zx=/\u0000|\uFFFD/g;function j5(i){return(typeof i=="string"?i:""+i).replace(qx,`
`).replace(zx,"")}function U5(i,s){return s=j5(s),j5(i)===s}function rr(i,s,l,c,m,b){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Tr(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Tr(i,""+c);break;case"className":Hi(i,"class",c);break;case"tabIndex":Hi(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Hi(i,l,c);break;case"style":ul(i,c,b);break;case"data":if(s!=="object"){Hi(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ws(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(s!=="input"&&rr(i,s,"name",m.name,m,null),rr(i,s,"formEncType",m.formEncType,m,null),rr(i,s,"formMethod",m.formMethod,m,null),rr(i,s,"formTarget",m.formTarget,m,null)):(rr(i,s,"encType",m.encType,m,null),rr(i,s,"method",m.method,m,null),rr(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ws(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=As);break;case"onScroll":c!=null&&gn("scroll",i);break;case"onScrollEnd":c!=null&&gn("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=ws(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":gn("beforetoggle",i),gn("toggle",i),la(i,"popover",c);break;case"xlinkActuate":on(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":on(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":on(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":on(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":on(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":on(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":on(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":on(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":on(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":la(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=To.get(l)||l,la(i,l,c))}}function Km(i,s,l,c,m,b){switch(l){case"style":ul(i,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Tr(i,c):(typeof c=="number"||typeof c=="bigint")&&Tr(i,""+c);break;case"onScroll":c!=null&&gn("scroll",i);break;case"onScrollEnd":c!=null&&gn("scrollend",i);break;case"onClick":c!=null&&(i.onclick=As);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ii.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),b=i[Hn]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(s,b,m),typeof c=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):la(i,l,c)}}}function Zi(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gn("error",i),gn("load",i);var c=!1,m=!1,b;for(b in l)if(l.hasOwnProperty(b)){var R=l[b];if(R!=null)switch(b){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rr(i,s,b,R,l,null)}}m&&rr(i,s,"srcSet",l.srcSet,l,null),c&&rr(i,s,"src",l.src,l,null);return;case"input":gn("invalid",i);var G=b=R=m=null,ce=null,Le=null;for(c in l)if(l.hasOwnProperty(c)){var Be=l[c];if(Be!=null)switch(c){case"name":m=Be;break;case"type":R=Be;break;case"checked":ce=Be;break;case"defaultChecked":Le=Be;break;case"value":b=Be;break;case"defaultValue":G=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,s));break;default:rr(i,s,c,Be,l,null)}}Kl(i,b,G,ce,Le,R,m,!1);return;case"select":gn("invalid",i),c=R=b=null;for(m in l)if(l.hasOwnProperty(m)&&(G=l[m],G!=null))switch(m){case"value":b=G;break;case"defaultValue":R=G;break;case"multiple":c=G;default:rr(i,s,m,G,l,null)}s=b,l=R,i.multiple=!!c,s!=null?pi(i,!!c,s,!1):l!=null&&pi(i,!!c,l,!0);return;case"textarea":gn("invalid",i),b=m=c=null;for(R in l)if(l.hasOwnProperty(R)&&(G=l[R],G!=null))switch(R){case"value":c=G;break;case"defaultValue":m=G;break;case"children":b=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:rr(i,s,R,G,l,null)}ca(i,c,m,b);return;case"option":for(ce in l)if(l.hasOwnProperty(ce)&&(c=l[ce],c!=null))switch(ce){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:rr(i,s,ce,c,l,null)}return;case"dialog":gn("beforetoggle",i),gn("toggle",i),gn("cancel",i),gn("close",i);break;case"iframe":case"object":gn("load",i);break;case"video":case"audio":for(c=0;c<Af.length;c++)gn(Af[c],i);break;case"image":gn("error",i),gn("load",i);break;case"details":gn("toggle",i);break;case"embed":case"source":case"link":gn("error",i),gn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in l)if(l.hasOwnProperty(Le)&&(c=l[Le],c!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rr(i,s,Le,c,l,null)}return;default:if(So(s)){for(Be in l)l.hasOwnProperty(Be)&&(c=l[Be],c!==void 0&&Km(i,s,Be,c,l,void 0));return}}for(G in l)l.hasOwnProperty(G)&&(c=l[G],c!=null&&rr(i,s,G,c,l,null))}function Hx(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,R=null,G=null,ce=null,Le=null,Be=null;for(Pe in l){var Ge=l[Pe];if(l.hasOwnProperty(Pe)&&Ge!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":ce=Ge;default:c.hasOwnProperty(Pe)||rr(i,s,Pe,null,c,Ge)}}for(var De in c){var Pe=c[De];if(Ge=l[De],c.hasOwnProperty(De)&&(Pe!=null||Ge!=null))switch(De){case"type":b=Pe;break;case"name":m=Pe;break;case"checked":Le=Pe;break;case"defaultChecked":Be=Pe;break;case"value":R=Pe;break;case"defaultValue":G=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,s));break;default:Pe!==Ge&&rr(i,s,De,Pe,c,Ge)}}xo(i,R,G,ce,Le,Be,b,m);return;case"select":Pe=R=G=De=null;for(b in l)if(ce=l[b],l.hasOwnProperty(b)&&ce!=null)switch(b){case"value":break;case"multiple":Pe=ce;default:c.hasOwnProperty(b)||rr(i,s,b,null,c,ce)}for(m in c)if(b=c[m],ce=l[m],c.hasOwnProperty(m)&&(b!=null||ce!=null))switch(m){case"value":De=b;break;case"defaultValue":G=b;break;case"multiple":R=b;default:b!==ce&&rr(i,s,m,b,c,ce)}s=G,l=R,c=Pe,De!=null?pi(i,!!l,De,!1):!!c!=!!l&&(s!=null?pi(i,!!l,s,!0):pi(i,!!l,l?[]:"",!1));return;case"textarea":Pe=De=null;for(G in l)if(m=l[G],l.hasOwnProperty(G)&&m!=null&&!c.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:rr(i,s,G,null,c,m)}for(R in c)if(m=c[R],b=l[R],c.hasOwnProperty(R)&&(m!=null||b!=null))switch(R){case"value":De=m;break;case"defaultValue":Pe=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==b&&rr(i,s,R,m,c,b)}ol(i,De,Pe);return;case"option":for(var ht in l)if(De=l[ht],l.hasOwnProperty(ht)&&De!=null&&!c.hasOwnProperty(ht))switch(ht){case"selected":i.selected=!1;break;default:rr(i,s,ht,null,c,De)}for(ce in c)if(De=c[ce],Pe=l[ce],c.hasOwnProperty(ce)&&De!==Pe&&(De!=null||Pe!=null))switch(ce){case"selected":i.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:rr(i,s,ce,De,c,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in l)De=l[Mt],l.hasOwnProperty(Mt)&&De!=null&&!c.hasOwnProperty(Mt)&&rr(i,s,Mt,null,c,De);for(Le in c)if(De=c[Le],Pe=l[Le],c.hasOwnProperty(Le)&&De!==Pe&&(De!=null||Pe!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,s));break;default:rr(i,s,Le,De,c,Pe)}return;default:if(So(s)){for(var ir in l)De=l[ir],l.hasOwnProperty(ir)&&De!==void 0&&!c.hasOwnProperty(ir)&&Km(i,s,ir,void 0,c,De);for(Be in c)De=c[Be],Pe=l[Be],!c.hasOwnProperty(Be)||De===Pe||De===void 0&&Pe===void 0||Km(i,s,Be,De,c,Pe);return}}for(var _e in l)De=l[_e],l.hasOwnProperty(_e)&&De!=null&&!c.hasOwnProperty(_e)&&rr(i,s,_e,null,c,De);for(Ge in c)De=c[Ge],Pe=l[Ge],!c.hasOwnProperty(Ge)||De===Pe||De==null&&Pe==null||rr(i,s,Ge,De,c,Pe)}function V5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gx(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],b=m.transferSize,R=m.initiatorType,G=m.duration;if(b&&G&&V5(R)){for(R=0,G=m.responseEnd,c+=1;c<l.length;c++){var ce=l[c],Le=ce.startTime;if(Le>G)break;var Be=ce.transferSize,Ge=ce.initiatorType;Be&&V5(Ge)&&(ce=ce.responseEnd,R+=Be*(ce<G?1:(G-Le)/(ce-Le)))}if(--c,s+=8*(b+R)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Wm=null,Qm=null;function np(i){return i.nodeType===9?i:i.ownerDocument}function F5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B5(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Xm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Jm=null;function Yx(){var i=window.event;return i&&i.type==="popstate"?i===Jm?!1:(Jm=i,!0):(Jm=null,!1)}var q5=typeof setTimeout=="function"?setTimeout:void 0,$x=typeof clearTimeout=="function"?clearTimeout:void 0,z5=typeof Promise=="function"?Promise:void 0,Kx=typeof queueMicrotask=="function"?queueMicrotask:typeof z5<"u"?function(i){return z5.resolve(null).then(i).catch(Wx)}:q5;function Wx(i){setTimeout(function(){throw i})}function yu(i){return i==="head"}function H5(i,s){var l=s,c=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(m),ph(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Ef(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Ef(l);for(var b=l.firstChild;b;){var R=b.nextSibling,G=b.nodeName;b[Ni]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=R}}else l==="body"&&Ef(i.ownerDocument.body);l=m}while(l);ph(s)}function G5(i,s){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function Zm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zm(l),oa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Qx(i,s,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ni])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Va(i.nextSibling),i===null)break}return null}function Xx(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Va(i.nextSibling),i===null))return null;return i}function Y5(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Va(i.nextSibling),i===null))return null;return i}function e0(i){return i.data==="$?"||i.data==="$~"}function t0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Jx(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Va(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var n0=null;function $5(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Va(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function K5(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function W5(i,s,l){switch(s=np(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ef(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);oa(i)}var Fa=new Map,Q5=new Set;function rp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Rl=de.d;de.d={f:Zx,r:eE,D:tE,C:nE,L:rE,m:iE,X:aE,S:sE,M:oE};function Zx(){var i=Rl.f(),s=Kd();return i||s}function eE(i){var s=fi(i);s!==null&&s.tag===5&&s.type==="form"?dy(s):Rl.r(i)}var hh=typeof document>"u"?null:document;function X5(i,s,l){var c=hh;if(c&&typeof s=="string"&&s){var m=ni(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Q5.has(m)||(Q5.add(m),i={rel:i,crossOrigin:l,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),Zi(s,"link",i),fr(s),c.head.appendChild(s)))}}function tE(i){Rl.D(i),X5("dns-prefetch",i,null)}function nE(i,s){Rl.C(i,s),X5("preconnect",i,s)}function rE(i,s,l){Rl.L(i,s,l);var c=hh;if(c&&i&&s){var m='link[rel="preload"][as="'+ni(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+ni(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+ni(l.imageSizes)+'"]')):m+='[href="'+ni(i)+'"]';var b=m;switch(s){case"style":b=fh(i);break;case"script":b=dh(i)}Fa.has(b)||(i=A({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Fa.set(b,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(Sf(b))||s==="script"&&c.querySelector(Tf(b))||(s=c.createElement("link"),Zi(s,"link",i),fr(s),c.head.appendChild(s)))}}function iE(i,s){Rl.m(i,s);var l=hh;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+ni(c)+'"][href="'+ni(i)+'"]',b=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=dh(i)}if(!Fa.has(b)&&(i=A({rel:"modulepreload",href:i},s),Fa.set(b,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Tf(b)))return}c=l.createElement("link"),Zi(c,"link",i),fr(c),l.head.appendChild(c)}}}function sE(i,s,l){Rl.S(i,s,l);var c=hh;if(c&&i){var m=is(c).hoistableStyles,b=fh(i);s=s||"default";var R=m.get(b);if(!R){var G={loading:0,preload:null};if(R=c.querySelector(Sf(b)))G.loading=5;else{i=A({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Fa.get(b))&&r0(i,l);var ce=R=c.createElement("link");fr(ce),Zi(ce,"link",i),ce._p=new Promise(function(Le,Be){ce.onload=Le,ce.onerror=Be}),ce.addEventListener("load",function(){G.loading|=1}),ce.addEventListener("error",function(){G.loading|=2}),G.loading|=4,ip(R,s,c)}R={type:"stylesheet",instance:R,count:1,state:G},m.set(b,R)}}}function aE(i,s){Rl.X(i,s);var l=hh;if(l&&i){var c=is(l).hoistableScripts,m=dh(i),b=c.get(m);b||(b=l.querySelector(Tf(m)),b||(i=A({src:i,async:!0},s),(s=Fa.get(m))&&i0(i,s),b=l.createElement("script"),fr(b),Zi(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(m,b))}}function oE(i,s){Rl.M(i,s);var l=hh;if(l&&i){var c=is(l).hoistableScripts,m=dh(i),b=c.get(m);b||(b=l.querySelector(Tf(m)),b||(i=A({src:i,async:!0,type:"module"},s),(s=Fa.get(m))&&i0(i,s),b=l.createElement("script"),fr(b),Zi(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(m,b))}}function J5(i,s,l,c){var m=(m=he.current)?rp(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=fh(l.href),l=is(m).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=fh(l.href);var b=is(m).hoistableStyles,R=b.get(i);if(R||(m=m.ownerDocument||m,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,R),(b=m.querySelector(Sf(i)))&&!b._p&&(R.instance=b,R.state.loading=5),Fa.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Fa.set(i,l),b||lE(m,i,l,R.state))),s&&c===null)throw Error(r(528,""));return R}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=dh(l),l=is(m).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function fh(i){return'href="'+ni(i)+'"'}function Sf(i){return'link[rel="stylesheet"]['+i+"]"}function Z5(i){return A({},i,{"data-precedence":i.precedence,precedence:null})}function lE(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Zi(s,"link",l),fr(s),i.head.appendChild(s))}function dh(i){return'[src="'+ni(i)+'"]'}function Tf(i){return"script[async]"+i}function ev(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+ni(l.href)+'"]');if(c)return s.instance=c,fr(c),c;var m=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),fr(c),Zi(c,"style",m),ip(c,l.precedence,i),s.instance=c;case"stylesheet":m=fh(l.href);var b=i.querySelector(Sf(m));if(b)return s.state.loading|=4,s.instance=b,fr(b),b;c=Z5(l),(m=Fa.get(m))&&r0(c,m),b=(i.ownerDocument||i).createElement("link"),fr(b);var R=b;return R._p=new Promise(function(G,ce){R.onload=G,R.onerror=ce}),Zi(b,"link",c),s.state.loading|=4,ip(b,l.precedence,i),s.instance=b;case"script":return b=dh(l.src),(m=i.querySelector(Tf(b)))?(s.instance=m,fr(m),m):(c=l,(m=Fa.get(b))&&(c=A({},l),i0(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),fr(m),Zi(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,ip(c,l.precedence,i));return s.instance}function ip(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,b=m,R=0;R<c.length;R++){var G=c[R];if(G.dataset.precedence===s)b=G;else if(b!==m)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function r0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function i0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var sp=null;function tv(i,s,l){if(sp===null){var c=new Map,m=sp=new Map;m.set(l,c)}else m=sp,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var b=l[m];if(!(b[Ni]||b[Dn]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(s)||"";R=i+R;var G=c.get(R);G?G.push(b):c.set(R,[b])}}return c}function nv(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function uE(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function cE(i,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=fh(c.href),b=s.querySelector(Sf(m));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=ap.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=b,fr(b);return}b=s.ownerDocument||s,c=Z5(c),(m=Fa.get(m))&&r0(c,m),b=b.createElement("link"),fr(b);var R=b;R._p=new Promise(function(G,ce){R.onload=G,R.onerror=ce}),Zi(b,"link",c),l.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=ap.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var s0=0;function hE(i,s){return i.stylesheets&&i.count===0&&lp(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&lp(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+s);0<i.imgBytes&&s0===0&&(s0=62500*Gx());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&lp(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>s0?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function ap(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var op=null;function lp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,op=new Map,s.forEach(fE,i),op=null,ap.call(i))}function fE(i,s){if(!(s.state.loading&4)){var l=op.get(i);if(l)var c=l.get(null);else{l=new Map,op.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var R=m[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),c=R)}c&&l.set(null,c)}m=s.instance,R=m.getAttribute("data-precedence"),b=l.get(R)||c,b===c&&l.set(null,m),l.set(R,m),this.count++,c=ap.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),b?b.parentNode.insertBefore(m,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Nf={$$typeof:ae,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function dE(i,s,l,c,m,b,R,G,ce){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function iv(i,s,l,c,m,b,R,G,ce,Le,Be,Ge){return i=new dE(i,s,l,R,ce,Le,Be,Ge,G),s=1,b===!0&&(s|=24),b=Pi(3,null,null,s),i.current=b,b.stateNode=i,s=su(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:c,isDehydrated:l,cache:s},et(b),i}function sv(i){return i?(i=yi,i):yi}function av(i,s,l,c,m,b){m=sv(m),c.context===null?c.context=m:c.pendingContext=m,c=kt(s),c.payload={element:l},b=b===void 0?null:b,b!==null&&(c.callback=b),l=rn(i,c,s),l!==null&&(ea(l,i,s),Un(l,i,s))}function ov(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function a0(i,s){ov(i,s),(i=i.alternate)&&ov(i,s)}function lv(i){if(i.tag===13||i.tag===31){var s=ro(i,67108864);s!==null&&ea(s,i,67108864),a0(i,67108864)}}function uv(i){if(i.tag===13||i.tag===31){var s=ba();s=Bn(s);var l=ro(i,s);l!==null&&ea(l,i,s),a0(i,s)}}var up=!0;function pE(i,s,l,c){var m=ee.T;ee.T=null;var b=de.p;try{de.p=2,o0(i,s,l,c)}finally{de.p=b,ee.T=m}}function gE(i,s,l,c){var m=ee.T;ee.T=null;var b=de.p;try{de.p=8,o0(i,s,l,c)}finally{de.p=b,ee.T=m}}function o0(i,s,l,c){if(up){var m=l0(c);if(m===null)$m(i,s,c,cp,l),hv(i,c);else if(yE(m,i,s,l,c))c.stopPropagation();else if(hv(i,c),s&4&&-1<mE.indexOf(i)){for(;m!==null;){var b=fi(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=St(b.pendingLanes);if(R!==0){var G=b;for(G.pendingLanes|=2,G.entangledLanes|=2;R;){var ce=1<<31-Ut(R);G.entanglements[1]|=ce,R&=~ce}qo(b),(Fn&6)===0&&(Yd=Gt()+500,wf(0))}}break;case 31:case 13:G=ro(b,2),G!==null&&ea(G,b,2),Kd(),a0(b,2)}if(b=l0(c),b===null&&$m(i,s,c,cp,l),b===m)break;m=b}m!==null&&c.stopPropagation()}else $m(i,s,c,null,l)}}function l0(i){return i=Ri(i),u0(i)}var cp=null;function u0(i){if(cp=null,i=qi(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return cp=i,null}function cv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ot()){case jt:return 2;case En:return 8;case Pt:case bt:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var c0=!1,vu=null,bu=null,_u=null,If=new Map,Cf=new Map,wu=[],mE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hv(i,s){switch(i){case"focusin":case"focusout":vu=null;break;case"dragenter":case"dragleave":bu=null;break;case"mouseover":case"mouseout":_u=null;break;case"pointerover":case"pointerout":If.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cf.delete(s.pointerId)}}function Rf(i,s,l,c,m,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:b,targetContainers:[m]},s!==null&&(s=fi(s),s!==null&&lv(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function yE(i,s,l,c,m){switch(s){case"focusin":return vu=Rf(vu,i,s,l,c,m),!0;case"dragenter":return bu=Rf(bu,i,s,l,c,m),!0;case"mouseover":return _u=Rf(_u,i,s,l,c,m),!0;case"pointerover":var b=m.pointerId;return If.set(b,Rf(If.get(b)||null,i,s,l,c,m)),!0;case"gotpointercapture":return b=m.pointerId,Cf.set(b,Rf(Cf.get(b)||null,i,s,l,c,m)),!0}return!1}function fv(i){var s=qi(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,hi(i.priority,function(){uv(l)});return}}else if(s===31){if(s=h(l),s!==null){i.blockedOn=s,hi(i.priority,function(){uv(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=l0(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);ha=c,l.target.dispatchEvent(c),ha=null}else return s=fi(l),s!==null&&lv(s),i.blockedOn=l,!1;s.shift()}return!0}function dv(i,s,l){hp(i)&&l.delete(s)}function vE(){c0=!1,vu!==null&&hp(vu)&&(vu=null),bu!==null&&hp(bu)&&(bu=null),_u!==null&&hp(_u)&&(_u=null),If.forEach(dv),Cf.forEach(dv)}function fp(i,s){i.blockedOn===s&&(i.blockedOn=null,c0||(c0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vE)))}var dp=null;function pv(i){dp!==i&&(dp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){dp===i&&(dp=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(u0(c||l)===null)continue;break}var b=fi(l);b!==null&&(i.splice(s,3),s-=3,lm(b,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function ph(i){function s(ce){return fp(ce,i)}vu!==null&&fp(vu,i),bu!==null&&fp(bu,i),_u!==null&&fp(_u,i),If.forEach(s),Cf.forEach(s);for(var l=0;l<wu.length;l++){var c=wu[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<wu.length&&(l=wu[0],l.blockedOn===null);)fv(l),l.blockedOn===null&&wu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],b=l[c+1],R=m[Hn]||null;if(typeof b=="function")R||pv(l);else if(R){var G=null;if(b&&b.hasAttribute("formAction")){if(m=b,R=b[Hn]||null)G=R.formAction;else if(u0(m)!==null)continue}else G=R.action;typeof G=="function"?l[c+1]=G:(l.splice(c,3),c-=3),pv(l)}}}function gv(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(R){return m=R})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function h0(i){this._internalRoot=i}pp.prototype.render=h0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=ba();av(l,c,i,s,null,null)},pp.prototype.unmount=h0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;av(i.current,2,null,i,null,null),Kd(),s[Or]=null}};function pp(i){this._internalRoot=i}pp.prototype.unstable_scheduleHydration=function(i){if(i){var s=kr();i={blockedOn:null,target:i,priority:s};for(var l=0;l<wu.length&&s!==0&&s<wu[l].priority;l++);wu.splice(l,0,i),l===0&&fv(i)}};var mv=e.version;if(mv!=="19.2.0")throw Error(r(527,mv,"19.2.0"));de.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var bE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gp.isDisabled&&gp.supportsFiber)try{nn=gp.inject(bE),st=gp}catch{}}return Df.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",m=xy,b=Ey,R=Sy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError)),s=iv(i,1,!1,null,null,l,c,null,m,b,R,gv),i[Or]=s.current,Ym(i),new h0(s)},Df.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,m="",b=xy,R=Ey,G=Sy,ce=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(G=l.onRecoverableError),l.formState!==void 0&&(ce=l.formState)),s=iv(i,1,!0,s,l??null,c,m,ce,b,R,G,gv),s.context=sv(null),l=s.current,c=ba(),c=Bn(c),m=kt(c),m.callback=null,rn(l,m,c),l=c,s.current.lanes=l,wt(s,l),qo(s),i[Or]=s.current,Ym(i),new pp(s)},Df.version="19.2.0",Df}var Tv;function CE(){if(Tv)return p0.exports;Tv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),p0.exports=IE(),p0.exports}var RE=CE();const Nv=n=>{let e;const t=new Set,r=(d,v)=>{const A=typeof d=="function"?d(e):d;if(!Object.is(A,e)){const S=e;e=v??(typeof A!="object"||A===null)?A:Object.assign({},e,A),t.forEach(_=>_(e,S))}},a=()=>e,h={setState:r,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=n(r,a,h);return h},LE=(n=>n?Nv(n):Nv),DE=n=>n;function kE(n,e=DE){const t=mp.useSyncExternalStore(n.subscribe,mp.useCallback(()=>e(n.getState()),[n,e]),mp.useCallback(()=>e(n.getInitialState()),[n,e]));return mp.useDebugValue(t),t}const OE=n=>{const e=LE(n),t=r=>kE(e,r);return Object.assign(t,e),t},kw=(n=>OE),Iv={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_NAME:"Florale",VITE_FIREBASE_API_KEY:"AIzaSyB2rtytlB_03Rhxbo90cps8fhuKvKw7Au0",VITE_FIREBASE_APP_ID:"1:1076135996607:web:4f6ab12ec99816c6f8aa0a",VITE_FIREBASE_AUTH_DOMAIN:"florale-53f36.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"1076135996607",VITE_FIREBASE_PROJECT_ID:"florale-53f36",VITE_FIREBASE_STORAGE_BUCKET:"florale-53f36.firebasestorage.app"},Xf=new Map,yp=n=>{const e=Xf.get(n);return e?Object.fromEntries(Object.entries(e.stores).map(([t,r])=>[t,r.getState()])):{}},PE=(n,e,t)=>{if(n===void 0)return{type:"untracked",connection:e.connect(t)};const r=Xf.get(t.name);if(r)return{type:"tracked",store:n,...r};const a={connection:e.connect(t),stores:{}};return Xf.set(t.name,a),{type:"tracked",store:n,...a}},ME=(n,e)=>{if(e===void 0)return;const t=Xf.get(n);t&&(delete t.stores[e],Object.keys(t.stores).length===0&&Xf.delete(n))},jE=n=>{var e,t;if(!n)return;const r=n.split(`
`),a=r.findIndex(u=>u.includes("api.setState"));if(a<0)return;const o=((e=r[a+1])==null?void 0:e.trim())||"";return(t=/.+ (.+) .+/.exec(o))==null?void 0:t[1]},UE=(n,e={})=>(t,r,a)=>{const{enabled:o,anonymousActionType:u,store:h,...f}=e;let d;try{d=(o??(Iv?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return n(t,r,a);const{connection:v,...A}=PE(h,d,f);let S=!0;a.setState=((j,q,F)=>{const ie=t(j,q);if(!S)return ie;const ae=F===void 0?{type:u||jE(new Error().stack)||"anonymous"}:typeof F=="string"?{type:F}:F;return h===void 0?(v?.send(ae,r()),ie):(v?.send({...ae,type:`${h}/${ae.type}`},{...yp(f.name),[h]:a.getState()}),ie)}),a.devtools={cleanup:()=>{v&&typeof v.unsubscribe=="function"&&v.unsubscribe(),ME(f.name,h)}};const _=(...j)=>{const q=S;S=!1,t(...j),S=q},M=n(a.setState,r,a);if(A.type==="untracked"?v?.init(M):(A.stores[A.store]=a,v?.init(Object.fromEntries(Object.entries(A.stores).map(([j,q])=>[j,j===A.store?M:q.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let j=!1;const q=a.dispatch;a.dispatch=(...F)=>{(Iv?"production":void 0)!=="production"&&F[0].type==="__setState"&&!j&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),j=!0),q(...F)}}return v.subscribe(j=>{var q;switch(j.type){case"ACTION":if(typeof j.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return v0(j.payload,F=>{if(F.type==="__setState"){if(h===void 0){_(F.state);return}Object.keys(F.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const ie=F.state[h];if(ie==null)return;JSON.stringify(a.getState())!==JSON.stringify(ie)&&_(ie);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(F)});case"DISPATCH":switch(j.payload.type){case"RESET":return _(M),h===void 0?v?.init(a.getState()):v?.init(yp(f.name));case"COMMIT":if(h===void 0){v?.init(a.getState());return}return v?.init(yp(f.name));case"ROLLBACK":return v0(j.state,F=>{if(h===void 0){_(F),v?.init(a.getState());return}_(F[h]),v?.init(yp(f.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return v0(j.state,F=>{if(h===void 0){_(F);return}JSON.stringify(a.getState())!==JSON.stringify(F[h])&&_(F[h])});case"IMPORT_STATE":{const{nextLiftedState:F}=j.payload,ie=(q=F.computedStates.slice(-1)[0])==null?void 0:q.state;if(!ie)return;_(h===void 0?ie:ie[h]),v?.send(null,F);return}case"PAUSE_RECORDING":return S=!S}return}}),M},Ow=UE,v0=(n,e)=>{let t;try{t=JSON.parse(n)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&e(t)};function VE(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var o;const u=f=>f===null?null:JSON.parse(f,void 0),h=(o=t.getItem(a))!=null?o:null;return h instanceof Promise?h.then(u):u(h)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const s1=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return s1(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return s1(r)(t)}}}},FE=(n,e)=>(t,r,a)=>{let o={storage:VE(()=>localStorage),partialize:j=>j,version:0,merge:(j,q)=>({...q,...j}),...e},u=!1;const h=new Set,f=new Set;let d=o.storage;if(!d)return n((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...j)},r,a);const v=()=>{const j=o.partialize({...r()});return d.setItem(o.name,{state:j,version:o.version})},A=a.setState;a.setState=(j,q)=>(A(j,q),v());const S=n((...j)=>(t(...j),v()),r,a);a.getInitialState=()=>S;let _;const M=()=>{var j,q;if(!d)return;u=!1,h.forEach(ie=>{var ae;return ie((ae=r())!=null?ae:S)});const F=((q=o.onRehydrateStorage)==null?void 0:q.call(o,(j=r())!=null?j:S))||void 0;return s1(d.getItem.bind(d))(o.name).then(ie=>{if(ie)if(typeof ie.version=="number"&&ie.version!==o.version){if(o.migrate){const ae=o.migrate(ie.state,ie.version);return ae instanceof Promise?ae.then(se=>[!0,se]):[!0,ae]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ie.state];return[!1,void 0]}).then(ie=>{var ae;const[se,we]=ie;if(_=o.merge(we,(ae=r())!=null?ae:S),t(_,!0),se)return v()}).then(()=>{F?.(_,void 0),_=r(),u=!0,f.forEach(ie=>ie(_))}).catch(ie=>{F?.(void 0,ie)})};return a.persist={setOptions:j=>{o={...o,...j},j.storage&&(d=j.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>M(),hasHydrated:()=>u,onHydrate:j=>(h.add(j),()=>{h.delete(j)}),onFinishHydration:j=>(f.add(j),()=>{f.delete(j)})},o.skipHydration||M(),_||S},BE=FE;kw()(Ow(BE(n=>({user:null,isAuthenticated:!1,theme:"light",sidebarOpen:!0,isLoading:!1,setUser:e=>n({user:e,isAuthenticated:!!e},!1,"setUser"),logout:()=>n({user:null,isAuthenticated:!1},!1,"logout"),toggleTheme:()=>n(e=>({theme:e.theme==="light"?"dark":"light"}),!1,"toggleTheme"),toggleSidebar:()=>n(e=>({sidebarOpen:!e.sidebarOpen}),!1,"toggleSidebar"),setLoading:e=>n({isLoading:e},!1,"setLoading")}),{name:"florale-storage",partialize:n=>({theme:n.theme,sidebarOpen:n.sidebarOpen})}),{name:"AppStore"}));const qE=()=>{};var Cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},zE=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],h=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,d=f?n[a+2]:0,v=o>>2,A=(o&3)<<4|h>>4;let S=(h&15)<<2|d>>6,_=d&63;f||(_=64,u||(S=64)),r.push(t[v],t[A],t[S],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Pw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zE(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const d=a<n.length?t[n.charAt(a)]:64;++a;const A=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||d==null||A==null)throw new HE;const S=o<<2|h>>4;if(r.push(S),d!==64){const _=h<<4&240|d>>2;if(r.push(_),A!==64){const M=d<<6&192|A;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GE=function(n){const e=Pw(n);return Mw.encodeByteArray(e,!0)},Zp=function(n){return GE(n).replace(/\./g,"")},jw=function(n){try{return Mw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=()=>YE().__FIREBASE_DEFAULTS__,KE=()=>{if(typeof process>"u"||typeof Cv>"u")return;const n=Cv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},WE=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jw(n[1]);return e&&JSON.parse(e)},Sg=()=>{try{return qE()||$E()||KE()||WE()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Uw=n=>Sg()?.emulatorHosts?.[n],Vw=n=>{const e=Uw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Fw=()=>Sg()?.config,Bw=n=>Sg()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function H1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Zp(JSON.stringify(t)),Zp(JSON.stringify(u)),""].join(".")}const zf={};function XE(){const n={prod:[],emulator:[]};for(const e of Object.keys(zf))zf[e]?n.emulator.push(e):n.prod.push(e);return n}function JE(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Rv=!1;function G1(n,e){if(typeof window>"u"||typeof document>"u"||!zu(window.location.host)||zf[n]===e||zf[n]||Rv)return;zf[n]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",o=XE().prod.length>0;function u(){const S=document.getElementById(r);S&&S.remove()}function h(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function f(S,_){S.setAttribute("width","24"),S.setAttribute("id",_),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function d(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Rv=!0,u()},S}function v(S,_){S.setAttribute("id",_),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=JE(r),_=t("text"),M=document.getElementById(_)||document.createElement("span"),j=t("learnmore"),q=document.getElementById(j)||document.createElement("a"),F=t("preprendIcon"),ie=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ae=S.element;h(ae),v(q,j);const se=d();f(ie,F),ae.append(ie,M,q,se),document.body.appendChild(ae)}o?(M.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ys())}function eS(){const n=Sg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iS(){const n=ys();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sS(){return!eS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aS(){try{return typeof indexedDB=="object"}catch{return!1}}function oS(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="FirebaseError";class nl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lS,Object.setPrototypeOf(this,nl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cd.prototype.create)}}class cd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?uS(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new nl(a,h,r)}}function uS(n,e){return n.replace(cS,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const cS=/\{\$([^}]+)}/g;function hS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(Lv(o)&&Lv(u)){if(!bc(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Lv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Uf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function fS(n,e){const t=new dS(n,e);return t.subscribe.bind(t)}class dS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pS(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=b0),a.error===void 0&&(a.error=b0),a.complete===void 0&&(a.complete=b0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function b0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(n){return n&&n._delegate?n._delegate:n}class Pu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new QE;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yS(e))try{this.getOrInitializeService({instanceIdentifier:uc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=uc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uc){return this.instances.has(e)}getOptions(e=uc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uc){return this.component?this.component.multipleInstances?e:uc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mS(n){return n===uc?void 0:n}function yS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(bn||(bn={}));const bS={debug:bn.DEBUG,verbose:bn.VERBOSE,info:bn.INFO,warn:bn.WARN,error:bn.ERROR,silent:bn.SILENT},_S=bn.INFO,wS={[bn.DEBUG]:"log",[bn.VERBOSE]:"log",[bn.INFO]:"info",[bn.WARN]:"warn",[bn.ERROR]:"error"},AS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=wS[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y1{constructor(e){this.name=e,this._logLevel=_S,this._logHandler=AS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bn.DEBUG,...e),this._logHandler(this,bn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bn.VERBOSE,...e),this._logHandler(this,bn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bn.INFO,...e),this._logHandler(this,bn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bn.WARN,...e),this._logHandler(this,bn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bn.ERROR,...e),this._logHandler(this,bn.ERROR,...e)}}const xS=(n,e)=>e.some(t=>n instanceof t);let Dv,kv;function ES(){return Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SS(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zw=new WeakMap,a1=new WeakMap,Hw=new WeakMap,_0=new WeakMap,$1=new WeakMap;function TS(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Lu(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&zw.set(t,n)}).catch(()=>{}),$1.set(e,n),e}function NS(n){if(a1.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});a1.set(n,e)}let o1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return a1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Hw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Lu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function IS(n){o1=n(o1)}function CS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(w0(this),e,...t);return Hw.set(r,e.sort?e.sort():[e]),Lu(r)}:SS().includes(n)?function(...e){return n.apply(w0(this),e),Lu(zw.get(this))}:function(...e){return Lu(n.apply(w0(this),e))}}function RS(n){return typeof n=="function"?CS(n):(n instanceof IDBTransaction&&NS(n),xS(n,ES())?new Proxy(n,o1):n)}function Lu(n){if(n instanceof IDBRequest)return TS(n);if(_0.has(n))return _0.get(n);const e=RS(n);return e!==n&&(_0.set(n,e),$1.set(e,n)),e}const w0=n=>$1.get(n);function LS(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),h=Lu(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Lu(u.result),f.oldVersion,f.newVersion,Lu(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const DS=["get","getKey","getAll","getAllKeys","count"],kS=["put","add","delete","clear"],A0=new Map;function Ov(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(A0.get(e))return A0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=kS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||DS.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),a&&f.done]))[0]};return A0.set(e,o),o}IS(n=>({...n,get:(e,t,r)=>Ov(e,t)||n.get(e,t,r),has:(e,t)=>!!Ov(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PS(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function PS(n){return n.getComponent()?.type==="VERSION"}const l1="@firebase/app",Pv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new Y1("@firebase/app"),MS="@firebase/app-compat",jS="@firebase/analytics-compat",US="@firebase/analytics",VS="@firebase/app-check-compat",FS="@firebase/app-check",BS="@firebase/auth",qS="@firebase/auth-compat",zS="@firebase/database",HS="@firebase/data-connect",GS="@firebase/database-compat",YS="@firebase/functions",$S="@firebase/functions-compat",KS="@firebase/installations",WS="@firebase/installations-compat",QS="@firebase/messaging",XS="@firebase/messaging-compat",JS="@firebase/performance",ZS="@firebase/performance-compat",eT="@firebase/remote-config",tT="@firebase/remote-config-compat",nT="@firebase/storage",rT="@firebase/storage-compat",iT="@firebase/firestore",sT="@firebase/ai",aT="@firebase/firestore-compat",oT="firebase",lT="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="[DEFAULT]",uT={[l1]:"fire-core",[MS]:"fire-core-compat",[US]:"fire-analytics",[jS]:"fire-analytics-compat",[FS]:"fire-app-check",[VS]:"fire-app-check-compat",[BS]:"fire-auth",[qS]:"fire-auth-compat",[zS]:"fire-rtdb",[HS]:"fire-data-connect",[GS]:"fire-rtdb-compat",[YS]:"fire-fn",[$S]:"fire-fn-compat",[KS]:"fire-iid",[WS]:"fire-iid-compat",[QS]:"fire-fcm",[XS]:"fire-fcm-compat",[JS]:"fire-perf",[ZS]:"fire-perf-compat",[eT]:"fire-rc",[tT]:"fire-rc-compat",[nT]:"fire-gcs",[rT]:"fire-gcs-compat",[iT]:"fire-fst",[aT]:"fire-fst-compat",[sT]:"fire-vertex","fire-js":"fire-js",[oT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=new Map,cT=new Map,c1=new Map;function Mv(n,e){try{n.container.addComponent(e)}catch(t){Bl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _c(n){const e=n.name;if(c1.has(e))return Bl.debug(`There were multiple attempts to register component ${e}.`),!1;c1.set(e,n);for(const t of eg.values())Mv(t,n);for(const t of cT.values())Mv(t,n);return!0}function Tg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ks(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Du=new cd("app","Firebase",hT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Du.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=lT;function Gw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:u1,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Du.create("bad-app-name",{appName:String(a)});if(t||(t=Fw()),!t)throw Du.create("no-options");const o=eg.get(a);if(o){if(bc(t,o.options)&&bc(r,o.config))return o;throw Du.create("duplicate-app",{appName:a})}const u=new vS(a);for(const f of c1.values())u.addComponent(f);const h=new fT(t,r,u);return eg.set(a,h),h}function K1(n=u1){const e=eg.get(n);if(!e&&n===u1&&Fw())return Gw();if(!e)throw Du.create("no-app",{appName:n});return e}function Ko(n,e,t){let r=uT[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bl.warn(u.join(" "));return}_c(new Pu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firebase-heartbeat-database",pT=1,Jf="firebase-heartbeat-store";let x0=null;function Yw(){return x0||(x0=LS(dT,pT,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Du.create("idb-open",{originalErrorMessage:n.message})})),x0}async function gT(n){try{const t=(await Yw()).transaction(Jf),r=await t.objectStore(Jf).get($w(n));return await t.done,r}catch(e){if(e instanceof nl)Bl.warn(e.message);else{const t=Du.create("idb-get",{originalErrorMessage:e?.message});Bl.warn(t.message)}}}async function jv(n,e){try{const r=(await Yw()).transaction(Jf,"readwrite");await r.objectStore(Jf).put(e,$w(n)),await r.done}catch(t){if(t instanceof nl)Bl.warn(t.message);else{const r=Du.create("idb-set",{originalErrorMessage:t?.message});Bl.warn(r.message)}}}function $w(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=1024,yT=30;class vT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _T(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>yT){const a=wT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bl.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uv(),{heartbeatsToSend:t,unsentEntries:r}=bT(this._heartbeatsCache.heartbeats),a=Zp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Bl.warn(e),""}}}function Uv(){return new Date().toISOString().substring(0,10)}function bT(n,e=mT){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Vv(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Vv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class _T{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aS()?oS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gT(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Vv(n){return Zp(JSON.stringify({version:2,heartbeats:n})).length}function wT(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(n){_c(new Pu("platform-logger",e=>new OS(e),"PRIVATE")),_c(new Pu("heartbeat",e=>new vT(e),"PRIVATE")),Ko(l1,Pv,n),Ko(l1,Pv,"esm2020"),Ko("fire-js","")}AT("");var xT="firebase",ET="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ko(xT,ET,"app");function Kw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ST=Kw,Ww=new cd("auth","Firebase",Kw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new Y1("@firebase/auth");function TT(n,...e){tg.logLevel<=bn.WARN&&tg.warn(`Auth (${Cc}): ${n}`,...e)}function Mp(n,...e){tg.logLevel<=bn.ERROR&&tg.error(`Auth (${Cc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(n,...e){throw Q1(n,...e)}function po(n,...e){return Q1(n,...e)}function W1(n,e,t){const r={...ST(),[e]:t};return new cd("auth","Firebase",r).create(e,{appName:n.name})}function Wo(n){return W1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NT(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&za(n,"argument-error"),W1(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Q1(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Ww.create(n,...e)}function Ft(n,e,...t){if(!n)throw Q1(e,...t)}function Ul(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Mp(e),new Error(e)}function ql(n,e){n||Ul(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){return typeof self<"u"&&self.location?.href||""}function IT(){return Fv()==="http:"||Fv()==="https:"}function Fv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IT()||nS()||"connection"in navigator)?navigator.onLine:!0}function RT(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t){this.shortDelay=e,this.longDelay=t,ql(t>e,"Short delay should be less than long delay!"),this.isMobile=ZE()||rS()}get(){return CT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(n,e){ql(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ul("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ul("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ul("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kT=new fd(3e4,6e4);function Yl(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function yo(n,e,t,r,a={}){return Xw(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=hd({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return tS()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&zu(n.emulatorConfig.host)&&(d.credentials="include"),Qw.fetch()(await Jw(n,n.config.apiHost,t,h),d)})}async function Xw(n,e,t){n._canInitEmulator=!1;const r={...LT,...e};try{const a=new PT(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw vp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw vp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw vp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw vp(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw W1(n,v,d);za(n,v)}}catch(a){if(a instanceof nl)throw a;za(n,"network-request-failed",{message:String(a)})}}async function dd(n,e,t,r,a={}){const o=await yo(n,e,t,r,a);return"mfaPendingCredential"in o&&za(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Jw(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?X1(n.config,a):`${n.config.apiScheme}://${a}`;return DT.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function OT(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(po(this.auth,"network-request-failed")),kT.get())})}}function vp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=po(n,e,r);return a.customData._tokenResponse=t,a}function Bv(n){return n!==void 0&&n.enterprise!==void 0}class MT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OT(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jT(n,e){return yo(n,"GET","/v2/recaptchaConfig",Yl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(n,e){return yo(n,"POST","/v1/accounts:delete",e)}async function ng(n,e){return yo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VT(n,e=!1){const t=hr(n),r=await t.getIdToken(e),a=J1(r);Ft(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:Hf(E0(a.auth_time)),issuedAtTime:Hf(E0(a.iat)),expirationTime:Hf(E0(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function E0(n){return Number(n)*1e3}function J1(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Mp("JWT malformed, contained fewer than 3 sections"),null;try{const a=jw(t);return a?JSON.parse(a):(Mp("Failed to decode base64 JWT payload"),null)}catch(a){return Mp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function qv(n){const e=J1(n);return Ft(e,"internal-error"),Ft(typeof e.exp<"u","internal-error"),Ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof nl&&FT(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function FT({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hf(this.lastLoginAt),this.creationTime=Hf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(n){const e=n.auth,t=await n.getIdToken(),r=await wc(n,ng(e,{idToken:t}));Ft(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?Zw(a.providerUserInfo):[],u=zT(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!u?.length,d=h?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new f1(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(n,v)}async function qT(n){const e=hr(n);await rg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zT(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Zw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(n,e){const t=await Xw(n,{},async()=>{const r=hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await Jw(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&zu(n.emulatorConfig.host)&&(f.credentials="include"),Qw.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GT(n,e){return yo(n,"POST","/v2/accounts:revokeToken",Yl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ft(e.idToken,"internal-error"),Ft(typeof e.idToken<"u","internal-error"),Ft(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ft(e.length!==0,"internal-error");const t=qv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await HT(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new Nh;return r&&(Ft(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ft(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ft(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nh,this.toJSON())}_performRefresh(){return Ul("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(n,e){Ft(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fo{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new BT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new f1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await wc(this,this.stsTokenManager.getToken(this.auth,e));return Ft(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return VT(this,e)}reload(){return qT(this)}_assign(e){this!==e&&(Ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await rg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ks(this.auth.app))return Promise.reject(Wo(this.auth));const e=await this.getIdToken();return await wc(this,UT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:A,emailVerified:S,isAnonymous:_,providerData:M,stsTokenManager:j}=t;Ft(A&&j,e,"internal-error");const q=Nh.fromJSON(this.name,j);Ft(typeof A=="string",e,"internal-error"),xu(r,e.name),xu(a,e.name),Ft(typeof S=="boolean",e,"internal-error"),Ft(typeof _=="boolean",e,"internal-error"),xu(o,e.name),xu(u,e.name),xu(h,e.name),xu(f,e.name),xu(d,e.name),xu(v,e.name);const F=new fo({uid:A,auth:e,email:a,emailVerified:S,displayName:r,isAnonymous:_,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:q,createdAt:d,lastLoginAt:v});return M&&Array.isArray(M)&&(F.providerData=M.map(ie=>({...ie}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(e,t,r=!1){const a=new Nh;a.updateFromServerResponse(t);const o=new fo({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await rg(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ft(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?Zw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new Nh;h.updateFromIdToken(r);const f=new fo({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new f1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;function Vl(n){ql(n instanceof Function,"Expected a class definition");let e=zv.get(n);return e?(ql(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}e4.type="NONE";const Hv=e4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n,e,t){return`firebase:${n}:${e}:${t}`}class Ih{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=jp(this.userKey,a.apiKey,o),this.fullPersistenceKey=jp("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ng(this.auth,{idToken:e}).catch(()=>{});return t?fo._fromGetAccountInfoResponse(this.auth,t,e):null}return fo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ih(Vl(Hv),e,r);const a=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||Vl(Hv);const u=jp(r,e.config.apiKey,e.name);let h=null;for(const d of t)try{const v=await d._get(u);if(v){let A;if(typeof v=="string"){const S=await ng(e,{idToken:v}).catch(()=>{});if(!S)break;A=await fo._fromGetAccountInfoResponse(e,S,v)}else A=fo._fromJSON(e,v);d!==o&&(h=A),o=d;break}}catch{}const f=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ih(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Ih(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a4(e))return"Blackberry";if(o4(e))return"Webos";if(n4(e))return"Safari";if((e.includes("chrome/")||r4(e))&&!e.includes("edge/"))return"Chrome";if(s4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function t4(n=ys()){return/firefox\//i.test(n)}function n4(n=ys()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r4(n=ys()){return/crios\//i.test(n)}function i4(n=ys()){return/iemobile/i.test(n)}function s4(n=ys()){return/android/i.test(n)}function a4(n=ys()){return/blackberry/i.test(n)}function o4(n=ys()){return/webos/i.test(n)}function Z1(n=ys()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YT(n=ys()){return Z1(n)&&!!window.navigator?.standalone}function $T(){return iS()&&document.documentMode===10}function l4(n=ys()){return Z1(n)||s4(n)||o4(n)||a4(n)||/windows phone/i.test(n)||i4(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(n,e=[]){let t;switch(n){case"Browser":t=Gv(ys());break;case"Worker":t=`${Gv(ys())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Cc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(n,e={}){return yo(n,"GET","/v2/passwordPolicy",Yl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=6;class XT{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??QT,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yv(this),this.idTokenSubscription=new Yv(this),this.beforeStateQueue=new KT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ww,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vl(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ih.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ng(this,{idToken:e}),r=await fo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ks(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rg(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ks(this.app))return Promise.reject(Wo(this));const t=e?hr(e):null;return t&&Ft(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ks(this.app)?Promise.reject(Wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ks(this.app)?Promise.reject(Wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WT(this),t=new XT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await GT(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vl(e)||this._popupRedirectResolver;Ft(t,this,"argument-error"),this.redirectPersistenceManager=await Ih.create(this,[Vl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ks(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $l(n){return hr(n)}class Yv{constructor(e){this.auth=e,this.observer=null,this.addObserver=fS(t=>this.observer=t)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ng={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZT(n){Ng=n}function c4(n){return Ng.loadJS(n)}function e6(){return Ng.recaptchaEnterpriseScript}function t6(){return Ng.gapiScript}function n6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class r6{constructor(){this.enterprise=new i6}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class i6{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const s6="recaptcha-enterprise",h4="NO_RECAPTCHA";class a6{constructor(e){this.type=s6,this.auth=$l(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{jT(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new MT(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function a(o,u,h){const f=window.grecaptcha;Bv(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(h4)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r6().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&Bv(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=e6();f.length!==0&&(f+=h),c4(f).then(()=>{a(h,o,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function $v(n,e,t,r=!1,a=!1){const o=new a6(n);let u;if(a)u=h4;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ig(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await $v(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await $v(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(n,e){const t=Tg(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(bc(o,e??{}))return a;za(a,"already-initialized")}return t.initialize({options:e})}function l6(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Vl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function u6(n,e,t){const r=$l(n);Ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=f4(e),{host:u,port:h}=c6(e),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ft(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ft(bc(d,r.config.emulator)&&bc(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,zu(u)?(H1(`${o}//${u}${f}`),G1("Auth",!0)):h6()}function f4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function c6(n){const e=f4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:Kv(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Kv(u)}}}function Kv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function h6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ul("not implemented")}_getIdTokenResponse(e){return Ul("not implemented")}_linkToIdToken(e,t){return Ul("not implemented")}_getReauthenticationResolver(e){return Ul("not implemented")}}async function f6(n,e){return yo(n,"POST","/v1/accounts:update",e)}async function d6(n,e){return yo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(n,e){return dd(n,"POST","/v1/accounts:signInWithPassword",Yl(n,e))}async function d4(n,e){return yo(n,"POST","/v1/accounts:sendOobCode",Yl(n,e))}async function g6(n,e){return d4(n,e)}async function m6(n,e){return d4(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(n,e){return dd(n,"POST","/v1/accounts:signInWithEmailLink",Yl(n,e))}async function v6(n,e){return dd(n,"POST","/v1/accounts:signInWithEmailLink",Yl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends e2{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Zf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Zf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,t,"signInWithPassword",p6);case"emailLink":return y6(e,{email:this._email,oobCode:this._password});default:za(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,r,"signUpPassword",d6);case"emailLink":return v6(e,{idToken:t,email:this._email,oobCode:this._password});default:za(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(n,e){return dd(n,"POST","/v1/accounts:signInWithIdp",Yl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="http://localhost";class Ac extends e2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ac(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):za("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const u=new Ac(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ch(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ch(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ch(e,t)}buildRequest(){const e={requestUri:b6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w6(n){const e=jf(Uf(n)).link,t=e?jf(Uf(e)).deep_link_id:null,r=jf(Uf(n)).deep_link_id;return(r?jf(Uf(r)).link:null)||r||t||e||n}class t2{constructor(e){const t=jf(Uf(e)),r=t.apiKey??null,a=t.oobCode??null,o=_6(t.mode??null);Ft(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=w6(e);try{return new t2(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.providerId=zh.PROVIDER_ID}static credential(e,t){return Zf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=t2.parseLink(t);return Ft(r,"argument-error"),Zf._fromEmailAndCode(e,r.code,r.tenantId)}}zh.PROVIDER_ID="password";zh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends n2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends pd{constructor(){super("facebook.com")}static credential(e){return Ac._fromParams({providerId:Tu.PROVIDER_ID,signInMethod:Tu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tu.credentialFromTaggedObject(e)}static credentialFromError(e){return Tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tu.credential(e.oauthAccessToken)}catch{return null}}}Tu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends pd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ac._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ml.credentialFromTaggedObject(e)}static credentialFromError(e){return Ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ml.credential(t,r)}catch{return null}}}Ml.GOOGLE_SIGN_IN_METHOD="google.com";Ml.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends pd{constructor(){super("github.com")}static credential(e){return Ac._fromParams({providerId:jl.PROVIDER_ID,signInMethod:jl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jl.credentialFromTaggedObject(e)}static credentialFromError(e){return jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jl.credential(e.oauthAccessToken)}catch{return null}}}jl.GITHUB_SIGN_IN_METHOD="github.com";jl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends pd{constructor(){super("twitter.com")}static credential(e,t){return Ac._fromParams({providerId:Nu.PROVIDER_ID,signInMethod:Nu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Nu.credentialFromTaggedObject(e)}static credentialFromError(e){return Nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Nu.credential(t,r)}catch{return null}}}Nu.TWITTER_SIGN_IN_METHOD="twitter.com";Nu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(n,e){return dd(n,"POST","/v1/accounts:signUp",Yl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await fo._fromIdTokenResponse(e,r,a),u=Wv(r);return new xc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=Wv(r);return new xc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function Wv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends nl{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,sg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new sg(e,t,r,a)}}function p4(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sg._fromErrorAndOperation(n,o,e,r):o})}async function x6(n,e,t=!1){const r=await wc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(n,e,t=!1){const{auth:r}=n;if(ks(r.app))return Promise.reject(Wo(r));const a="reauthenticate";try{const o=await wc(n,p4(r,a,e,n),t);Ft(o.idToken,r,"internal-error");const u=J1(o.idToken);Ft(u,r,"internal-error");const{sub:h}=u;return Ft(n.uid===h,r,"user-mismatch"),xc._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&za(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(n,e,t=!1){if(ks(n.app))return Promise.reject(Wo(n));const r="signIn",a=await p4(n,r,e),o=await xc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function S6(n,e){return g4($l(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(n){const e=$l(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function T6(n,e,t){const r=$l(n);await ig(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",m6)}async function N6(n,e,t){if(ks(n.app))return Promise.reject(Wo(n));const r=$l(n),u=await ig(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A6).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&m4(n),f}),h=await xc._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function I6(n,e,t){return ks(n.app)?Promise.reject(Wo(n)):S6(hr(n),zh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&m4(n),r})}async function C6(n,e){const t=hr(n),a={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await g6(t.auth,a);o!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(n,e){return yo(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qv(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=hr(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await wc(r,R6(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function L6(n,e){const t=hr(n);return ks(t.auth.app)?Promise.reject(Wo(t.auth)):y4(t,e,null)}function D6(n,e){return y4(hr(n),null,e)}async function y4(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await wc(n,f6(r,o));await n._updateTokensIfNecessary(u,!0)}function k6(n,e,t,r){return hr(n).onIdTokenChanged(e,t,r)}function O6(n,e,t){return hr(n).beforeAuthStateChanged(e,t)}function P6(n){return hr(n).signOut()}const ag="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ag,"1"),this.storage.removeItem(ag),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=1e3,j6=10;class b4 extends v4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);$T()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,j6):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},M6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}b4.type="LOCAL";const U6=b4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4 extends v4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_4.type="SESSION";const w4=_4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Ig(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async d=>d(t.origin,o)),f=await V6(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=r2("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(A){const S=A;if(S.data.eventId===d)switch(S.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(S.data.response);break;default:clearTimeout(v),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(){return window}function B6(n){Qo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(){return typeof Qo().WorkerGlobalScope<"u"&&typeof Qo().importScripts=="function"}async function q6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z6(){return navigator?.serviceWorker?.controller||null}function H6(){return A4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="firebaseLocalStorageDb",G6=1,og="firebaseLocalStorage",E4="fbase_key";class gd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cg(n,e){return n.transaction([og],e?"readwrite":"readonly").objectStore(og)}function Y6(){const n=indexedDB.deleteDatabase(x4);return new gd(n).toPromise()}function d1(){const n=indexedDB.open(x4,G6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(og,{keyPath:E4})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(og)?e(r):(r.close(),await Y6(),e(await d1()))})})}async function Xv(n,e,t){const r=Cg(n,!0).put({[E4]:e,value:t});return new gd(r).toPromise()}async function $6(n,e){const t=Cg(n,!1).get(e),r=await new gd(t).toPromise();return r===void 0?null:r.value}function Jv(n,e){const t=Cg(n,!0).delete(e);return new gd(t).toPromise()}const K6=800,W6=3;class S4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>W6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ig._getInstance(H6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await q6(),!this.activeServiceWorker)return;this.sender=new F6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d1();return await Xv(e,ag,"1"),await Jv(e,ag),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>$6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Jv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Cg(a,!1).getAll();return new gd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S4.type="LOCAL";const Q6=S4;new fd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(n,e){return e?Vl(e):(Ft(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2 extends e2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ch(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ch(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ch(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function X6(n){return g4(n.auth,new i2(n),n.bypassAuthState)}function J6(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),E6(t,new i2(n),n.bypassAuthState)}async function Z6(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),x6(t,new i2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X6;case"linkViaPopup":case"linkViaRedirect":return Z6;case"reauthViaPopup":case"reauthViaRedirect":return J6;default:za(this.auth,"internal-error")}}resolve(e){ql(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ql(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new fd(2e3,1e4);async function Zv(n,e,t){if(ks(n.app))return Promise.reject(po(n,"operation-not-supported-in-this-environment"));const r=$l(n);NT(n,e,n2);const a=T4(r,t);return new fc(r,"signInViaPopup",e,a).executeNotNull()}class fc extends N4{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,fc.currentPopupAction&&fc.currentPopupAction.cancel(),fc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ft(e,this.auth,"internal-error"),e}async onExecution(){ql(this.filter.length===1,"Popup operations only handle one event");const e=r2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(po(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(po(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(po(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eN.get())};e()}}fc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="pendingRedirect",Up=new Map;class nN extends N4{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Up.get(this.auth._key());if(!e){try{const r=await rN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Up.set(this.auth._key(),e)}return this.bypassAuthState||Up.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rN(n,e){const t=aN(e),r=sN(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function iN(n,e){Up.set(n._key(),e)}function sN(n){return Vl(n._redirectPersistence)}function aN(n){return jp(tN,n.config.apiKey,n.name)}async function oN(n,e,t=!1){if(ks(n.app))return Promise.reject(Wo(n));const r=$l(n),a=T4(r,e),u=await new nN(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=600*1e3;class uN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!I4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(po(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lN&&this.cachedEventUids.clear(),this.cachedEventUids.has(eb(e))}saveEventToCache(e){this.cachedEventUids.add(eb(e)),this.lastProcessedEventTime=Date.now()}}function eb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function I4({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function cN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I4(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(n,e={}){return yo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dN=/^https?/;async function pN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await hN(n);for(const t of e)try{if(gN(t))return}catch{}za(n,"unauthorized-domain")}function gN(n){const e=h1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!dN.test(t))return!1;if(fN.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new fd(3e4,6e4);function tb(){const n=Qo().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function yN(n){return new Promise((e,t)=>{function r(){tb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tb(),t(po(n,"network-request-failed"))},timeout:mN.get()})}if(Qo().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qo().gapi?.load)r();else{const a=n6("iframefcb");return Qo()[a]=()=>{gapi.load?r():t(po(n,"network-request-failed"))},c4(`${t6()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw Vp=null,e})}let Vp=null;function vN(n){return Vp=Vp||yN(n),Vp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new fd(5e3,15e3),_N="__/auth/iframe",wN="emulator/auth/iframe",AN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EN(n){const e=n.config;Ft(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?X1(e,wN):`https://${n.config.authDomain}/${_N}`,r={apiKey:e.apiKey,appName:n.name,v:Cc},a=xN.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${hd(r).slice(1)}`}async function SN(n){const e=await vN(n),t=Qo().gapi;return Ft(t,n,"internal-error"),e.open({where:document.body,url:EN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AN,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=po(n,"network-request-failed"),h=Qo().setTimeout(()=>{o(u)},bN.get());function f(){Qo().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NN=500,IN=600,CN="_blank",RN="http://localhost";class nb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LN(n,e,t,r=NN,a=IN){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...TN,width:r.toString(),height:a.toString(),top:o,left:u},d=ys().toLowerCase();t&&(h=r4(d)?CN:t),t4(d)&&(e=e||RN,f.scrollbars="yes");const v=Object.entries(f).reduce((S,[_,M])=>`${S}${_}=${M},`,"");if(YT(d)&&h!=="_self")return DN(e||"",h),new nb(null);const A=window.open(e||"",h,v);Ft(A,n,"popup-blocked");try{A.focus()}catch{}return new nb(A)}function DN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="__/auth/handler",ON="emulator/auth/handler",PN=encodeURIComponent("fac");async function rb(n,e,t,r,a,o){Ft(n.config.authDomain,n,"auth-domain-config-required"),Ft(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Cc,eventId:a};if(e instanceof n2){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",hS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))u[v]=A}if(e instanceof pd){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),d=f?`#${PN}=${encodeURIComponent(f)}`:"";return`${MN(n)}?${hd(h).slice(1)}${d}`}function MN({config:n}){return n.emulator?X1(n,ON):`https://${n.authDomain}/${kN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="webStorageSupport";class jN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w4,this._completeRedirectFn=oN,this._overrideRedirectResult=iN}async _openPopup(e,t,r,a){ql(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await rb(e,t,r,h1(),a);return LN(e,o,r2())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await rb(e,t,r,h1(),a);return B6(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(ql(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await SN(e),r=new uN(e);return t.register("authEvent",a=>(Ft(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(S0,{type:S0},a=>{const o=a?.[0]?.[S0];o!==void 0&&t(!!o),za(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return l4()||n4()||Z1()}}const UN=jN;var ib="@firebase/auth",sb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BN(n){_c(new Pu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ft(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u4(n)},d=new JT(r,a,o,f);return l6(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_c(new Pu("auth-internal",e=>{const t=$l(e.getProvider("auth").getImmediate());return(r=>new VN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ko(ib,sb,FN(n)),Ko(ib,sb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=300,zN=Bw("authIdTokenMaxAge")||qN;let ab=null;const HN=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>zN)return;const a=t?.token;ab!==a&&(ab=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function GN(n=K1()){const e=Tg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=o6(n,{popupRedirectResolver:UN,persistence:[Q6,U6,w4]}),r=Bw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=HN(o.toString());O6(t,u,()=>u(t.currentUser)),k6(t,h=>u(h))}}const a=Uw("auth");return a&&u6(t,`http://${a}`),t}function YN(){return document.getElementsByTagName("head")?.[0]??document}ZT({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=po("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",YN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BN("Browser");var ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ku,C4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(Y,E){function L(){}L.prototype=E.prototype,Y.F=E.prototype,Y.prototype=new L,Y.prototype.constructor=Y,Y.D=function(B,N,O){for(var P=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)P[oe-2]=arguments[oe];return E.prototype[N].apply(B,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(Y,E,L){L||(L=0);const B=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)B[N]=E.charCodeAt(L++)|E.charCodeAt(L++)<<8|E.charCodeAt(L++)<<16|E.charCodeAt(L++)<<24;else for(N=0;N<16;++N)B[N]=E[L++]|E[L++]<<8|E[L++]<<16|E[L++]<<24;E=Y.g[0],L=Y.g[1],N=Y.g[2];let O=Y.g[3],P;P=E+(O^L&(N^O))+B[0]+3614090360&4294967295,E=L+(P<<7&4294967295|P>>>25),P=O+(N^E&(L^N))+B[1]+3905402710&4294967295,O=E+(P<<12&4294967295|P>>>20),P=N+(L^O&(E^L))+B[2]+606105819&4294967295,N=O+(P<<17&4294967295|P>>>15),P=L+(E^N&(O^E))+B[3]+3250441966&4294967295,L=N+(P<<22&4294967295|P>>>10),P=E+(O^L&(N^O))+B[4]+4118548399&4294967295,E=L+(P<<7&4294967295|P>>>25),P=O+(N^E&(L^N))+B[5]+1200080426&4294967295,O=E+(P<<12&4294967295|P>>>20),P=N+(L^O&(E^L))+B[6]+2821735955&4294967295,N=O+(P<<17&4294967295|P>>>15),P=L+(E^N&(O^E))+B[7]+4249261313&4294967295,L=N+(P<<22&4294967295|P>>>10),P=E+(O^L&(N^O))+B[8]+1770035416&4294967295,E=L+(P<<7&4294967295|P>>>25),P=O+(N^E&(L^N))+B[9]+2336552879&4294967295,O=E+(P<<12&4294967295|P>>>20),P=N+(L^O&(E^L))+B[10]+4294925233&4294967295,N=O+(P<<17&4294967295|P>>>15),P=L+(E^N&(O^E))+B[11]+2304563134&4294967295,L=N+(P<<22&4294967295|P>>>10),P=E+(O^L&(N^O))+B[12]+1804603682&4294967295,E=L+(P<<7&4294967295|P>>>25),P=O+(N^E&(L^N))+B[13]+4254626195&4294967295,O=E+(P<<12&4294967295|P>>>20),P=N+(L^O&(E^L))+B[14]+2792965006&4294967295,N=O+(P<<17&4294967295|P>>>15),P=L+(E^N&(O^E))+B[15]+1236535329&4294967295,L=N+(P<<22&4294967295|P>>>10),P=E+(N^O&(L^N))+B[1]+4129170786&4294967295,E=L+(P<<5&4294967295|P>>>27),P=O+(L^N&(E^L))+B[6]+3225465664&4294967295,O=E+(P<<9&4294967295|P>>>23),P=N+(E^L&(O^E))+B[11]+643717713&4294967295,N=O+(P<<14&4294967295|P>>>18),P=L+(O^E&(N^O))+B[0]+3921069994&4294967295,L=N+(P<<20&4294967295|P>>>12),P=E+(N^O&(L^N))+B[5]+3593408605&4294967295,E=L+(P<<5&4294967295|P>>>27),P=O+(L^N&(E^L))+B[10]+38016083&4294967295,O=E+(P<<9&4294967295|P>>>23),P=N+(E^L&(O^E))+B[15]+3634488961&4294967295,N=O+(P<<14&4294967295|P>>>18),P=L+(O^E&(N^O))+B[4]+3889429448&4294967295,L=N+(P<<20&4294967295|P>>>12),P=E+(N^O&(L^N))+B[9]+568446438&4294967295,E=L+(P<<5&4294967295|P>>>27),P=O+(L^N&(E^L))+B[14]+3275163606&4294967295,O=E+(P<<9&4294967295|P>>>23),P=N+(E^L&(O^E))+B[3]+4107603335&4294967295,N=O+(P<<14&4294967295|P>>>18),P=L+(O^E&(N^O))+B[8]+1163531501&4294967295,L=N+(P<<20&4294967295|P>>>12),P=E+(N^O&(L^N))+B[13]+2850285829&4294967295,E=L+(P<<5&4294967295|P>>>27),P=O+(L^N&(E^L))+B[2]+4243563512&4294967295,O=E+(P<<9&4294967295|P>>>23),P=N+(E^L&(O^E))+B[7]+1735328473&4294967295,N=O+(P<<14&4294967295|P>>>18),P=L+(O^E&(N^O))+B[12]+2368359562&4294967295,L=N+(P<<20&4294967295|P>>>12),P=E+(L^N^O)+B[5]+4294588738&4294967295,E=L+(P<<4&4294967295|P>>>28),P=O+(E^L^N)+B[8]+2272392833&4294967295,O=E+(P<<11&4294967295|P>>>21),P=N+(O^E^L)+B[11]+1839030562&4294967295,N=O+(P<<16&4294967295|P>>>16),P=L+(N^O^E)+B[14]+4259657740&4294967295,L=N+(P<<23&4294967295|P>>>9),P=E+(L^N^O)+B[1]+2763975236&4294967295,E=L+(P<<4&4294967295|P>>>28),P=O+(E^L^N)+B[4]+1272893353&4294967295,O=E+(P<<11&4294967295|P>>>21),P=N+(O^E^L)+B[7]+4139469664&4294967295,N=O+(P<<16&4294967295|P>>>16),P=L+(N^O^E)+B[10]+3200236656&4294967295,L=N+(P<<23&4294967295|P>>>9),P=E+(L^N^O)+B[13]+681279174&4294967295,E=L+(P<<4&4294967295|P>>>28),P=O+(E^L^N)+B[0]+3936430074&4294967295,O=E+(P<<11&4294967295|P>>>21),P=N+(O^E^L)+B[3]+3572445317&4294967295,N=O+(P<<16&4294967295|P>>>16),P=L+(N^O^E)+B[6]+76029189&4294967295,L=N+(P<<23&4294967295|P>>>9),P=E+(L^N^O)+B[9]+3654602809&4294967295,E=L+(P<<4&4294967295|P>>>28),P=O+(E^L^N)+B[12]+3873151461&4294967295,O=E+(P<<11&4294967295|P>>>21),P=N+(O^E^L)+B[15]+530742520&4294967295,N=O+(P<<16&4294967295|P>>>16),P=L+(N^O^E)+B[2]+3299628645&4294967295,L=N+(P<<23&4294967295|P>>>9),P=E+(N^(L|~O))+B[0]+4096336452&4294967295,E=L+(P<<6&4294967295|P>>>26),P=O+(L^(E|~N))+B[7]+1126891415&4294967295,O=E+(P<<10&4294967295|P>>>22),P=N+(E^(O|~L))+B[14]+2878612391&4294967295,N=O+(P<<15&4294967295|P>>>17),P=L+(O^(N|~E))+B[5]+4237533241&4294967295,L=N+(P<<21&4294967295|P>>>11),P=E+(N^(L|~O))+B[12]+1700485571&4294967295,E=L+(P<<6&4294967295|P>>>26),P=O+(L^(E|~N))+B[3]+2399980690&4294967295,O=E+(P<<10&4294967295|P>>>22),P=N+(E^(O|~L))+B[10]+4293915773&4294967295,N=O+(P<<15&4294967295|P>>>17),P=L+(O^(N|~E))+B[1]+2240044497&4294967295,L=N+(P<<21&4294967295|P>>>11),P=E+(N^(L|~O))+B[8]+1873313359&4294967295,E=L+(P<<6&4294967295|P>>>26),P=O+(L^(E|~N))+B[15]+4264355552&4294967295,O=E+(P<<10&4294967295|P>>>22),P=N+(E^(O|~L))+B[6]+2734768916&4294967295,N=O+(P<<15&4294967295|P>>>17),P=L+(O^(N|~E))+B[13]+1309151649&4294967295,L=N+(P<<21&4294967295|P>>>11),P=E+(N^(L|~O))+B[4]+4149444226&4294967295,E=L+(P<<6&4294967295|P>>>26),P=O+(L^(E|~N))+B[11]+3174756917&4294967295,O=E+(P<<10&4294967295|P>>>22),P=N+(E^(O|~L))+B[2]+718787259&4294967295,N=O+(P<<15&4294967295|P>>>17),P=L+(O^(N|~E))+B[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+E&4294967295,Y.g[1]=Y.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,Y.g[2]=Y.g[2]+N&4294967295,Y.g[3]=Y.g[3]+O&4294967295}r.prototype.v=function(Y,E){E===void 0&&(E=Y.length);const L=E-this.blockSize,B=this.C;let N=this.h,O=0;for(;O<E;){if(N==0)for(;O<=L;)a(this,Y,O),O+=this.blockSize;if(typeof Y=="string"){for(;O<E;)if(B[N++]=Y.charCodeAt(O++),N==this.blockSize){a(this,B),N=0;break}}else for(;O<E;)if(B[N++]=Y[O++],N==this.blockSize){a(this,B),N=0;break}}this.h=N,this.o+=E},r.prototype.A=function(){var Y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Y[0]=128;for(var E=1;E<Y.length-8;++E)Y[E]=0;E=this.o*8;for(var L=Y.length-8;L<Y.length;++L)Y[L]=E&255,E/=256;for(this.v(Y),Y=Array(16),E=0,L=0;L<4;++L)for(let B=0;B<32;B+=8)Y[E++]=this.g[L]>>>B&255;return Y};function o(Y,E){var L=h;return Object.prototype.hasOwnProperty.call(L,Y)?L[Y]:L[Y]=E(Y)}function u(Y,E){this.h=E;const L=[];let B=!0;for(let N=Y.length-1;N>=0;N--){const O=Y[N]|0;B&&O==E||(L[N]=O,B=!1)}this.g=L}var h={};function f(Y){return-128<=Y&&Y<128?o(Y,function(E){return new u([E|0],E<0?-1:0)}):new u([Y|0],Y<0?-1:0)}function d(Y){if(isNaN(Y)||!isFinite(Y))return A;if(Y<0)return q(d(-Y));const E=[];let L=1;for(let B=0;Y>=L;B++)E[B]=Y/L|0,L*=4294967296;return new u(E,0)}function v(Y,E){if(Y.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(Y.charAt(0)=="-")return q(v(Y.substring(1),E));if(Y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=d(Math.pow(E,8));let B=A;for(let O=0;O<Y.length;O+=8){var N=Math.min(8,Y.length-O);const P=parseInt(Y.substring(O,O+N),E);N<8?(N=d(Math.pow(E,N)),B=B.j(N).add(d(P))):(B=B.j(L),B=B.add(d(P)))}return B}var A=f(0),S=f(1),_=f(16777216);n=u.prototype,n.m=function(){if(j(this))return-q(this).m();let Y=0,E=1;for(let L=0;L<this.g.length;L++){const B=this.i(L);Y+=(B>=0?B:4294967296+B)*E,E*=4294967296}return Y},n.toString=function(Y){if(Y=Y||10,Y<2||36<Y)throw Error("radix out of range: "+Y);if(M(this))return"0";if(j(this))return"-"+q(this).toString(Y);const E=d(Math.pow(Y,6));var L=this;let B="";for(;;){const N=se(L,E).g;L=F(L,N.j(E));let O=((L.g.length>0?L.g[0]:L.h)>>>0).toString(Y);if(L=N,M(L))return O+B;for(;O.length<6;)O="0"+O;B=O+B}},n.i=function(Y){return Y<0?0:Y<this.g.length?this.g[Y]:this.h};function M(Y){if(Y.h!=0)return!1;for(let E=0;E<Y.g.length;E++)if(Y.g[E]!=0)return!1;return!0}function j(Y){return Y.h==-1}n.l=function(Y){return Y=F(this,Y),j(Y)?-1:M(Y)?0:1};function q(Y){const E=Y.g.length,L=[];for(let B=0;B<E;B++)L[B]=~Y.g[B];return new u(L,~Y.h).add(S)}n.abs=function(){return j(this)?q(this):this},n.add=function(Y){const E=Math.max(this.g.length,Y.g.length),L=[];let B=0;for(let N=0;N<=E;N++){let O=B+(this.i(N)&65535)+(Y.i(N)&65535),P=(O>>>16)+(this.i(N)>>>16)+(Y.i(N)>>>16);B=P>>>16,O&=65535,P&=65535,L[N]=P<<16|O}return new u(L,L[L.length-1]&-2147483648?-1:0)};function F(Y,E){return Y.add(q(E))}n.j=function(Y){if(M(this)||M(Y))return A;if(j(this))return j(Y)?q(this).j(q(Y)):q(q(this).j(Y));if(j(Y))return q(this.j(q(Y)));if(this.l(_)<0&&Y.l(_)<0)return d(this.m()*Y.m());const E=this.g.length+Y.g.length,L=[];for(var B=0;B<2*E;B++)L[B]=0;for(B=0;B<this.g.length;B++)for(let N=0;N<Y.g.length;N++){const O=this.i(B)>>>16,P=this.i(B)&65535,oe=Y.i(N)>>>16,xe=Y.i(N)&65535;L[2*B+2*N]+=P*xe,ie(L,2*B+2*N),L[2*B+2*N+1]+=O*xe,ie(L,2*B+2*N+1),L[2*B+2*N+1]+=P*oe,ie(L,2*B+2*N+1),L[2*B+2*N+2]+=O*oe,ie(L,2*B+2*N+2)}for(Y=0;Y<E;Y++)L[Y]=L[2*Y+1]<<16|L[2*Y];for(Y=E;Y<2*E;Y++)L[Y]=0;return new u(L,0)};function ie(Y,E){for(;(Y[E]&65535)!=Y[E];)Y[E+1]+=Y[E]>>>16,Y[E]&=65535,E++}function ae(Y,E){this.g=Y,this.h=E}function se(Y,E){if(M(E))throw Error("division by zero");if(M(Y))return new ae(A,A);if(j(Y))return E=se(q(Y),E),new ae(q(E.g),q(E.h));if(j(E))return E=se(Y,q(E)),new ae(q(E.g),E.h);if(Y.g.length>30){if(j(Y)||j(E))throw Error("slowDivide_ only works with positive integers.");for(var L=S,B=E;B.l(Y)<=0;)L=we(L),B=we(B);var N=ke(L,1),O=ke(B,1);for(B=ke(B,2),L=ke(L,2);!M(B);){var P=O.add(B);P.l(Y)<=0&&(N=N.add(L),O=P),B=ke(B,1),L=ke(L,1)}return E=F(Y,N.j(E)),new ae(N,E)}for(N=A;Y.l(E)>=0;){for(L=Math.max(1,Math.floor(Y.m()/E.m())),B=Math.ceil(Math.log(L)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),O=d(L),P=O.j(E);j(P)||P.l(Y)>0;)L-=B,O=d(L),P=O.j(E);M(O)&&(O=S),N=N.add(O),Y=F(Y,P)}return new ae(N,Y)}n.B=function(Y){return se(this,Y).h},n.and=function(Y){const E=Math.max(this.g.length,Y.g.length),L=[];for(let B=0;B<E;B++)L[B]=this.i(B)&Y.i(B);return new u(L,this.h&Y.h)},n.or=function(Y){const E=Math.max(this.g.length,Y.g.length),L=[];for(let B=0;B<E;B++)L[B]=this.i(B)|Y.i(B);return new u(L,this.h|Y.h)},n.xor=function(Y){const E=Math.max(this.g.length,Y.g.length),L=[];for(let B=0;B<E;B++)L[B]=this.i(B)^Y.i(B);return new u(L,this.h^Y.h)};function we(Y){const E=Y.g.length+1,L=[];for(let B=0;B<E;B++)L[B]=Y.i(B)<<1|Y.i(B-1)>>>31;return new u(L,Y.h)}function ke(Y,E){const L=E>>5;E%=32;const B=Y.g.length-L,N=[];for(let O=0;O<B;O++)N[O]=E>0?Y.i(O+L)>>>E|Y.i(O+L+1)<<32-E:Y.i(O+L);return new u(N,Y.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,C4=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=v,ku=u}).apply(typeof ob<"u"?ob:typeof self<"u"?self:typeof window<"u"?window:{});var bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R4,Vf,L4,Fp,p1,D4,k4,O4;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof bp=="object"&&bp];for(var T=0;T<g.length;++T){var k=g[T];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=t(this);function a(g,T){if(T)e:{var k=r;g=g.split(".");for(var Q=0;Q<g.length-1;Q++){var Ae=g[Q];if(!(Ae in k))break e;k=k[Ae]}g=g[g.length-1],Q=k[g],T=T(Q),T!=Q&&T!=null&&e(k,g,{configurable:!0,writable:!0,value:T})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(T){var k=[],Q;for(Q in T)Object.prototype.hasOwnProperty.call(T,Q)&&k.push([Q,T[Q]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function h(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function f(g,T,k){return g.call.apply(g.bind,arguments)}function d(g,T,k){return d=f,d.apply(null,arguments)}function v(g,T){var k=Array.prototype.slice.call(arguments,1);return function(){var Q=k.slice();return Q.push.apply(Q,arguments),g.apply(this,Q)}}function A(g,T){function k(){}k.prototype=T.prototype,g.Z=T.prototype,g.prototype=new k,g.prototype.constructor=g,g.Ob=function(Q,Ae,Re){for(var Je=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)Je[Vt-2]=arguments[Vt];return T.prototype[Ae].apply(Q,Je)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const T=g.length;if(T>0){const k=Array(T);for(let Q=0;Q<T;Q++)k[Q]=g[Q];return k}return[]}function M(g,T){for(let Q=1;Q<arguments.length;Q++){const Ae=arguments[Q];var k=typeof Ae;if(k=k!="object"?k:Ae?Array.isArray(Ae)?"array":k:"null",k=="array"||k=="object"&&typeof Ae.length=="number"){k=g.length||0;const Re=Ae.length||0;g.length=k+Re;for(let Je=0;Je<Re;Je++)g[k+Je]=Ae[Je]}else g.push(Ae)}}class j{constructor(T,k){this.i=T,this.j=k,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function q(g){u.setTimeout(()=>{throw g},0)}function F(){var g=Y;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class ie{constructor(){this.h=this.g=null}add(T,k){const Q=ae.get();Q.set(T,k),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var ae=new j(()=>new se,g=>g.reset());class se{constructor(){this.next=this.g=this.h=null}set(T,k){this.h=T,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let we,ke=!1,Y=new ie,E=()=>{const g=Promise.resolve(void 0);we=()=>{g.then(L)}};function L(){for(var g;g=F();){try{g.h.call(g.g)}catch(k){q(k)}var T=ae;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}ke=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const k=()=>{};u.addEventListener("test",k,T),u.removeEventListener("test",k,T)}catch{}return g})();function P(g){return/^[\s\xa0]*$/.test(g)}function oe(g,T){N.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}A(oe,N),oe.prototype.init=function(g,T){const k=this.type=g.type,Q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(k=="mouseover"?T=g.fromElement:k=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),ee=0;function de(g,T,k,Q,Ae){this.listener=g,this.proxy=null,this.src=T,this.type=k,this.capture=!!Q,this.ha=Ae,this.key=++ee,this.da=this.fa=!1}function $(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function be(g,T,k){for(const Q in g)T.call(k,g[Q],Q,g)}function Fe(g,T){for(const k in g)T.call(void 0,g[k],k,g)}function J(g){const T={};for(const k in g)T[k]=g[k];return T}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(g,T){let k,Q;for(let Ae=1;Ae<arguments.length;Ae++){Q=arguments[Ae];for(k in Q)g[k]=Q[k];for(let Re=0;Re<D.length;Re++)k=D[Re],Object.prototype.hasOwnProperty.call(Q,k)&&(g[k]=Q[k])}}function Z(g){this.src=g,this.g={},this.h=0}Z.prototype.add=function(g,T,k,Q,Ae){const Re=g.toString();g=this.g[Re],g||(g=this.g[Re]=[],this.h++);const Je=he(g,T,Q,Ae);return Je>-1?(T=g[Je],k||(T.fa=!1)):(T=new de(T,this.src,Re,!!Q,Ae),T.fa=k,g.push(T)),T};function ue(g,T){const k=T.type;if(k in g.g){var Q=g.g[k],Ae=Array.prototype.indexOf.call(Q,T,void 0),Re;(Re=Ae>=0)&&Array.prototype.splice.call(Q,Ae,1),Re&&($(T),g.g[k].length==0&&(delete g.g[k],g.h--))}}function he(g,T,k,Q){for(let Ae=0;Ae<g.length;++Ae){const Re=g[Ae];if(!Re.da&&Re.listener==T&&Re.capture==!!k&&Re.ha==Q)return Ae}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Se={};function Ne(g,T,k,Q,Ae){if(Array.isArray(T)){for(let Re=0;Re<T.length;Re++)Ne(g,T[Re],k,Q,Ae);return null}return k=_t(k),g&&g[xe]?g.J(T,k,h(Q)?!!Q.capture:!1,Ae):Ue(g,T,k,!1,Q,Ae)}function Ue(g,T,k,Q,Ae,Re){if(!T)throw Error("Invalid event type");const Je=h(Ae)?!!Ae.capture:!!Ae;let Vt=Xt(g);if(Vt||(g[ye]=Vt=new Z(g)),k=Vt.add(T,k,Q,Je,Re),k.proxy)return k;if(Q=Qe(),k.proxy=Q,Q.src=g,Q.listener=k,g.addEventListener)O||(Ae=Je),Ae===void 0&&(Ae=!1),g.addEventListener(T.toString(),Q,Ae);else if(g.attachEvent)g.attachEvent(Oe(T.toString()),Q);else if(g.addListener&&g.removeListener)g.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Qe(){function g(k){return T.call(g.src,g.listener,k)}const T=le;return g}function Ze(g,T,k,Q,Ae){if(Array.isArray(T))for(var Re=0;Re<T.length;Re++)Ze(g,T[Re],k,Q,Ae);else Q=h(Q)?!!Q.capture:!!Q,k=_t(k),g&&g[xe]?(g=g.i,Re=String(T).toString(),Re in g.g&&(T=g.g[Re],k=he(T,k,Q,Ae),k>-1&&($(T[k]),Array.prototype.splice.call(T,k,1),T.length==0&&(delete g.g[Re],g.h--)))):g&&(g=Xt(g))&&(T=g.g[T.toString()],g=-1,T&&(g=he(T,k,Q,Ae)),(k=g>-1?T[g]:null)&&tt(k))}function tt(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[xe])ue(T.i,g);else{var k=g.type,Q=g.proxy;T.removeEventListener?T.removeEventListener(k,Q,g.capture):T.detachEvent?T.detachEvent(Oe(k),Q):T.addListener&&T.removeListener&&T.removeListener(Q),(k=Xt(T))?(ue(k,g),k.h==0&&(k.src=null,T[ye]=null)):$(g)}}}function Oe(g){return g in Se?Se[g]:Se[g]="on"+g}function le(g,T){if(g.da)g=!0;else{T=new oe(T,this);const k=g.listener,Q=g.ha||g.src;g.fa&&tt(g),g=k.call(Q,T)}return g}function Xt(g){return g=g[ye],g instanceof Z?g:null}var qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function _t(g){return typeof g=="function"?g:(g[qt]||(g[qt]=function(T){return g.handleEvent(T)}),g[qt])}function Ye(){B.call(this),this.i=new Z(this),this.M=this,this.G=null}A(Ye,B),Ye.prototype[xe]=!0,Ye.prototype.removeEventListener=function(g,T,k,Q){Ze(this,g,T,k,Q)};function it(g,T){var k,Q=g.G;if(Q)for(k=[];Q;Q=Q.G)k.push(Q);if(g=g.M,Q=T.type||T,typeof T=="string")T=new N(T,g);else if(T instanceof N)T.target=T.target||g;else{var Ae=T;T=new N(Q,g),K(T,Ae)}Ae=!0;let Re,Je;if(k)for(Je=k.length-1;Je>=0;Je--)Re=T.g=k[Je],Ae=nt(Re,Q,!0,T)&&Ae;if(Re=T.g=g,Ae=nt(Re,Q,!0,T)&&Ae,Ae=nt(Re,Q,!1,T)&&Ae,k)for(Je=0;Je<k.length;Je++)Re=T.g=k[Je],Ae=nt(Re,Q,!1,T)&&Ae}Ye.prototype.N=function(){if(Ye.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const k=g.g[T];for(let Q=0;Q<k.length;Q++)$(k[Q]);delete g.g[T],g.h--}}this.G=null},Ye.prototype.J=function(g,T,k,Q){return this.i.add(String(g),T,!1,k,Q)},Ye.prototype.K=function(g,T,k,Q){return this.i.add(String(g),T,!0,k,Q)};function nt(g,T,k,Q){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let Ae=!0;for(let Re=0;Re<T.length;++Re){const Je=T[Re];if(Je&&!Je.da&&Je.capture==k){const Vt=Je.listener,Yn=Je.ha||Je.src;Je.fa&&ue(g.i,Je),Ae=Vt.call(Yn,Q)!==!1&&Ae}}return Ae&&!Q.defaultPrevented}function Wt(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:u.setTimeout(g,T||0)}function vt(g){g.g=Wt(()=>{g.g=null,g.i&&(g.i=!1,vt(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Gt extends B{constructor(T,k){super(),this.m=T,this.l=k,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ot(g){B.call(this),this.h=g,this.g={}}A(Ot,B);var jt=[];function En(g){be(g.g,function(T,k){this.g.hasOwnProperty(k)&&tt(T)},g),g.g={}}Ot.prototype.N=function(){Ot.Z.N.call(this),En(this)},Ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pt=u.JSON.stringify,bt=u.JSON.parse,Dt=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function mt(){}function jn(){}var nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function st(){N.call(this,"d")}A(st,N);function Et(){N.call(this,"c")}A(Et,N);var Ut={},Nt=null;function sn(){return Nt=Nt||new Ye}Ut.Ia="serverreachability";function zt(g){N.call(this,Ut.Ia,g)}A(zt,N);function Ln(g){const T=sn();it(T,new zt(T))}Ut.STAT_EVENT="statevent";function sr(g,T){N.call(this,Ut.STAT_EVENT,g),this.stat=T}A(sr,N);function Ht(g){const T=sn();it(T,new sr(T,g))}Ut.Ja="timingevent";function St(g,T){N.call(this,Ut.Ja,g),this.size=T}A(St,N);function an(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},T)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function ei(g,T,k,Q,Ae,Re){g.info(function(){if(g.g)if(Re){var Je="",Vt=Re.split("&");for(let un=0;un<Vt.length;un++){var Yn=Vt[un].split("=");if(Yn.length>1){const On=Yn[0];Yn=Yn[1];const ri=On.split("_");Je=ri.length>=2&&ri[1]=="type"?Je+(On+"="+Yn+"&"):Je+(On+"=redacted&")}}}else Je=null;else Je=Re;return"XMLHTTP REQ ("+Q+") [attempt "+Ae+"]: "+T+`
`+k+`
`+Je})}function Os(g,T,k,Q,Ae,Re,Je){g.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+Ae+"]: "+T+`
`+k+`
`+Re+" "+Je})}function Yr(g,T,k,Q){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+aa(g,k)+(Q?" "+Q:"")})}function wt(g,T){g.info(function(){return"TIMEOUT: "+T})}ci.prototype.info=function(){};function aa(g,T){if(!g.g)return T;if(!T)return null;try{const Re=JSON.parse(T);if(Re){for(g=0;g<Re.length;g++)if(Array.isArray(Re[g])){var k=Re[g];if(!(k.length<2)){var Q=k[1];if(Array.isArray(Q)&&!(Q.length<1)){var Ae=Q[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(let Je=1;Je<Q.length;Je++)Q[Je]=""}}}}return Pt(Re)}catch{return T}}var Bi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ei={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Si;function Bn(){}A(Bn,mt),Bn.prototype.g=function(){return new XMLHttpRequest},Si=new Bn;function Xn(g){return encodeURIComponent(String(g))}function kr(g){var T=1;g=g.split(":");const k=[];for(;T>0&&g.length;)k.push(g.shift()),T--;return g.length&&k.push(g.join(":")),k}function hi(g,T,k,Q){this.j=g,this.i=T,this.l=k,this.S=Q||1,this.V=new Ot(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Dn={},Hn={};function Or(g,T,k){g.M=1,g.A=di(on(T)),g.u=k,g.R=!0,Ti(g,null)}function Ti(g,T){g.F=Date.now(),Ni(g),g.B=on(g.A);var k=g.B,Q=g.S;Array.isArray(Q)||(Q=[String(Q)]),So(k.i,"t",Q),g.C=0,k=g.j.L,g.h=new ti,g.g=lt(g.j,k?T:null,!g.u),g.P>0&&(g.O=new Gt(d(g.Y,g,g.g),g.P)),T=g.V,k=g.g,Q=g.ba;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(jt[0]=Ae.toString()),Ae=jt);for(let Re=0;Re<Ae.length;Re++){const Je=Ne(k,Ae[Re],Q||T.handleEvent,!1,T.h||T);if(!Je)break;T.g[Je.key]=Je}T=g.J?J(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),Ln(),ei(g.i,g.v,g.B,g.l,g.S,g.u)}hi.prototype.ba=function(g){g=g.target;const T=this.O;T&&Yi(g)==3?T.j():this.Y(g)},hi.prototype.Y=function(g){try{if(g==this.g)e:{const Vt=Yi(this.g),Yn=this.g.ya(),un=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||Nr(this.g)))){this.K||Vt!=4||Yn==7||(Yn==8||un<=0?Ln(3):Ln(2)),qi(this);var T=this.g.ca();this.X=T;var k=rs(this);if(this.o=T==200,Os(this.i,this.v,this.B,this.l,this.S,Vt,T),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,Ae=this.g;if((Q=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Q)){var Re=Q;break t}}Re=null}if(g=Re)Yr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,is(this,g);else{this.o=!1,this.m=3,Ht(12),zi(this),fi(this);break e}}if(this.R){g=!0;let On;for(;!this.K&&this.C<k.length;)if(On=vs(this,k),On==Hn){Vt==4&&(this.m=4,Ht(14),g=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Dn){this.m=4,Ht(15),Yr(this.i,this.l,k,"[Invalid Chunk]"),g=!1;break}else Yr(this.i,this.l,On,null),is(this,On);if(Ea(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||k.length!=0||this.h.h||(this.m=1,Ht(16),g=!1),this.o=this.o&&g,!g)Yr(this.i,this.l,k,"[Invalid Chunked Response]"),zi(this),fi(this);else if(k.length>0&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.aa&&!Je.P&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Io(Je),Je.P=!0,Ht(11))}}else Yr(this.i,this.l,k,null),is(this,k);Vt==4&&zi(this),this.o&&!this.K&&(Vt==4?ne(this.j,this):(this.o=!1,Ni(this)))}else $i(this.g),T==400&&k.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),zi(this),fi(this)}}}catch{}finally{}};function rs(g){if(!Ea(g))return g.g.la();const T=Nr(g.g);if(T==="")return"";let k="";const Q=T.length,Ae=Yi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return zi(g),fi(g),"";g.h.i=new u.TextDecoder}for(let Re=0;Re<Q;Re++)g.h.h=!0,k+=g.h.i.decode(T[Re],{stream:!(Ae&&Re==Q-1)});return T.length=0,g.h.g+=k,g.C=0,g.h.g}function Ea(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function vs(g,T){var k=g.C,Q=T.indexOf(`
`,k);return Q==-1?Hn:(k=Number(T.substring(k,Q)),isNaN(k)?Dn:(Q+=1,Q+k>T.length?Hn:(T=T.slice(Q,Q+k),g.C=Q+k,T)))}hi.prototype.cancel=function(){this.K=!0,zi(this)};function Ni(g){g.T=Date.now()+g.H,oa(g,g.H)}function oa(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=an(d(g.aa,g),T)}function qi(g){g.D&&(u.clearTimeout(g.D),g.D=null)}hi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(wt(this.i,this.B),this.M!=2&&(Ln(),Ht(17)),zi(this),this.m=2,fi(this)):oa(this,this.T-g)};function fi(g){g.j.I==0||g.K||ne(g.j,g)}function zi(g){qi(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,En(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function is(g,T){try{var k=g.j;if(k.I!=0&&(k.g==g||bs(k.h,g))){if(!g.L&&bs(k.h,g)&&k.I==3){try{var Q=k.Ba.g.parse(T)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var Ae=Q;if(Ae[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<g.F)U(k),Us(k);else break e;Ts(k),Ht(18)}}else k.xa=Ae[1],0<k.xa-k.K&&Ae[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=an(d(k.Va,k),6e3));ss(k.h)<=1&&k.ta&&(k.ta=void 0)}else ve(k,11)}else if((g.L||k.g==g)&&U(k),!P(T))for(Ae=k.Ba.g.parse(T),T=0;T<Ae.length;T++){let un=Ae[T];const On=un[0];if(!(On<=k.K))if(k.K=On,un=un[1],k.I==2)if(un[0]=="c"){k.M=un[1],k.ba=un[2];const ri=un[3];ri!=null&&(k.ka=ri,k.j.info("VER="+k.ka));const Di=un[4];Di!=null&&(k.za=Di,k.j.info("SVER="+k.za));const Zn=un[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(Q=1.5*Zn,k.O=Q,k.j.info("backChannelRequestTimeoutMs_="+Q)),Q=k;const gi=g.g;if(gi){const Ns=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var Re=Q.h;Re.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(Ga(Re,Re.h),Re.h=null))}if(Q.G){const Ia=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(Q.wa=Ia,fn(Q.J,Q.G,Ia))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-g.F,k.j.info("Handshake RTT: "+k.T+"ms")),Q=k;var Je=g;if(Q.na=We(Q,Q.L?Q.ba:null,Q.W),Je.L){wo(Q.h,Je);var Vt=Je,Yn=Q.O;Yn&&(Vt.H=Yn),Vt.D&&(qi(Vt),Ni(Vt)),Q.g=Je}else hl(Q);k.i.length>0&&Es(k)}else un[0]!="stop"&&un[0]!="close"||ve(k,7);else k.I==3&&(un[0]=="stop"||un[0]=="close"?un[0]=="stop"?ve(k,7):Na(k):un[0]!="noop"&&k.l&&k.l.qa(un),k.A=0)}}Ln(4)}catch{}}var fr=class{constructor(g,T){this.g=g,this.map=T}};function _o(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ii(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ss(g){return g.h?1:g.g?g.g.size:0}function bs(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Ga(g,T){g.g?g.g.add(T):g.h=T}function wo(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Ao(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const k of g.g.values())T=T.concat(k.G);return T}return _(g.i)}var sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(g,T){if(g){g=g.split("&");for(let k=0;k<g.length;k++){const Q=g[k].indexOf("=");let Ae,Re=null;Q>=0?(Ae=g[k].substring(0,Q),Re=g[k].substring(Q+1)):Ae=g[k],T(Ae,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}function Hi(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof Hi?(this.l=g.l,Sr(this,g.j),this.o=g.o,this.g=g.g,ua(this,g.u),this.h=g.h,_s(this,To(g.i)),this.m=g.m):g&&(T=String(g).match(sl))?(this.l=!1,Sr(this,T[1]||"",!0),this.o=Ci(T[2]||""),this.g=Ci(T[3]||"",!0),ua(this,T[4]),this.h=Ci(T[5]||"",!0),_s(this,T[6]||"",!0),this.m=Ci(T[7]||"")):(this.l=!1,this.i=new ca(null,this.l))}Hi.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(Gn(T,xo,!0),":");var k=this.g;return(k||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Gn(T,xo,!0),"@"),g.push(Xn(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&g.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&g.push("/"),g.push(Gn(k,k.charAt(0)=="/"?al:Kl,!0))),(k=this.i.toString())&&g.push("?",k),(k=this.m)&&g.push("#",Gn(k,ol)),g.join("")},Hi.prototype.resolve=function(g){const T=on(this);let k=!!g.j;k?Sr(T,g.j):k=!!g.o,k?T.o=g.o:k=!!g.g,k?T.g=g.g:k=g.u!=null;var Q=g.h;if(k)ua(T,g.u);else if(k=!!g.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var Ae=T.h.lastIndexOf("/");Ae!=-1&&(Q=T.h.slice(0,Ae+1)+Q)}if(Ae=Q,Ae==".."||Ae==".")Q="";else if(Ae.indexOf("./")!=-1||Ae.indexOf("/.")!=-1){Q=Ae.lastIndexOf("/",0)==0,Ae=Ae.split("/");const Re=[];for(let Je=0;Je<Ae.length;){const Vt=Ae[Je++];Vt=="."?Q&&Je==Ae.length&&Re.push(""):Vt==".."?((Re.length>1||Re.length==1&&Re[0]!="")&&Re.pop(),Q&&Je==Ae.length&&Re.push("")):(Re.push(Vt),Q=!0)}Q=Re.join("/")}else Q=Ae}return k?T.h=Q:k=g.i.toString()!=="",k?_s(T,To(g.i)):k=!!g.m,k&&(T.m=g.m),T};function on(g){return new Hi(g)}function Sr(g,T,k){g.j=k?Ci(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function ua(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function _s(g,T,k){T instanceof ca?(g.i=T,ws(g.i,g.l)):(k||(T=Gn(T,pi)),g.i=new ca(T,g.l))}function fn(g,T,k){g.i.set(T,k)}function di(g){return fn(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Ci(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Gn(g,T,k){return typeof g=="string"?(g=encodeURI(g).replace(T,ni),k&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function ni(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var xo=/[#\/\?@]/g,Kl=/[#\?:]/g,al=/[#\?]/g,pi=/[#\?@]/g,ol=/#/g;function ca(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function Tr(g){g.g||(g.g=new Map,g.h=0,g.i&&la(g.i,function(T,k){g.add(decodeURIComponent(T.replace(/\+/g," ")),k)}))}n=ca.prototype,n.add=function(g,T){Tr(this),this.i=null,g=as(this,g);let k=this.g.get(g);return k||this.g.set(g,k=[]),k.push(T),this.h+=1,this};function Eo(g,T){Tr(g),T=as(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function ll(g,T){return Tr(g),T=as(g,T),g.g.has(T)}n.forEach=function(g,T){Tr(this),this.g.forEach(function(k,Q){k.forEach(function(Ae){g.call(T,Ae,Q,this)},this)},this)};function ul(g,T){Tr(g);let k=[];if(typeof T=="string")ll(g,T)&&(k=k.concat(g.g.get(as(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)k=k.concat(g[T]);return k}n.set=function(g,T){return Tr(this),this.i=null,g=as(this,g),ll(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},n.get=function(g,T){return g?(g=ul(this,g),g.length>0?String(g[0]):T):T};function So(g,T,k){Eo(g,T),k.length>0&&(g.i=null,g.g.set(as(g,T),_(k)),g.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let Q=0;Q<T.length;Q++){var k=T[Q];const Ae=Xn(k);k=ul(this,k);for(let Re=0;Re<k.length;Re++){let Je=Ae;k[Re]!==""&&(Je+="="+Xn(k[Re])),g.push(Je)}}return this.i=g.join("&")};function To(g){const T=new ca;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function as(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function ws(g,T){T&&!g.j&&(Tr(g),g.i=null,g.g.forEach(function(k,Q){const Ae=Q.toLowerCase();Q!=Ae&&(Eo(this,Q),So(this,Ae,k))},g)),g.j=T}function As(g,T){const k=new ci;if(u.Image){const Q=new Image;Q.onload=v(Ri,k,"TestLoadImage: loaded",!0,T,Q),Q.onerror=v(Ri,k,"TestLoadImage: error",!1,T,Q),Q.onabort=v(Ri,k,"TestLoadImage: abort",!1,T,Q),Q.ontimeout=v(Ri,k,"TestLoadImage: timeout",!1,T,Q),u.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=g}else T(!1)}function ha(g,T){const k=new ci,Q=new AbortController,Ae=setTimeout(()=>{Q.abort(),Ri(k,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:Q.signal}).then(Re=>{clearTimeout(Ae),Re.ok?Ri(k,"TestPingServer: ok",!0,T):Ri(k,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(Ae),Ri(k,"TestPingServer: error",!1,T)})}function Ri(g,T,k,Q,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),Q(k)}catch{}}function Lt(){this.g=new Dt}function Ps(g){this.i=g.Sb||null,this.h=g.ab||!1}A(Ps,mt),Ps.prototype.g=function(){return new Ya(this.i,this.h)};function Ya(g,T){Ye.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ya,Ye),n=Ya.prototype,n.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,$r(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||u).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;No(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function No(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?Sa(this):$r(this),this.readyState==3&&No(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,Sa(this))},n.Na=function(g){this.g&&(this.response=g,Sa(this))},n.ga=function(){this.g&&Sa(this)};function Sa(g){g.readyState=4,g.l=null,g.j=null,g.B=null,$r(g)}n.setRequestHeader=function(g,T){this.A.append(g,T)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var k=T.next();!k.done;)k=k.value,g.push(k[0]+": "+k[1]),k=T.next();return g.join(`\r
`)};function $r(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Pr(g){let T="";return be(g,function(k,Q){T+=Q,T+=":",T+=k,T+=`\r
`}),T}function $a(g,T,k){e:{for(Q in k){var Q=!1;break e}Q=!0}Q||(k=Pr(k),typeof g=="string"?k!=null&&Xn(k):fn(g,T,k))}function kn(g){Ye.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(kn,Ye);var Gi=/^https?$/i,Ka=["POST","PUT"];n=kn.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,T,k,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Si.g(),this.g.onreadystatechange=S(d(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(Re){xs(this,Re);return}if(g=k||"",k=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var Ae in Q)k.set(Ae,Q[Ae]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Re of Q.keys())k.set(Re,Q.get(Re));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(k.keys()).find(Re=>Re.toLowerCase()=="content-type"),Ae=u.FormData&&g instanceof u.FormData,!(Array.prototype.indexOf.call(Ka,T,void 0)>=0)||Q||Ae||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,Je]of k)this.g.setRequestHeader(Re,Je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(Re){xs(this,Re)}};function xs(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,Ta(g),fa(g)}function Ta(g){g.A||(g.A=!0,it(g,"complete"),it(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,it(this,"complete"),it(this,"abort"),fa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fa(this,!0)),kn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ms(this):this.Xa())},n.Xa=function(){Ms(this)};function Ms(g){if(g.h&&typeof o<"u"){if(g.v&&Yi(g)==4)setTimeout(g.Ca.bind(g),0);else if(it(g,"readystatechange"),Yi(g)==4){g.h=!1;try{const Re=g.ca();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var k;if(!(k=T)){var Q;if(Q=Re===0){let Je=String(g.D).match(sl)[1]||null;!Je&&u.self&&u.self.location&&(Je=u.self.location.protocol.slice(0,-1)),Q=!Gi.test(Je?Je.toLowerCase():"")}k=Q}if(k)it(g,"complete"),it(g,"success");else{g.o=6;try{var Ae=Yi(g)>2?g.g.statusText:""}catch{Ae=""}g.l=Ae+" ["+g.ca()+"]",Ta(g)}}finally{fa(g)}}}}function fa(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const k=g.g;g.g=null,T||it(g,"ready");try{k.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Yi(g){return g.g?g.g.readyState:0}n.ca=function(){try{return Yi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),bt(T)}};function Nr(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(g){const T={};g=(g.g&&Yi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<g.length;Q++){if(P(g[Q]))continue;var k=kr(g[Q]);const Ae=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Re=T[Ae]||[];T[Ae]=Re,Re.push(k)}Fe(T,function(Q){return Q.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(g,T,k){return k&&k.internalChannelParams&&k.internalChannelParams[g]||T}function js(g){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,g),this.Za=Li("retryDelaySeedMs",1e4,g),this.Ta=Li("forwardChannelMaxRetries",2,g),this.va=Li("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(g&&g.concurrentRequestLimit),this.Ba=new Lt,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=js.prototype,n.ka=8,n.I=1,n.connect=function(g,T,k,Q){Ht(0),this.W=g,this.H=T||{},k&&Q!==void 0&&(this.H.OSID=k,this.H.OAID=Q),this.F=this.X,this.J=We(this,null,this.W),Es(this)};function Na(g){if(Vs(g),g.I==3){var T=g.V++,k=on(g.J);if(fn(k,"SID",g.M),fn(k,"RID",T),fn(k,"TYPE","terminate"),Ki(g,k),T=new hi(g,g.j,T),T.M=2,T.A=di(on(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(T.A.toString(),"")}catch{}!k&&u.Image&&(new Image().src=T.A,k=!0),k||(T.g=lt(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Ni(T)}Ve(g)}function Us(g){g.g&&(Io(g),g.g.cancel(),g.g=null)}function Vs(g){Us(g),g.v&&(u.clearTimeout(g.v),g.v=null),U(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&u.clearTimeout(g.m),g.m=null)}function Es(g){if(!Ii(g.h)&&!g.m){g.m=!0;var T=g.Ea;we||E(),ke||(we(),ke=!0),Y.add(T,g),g.D=0}}function Wa(g,T){return ss(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=an(d(g.Ea,g,T),fe(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Ae=new hi(this,this.j,g);let Re=this.o;if(this.U&&(Re?(Re=J(Re),K(Re,this.U)):Re=this.U),this.u!==null||this.R||(Ae.J=Re,Re=null),this.S)e:{for(var T=0,k=0;k<this.i.length;k++){t:{var Q=this.i[k];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(T+=Q,T>4096){T=k;break e}if(T===4096||k===this.i.length-1){T=k+1;break e}}T=1e3}else T=1e3;T=cl(this,Ae,T),k=on(this.J),fn(k,"RID",g),fn(k,"CVER",22),this.G&&fn(k,"X-HTTP-Session-Id",this.G),Ki(this,k),Re&&(this.R?T="headers="+Xn(Pr(Re))+"&"+T:this.u&&$a(k,this.u,Re)),Ga(this.h,Ae),this.Ra&&fn(k,"TYPE","init"),this.S?(fn(k,"$req",T),fn(k,"SID","null"),Ae.U=!0,Or(Ae,k,null)):Or(Ae,k,T),this.I=2}}else this.I==3&&(g?Ss(this,g):this.i.length==0||Ii(this.h)||Ss(this))};function Ss(g,T){var k;T?k=T.l:k=g.V++;const Q=on(g.J);fn(Q,"SID",g.M),fn(Q,"RID",k),fn(Q,"AID",g.K),Ki(g,Q),g.u&&g.o&&$a(Q,g.u,g.o),k=new hi(g,g.j,k,g.D+1),g.u===null&&(k.J=g.o),T&&(g.i=T.G.concat(g.i)),T=cl(g,k,1e3),k.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Ga(g.h,k),Or(k,Q,T)}function Ki(g,T){g.H&&be(g.H,function(k,Q){fn(T,Q,k)}),g.l&&be({},function(k,Q){fn(T,Q,k)})}function cl(g,T,k){k=Math.min(g.i.length,k);const Q=g.l?d(g.l.Ka,g.l,g):null;e:{var Ae=g.i;let Vt=-1;for(;;){const Yn=["count="+k];Vt==-1?k>0?(Vt=Ae[0].g,Yn.push("ofs="+Vt)):Vt=0:Yn.push("ofs="+Vt);let un=!0;for(let On=0;On<k;On++){var Re=Ae[On].g;const ri=Ae[On].map;if(Re-=Vt,Re<0)Vt=Math.max(0,Ae[On].g-100),un=!1;else try{Re="req"+Re+"_"||"";try{var Je=ri instanceof Map?ri:Object.entries(ri);for(const[Di,Zn]of Je){let gi=Zn;h(Zn)&&(gi=Pt(Zn)),Yn.push(Re+Di+"="+encodeURIComponent(gi))}}catch(Di){throw Yn.push(Re+"type="+encodeURIComponent("_badmap")),Di}}catch{Q&&Q(ri)}}if(un){Je=Yn.join("&");break e}}Je=void 0}return g=g.i.splice(0,k),T.G=g,Je}function hl(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;we||E(),ke||(we(),ke=!0),Y.add(T,g),g.A=0}}function Ts(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=an(d(g.Da,g),fe(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,w(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=an(d(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),Us(this),w(this))};function Io(g){g.B!=null&&(u.clearTimeout(g.B),g.B=null)}function w(g){g.g=new hi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=on(g.na);fn(T,"RID","rpc"),fn(T,"SID",g.M),fn(T,"AID",g.K),fn(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&fn(T,"TO",g.ia),fn(T,"TYPE","xmlhttp"),Ki(g,T),g.u&&g.o&&$a(T,g.u,g.o),g.O&&(g.g.H=g.O);var k=g.g;g=g.ba,k.M=1,k.A=di(on(T)),k.u=null,k.R=!0,Ti(k,g)}n.Va=function(){this.C!=null&&(this.C=null,Us(this),Ts(this),Ht(19))};function U(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function ne(g,T){var k=null;if(g.g==T){U(g),Io(g),g.g=null;var Q=2}else if(bs(g.h,T))k=T.G,wo(g.h,T),Q=1;else return;if(g.I!=0){if(T.o)if(Q==1){k=T.u?T.u.length:0,T=Date.now()-T.F;var Ae=g.D;Q=sn(),it(Q,new St(Q,k)),Es(g)}else hl(g);else if(Ae=T.m,Ae==3||Ae==0&&T.X>0||!(Q==1&&Wa(g,T)||Q==2&&Ts(g)))switch(k&&k.length>0&&(T=g.h,T.i=T.i.concat(k)),Ae){case 1:ve(g,5);break;case 4:ve(g,10);break;case 3:ve(g,6);break;default:ve(g,2)}}}function fe(g,T){let k=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(k*=2),k*T}function ve(g,T){if(g.j.info("Error code "+T),T==2){var k=d(g.bb,g),Q=g.Ua;const Ae=!Q;Q=new Hi(Q||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Sr(Q,"https"),di(Q),Ae?As(Q.toString(),k):ha(Q.toString(),k)}else Ht(2);g.I=0,g.l&&g.l.pa(T),Ve(g),Vs(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Ve(g){if(g.I=0,g.ja=[],g.l){const T=Ao(g.h);(T.length!=0||g.i.length!=0)&&(M(g.ja,T),M(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function We(g,T,k){var Q=k instanceof Hi?on(k):new Hi(k);if(Q.g!="")T&&(Q.g=T+"."+Q.g),ua(Q,Q.u);else{var Ae=u.location;Q=Ae.protocol,T=T?T+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;const Re=new Hi(null);Q&&Sr(Re,Q),T&&(Re.g=T),Ae&&ua(Re,Ae),k&&(Re.h=k),Q=Re}return k=g.G,T=g.wa,k&&T&&fn(Q,k,T),fn(Q,"VER",g.ka),Ki(g,Q),Q}function lt(g,T,k){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new kn(new Ps({ab:k})):new kn(g.ma),T.Fa(g.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ft(){}n=ft.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function It(){}It.prototype.g=function(g,T){return new yt(g,T)};function yt(g,T){Ye.call(this),this.g=new js(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!P(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!P(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new qn(this)}A(yt,Ye),yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){Na(this.g)},yt.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var k={};k.__data__=g,g=k}else this.v&&(k={},k.__data__=Pt(g),g=k);T.i.push(new fr(T.Ya++,g)),T.I==3&&Es(T)},yt.prototype.N=function(){this.g.l=null,delete this.j,Na(this.g),delete this.g,yt.Z.N.call(this)};function mn(g){st.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const k in T){g=k;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}A(mn,st);function Jn(){Et.call(this),this.status=1}A(Jn,Et);function qn(g){this.g=g}A(qn,ft),qn.prototype.ra=function(){it(this.g,"a")},qn.prototype.qa=function(g){it(this.g,new mn(g))},qn.prototype.pa=function(g){it(this.g,new Jn)},qn.prototype.oa=function(){it(this.g,"b")},It.prototype.createWebChannel=It.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,O4=function(){return new It},k4=function(){return sn()},D4=Ut,p1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Fp=Bi,Ei.COMPLETE="complete",L4=Ei,jn.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",Ye.prototype.listen=Ye.prototype.J,Vf=jn,kn.prototype.listenOnce=kn.prototype.K,kn.prototype.getLastError=kn.prototype.Ha,kn.prototype.getLastErrorCode=kn.prototype.ya,kn.prototype.getStatus=kn.prototype.ca,kn.prototype.getResponseJson=kn.prototype.La,kn.prototype.getResponseText=kn.prototype.la,kn.prototype.send=kn.prototype.ea,kn.prototype.setWithCredentials=kn.prototype.Fa,R4=kn}).apply(typeof bp<"u"?bp:typeof self<"u"?self:typeof window<"u"?window:{});const lb="@firebase/firestore",ub="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gs.UNAUTHENTICATED=new gs(null),gs.GOOGLE_CREDENTIALS=new gs("google-credentials-uid"),gs.FIRST_PARTY=new gs("first-party-uid"),gs.MOCK_USER=new gs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Y1("@firebase/firestore");function bh(){return Ec.logLevel}function ut(n,...e){if(Ec.logLevel<=bn.DEBUG){const t=e.map(s2);Ec.debug(`Firestore (${Hh}): ${n}`,...t)}}function zl(n,...e){if(Ec.logLevel<=bn.ERROR){const t=e.map(s2);Ec.error(`Firestore (${Hh}): ${n}`,...t)}}function Mh(n,...e){if(Ec.logLevel<=bn.WARN){const t=e.map(s2);Ec.warn(`Firestore (${Hh}): ${n}`,...t)}}function s2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,P4(n,r,t)}function P4(n,e,t){let r=`FIRESTORE (${Hh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zl(r),new Error(r)}function zn(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||P4(e,a,r)}function tn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends nl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(gs.UNAUTHENTICATED)))}shutdown(){}}class KN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class WN{constructor(e){this.t=e,this.currentUser=gs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){zn(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Fl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fl,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fl)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zn(typeof r.accessToken=="string",31837,{l:r}),new M4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zn(e===null||typeof e=="string",2055,{h:e}),new gs(e)}}class QN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=gs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new QN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(gs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ks(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){zn(this.o===void 0,3512);const r=o=>{o.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ut("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(zn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new cb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=ZN(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function _n(n,e){return n<e?-1:n>e?1:0}function g1(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return T0(a)===T0(o)?_n(a,o):T0(a)?1:-1}return _n(n.length,e.length)}const eI=55296,tI=57343;function T0(n){const e=n.charCodeAt(0);return e>=eI&&e<=tI}function jh(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="__name__";class Go{constructor(e,t,r){t===void 0?t=0:t>e.length&&Bt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Bt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Go.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Go.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return _n(e.length,t.length)}static compareSegments(e,t){const r=Go.isNumericId(e),a=Go.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Go.extractNumericId(e).compare(Go.extractNumericId(t)):g1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ku.fromString(e.substring(4,e.length-2))}}class cr extends Go{construct(e,t,r){return new cr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new rt(qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new cr(t)}static emptyPath(){return new cr([])}}const nI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends Go{construct(e,t,r){return new ts(e,t,r)}static isValidIdentifier(e){return nI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hb}static keyField(){return new ts([hb])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new rt(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new rt(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new rt(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new rt(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(t)}static emptyPath(){return new ts([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.path=e}static fromPath(e){return new xt(cr.fromString(e))}static fromName(e){return new xt(cr.fromString(e).popFirst(5))}static empty(){return new xt(cr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&cr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return cr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xt(new cr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(n,e,t){if(!t)throw new rt(qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rI(n,e,t,r){if(e===!0&&r===!0)throw new rt(qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fb(n){if(!xt.isDocumentKey(n))throw new rt(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function db(n){if(xt.isDocumentKey(n))throw new rt(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function U4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Rg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Bt(12329,{type:typeof n})}function ia(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new rt(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rg(n);throw new rt(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function iI(n,e){if(e<=0)throw new rt(qe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(n,e){const t={typeString:n};return e&&(t.value=e),t}function md(n,e){if(!U4(n))throw new rt(qe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new rt(qe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=-62135596800,gb=1e6;class yr{static now(){return yr.fromMillis(Date.now())}static fromDate(e){return yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*gb);return new yr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pb)throw new rt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gb}_compareTo(e){return this.seconds===e.seconds?_n(this.nanoseconds,e.nanoseconds):_n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(md(e,yr._jsonSchema))return new yr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yr._jsonSchemaVersion="firestore/timestamp/1.0",yr._jsonSchema={type:ui("string",yr._jsonSchemaVersion),seconds:ui("number"),nanoseconds:ui("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{static fromTimestamp(e){return new Qt(e)}static min(){return new Qt(new yr(0,0))}static max(){return new Qt(new yr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=-1;function sI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Qt.fromTimestamp(r===1e9?new yr(t+1,0):new yr(t,r));return new Mu(a,xt.empty(),e)}function aI(n){return new Mu(n.readTime,n.key,ed)}class Mu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Mu(Qt.min(),xt.empty(),ed)}static max(){return new Mu(Qt.max(),xt.empty(),ed)}}function oI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xt.comparator(n.documentKey,e.documentKey),t!==0?t:_n(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(n){if(n.code!==qe.FAILED_PRECONDITION||n.message!==lI)throw n;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ke.reject(t)}static resolve(e){return new Ke(((t,r)=>{t(e)}))}static reject(e){return new Ke(((t,r)=>{r(e)}))}static waitFor(e){return new Ke(((t,r)=>{let a=0,o=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&t()}),(f=>r(f)))})),u=!0,o===a&&t()}))}static or(e){let t=Ke.resolve(!1);for(const r of e)t=t.next((a=>a?Ke.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new Ke(((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((v=>{u[d]=v,++h,h===o&&r(u)}),(v=>a(v)))}}))}static doWhile(e,t){return new Ke(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}function cI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=-1;function Dg(n){return n==null}function lg(n){return n===0&&1/n==-1/0}function hI(n){return typeof n=="number"&&Number.isInteger(n)&&!lg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="";function fI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mb(e)),e=dI(n.get(t),e);return mb(e)}function dI(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case V4:t+="";break;default:t+=o}}return t}function mb(n){return n+V4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function F4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,t){this.comparator=e,this.root=t||es.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,es.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _p(this.root,e,this.comparator,!1)}getReverseIterator(){return new _p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _p(this.root,e,this.comparator,!0)}}class _p{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class es{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??es.RED,this.left=a??es.EMPTY,this.right=o??es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new es(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return es.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Bt(27949);return e+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1;es.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new es(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vb(this.data.getIterator())}getIteratorFrom(e){return new vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof xi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xi(this.comparator);return t.data=e,t}}class vb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.fields=e,e.sort(ts.comparator)}static empty(){return new wa([])}unionWith(e){let t=new xi(ts.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new B4("Invalid base64 string: "+o):o}})(e);return new ns(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new ns(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ns.EMPTY_BYTE_STRING=new ns("");const pI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ju(n){if(zn(!!n,39018),typeof n=="string"){let e=0;const t=pI.exec(n);if(zn(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qr(n.seconds),nanos:Qr(n.nanos)}}function Qr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Uu(n){return typeof n=="string"?ns.fromBase64String(n):ns.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="server_timestamp",z4="__type__",H4="__previous_value__",G4="__local_write_time__";function kg(n){return(n?.mapValue?.fields||{})[z4]?.stringValue===q4}function Og(n){const e=n.mapValue.fields[H4];return kg(e)?Og(e):e}function td(n){const e=ju(n.mapValue.fields[G4].timestampValue);return new yr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,t,r,a,o,u,h,f,d,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=v}}const ug="(default)";class nd{constructor(e,t){this.projectId=e,this.database=t||ug}static empty(){return new nd("","")}get isDefaultDatabase(){return this.database===ug}isEqual(e){return e instanceof nd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="__type__",mI="__max__",wp={mapValue:{}},$4="__vector__",cg="value";function Vu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kg(n)?4:vI(n)?9007199254740991:yI(n)?10:11:Bt(28295,{value:n})}function tl(n,e){if(n===e)return!0;const t=Vu(n);if(t!==Vu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return td(n).isEqual(td(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=ju(a.timestampValue),h=ju(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Uu(a.bytesValue).isEqual(Uu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return Qr(a.geoPointValue.latitude)===Qr(o.geoPointValue.latitude)&&Qr(a.geoPointValue.longitude)===Qr(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Qr(a.integerValue)===Qr(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Qr(a.doubleValue),h=Qr(o.doubleValue);return u===h?lg(u)===lg(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return jh(n.arrayValue.values||[],e.arrayValue.values||[],tl);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(yb(u)!==yb(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!tl(u[f],h[f])))return!1;return!0})(n,e);default:return Bt(52216,{left:n})}}function rd(n,e){return(n.values||[]).find((t=>tl(t,e)))!==void 0}function Uh(n,e){if(n===e)return 0;const t=Vu(n),r=Vu(e);if(t!==r)return _n(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _n(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Qr(o.integerValue||o.doubleValue),f=Qr(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return bb(n.timestampValue,e.timestampValue);case 4:return bb(td(n),td(e));case 5:return g1(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=Uu(o),f=Uu(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const v=_n(h[d],f[d]);if(v!==0)return v}return _n(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=_n(Qr(o.latitude),Qr(u.latitude));return h!==0?h:_n(Qr(o.longitude),Qr(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return _b(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},f=u.fields||{},d=h[cg]?.arrayValue,v=f[cg]?.arrayValue,A=_n(d?.values?.length||0,v?.values?.length||0);return A!==0?A:_b(d,v)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===wp.mapValue&&u===wp.mapValue)return 0;if(o===wp.mapValue)return 1;if(u===wp.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},v=Object.keys(d);f.sort(),v.sort();for(let A=0;A<f.length&&A<v.length;++A){const S=g1(f[A],v[A]);if(S!==0)return S;const _=Uh(h[f[A]],d[v[A]]);if(_!==0)return _}return _n(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Bt(23264,{he:t})}}function bb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _n(n,e);const t=ju(n),r=ju(e),a=_n(t.seconds,r.seconds);return a!==0?a:_n(t.nanos,r.nanos)}function _b(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=Uh(t[a],r[a]);if(o)return o}return _n(t.length,r.length)}function Vh(n){return m1(n)}function m1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ju(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Uu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return xt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=m1(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${m1(t.fields[u])}`;return a+"}"})(n.mapValue):Bt(61005,{value:n})}function Bp(n){switch(Vu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Og(n);return e?16+Bp(e):16;case 5:return 2*n.stringValue.length;case 6:return Uu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Bp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Hu(r.fields,((o,u)=>{a+=o.length+Bp(u)})),a})(n.mapValue);default:throw Bt(13486,{value:n})}}function hg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function y1(n){return!!n&&"integerValue"in n}function l2(n){return!!n&&"arrayValue"in n}function wb(n){return!!n&&"nullValue"in n}function Ab(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qp(n){return!!n&&"mapValue"in n}function yI(n){return(n?.mapValue?.fields||{})[Y4]?.stringValue===$4}function Gf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Hu(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Gf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gf(n.arrayValue.values[t]);return e}return{...n}}function vI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.value=e}static empty(){return new ra({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gf(t)}setAll(e){let t=ts.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=h.popLast()}u?r[h.lastSegment()]=Gf(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());qp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];qp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Hu(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new ra(Gf(this.value))}}function K4(n){const e=[];return Hu(n.fields,((t,r)=>{const a=new ts([t]);if(qp(r)){const o=K4(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new wa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t,r,a,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new ms(e,0,Qt.min(),Qt.min(),Qt.min(),ra.empty(),0)}static newFoundDocument(e,t,r,a){return new ms(e,1,t,Qt.min(),r,a,0)}static newNoDocument(e,t){return new ms(e,2,t,Qt.min(),Qt.min(),ra.empty(),0)}static newUnknownDocument(e,t){return new ms(e,3,t,Qt.min(),Qt.min(),ra.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ra.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ra.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ms&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ms(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.position=e,this.inclusive=t}}function xb(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=xt.comparator(xt.fromName(u.referenceValue),t.key):r=Uh(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Eb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!tl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t="asc"){this.field=e,this.dir=t}}function bI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{}class li extends W4{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new wI(e,t,r):t==="array-contains"?new EI(e,r):t==="in"?new SI(e,r):t==="not-in"?new TI(e,r):t==="array-contains-any"?new NI(e,r):new li(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new AI(e,r):new xI(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Uh(t,this.value)):t!==null&&Vu(this.value)===Vu(t)&&this.matchesComparison(Uh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class go extends W4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new go(e,t)}matches(e){return Q4(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Q4(n){return n.op==="and"}function X4(n){return _I(n)&&Q4(n)}function _I(n){for(const e of n.filters)if(e instanceof go)return!1;return!0}function v1(n){if(n instanceof li)return n.field.canonicalString()+n.op.toString()+Vh(n.value);if(X4(n))return n.filters.map((e=>v1(e))).join(",");{const e=n.filters.map((t=>v1(t))).join(",");return`${n.op}(${e})`}}function J4(n,e){return n instanceof li?(function(r,a){return a instanceof li&&r.op===a.op&&r.field.isEqual(a.field)&&tl(r.value,a.value)})(n,e):n instanceof go?(function(r,a){return a instanceof go&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,h)=>o&&J4(u,a.filters[h])),!0):!1})(n,e):void Bt(19439)}function Z4(n){return n instanceof li?(function(t){return`${t.field.canonicalString()} ${t.op} ${Vh(t.value)}`})(n):n instanceof go?(function(t){return t.op.toString()+" {"+t.getFilters().map(Z4).join(" ,")+"}"})(n):"Filter"}class wI extends li{constructor(e,t,r){super(e,t,r),this.key=xt.fromName(r.referenceValue)}matches(e){const t=xt.comparator(e.key,this.key);return this.matchesComparison(t)}}class AI extends li{constructor(e,t){super(e,"in",t),this.keys=e3("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class xI extends li{constructor(e,t){super(e,"not-in",t),this.keys=e3("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function e3(n,e){return(e.arrayValue?.values||[]).map((t=>xt.fromName(t.referenceValue)))}class EI extends li{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return l2(t)&&rd(t.arrayValue,this.value)}}class SI extends li{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rd(this.value.arrayValue,t)}}class TI extends li{constructor(e,t){super(e,"not-in",t)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!rd(this.value.arrayValue,t)}}class NI extends li{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!l2(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>rd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function Sb(n,e=null,t=[],r=[],a=null,o=null,u=null){return new II(n,e,t,r,a,o,u)}function u2(n){const e=tn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>v1(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Dg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Vh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Vh(r))).join(",")),e.Te=t}return e.Te}function c2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!J4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Eb(n.startAt,e.startAt)&&Eb(n.endAt,e.endAt)}function b1(n){return xt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t=null,r=[],a=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CI(n,e,t,r,a,o,u,h){return new Rc(n,e,t,r,a,o,u,h)}function Pg(n){return new Rc(n)}function Tb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function h2(n){return n.collectionGroup!==null}function Rh(n){const e=tn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new xi(ts.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new id(o,r))})),t.has(ts.keyField().canonicalString())||e.Ie.push(new id(ts.keyField(),r))}return e.Ie}function Xo(n){const e=tn(n);return e.Ee||(e.Ee=RI(e,Rh(n))),e.Ee}function RI(n,e){if(n.limitType==="F")return Sb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new id(a.field,o)}));const t=n.endAt?new Fh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Fh(n.startAt.position,n.startAt.inclusive):null;return Sb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _1(n,e){const t=n.filters.concat([e]);return new Rc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function fg(n,e,t){return new Rc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mg(n,e){return c2(Xo(n),Xo(e))&&n.limitType===e.limitType}function t3(n){return`${u2(Xo(n))}|lt:${n.limitType}`}function _h(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>Z4(a))).join(", ")}]`),Dg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Vh(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Vh(a))).join(",")),`Target(${r})`})(Xo(n))}; limitType=${n.limitType})`}function jg(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):xt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of Rh(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,f){const d=xb(u,h,f);return u.inclusive?d<=0:d<0})(r.startAt,Rh(r),a)||r.endAt&&!(function(u,h,f){const d=xb(u,h,f);return u.inclusive?d>=0:d>0})(r.endAt,Rh(r),a))})(n,e)}function LI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function n3(n){return(e,t)=>{let r=!1;for(const a of Rh(n)){const o=DI(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function DI(n,e,t){const r=n.field.isKeyField()?xt.comparator(e.key,t.key):(function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?Uh(f,d):Bt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Bt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Hu(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return F4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new Dr(xt.comparator);function Hl(){return kI}const r3=new Dr(xt.comparator);function Ff(...n){let e=r3;for(const t of n)e=e.insert(t.key,t);return e}function i3(n){let e=r3;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function dc(){return Yf()}function s3(){return Yf()}function Yf(){return new Lc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const OI=new Dr(xt.comparator),PI=new xi(xt.comparator);function wn(...n){let e=PI;for(const t of n)e=e.add(t);return e}const MI=new xi(_n);function jI(){return MI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lg(e)?"-0":e}}function a3(n){return{integerValue:""+n}}function UI(n,e){return hI(e)?a3(e):f2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this._=void 0}}function VI(n,e,t){return n instanceof sd?(function(a,o){const u={fields:{[z4]:{stringValue:q4},[G4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&kg(o)&&(o=Og(o)),o&&(u.fields[H4]=o),{mapValue:u}})(t,e):n instanceof ad?l3(n,e):n instanceof od?u3(n,e):(function(a,o){const u=o3(a,o),h=Nb(u)+Nb(a.Ae);return y1(u)&&y1(a.Ae)?a3(h):f2(a.serializer,h)})(n,e)}function FI(n,e,t){return n instanceof ad?l3(n,e):n instanceof od?u3(n,e):t}function o3(n,e){return n instanceof dg?(function(r){return y1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class sd extends Ug{}class ad extends Ug{constructor(e){super(),this.elements=e}}function l3(n,e){const t=c3(e);for(const r of n.elements)t.some((a=>tl(a,r)))||t.push(r);return{arrayValue:{values:t}}}class od extends Ug{constructor(e){super(),this.elements=e}}function u3(n,e){let t=c3(e);for(const r of n.elements)t=t.filter((a=>!tl(a,r)));return{arrayValue:{values:t}}}class dg extends Ug{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Nb(n){return Qr(n.integerValue||n.doubleValue)}function c3(n){return l2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t){this.field=e,this.transform=t}}function qI(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof ad&&a instanceof ad||r instanceof od&&a instanceof od?jh(r.elements,a.elements,tl):r instanceof dg&&a instanceof dg?tl(r.Ae,a.Ae):r instanceof sd&&a instanceof sd})(n.transform,e.transform)}class zI{constructor(e,t){this.version=e,this.transformResults=t}}class qa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qa}static exists(e){return new qa(void 0,e)}static updateTime(e){return new qa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vg{}function h3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new d2(n.key,qa.none()):new yd(n.key,n.data,qa.none());{const t=n.data,r=ra.empty();let a=new xi(ts.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Gu(n.key,r,new wa(a.toArray()),qa.none())}}function HI(n,e,t){n instanceof yd?(function(a,o,u){const h=a.value.clone(),f=Cb(a.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Gu?(function(a,o,u){if(!zp(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Cb(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(f3(a)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function $f(n,e,t,r){return n instanceof yd?(function(o,u,h,f){if(!zp(o.precondition,u))return h;const d=o.value.clone(),v=Rb(o.fieldTransforms,f,u);return d.setAll(v),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Gu?(function(o,u,h,f){if(!zp(o.precondition,u))return h;const d=Rb(o.fieldTransforms,f,u),v=u.data;return v.setAll(f3(o)),v.setAll(d),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((A=>A.field)))})(n,e,t,r):(function(o,u,h){return zp(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function GI(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=o3(r.transform,a||null);o!=null&&(t===null&&(t=ra.empty()),t.set(r.field,o))}return t||null}function Ib(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&jh(r,a,((o,u)=>qI(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yd extends Vg{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Gu extends Vg{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function f3(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Cb(n,e,t){const r=new Map;zn(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,FI(u,h,t[a]))}return r}function Rb(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,VI(o,u,e))}return r}class d2 extends Vg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YI extends Vg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&HI(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=$f(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=$f(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=s3();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(a.key)?null:h;const f=h3(u,h);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Qt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),wn())}isEqual(e){return this.batchId===e.batchId&&jh(this.mutations,e.mutations,((t,r)=>Ib(t,r)))&&jh(this.baseMutations,e.baseMutations,((t,r)=>Ib(t,r)))}}class p2{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){zn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return OI})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new p2(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi,In;function QI(n){switch(n){case qe.OK:return Bt(64938);case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0;default:return Bt(15467,{code:n})}}function d3(n){if(n===void 0)return zl("GRPC error has no .code"),qe.UNKNOWN;switch(n){case oi.OK:return qe.OK;case oi.CANCELLED:return qe.CANCELLED;case oi.UNKNOWN:return qe.UNKNOWN;case oi.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case oi.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case oi.INTERNAL:return qe.INTERNAL;case oi.UNAVAILABLE:return qe.UNAVAILABLE;case oi.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case oi.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case oi.NOT_FOUND:return qe.NOT_FOUND;case oi.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case oi.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case oi.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case oi.ABORTED:return qe.ABORTED;case oi.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case oi.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case oi.DATA_LOSS:return qe.DATA_LOSS;default:return Bt(39323,{code:n})}}(In=oi||(oi={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new ku([4294967295,4294967295],0);function Lb(n){const e=XI().encode(n),t=new C4;return t.update(e),new Uint8Array(t.digest())}function Db(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ku([t,r],0),new ku([a,o],0)]}class g2{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bf(`Invalid padding: ${t}`);if(r<0)throw new Bf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ku.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(ku.fromNumber(r)));return a.compare(JI)===1&&(a=new ku([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Lb(e),[r,a]=Db(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new g2(o,a,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=Lb(e),[r,a]=Db(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Bf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,vd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Fg(Qt.min(),a,new Dr(_n),Hl(),wn())}}class vd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vd(r,t,wn(),wn(),wn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class p3{constructor(e,t){this.targetId=e,this.Ce=t}}class g3{constructor(e,t,r=ns.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class kb{constructor(){this.ve=0,this.Fe=Ob(),this.Me=ns.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=wn(),t=wn(),r=wn();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Bt(38017,{changeType:o})}})),new vd(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Ob()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,zn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hl(),this.Je=Ap(),this.He=Ap(),this.Ye=new Dr(_n)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Bt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(b1(o))if(r===0){const u=new xt(o.path);this.et(t,u,ms.newNoDocument(u,Qt.min()))}else zn(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,h;try{u=Uu(r).toUint8Array()}catch(f){if(f instanceof B4)return Mh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new g2(u,a,o)}catch(f){return Mh(f instanceof Bf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&b1(h.target)){const f=new xt(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,ms.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let r=wn();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Fg(e,t,this.Ye,this.je,r);return this.je=Hl(),this.Je=Ap(),this.He=Ap(),this.Ye=new Dr(_n),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new kb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new xi(_n),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new xi(_n),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ut("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ap(){return new Dr(xt.comparator)}function Ob(){return new Dr(xt.comparator)}const e8={asc:"ASCENDING",desc:"DESCENDING"},t8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n8={and:"AND",or:"OR"};class r8{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function w1(n,e){return n.useProto3Json||Dg(e)?e:{value:e}}function pg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function i8(n,e){return pg(n,e.toTimestamp())}function Jo(n){return zn(!!n,49232),Qt.fromTimestamp((function(t){const r=ju(t);return new yr(r.seconds,r.nanos)})(n))}function m2(n,e){return A1(n,e).canonicalString()}function A1(n,e){const t=(function(a){return new cr(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function y3(n){const e=cr.fromString(n);return zn(A3(e),10190,{key:e.toString()}),e}function x1(n,e){return m2(n.databaseId,e.path)}function N0(n,e){const t=y3(e);if(t.get(1)!==n.databaseId.projectId)throw new rt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new rt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xt(b3(t))}function v3(n,e){return m2(n.databaseId,e)}function s8(n){const e=y3(n);return e.length===4?cr.emptyPath():b3(e)}function E1(n){return new cr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function b3(n){return zn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Pb(n,e,t){return{name:x1(n,e),fields:t.value.mapValue.fields}}function a8(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Bt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(d,v){return d.useProto3Json?(zn(v===void 0||typeof v=="string",58123),ns.fromBase64String(v||"")):(zn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ns.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(d){const v=d.code===void 0?qe.UNKNOWN:d3(d.code);return new rt(v,d.message||"")})(u);t=new g3(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=N0(n,r.document.name),o=Jo(r.document.updateTime),u=r.document.createTime?Jo(r.document.createTime):Qt.min(),h=new ra({mapValue:{fields:r.document.fields}}),f=ms.newFoundDocument(a,o,u,h),d=r.targetIds||[],v=r.removedTargetIds||[];t=new Hp(d,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=N0(n,r.document),o=r.readTime?Jo(r.readTime):Qt.min(),u=ms.newNoDocument(a,o),h=r.removedTargetIds||[];t=new Hp([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=N0(n,r.document),o=r.removedTargetIds||[];t=new Hp([],o,a,null)}else{if(!("filter"in e))return Bt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new WI(a,o),h=r.targetId;t=new p3(h,u)}}return t}function o8(n,e){let t;if(e instanceof yd)t={update:Pb(n,e.key,e.value)};else if(e instanceof d2)t={delete:x1(n,e.key)};else if(e instanceof Gu)t={update:Pb(n,e.key,e.data),updateMask:m8(e.fieldMask)};else{if(!(e instanceof YI))return Bt(16599,{Vt:e.type});t={verify:x1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof sd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ad)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof od)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dg)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Bt(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:i8(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Bt(27497)})(n,e.precondition)),t}function l8(n,e){return n&&n.length>0?(zn(e!==void 0,14353),n.map((t=>(function(a,o){let u=a.updateTime?Jo(a.updateTime):Jo(o);return u.isEqual(Qt.min())&&(u=Jo(o)),new zI(u,a.transformResults||[])})(t,e)))):[]}function u8(n,e){return{documents:[v3(n,e.path)]}}function c8(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=v3(n,a);const o=(function(d){if(d.length!==0)return w3(go.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((v=>(function(S){return{field:wh(S.field),direction:d8(S.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=w1(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:a}}function h8(n){let e=s8(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){zn(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=(function(A){const S=_3(A);return S instanceof go&&X4(S)?S.getFilters():[S]})(t.where));let u=[];t.orderBy&&(u=(function(A){return A.map((S=>(function(M){return new id(Ah(M.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(t.orderBy));let h=null;t.limit&&(h=(function(A){let S;return S=typeof A=="object"?A.value:A,Dg(S)?null:S})(t.limit));let f=null;t.startAt&&(f=(function(A){const S=!!A.before,_=A.values||[];return new Fh(_,S)})(t.startAt));let d=null;return t.endAt&&(d=(function(A){const S=!A.before,_=A.values||[];return new Fh(_,S)})(t.endAt)),CI(e,a,u,o,h,"F",f,d)}function f8(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _3(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ah(t.unaryFilter.field);return li.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ah(t.unaryFilter.field);return li.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ah(t.unaryFilter.field);return li.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ah(t.unaryFilter.field);return li.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return li.create(Ah(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return go.create(t.compositeFilter.filters.map((r=>_3(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}})(t.compositeFilter.op))})(n):Bt(30097,{filter:n})}function d8(n){return e8[n]}function p8(n){return t8[n]}function g8(n){return n8[n]}function wh(n){return{fieldPath:n.canonicalString()}}function Ah(n){return ts.fromServerFormat(n.fieldPath)}function w3(n){return n instanceof li?(function(t){if(t.op==="=="){if(Ab(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NAN"}};if(wb(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ab(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NOT_NAN"}};if(wb(t.value))return{unaryFilter:{field:wh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wh(t.field),op:p8(t.op),value:t.value}}})(n):n instanceof go?(function(t){const r=t.getFilters().map((a=>w3(a)));return r.length===1?r[0]:{compositeFilter:{op:g8(t.op),filters:r}}})(n):Bt(54877,{filter:n})}function m8(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function A3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t,r,a,o=Qt.min(),u=Qt.min(),h=ns.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e){this.yt=e}}function v8(n){const e=h8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(){this.Cn=new _8}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(Mu.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(Mu.min())}updateCollectionGroup(e,t,r){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class _8{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new xi(cr.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new xi(cr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x3=41943040;class na{static withCacheSize(e){return new na(e,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na.DEFAULT_COLLECTION_PERCENTILE=10,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,na.DEFAULT=new na(x3,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),na.DISABLED=new na(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bh(0)}static cr(){return new Bh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="LruGarbageCollector",w8=1048576;function Ub([n,e],[t,r]){const a=_n(n,t);return a===0?_n(e,r):a}class A8{constructor(e){this.Ir=e,this.buffer=new xi(Ub),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ub(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class x8{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(jb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yh(t)?ut(jb,"Ignoring IndexedDB error during garbage collection: ",t):await Gh(t)}await this.Vr(3e5)}))}}class E8{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Ke.resolve(Lg.ce);const r=new A8(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(Mb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,o,u,h,f,d;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,u=Date.now(),this.nthSequenceNumber(e,a)))).next((A=>(r=A,h=Date.now(),this.removeTargets(e,r,t)))).next((A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(d=Date.now(),bh()<=bn.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${A} documents in `+(d-f)+`ms
Total Duration: ${d-v}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:A}))))}}function S8(n,e){return new E8(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this.changes=new Lc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ms.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&$f(r.mutation,a,wa.empty(),yr.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,wn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=wn()){const a=dc();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let u=Ff();return o.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=dc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,wn())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,a){let o=Hl();const u=Yf(),h=(function(){return Yf()})();return t.forEach(((f,d)=>{const v=r.get(d.key);a.has(d.key)&&(v===void 0||v.mutation instanceof Gu)?o=o.insert(d.key,d):v!==void 0?(u.set(d.key,v.mutation.getFieldMask()),$f(v.mutation,d,v.mutation.getFieldMask(),yr.now())):u.set(d.key,wa.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,v)=>u.set(d,v))),t.forEach(((d,v)=>h.set(d,new N8(v,u.get(d)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Yf();let a=new Dr(((u,h)=>u-h)),o=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let v=r.get(f)||wa.empty();v=h.applyToLocalView(d,v),r.set(f,v);const A=(a.get(h.batchId)||wn()).add(f);a=a.insert(h.batchId,A)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,v=f.value,A=s3();v.forEach((S=>{if(!o.has(S)){const _=h3(t.get(S),r.get(S));_!==null&&A.set(S,_),o=o.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,A))}return Ke.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(u){return xt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):h2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):Ke.resolve(dc());let h=ed,f=o;return u.next((d=>Ke.forEach(d,((v,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),o.get(v)?Ke.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{f=f.insert(v,S)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,wn()))).next((v=>({batchId:h,changes:i3(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xt(t)).next((r=>{let a=Ff();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=Ff();return this.indexManager.getCollectionParents(e,o).next((h=>Ke.forEach(h,(f=>{const d=(function(A,S){return new Rc(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next((v=>{v.forEach(((A,S)=>{u=u.insert(A,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((u=>{o.forEach(((f,d)=>{const v=d.getKey();u.get(v)===null&&(u=u.insert(v,ms.newInvalidDocument(v)))}));let h=Ff();return u.forEach(((f,d)=>{const v=o.get(f);v!==void 0&&$f(v.mutation,d,wa.empty(),yr.now()),jg(t,d)&&(h=h.insert(f,d))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ke.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Jo(a.createTime)}})(t)),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:v8(a.bundledQuery),readTime:Jo(a.readTime)}})(t)),Ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(){this.overlays=new Dr(xt.comparator),this.qr=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const r=dc();return Ke.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.St(e,t,o)})),Ke.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Ke.resolve()}getOverlaysForCollection(e,t,r){const a=dc(),o=t.length+1,u=new xt(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return Ke.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Dr(((d,v)=>d-v));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let v=o.get(d.largestBatchId);v===null&&(v=dc(),o=o.insert(d.largestBatchId,v)),v.set(d.getKey(),d)}}const h=dc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,v)=>h.set(d,v))),!(h.size()>=a)););return Ke.resolve(h)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new KI(t,r));let o=this.qr.get(t);o===void 0&&(o=wn(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(){this.sessionToken=ns.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Qr=new xi(Vi.$r),this.Ur=new xi(Vi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Vi(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Vi(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new xt(new cr([])),r=new Vi(t,e),a=new Vi(t,e+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new xt(new cr([])),r=new Vi(t,e),a=new Vi(t,e+1);let o=wn();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new Vi(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vi{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return xt.comparator(e.key,t.key)||_n(e.Yr,t.Yr)}static Kr(e,t){return _n(e.Yr,t.Yr)||xt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new xi(Vi.$r)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $I(o,t,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Vi(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Ke.resolve(u)}lookupMutationBatch(e,t){return Ke.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),o=a<0?0:a;return Ke.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?o2:this.tr-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vi(t,0),a=new Vi(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);o.push(h)})),Ke.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xi(_n);return t.forEach((a=>{const o=new Vi(a,0),u=new Vi(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),Ke.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;xt.isDocumentKey(o)||(o=o.child(""));const u=new Vi(new xt(o),0);let h=new xi(_n);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(h=h.add(f.Yr)),!0)}),u),Ke.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){zn(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ke.forEach(t.mutations,(a=>{const o=new Vi(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Vi(t,0),a=this.Zr.firstAfterOrEqual(r);return Ke.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e){this.ri=e,this.docs=(function(){return new Dr(xt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ke.resolve(r?r.document.mutableCopy():ms.newInvalidDocument(t))}getEntries(e,t){let r=Hl();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():ms.newInvalidDocument(a))})),Ke.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Hl();const u=t.path,h=new xt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:v}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||oI(aI(v),r)<=0||(a.has(v.key)||jg(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Ke.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Bt(9500)}ii(e,t){return Ke.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new O8(this)}getSize(e){return Ke.resolve(this.size)}}class O8 extends T8{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),Ke.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.persistence=e,this.si=new Lc((t=>u2(t)),c2),this.lastRemoteSnapshotVersion=Qt.min(),this.highestTargetId=0,this.oi=0,this._i=new y2,this.targetCount=0,this.ai=Bh.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Ke.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Bh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.Pr(t),Ke.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),Ke.waitFor(o).next((()=>a))}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Ke.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Ke.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),Ke.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Ke.resolve(r)}containsKey(e,t){return Ke.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,t){this.ui={},this.overlays={},this.ci=new Lg(0),this.li=!1,this.li=!0,this.hi=new L8,this.referenceDelegate=e(this),this.Pi=new P8(this),this.indexManager=new b8,this.remoteDocumentCache=(function(a){return new k8(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new y8(t),this.Ii=new C8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new R8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new D8(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ut("MemoryPersistence","Starting transaction:",e);const a=new M8(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,t){return Ke.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class M8 extends uI{constructor(e){super(),this.currentSequenceNumber=e}}class v2{constructor(e){this.persistence=e,this.Ri=new y2,this.Vi=null}static mi(e){return new v2(e)}get fi(){if(this.Vi)return this.Vi;throw Bt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Ke.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.fi,(r=>{const a=xt.fromPath(r);return this.gi(e,a).next((o=>{o||t.removeEntry(a,Qt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ke.or([()=>Ke.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class gg{constructor(e,t){this.persistence=e,this.pi=new Lc((r=>fI(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=S8(this,t)}static mi(e,t){return new gg(e,t)}Ei(){}di(e){return Ke.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Ke.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?Ke.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((h=>{h||(r++,o.removeEntry(u,Qt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ke.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ke.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ke.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ke.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bp(e.data.value)),t}br(e,t,r){return Ke.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return Ke.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=wn(),a=wn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new b2(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sS()?8:cI(ys())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new j8;return this.Ss(e,t,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>o.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(bh()<=bn.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",_h(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ke.resolve()):(bh()<=bn.DEBUG&&ut("QueryEngine","Query:",_h(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(bh()<=bn.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",_h(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xo(t))):Ke.resolve())}ys(e,t){if(Tb(t))return Ke.resolve(null);let r=Xo(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=fg(t,null,"F"),r=Xo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=wn(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(t,h);return this.Cs(t,d,u,f.readTime)?this.ys(e,fg(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,r,a){return Tb(t)||a.isEqual(Qt.min())?Ke.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,r,a)?Ke.resolve(null):(bh()<=bn.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_h(t)),this.vs(e,u,t,sI(a,ed)).next((h=>h)))}))}Ds(e,t){let r=new xi(n3(e));return t.forEach(((a,o)=>{jg(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,r){return bh()<=bn.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",_h(t)),this.ps.getDocumentsMatchingQuery(e,t,Mu.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="LocalStore",V8=3e8;class F8{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Dr(_n),this.xs=new Lc((o=>u2(o)),c2),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function B8(n,e,t,r){return new F8(n,e,t,r)}async function S3(n,e){const t=tn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let f=wn();for(const d of a){u.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}for(const d of o){h.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:h})))}))}))}function q8(n,e){const t=tn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,v){const A=d.batch,S=A.keys();let _=Ke.resolve();return S.forEach((M=>{_=_.next((()=>v.getEntry(f,M))).next((j=>{const q=d.docVersions.get(M);zn(q!==null,48541),j.version.compareTo(q)<0&&(A.applyToRemoteDocument(j,d),j.isValidDocument()&&(j.setReadTime(d.commitVersion),v.addEntry(j)))}))})),_.next((()=>h.mutationQueue.removeMutationBatch(f,A)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=wn();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function T3(n){const e=tn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function z8(n,e){const t=tn(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((v,A)=>{const S=a.get(A);if(!S)return;h.push(t.Pi.removeMatchingKeys(o,v.removedDocuments,A).next((()=>t.Pi.addMatchingKeys(o,v.addedDocuments,A))));let _=S.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(A)!==null?_=_.withResumeToken(ns.EMPTY_BYTE_STRING,Qt.min()).withLastLimboFreeSnapshotVersion(Qt.min()):v.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(v.resumeToken,r)),a=a.insert(A,_),(function(j,q,F){return j.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=V8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(S,_,v)&&h.push(t.Pi.updateTargetData(o,_))}));let f=Hl(),d=wn();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(H8(o,u,e.documentUpdates).next((v=>{f=v.ks,d=v.qs}))),!r.isEqual(Qt.min())){const v=t.Pi.getLastRemoteSnapshotVersion(o).next((A=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return Ke.waitFor(h).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.Ms=a,o)))}function H8(n,e,t){let r=wn(),a=wn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=Hl();return t.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Qt.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ut(_2,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:a}}))}function G8(n,e){const t=tn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=o2),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Y8(n,e){const t=tn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((o=>o?(a=o,Ke.resolve(a)):t.Pi.allocateTargetId(r).next((u=>(a=new Cu(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function S1(n,e,t){const r=tn(n),a=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Yh(u))throw u;ut(_2,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Vb(n,e,t){const r=tn(n);let a=Qt.min(),o=wn();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,v){const A=tn(f),S=A.xs.get(v);return S!==void 0?Ke.resolve(A.Ms.get(S)):A.Pi.getTargetData(d,v)})(r,u,Xo(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?a:Qt.min(),t?o:wn()))).next((h=>($8(r,LI(e),h),{documents:h,Qs:o})))))}function $8(n,e,t){let r=n.Os.get(e)||Qt.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class Fb{constructor(){this.activeTargetIds=jI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K8{constructor(){this.Mo=new Fb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Fb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="ConnectivityMonitor";class qb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(Bb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(Bb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp=null;function T1(){return xp===null?xp=(function(){return 268435456+Math.round(2147483648*Math.random())})():xp++,"0x"+xp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="RestConnection",Q8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===ug?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,o){const u=T1(),h=this.zo(e,t.toUriEncodedString());ut(I0,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:d}=new URL(h),v=zu(d);return this.Jo(e,h,f,r,v).then((A=>(ut(I0,`Received RPC '${e}' ${u}: `,A),A)),(A=>{throw Mh(I0,`RPC '${e}' ${u} failed with error: `,A,"url: ",h,"request:",r),A}))}Ho(e,t,r,a,o,u){return this.Go(e,t,r,a,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,t){const r=Q8[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="WebChannelConnection";class Z8 extends X8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,o){const u=T1();return new Promise(((h,f)=>{const d=new R4;d.setWithCredentials(!0),d.listenOnce(L4.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Fp.NO_ERROR:const A=d.getResponseJson();ut(cs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(A)),h(A);break;case Fp.TIMEOUT:ut(cs,`RPC '${e}' ${u} timed out`),f(new rt(qe.DEADLINE_EXCEEDED,"Request time out"));break;case Fp.HTTP_ERROR:const S=d.getStatus();if(ut(cs,`RPC '${e}' ${u} failed with status:`,S,"response text:",d.getResponseText()),S>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const M=_?.error;if(M&&M.status&&M.message){const j=(function(F){const ie=F.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(ie)>=0?ie:qe.UNKNOWN})(M.status);f(new rt(j,M.message))}else f(new rt(qe.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new rt(qe.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ut(cs,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);ut(cs,`RPC '${e}' ${u} sending request:`,a),d.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=T1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=O4(),h=k4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=o.join("");ut(cs,`Creating RPC '${e}' stream ${a}: ${v}`,f);const A=u.createWebChannel(v,f);this.I_(A);let S=!1,_=!1;const M=new J8({Yo:q=>{_?ut(cs,`Not sending because RPC '${e}' stream ${a} is closed:`,q):(S||(ut(cs,`Opening RPC '${e}' stream ${a} transport.`),A.open(),S=!0),ut(cs,`RPC '${e}' stream ${a} sending:`,q),A.send(q))},Zo:()=>A.close()}),j=(q,F,ie)=>{q.listen(F,(ae=>{try{ie(ae)}catch(se){setTimeout((()=>{throw se}),0)}}))};return j(A,Vf.EventType.OPEN,(()=>{_||(ut(cs,`RPC '${e}' stream ${a} transport opened.`),M.o_())})),j(A,Vf.EventType.CLOSE,(()=>{_||(_=!0,ut(cs,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(A))})),j(A,Vf.EventType.ERROR,(q=>{_||(_=!0,Mh(cs,`RPC '${e}' stream ${a} transport errored. Name:`,q.name,"Message:",q.message),M.a_(new rt(qe.UNAVAILABLE,"The operation could not be completed")))})),j(A,Vf.EventType.MESSAGE,(q=>{if(!_){const F=q.data[0];zn(!!F,16349);const ie=F,ae=ie?.error||ie[0]?.error;if(ae){ut(cs,`RPC '${e}' stream ${a} received error:`,ae);const se=ae.status;let we=(function(E){const L=oi[E];if(L!==void 0)return d3(L)})(se),ke=ae.message;we===void 0&&(we=qe.INTERNAL,ke="Unknown error status: "+se+" with message "+ae.message),_=!0,M.a_(new rt(we,ke)),A.close()}else ut(cs,`RPC '${e}' stream ${a} received:`,F),M.u_(F)}})),j(h,D4.STAT_EVENT,(q=>{q.stat===p1.PROXY?ut(cs,`RPC '${e}' stream ${a} detected buffering proxy`):q.stat===p1.NOPROXY&&ut(cs,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function C0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(n){return new r8(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ut("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="PersistentStream";class I3{constructor(e,t,r,a,o,u,h,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new N3(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===qe.RESOURCE_EXHAUSTED?(zl(t.toString()),zl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new rt(qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(zb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ut(zb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eC extends I3{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=a8(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Qt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Qt.min():u.readTime?Jo(u.readTime):Qt.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=E1(this.serializer),t.addTarget=(function(o,u){let h;const f=u.target;if(h=b1(f)?{documents:u8(o,f)}:{query:c8(o,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=m3(o,u.resumeToken);const d=w1(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Qt.min())>0){h.readTime=pg(o,u.snapshotVersion.toTimestamp());const d=w1(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,e);const r=f8(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=E1(this.serializer),t.removeTarget=e,this.q_(t)}}class tC extends I3{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return zn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,zn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){zn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=l8(e.writeResults,e.commitTime),r=Jo(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=E1(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>o8(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{}class rC extends nC{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new rt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,A1(t,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new rt(qe.UNKNOWN,o.toString())}))}Ho(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,A1(t,r),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt(qe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zl(t),this.aa=!1):ut("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="RemoteStore";class sC{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Dc(this)&&(ut(Sc,"Restarting streams for network reachability change."),await(async function(f){const d=tn(f);d.Ea.add(4),await bd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await qg(d)})(this))}))})),this.Ra=new iC(r,a)}}async function qg(n){if(Dc(n))for(const e of n.da)await e(!0)}async function bd(n){for(const e of n.da)await e(!1)}function C3(n,e){const t=tn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),E2(t)?x2(t):$h(t).O_()&&A2(t,e))}function w2(n,e){const t=tn(n),r=$h(t);t.Ia.delete(e),r.O_()&&R3(t,e),t.Ia.size===0&&(r.O_()?r.L_():Dc(t)&&t.Ra.set("Unknown"))}function A2(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$h(n).Y_(e)}function R3(n,e){n.Va.Ue(e),$h(n).Z_(e)}function x2(n){n.Va=new ZI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),$h(n).start(),n.Ra.ua()}function E2(n){return Dc(n)&&!$h(n).x_()&&n.Ia.size>0}function Dc(n){return tn(n).Ea.size===0}function L3(n){n.Va=void 0}async function aC(n){n.Ra.set("Online")}async function oC(n){n.Ia.forEach(((e,t)=>{A2(n,e)}))}async function lC(n,e){L3(n),E2(n)?(n.Ra.ha(e),x2(n)):n.Ra.set("Unknown")}async function uC(n,e,t){if(n.Ra.set("Online"),e instanceof g3&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(n,e)}catch(r){ut(Sc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mg(n,r)}else if(e instanceof Hp?n.Va.Ze(e):e instanceof p3?n.Va.st(e):n.Va.tt(e),!t.isEqual(Qt.min()))try{const r=await T3(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(d);v&&o.Ia.set(d,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,d)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(ns.EMPTY_BYTE_STRING,v.snapshotVersion)),R3(o,f);const A=new Cu(v.target,f,d,v.sequenceNumber);A2(o,A)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ut(Sc,"Failed to raise snapshot:",r),await mg(n,r)}}async function mg(n,e,t){if(!Yh(e))throw e;n.Ea.add(1),await bd(n),n.Ra.set("Offline"),t||(t=()=>T3(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ut(Sc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await qg(n)}))}function D3(n,e){return e().catch((t=>mg(n,t,e)))}async function zg(n){const e=tn(n),t=Fu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:o2;for(;cC(e);)try{const a=await G8(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,hC(e,a)}catch(a){await mg(e,a)}k3(e)&&O3(e)}function cC(n){return Dc(n)&&n.Ta.length<10}function hC(n,e){n.Ta.push(e);const t=Fu(n);t.O_()&&t.X_&&t.ea(e.mutations)}function k3(n){return Dc(n)&&!Fu(n).x_()&&n.Ta.length>0}function O3(n){Fu(n).start()}async function fC(n){Fu(n).ra()}async function dC(n){const e=Fu(n);for(const t of n.Ta)e.ea(t.mutations)}async function pC(n,e,t){const r=n.Ta.shift(),a=p2.from(r,e,t);await D3(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await zg(n)}async function gC(n,e){e&&Fu(n).X_&&await(async function(r,a){if((function(u){return QI(u)&&u!==qe.ABORTED})(a.code)){const o=r.Ta.shift();Fu(r).B_(),await D3(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await zg(r)}})(n,e),k3(n)&&O3(n)}async function Hb(n,e){const t=tn(n);t.asyncQueue.verifyOperationInProgress(),ut(Sc,"RemoteStore received new credentials");const r=Dc(t);t.Ea.add(3),await bd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await qg(t)}async function mC(n,e){const t=tn(n);e?(t.Ea.delete(2),await qg(t)):e||(t.Ea.add(2),await bd(t),t.Ra.set("Unknown"))}function $h(n){return n.ma||(n.ma=(function(t,r,a){const o=tn(t);return o.sa(),new eC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:aC.bind(null,n),t_:oC.bind(null,n),r_:lC.bind(null,n),H_:uC.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),E2(n)?x2(n):n.Ra.set("Unknown")):(await n.ma.stop(),L3(n))}))),n.ma}function Fu(n){return n.fa||(n.fa=(function(t,r,a){const o=tn(t);return o.sa(),new tC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:fC.bind(null,n),r_:gC.bind(null,n),ta:dC.bind(null,n),na:pC.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await zg(n)):(await n.fa.stop(),n.Ta.length>0&&(ut(Sc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Fl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,h=new S2(e,t,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T2(n,e){if(zl("AsyncQueue",`${e}: ${n}`),Yh(n))return new rt(qe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{static emptySet(e){return new Lh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||xt.comparator(t.key,r.key):(t,r)=>xt.comparator(t.key,r.key),this.keyedMap=Ff(),this.sortedSet=new Dr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Lh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.ga=new Dr(xt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Bt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class qh{constructor(e,t,r,a,o,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new qh(e,t,Lh.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vC{constructor(){this.queries=Yb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=tn(t),o=a.queries;a.queries=Yb(),o.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new rt(qe.ABORTED,"Firestore shutting down"))}}function Yb(){return new Lc((n=>t3(n)),Mg)}async function N2(n,e){const t=tn(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new yC,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=T2(u,`Initialization of query '${_h(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&C2(t)}async function I2(n,e){const t=tn(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function bC(n,e){const t=tn(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&C2(t)}function _C(n,e,t){const r=tn(n),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);r.queries.delete(e)}function C2(n){n.Ca.forEach((e=>{e.next()}))}var N1,$b;($b=N1||(N1={})).Ma="default",$b.Cache="cache";class R2{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new qh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=qh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==N1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.key=e}}class M3{constructor(e){this.key=e}}class wC{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wn(),this.mutatedKeys=wn(),this.eu=n3(e),this.tu=new Lh(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Gb,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,A)=>{const S=a.get(v),_=jg(this.query,A)?A:null,M=!!S&&this.mutatedKeys.has(S.key),j=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let q=!1;S&&_?S.data.isEqual(_.data)?M!==j&&(r.track({type:3,doc:_}),q=!0):this.su(S,_)||(r.track({type:2,doc:_}),q=!0,(f&&this.eu(_,f)>0||d&&this.eu(_,d)<0)&&(h=!0)):!S&&_?(r.track({type:0,doc:_}),q=!0):S&&!_&&(r.track({type:1,doc:S}),q=!0,(f||d)&&(h=!0)),q&&(_?(u=u.add(_),o=j?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,A)=>(function(_,M){const j=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{Rt:q})}};return j(_)-j(M)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(r),a=a??!1;const h=t&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new qh(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=wn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new M3(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new P3(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=wn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return qh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const L2="SyncEngine";class AC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class xC{constructor(e){this.key=e,this.hu=!1}}class EC{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Lc((h=>t3(h)),Mg),this.Iu=new Map,this.Eu=new Set,this.du=new Dr(xt.comparator),this.Au=new Map,this.Ru=new y2,this.Vu={},this.mu=new Map,this.fu=Bh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SC(n,e,t=!0){const r=q3(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await j3(r,e,t,!0),a}async function TC(n,e){const t=q3(n);await j3(t,e,!0,!1)}async function j3(n,e,t,r){const a=await Y8(n.localStore,Xo(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await NC(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&C3(n.remoteStore,a),h}async function NC(n,e,t,r,a){n.pu=(A,S,_)=>(async function(j,q,F,ie){let ae=q.view.ru(F);ae.Cs&&(ae=await Vb(j.localStore,q.query,!1).then((({documents:Y})=>q.view.ru(Y,ae))));const se=ie&&ie.targetChanges.get(q.targetId),we=ie&&ie.targetMismatches.get(q.targetId)!=null,ke=q.view.applyChanges(ae,j.isPrimaryClient,se,we);return Wb(j,q.targetId,ke.au),ke.snapshot})(n,A,S,_);const o=await Vb(n.localStore,e,!0),u=new wC(e,o.Qs),h=u.ru(o.documents),f=vd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),d=u.applyChanges(h,n.isPrimaryClient,f);Wb(n,t,d.au);const v=new AC(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function IC(n,e,t){const r=tn(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!Mg(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await S1(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&w2(r.remoteStore,a.targetId),I1(r,a.targetId)})).catch(Gh)):(I1(r,a.targetId),await S1(r.localStore,a.targetId,!0))}async function CC(n,e){const t=tn(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),w2(t.remoteStore,r.targetId))}async function RC(n,e,t){const r=jC(n);try{const a=await(function(u,h){const f=tn(u),d=yr.now(),v=h.reduce(((_,M)=>_.add(M.key)),wn());let A,S;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let M=Hl(),j=wn();return f.Ns.getEntries(_,v).next((q=>{M=q,M.forEach(((F,ie)=>{ie.isValidDocument()||(j=j.add(F))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,M))).next((q=>{A=q;const F=[];for(const ie of h){const ae=GI(ie,A.get(ie.key).overlayedDocument);ae!=null&&F.push(new Gu(ie.key,ae,K4(ae.value.mapValue),qa.exists(!0)))}return f.mutationQueue.addMutationBatch(_,d,F,h)})).next((q=>{S=q;const F=q.applyToLocalDocumentSet(A,j);return f.documentOverlayCache.saveOverlays(_,q.batchId,F)}))})).then((()=>({batchId:S.batchId,changes:i3(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new Dr(_n)),d=d.insert(h,f),u.Vu[u.currentUser.toKey()]=d})(r,a.batchId,t),await _d(r,a.changes),await zg(r.remoteStore)}catch(a){const o=T2(a,"Failed to persist write");t.reject(o)}}async function U3(n,e){const t=tn(n);try{const r=await z8(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=t.Au.get(o);u&&(zn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?zn(u.hu,14607):a.removedDocuments.size>0&&(zn(u.hu,42227),u.hu=!1))})),await _d(t,r,e)}catch(r){await Gh(r)}}function Kb(n,e,t){const r=tn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const f=tn(u);f.onlineState=h;let d=!1;f.queries.forEach(((v,A)=>{for(const S of A.Sa)S.va(h)&&(d=!0)})),d&&C2(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LC(n,e,t){const r=tn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new Dr(xt.comparator);u=u.insert(o,ms.newNoDocument(o,Qt.min()));const h=wn().add(o),f=new Fg(Qt.min(),new Map,new Dr(_n),u,h);await U3(r,f),r.du=r.du.remove(o),r.Au.delete(e),D2(r)}else await S1(r.localStore,e,!1).then((()=>I1(r,e,t))).catch(Gh)}async function DC(n,e){const t=tn(n),r=e.batch.batchId;try{const a=await q8(t.localStore,e);F3(t,r,null),V3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await _d(t,a)}catch(a){await Gh(a)}}async function kC(n,e,t){const r=tn(n);try{const a=await(function(u,h){const f=tn(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let v;return f.mutationQueue.lookupMutationBatch(d,h).next((A=>(zn(A!==null,37113),v=A.keys(),f.mutationQueue.removeMutationBatch(d,A)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,v))).next((()=>f.localDocuments.getDocuments(d,v)))}))})(r.localStore,e);F3(r,e,t),V3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await _d(r,a)}catch(a){await Gh(a)}}function V3(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function F3(n,e,t){const r=tn(n);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function I1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||B3(n,r)}))}function B3(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(w2(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),D2(n))}function Wb(n,e,t){for(const r of t)r instanceof P3?(n.Ru.addReference(r.key,e),OC(n,r)):r instanceof M3?(ut(L2,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||B3(n,r.key)):Bt(19791,{wu:r})}function OC(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ut(L2,"New document in limbo: "+t),n.Eu.add(r),D2(n))}function D2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new xt(cr.fromString(e)),r=n.fu.next();n.Au.set(r,new xC(t)),n.du=n.du.insert(t,r),C3(n.remoteStore,new Cu(Xo(Pg(t.path)),r,"TargetPurposeLimboResolution",Lg.ce))}}async function _d(n,e,t){const r=tn(n),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const v=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){a.push(d);const v=b2.As(f.targetId,d);o.push(v)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(f,d){const v=tn(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Ke.forEach(d,(S=>Ke.forEach(S.Es,(_=>v.persistence.referenceDelegate.addReference(A,S.targetId,_))).next((()=>Ke.forEach(S.ds,(_=>v.persistence.referenceDelegate.removeReference(A,S.targetId,_)))))))))}catch(A){if(!Yh(A))throw A;ut(_2,"Failed to update sequence numbers: "+A)}for(const A of d){const S=A.targetId;if(!A.fromCache){const _=v.Ms.get(S),M=_.snapshotVersion,j=_.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(S,j)}}})(r.localStore,o))}async function PC(n,e){const t=tn(n);if(!t.currentUser.isEqual(e)){ut(L2,"User change. New user:",e.toKey());const r=await S3(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new rt(qe.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _d(t,r.Ls)}}function MC(n,e){const t=tn(n),r=t.Au.get(e);if(r&&r.hu)return wn().add(r.key);{let a=wn();const o=t.Iu.get(e);if(!o)return a;for(const u of o){const h=t.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function q3(n){const e=tn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=U3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LC.bind(null,e),e.Pu.H_=bC.bind(null,e.eventManager),e.Pu.yu=_C.bind(null,e.eventManager),e}function jC(n){const e=tn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kC.bind(null,e),e}class yg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return B8(this.persistence,new U8,e.initialUser,this.serializer)}Cu(e){return new E3(v2.mi,this.serializer)}Du(e){return new K8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yg.provider={build:()=>new yg};class UC extends yg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){zn(this.persistence.referenceDelegate instanceof gg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new x8(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?na.withCacheSize(this.cacheSizeBytes):na.DEFAULT;return new E3((r=>gg.mi(r,t)),this.serializer)}}class C1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PC.bind(null,this.syncEngine),await mC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vC})()}createDatastore(e){const t=Bg(e.databaseInfo.databaseId),r=(function(o){return new Z8(o)})(e.databaseInfo);return(function(o,u,h,f){return new rC(o,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,u,h){return new sC(r,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>Kb(this.syncEngine,t,0)),(function(){return qb.v()?new qb:new W8})())}createSyncEngine(e,t){return(function(a,o,u,h,f,d,v){const A=new EC(a,o,u,h,f,d);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=tn(t);ut(Sc,"RemoteStore shutting down."),r.Ea.add(5),await bd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}C1.provider={build:()=>new C1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu="FirestoreClient";class VC{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=gs.UNAUTHENTICATED,this.clientId=a2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{ut(Bu,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ut(Bu,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=T2(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function R0(n,e){n.asyncQueue.verifyOperationInProgress(),ut(Bu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await S3(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Qb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await FC(n);ut(Bu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Hb(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>Hb(e.remoteStore,a))),n._onlineComponents=e}async function FC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ut(Bu,"Using user provided OfflineComponentProvider");try{await R0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===qe.FAILED_PRECONDITION||a.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Mh("Error using user provided cache. Falling back to memory cache: "+t),await R0(n,new yg)}}else ut(Bu,"Using default OfflineComponentProvider"),await R0(n,new UC(void 0));return n._offlineComponents}async function z3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ut(Bu,"Using user provided OnlineComponentProvider"),await Qb(n,n._uninitializedComponentsProvider._online)):(ut(Bu,"Using default OnlineComponentProvider"),await Qb(n,new C1))),n._onlineComponents}function BC(n){return z3(n).then((e=>e.syncEngine))}async function vg(n){const e=await z3(n),t=e.eventManager;return t.onListen=SC.bind(null,e.syncEngine),t.onUnlisten=IC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=CC.bind(null,e.syncEngine),t}function qC(n,e,t={}){const r=new Fl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,d){const v=new k2({next:S=>{v.Nu(),u.enqueueAndForget((()=>I2(o,A)));const _=S.docs.has(h);!_&&S.fromCache?d.reject(new rt(qe.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&S.fromCache&&f&&f.source==="server"?d.reject(new rt(qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(S)},error:S=>d.reject(S)}),A=new R2(Pg(h.path),v,{includeMetadataChanges:!0,qa:!0});return N2(o,A)})(await vg(n),n.asyncQueue,e,t,r))),r.promise}function zC(n,e,t={}){const r=new Fl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,d){const v=new k2({next:S=>{v.Nu(),u.enqueueAndForget((()=>I2(o,A))),S.fromCache&&f.source==="server"?d.reject(new rt(qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(S)},error:S=>d.reject(S)}),A=new R2(h,v,{includeMetadataChanges:!0,qa:!0});return N2(o,A)})(await vg(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="firestore.googleapis.com",Jb=!0;class Zb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G3,this.ssl=Jb}else this.host=e.host,this.ssl=e.ssl??Jb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w8)throw new rt(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hg{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $N;switch(r.type){case"firstParty":return new XN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Xb.get(t);r&&(ut("ComponentProvider","Removing Datastore"),Xb.delete(t),r.terminate())})(this),Promise.resolve()}}function HC(n,e,t,r={}){n=ia(n,Hg);const a=zu(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(H1(`https://${h}`),G1("Firestore",!0)),o.host!==G3&&o.host!==h&&Mh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:r};if(!bc(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,v;if(typeof r.mockUserToken=="string")d=r.mockUserToken,v=gs.MOCK_USER;else{d=qw(r.mockUserToken,n._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new rt(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new gs(A)}n._authCredentials=new KN(new M4(d,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rl(this.firestore,e,this._query)}}class zr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zr(this.firestore,e,this._key)}toJSON(){return{type:zr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(md(t,zr._jsonSchema))return new zr(e,r||null,new xt(cr.fromString(t.referencePath)))}}zr._jsonSchemaVersion="firestore/documentReference/1.0",zr._jsonSchema={type:ui("string",zr._jsonSchemaVersion),referencePath:ui("string")};class Ou extends rl{constructor(e,t,r){super(e,t,Pg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zr(this.firestore,null,new xt(e))}withConverter(e){return new Ou(this.firestore,e,this._path)}}function L0(n,e,...t){if(n=hr(n),j4("collection","path",e),n instanceof Hg){const r=cr.fromString(e,...t);return db(r),new Ou(n,null,r)}{if(!(n instanceof zr||n instanceof Ou))throw new rt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cr.fromString(e,...t));return db(r),new Ou(n.firestore,null,r)}}function xh(n,e,...t){if(n=hr(n),arguments.length===1&&(e=a2.newId()),j4("doc","path",e),n instanceof Hg){const r=cr.fromString(e,...t);return fb(r),new zr(n,null,new xt(r))}{if(!(n instanceof zr||n instanceof Ou))throw new rt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cr.fromString(e,...t));return fb(r),new zr(n.firestore,n instanceof Ou?n.converter:null,new xt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="AsyncQueue";class t_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new N3(this,"async_queue_retry"),this._c=()=>{const r=C0();r&&ut(e_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=C0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=C0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Fl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yh(e))throw e;ut(e_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zl("INTERNAL UNHANDLED ERROR: ",n_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=S2.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Bt(47125,{Pc:n_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function n_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Gl extends Hg{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new t_,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t_(e),this._firestoreClient=void 0,await e}}}function GC(n,e){const t=typeof n=="object"?n:K1(),r=typeof n=="string"?n:ug,a=Tg(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=Vw("firestore");o&&HC(a,...o)}return a}function Gg(n){if(n._terminated)throw new rt(qe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YC(n),n._firestoreClient}function YC(n){const e=n._freezeSettings(),t=(function(a,o,u,h){return new gI(a,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,H3(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new VC(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ba(ns.fromBase64String(e))}catch(t){throw new rt(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ba(ns.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ba._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(md(e,Ba._jsonSchema))return Ba.fromBase64String(e.bytes)}}Ba._jsonSchemaVersion="firestore/bytes/1.0",Ba._jsonSchema={type:ui("string",Ba._jsonSchemaVersion),bytes:ui("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new rt(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rt(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rt(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _n(this._lat,e._lat)||_n(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zo._jsonSchemaVersion}}static fromJSON(e){if(md(e,Zo._jsonSchema))return new Zo(e.latitude,e.longitude)}}Zo._jsonSchemaVersion="firestore/geoPoint/1.0",Zo._jsonSchema={type:ui("string",Zo._jsonSchemaVersion),latitude:ui("number"),longitude:ui("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:el._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(md(e,el._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new el(e.vectorValues);throw new rt(qe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}el._jsonSchemaVersion="firestore/vectorValue/1.0",el._jsonSchema={type:ui("string",el._jsonSchemaVersion),vectorValues:ui("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=/^__.*__$/;class KC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Gu(e,this.data,this.fieldMask,t,this.fieldTransforms):new yd(e,this.data,t,this.fieldTransforms)}}class Y3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{Ac:n})}}class O2{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new O2({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($3(this.Ac)&&$C.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WC{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bg(e)}Cc(e,t,r,a=!1){return new O2({Ac:e,methodName:t,Dc:r,path:ts.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wd(n){const e=n._freezeSettings(),t=Bg(n._databaseId);return new WC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function K3(n,e,t,r,a,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,a);M2("Data must be an object, but it was:",u,r);const h=Q3(r,u);let f,d;if(o.merge)f=new wa(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const A of o.mergeFields){const S=R1(e,A,t);if(!u.contains(S))throw new rt(qe.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);J3(v,S)||v.push(S)}f=new wa(v),d=u.fieldTransforms.filter((A=>f.covers(A.field)))}else f=null,d=u.fieldTransforms;return new KC(new ra(h),f,d)}class Kg extends $g{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kg}}class P2 extends $g{_toFieldTransform(e){return new BI(e.path,new sd)}isEqual(e){return e instanceof P2}}function QC(n,e,t,r){const a=n.Cc(1,e,t);M2("Data must be an object, but it was:",a,r);const o=[],u=ra.empty();Hu(r,((f,d)=>{const v=j2(e,f,t);d=hr(d);const A=a.yc(v);if(d instanceof Kg)o.push(v);else{const S=Ad(d,A);S!=null&&(o.push(v),u.set(v,S))}}));const h=new wa(o);return new Y3(u,h,a.fieldTransforms)}function XC(n,e,t,r,a,o){const u=n.Cc(1,e,t),h=[R1(e,r,t)],f=[a];if(o.length%2!=0)throw new rt(qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<o.length;S+=2)h.push(R1(e,o[S])),f.push(o[S+1]);const d=[],v=ra.empty();for(let S=h.length-1;S>=0;--S)if(!J3(d,h[S])){const _=h[S];let M=f[S];M=hr(M);const j=u.yc(_);if(M instanceof Kg)d.push(_);else{const q=Ad(M,j);q!=null&&(d.push(_),v.set(_,q))}}const A=new wa(d);return new Y3(v,A,u.fieldTransforms)}function W3(n,e,t,r=!1){return Ad(t,n.Cc(r?4:3,e))}function Ad(n,e){if(X3(n=hr(n)))return M2("Unsupported field value:",e,n),Q3(n,e);if(n instanceof $g)return(function(r,a){if(!$3(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const h of r){let f=Ad(h,a.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=hr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UI(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=yr.fromDate(r);return{timestampValue:pg(a.serializer,o)}}if(r instanceof yr){const o=new yr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pg(a.serializer,o)}}if(r instanceof Zo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ba)return{bytesValue:m3(a.serializer,r._byteString)};if(r instanceof zr){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:m2(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof el)return(function(u,h){return{mapValue:{fields:{[Y4]:{stringValue:$4},[cg]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return f2(h.serializer,d)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Rg(r)}`)})(n,e)}function Q3(n,e){const t={};return F4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hu(n,((r,a)=>{const o=Ad(a,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function X3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yr||n instanceof Zo||n instanceof Ba||n instanceof zr||n instanceof $g||n instanceof el)}function M2(n,e,t){if(!X3(t)||!U4(t)){const r=Rg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function R1(n,e,t){if((e=hr(e))instanceof Yg)return e._internalPath;if(typeof e=="string")return j2(n,e);throw bg("Field path arguments must be of type string or ",n,!1,void 0,t)}const JC=new RegExp("[~\\*/\\[\\]]");function j2(n,e,t){if(e.search(JC)>=0)throw bg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yg(...e.split("."))._internalPath}catch{throw bg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bg(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new rt(qe.INVALID_ARGUMENT,h+n+f)}function J3(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ZC extends U2{data(){return super.data()}}function Wg(n,e){return typeof e=="string"?j2(n,e):e instanceof Yg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new rt(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V2{}class Qg extends V2{}function i_(n,e,...t){let r=[];e instanceof V2&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((f=>f instanceof F2)).length,h=o.filter((f=>f instanceof Xg)).length;if(u>1||u>0&&h>0)throw new rt(qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Xg extends Qg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Xg(e,t,r)}_apply(e){const t=this._parse(e);return eA(e._query,t),new rl(e.firestore,e.converter,_1(e._query,t))}_parse(e){const t=wd(e.firestore);return(function(o,u,h,f,d,v,A){let S;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new rt(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){a_(A,v);const M=[];for(const j of A)M.push(s_(f,o,j));S={arrayValue:{values:M}}}else S=s_(f,o,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||a_(A,v),S=W3(h,u,A,v==="in"||v==="not-in");return li.create(d,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function eR(n,e,t){const r=e,a=Wg("where",n);return Xg._create(a,r,t)}class F2 extends V2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new F2(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:go.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const f of h)eA(u,f),u=_1(u,f)})(e._query,t),new rl(e.firestore,e.converter,_1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class B2 extends Qg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new B2(e,t)}_apply(e){const t=(function(a,o,u){if(a.startAt!==null)throw new rt(qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new rt(qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new id(o,u)})(e._query,this._field,this._direction);return new rl(e.firestore,e.converter,(function(a,o){const u=a.explicitOrderBy.concat([o]);return new Rc(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function tR(n,e="asc"){const t=e,r=Wg("orderBy",n);return B2._create(r,t)}class q2 extends Qg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new q2(e,t,r)}_apply(e){return new rl(e.firestore,e.converter,fg(e._query,this._limit,this._limitType))}}function nR(n){return iI("limit",n),q2._create("limit",n,"F")}class z2 extends Qg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new z2(e,t,r)}_apply(e){const t=iR(e,this.type,this._docOrFields,this._inclusive);return new rl(e.firestore,e.converter,(function(a,o){return new Rc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,o,a.endAt)})(e._query,t))}}function rR(...n){return z2._create("startAfter",n,!1)}function iR(n,e,t,r){if(t[0]=hr(t[0]),t[0]instanceof U2)return(function(o,u,h,f,d){if(!f)throw new rt(qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const A of Rh(o))if(A.field.isKeyField())v.push(hg(u,f.key));else{const S=f.data.field(A.field);if(kg(S))throw new rt(qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(S===null){const _=A.field.canonicalString();throw new rt(qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}v.push(S)}return new Fh(v,d)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=wd(n.firestore);return(function(u,h,f,d,v,A){const S=u.explicitOrderBy;if(v.length>S.length)throw new rt(qe.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let M=0;M<v.length;M++){const j=v[M];if(S[M].field.isKeyField()){if(typeof j!="string")throw new rt(qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof j}`);if(!h2(u)&&j.indexOf("/")!==-1)throw new rt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${j}' contains a slash.`);const q=u.path.child(cr.fromString(j));if(!xt.isDocumentKey(q))throw new rt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const F=new xt(q);_.push(hg(h,F))}else{const q=W3(f,d,j);_.push(q)}}return new Fh(_,A)})(n._query,n.firestore._databaseId,a,e,t,r)}}function s_(n,e,t){if(typeof(t=hr(t))=="string"){if(t==="")throw new rt(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h2(e)&&t.indexOf("/")!==-1)throw new rt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cr.fromString(t));if(!xt.isDocumentKey(r))throw new rt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hg(n,new xt(r))}if(t instanceof zr)return hg(n,t._key);throw new rt(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rg(t)}.`)}function a_(n,e){if(!Array.isArray(n)||n.length===0)throw new rt(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eA(n,e){const t=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new rt(qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sR{convertValue(e,t="none"){switch(Vu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Uu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Bt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Hu(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[cg].arrayValue?.values?.map((r=>Qr(r.doubleValue)));return new el(t)}convertGeoPoint(e){return new Zo(Qr(e.latitude),Qr(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Og(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const t=ju(e);return new yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cr.fromString(e);zn(A3(r),9688,{name:e});const a=new nd(r.get(1),r.get(3)),o=new xt(r.popFirst(5));return a.isEqual(t)||zl(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class qf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pc extends U2{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(qe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=pc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}pc._jsonSchemaVersion="firestore/documentSnapshot/1.0",pc._jsonSchema={type:ui("string",pc._jsonSchemaVersion),bundleSource:ui("string","DocumentSnapshot"),bundleName:ui("string"),bundle:ui("string")};class Gp extends pc{data(e={}){return super.data(e)}}class gc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new qf(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Gp(this._firestore,this._userDataWriter,r.key,r,new qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new rt(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const f=new Gp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new qf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Gp(a._firestore,a._userDataWriter,h.doc.key,h.doc,new qf(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,v=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:aR(h.type),doc:f,oldIndex:d,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(qe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=a2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(n){n=ia(n,zr);const e=ia(n.firestore,Gl);return qC(Gg(e),n._key).then((t=>nA(e,n,t)))}gc._jsonSchemaVersion="firestore/querySnapshot/1.0",gc._jsonSchema={type:ui("string",gc._jsonSchemaVersion),bundleSource:ui("string","QuerySnapshot"),bundleName:ui("string"),bundle:ui("string")};class H2 extends sR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ba(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,t)}}function lR(n){n=ia(n,rl);const e=ia(n.firestore,Gl),t=Gg(e),r=new H2(e);return Z3(n._query),zC(t,n._query).then((a=>new gc(e,r,n,a)))}function uR(n,e,t){n=ia(n,zr);const r=ia(n.firestore,Gl),a=tA(n.converter,e,t);return Jg(r,[K3(wd(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,qa.none())])}function cR(n,e,t,...r){n=ia(n,zr);const a=ia(n.firestore,Gl),o=wd(a);let u;return u=typeof(e=hr(e))=="string"||e instanceof Yg?XC(o,"updateDoc",n._key,e,t,r):QC(o,"updateDoc",n._key,e),Jg(a,[u.toMutation(n._key,qa.exists(!0))])}function hR(n){return Jg(ia(n.firestore,Gl),[new d2(n._key,qa.none())])}function fR(n,e){const t=ia(n.firestore,Gl),r=xh(n),a=tA(n.converter,e);return Jg(t,[K3(wd(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,qa.exists(!1))]).then((()=>r))}function o_(n,...e){n=hr(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||r_(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(r_(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let o,u,h;if(n instanceof zr)u=ia(n.firestore,Gl),h=Pg(n._key.path),o={next:f=>{e[r]&&e[r](nA(u,n,f))},error:e[r+1],complete:e[r+2]};else{const f=ia(n,rl);u=ia(f.firestore,Gl),h=f._query;const d=new H2(u);o={next:v=>{e[r]&&e[r](new gc(u,d,f,v))},error:e[r+1],complete:e[r+2]},Z3(n._query)}return(function(d,v,A,S){const _=new k2(S),M=new R2(v,_,A);return d.asyncQueue.enqueueAndForget((async()=>N2(await vg(d),M))),()=>{_.Nu(),d.asyncQueue.enqueueAndForget((async()=>I2(await vg(d),M)))}})(Gg(u),h,a,o)}function Jg(n,e){return(function(r,a){const o=new Fl;return r.asyncQueue.enqueueAndForget((async()=>RC(await BC(r),a,o))),o.promise})(Gg(n),e)}function nA(n,e,t){const r=t.docs.get(e._key),a=new H2(n);return new pc(n,a,e._key,r,new qf(t.hasPendingWrites,t.fromCache),e.converter)}function kf(){return new P2("serverTimestamp")}(function(e,t=!0){(function(a){Hh=a})(Cc),_c(new Pu("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Gl(new WN(r.getProvider("auth-internal")),new JN(u,r.getProvider("app-check-internal")),(function(d,v){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new rt(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(d.options.projectId,v)})(u,a),u);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Ko(lb,ub,e),Ko(lb,ub,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebasestorage.googleapis.com",iA="storageBucket",dR=120*1e3,pR=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends nl{constructor(e,t,r=0){super(D0(e),`Firebase Storage: ${t} (${D0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return D0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hr||(Hr={}));function D0(n){return"storage/"+n}function G2(){const n="An unknown error occurred, please check the error payload for server response.";return new Gr(Hr.UNKNOWN,n)}function gR(n){return new Gr(Hr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function mR(n){return new Gr(Hr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yR(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Gr(Hr.UNAUTHENTICATED,n)}function vR(){return new Gr(Hr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bR(n){return new Gr(Hr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function _R(){return new Gr(Hr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wR(){return new Gr(Hr.CANCELED,"User canceled the upload/download.")}function AR(n){return new Gr(Hr.INVALID_URL,"Invalid URL '"+n+"'.")}function xR(n){return new Gr(Hr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ER(){return new Gr(Hr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iA+"' property when initializing the app?")}function SR(){return new Gr(Hr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function TR(){return new Gr(Hr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function NR(n){return new Gr(Hr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function L1(n){return new Gr(Hr.INVALID_ARGUMENT,n)}function sA(){return new Gr(Hr.APP_DELETED,"The Firebase app was deleted.")}function IR(n){return new Gr(Hr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kf(n,e){return new Gr(Hr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Of(n){throw new Gr(Hr.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Aa.makeFromUrl(e,t)}catch{return new Aa(e,"")}if(r.path==="")return r;throw xR(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),f={bucket:1,path:3};function d(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",_=new RegExp(`^https?://${A}/${v}/b/${a}/o${S}`,"i"),M={bucket:1,path:3},j=t===rA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,q="([^?#]*)",F=new RegExp(`^https?://${j}/${a}/${q}`,"i"),ae=[{regex:h,indices:f,postModify:o},{regex:_,indices:M,postModify:d},{regex:F,indices:{bucket:1,path:2},postModify:d}];for(let se=0;se<ae.length;se++){const we=ae[se],ke=we.regex.exec(e);if(ke){const Y=ke[we.indices.bucket];let E=ke[we.indices.path];E||(E=""),r=new Aa(Y,E),we.postModify(r);break}}if(r==null)throw AR(e);return r}}class CR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n,e,t){let r=1,a=null,o=null,u=!1,h=0;function f(){return h===2}let d=!1;function v(...q){d||(d=!0,e.apply(null,q))}function A(q){a=setTimeout(()=>{a=null,n(_,f())},q)}function S(){o&&clearTimeout(o)}function _(q,...F){if(d){S();return}if(q){S(),v.call(null,q,...F);return}if(f()||u){S(),v.call(null,q,...F);return}r<64&&(r*=2);let ae;h===1?(h=2,ae=0):ae=(r+Math.random())*1e3,A(ae)}let M=!1;function j(q){M||(M=!0,S(),!d&&(a!==null?(q||(h=2),clearTimeout(a),A(0)):q||(h=1)))}return A(0),o=setTimeout(()=>{u=!0,j(!0)},t),j}function LR(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(n){return n!==void 0}function kR(n){return typeof n=="object"&&!Array.isArray(n)}function Y2(n){return typeof n=="string"||n instanceof String}function l_(n){return $2()&&n instanceof Blob}function $2(){return typeof Blob<"u"}function u_(n,e,t,r){if(r<e)throw L1(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw L1(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function aA(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var mc;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(mc||(mc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,t,r,a,o,u,h,f,d,v,A,S=!0,_=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=v,this.connectionFactory_=A,this.retry=S,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,j)=>{this.resolve_=M,this.reject_=j,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Ep(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===mc.NO_ERROR,f=o.getStatus();if(!h||OR(f,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===mc.ABORT;r(!1,new Ep(!1,null,v));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new Ep(d,o))})},t=(r,a)=>{const o=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());DR(f)?o(f):o()}catch(f){u(f)}else if(h!==null){const f=G2();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(a.canceled){const f=this.appDelete_?sA():wR();u(f)}else{const f=_R();u(f)}};this.canceled_?t(!1,new Ep(!1,null,!0)):this.backoffId_=RR(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ep{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function MR(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function jR(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function UR(n,e){e&&(n["X-Firebase-GMPID"]=e)}function VR(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function FR(n,e,t,r,a,o,u=!0,h=!1){const f=aA(n.urlParams),d=n.url+f,v=Object.assign({},n.headers);return UR(v,e),MR(v,t),jR(v,o),VR(v,r),new PR(d,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function qR(...n){const e=BR();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if($2())return new Blob(n);throw new Gr(Hr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zR(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(n){if(typeof atob>"u")throw NR("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class k0{constructor(e,t){this.data=e,this.contentType=t||null}}function GR(n,e){switch(n){case Yo.RAW:return new k0(oA(e));case Yo.BASE64:case Yo.BASE64URL:return new k0(lA(n,e));case Yo.DATA_URL:return new k0($R(e),KR(e))}throw G2()}function oA(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=n.charCodeAt(++t);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function YR(n){let e;try{e=decodeURIComponent(n)}catch{throw Kf(Yo.DATA_URL,"Malformed data URL.")}return oA(e)}function lA(n,e){switch(n){case Yo.BASE64:{const a=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(a||o)throw Kf(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Yo.BASE64URL:{const a=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(a||o)throw Kf(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=HR(e)}catch(a){throw a.message.includes("polyfill")?a:Kf(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class uA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Kf(Yo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=WR(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $R(n){const e=new uA(n);return e.base64?lA(Yo.BASE64,e.rest):YR(e.rest)}function KR(n){return new uA(n).contentType}function WR(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t){let r=0,a="";l_(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(l_(this.data_)){const r=this.data_,a=zR(r,e,t);return a===null?null:new Iu(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Iu(r,!0)}}static getBlob(...e){if($2()){const t=e.map(r=>r instanceof Iu?r.data_:r);return new Iu(qR.apply(null,t))}else{const t=e.map(u=>Y2(u)?GR(Yo.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const a=new Uint8Array(r);let o=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)a[o++]=u[h]}),new Iu(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(n){let e;try{e=JSON.parse(n)}catch{return null}return kR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function XR(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function hA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n,e){return e}class Ds{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||JR}}let Sp=null;function ZR(n){return!Y2(n)||n.length<2?n:hA(n)}function fA(){if(Sp)return Sp;const n=[];n.push(new Ds("bucket")),n.push(new Ds("generation")),n.push(new Ds("metageneration")),n.push(new Ds("name","fullPath",!0));function e(o,u){return ZR(u)}const t=new Ds("name");t.xform=e,n.push(t);function r(o,u){return u!==void 0?Number(u):u}const a=new Ds("size");return a.xform=r,n.push(a),n.push(new Ds("timeCreated")),n.push(new Ds("updated")),n.push(new Ds("md5Hash",null,!0)),n.push(new Ds("cacheControl",null,!0)),n.push(new Ds("contentDisposition",null,!0)),n.push(new Ds("contentEncoding",null,!0)),n.push(new Ds("contentLanguage",null,!0)),n.push(new Ds("contentType",null,!0)),n.push(new Ds("metadata","customMetadata",!0)),Sp=n,Sp}function eL(n,e){function t(){const r=n.bucket,a=n.fullPath,o=new Aa(r,a);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function tL(n,e,t){const r={};r.type="file";const a=t.length;for(let o=0;o<a;o++){const u=t[o];r[u.local]=u.xform(r,e[u.server])}return eL(r,n),r}function dA(n,e,t){const r=cA(e);return r===null?null:tL(n,r,t)}function nL(n,e,t,r){const a=cA(e);if(a===null||!Y2(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(d=>{const v=n.bucket,A=n.fullPath,S="/b/"+u(v)+"/o/"+u(A),_=K2(S,t,r),M=aA({alt:"media",token:d});return _+M})[0]}function rL(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const o=e[a];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class pA{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n){if(!n)throw G2()}function iL(n,e){function t(r,a){const o=dA(n,a,e);return gA(o!==null),o}return t}function sL(n,e){function t(r,a){const o=dA(n,a,e);return gA(o!==null),nL(o,a,n.host,n._protocol)}return t}function mA(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=vR():a=yR():t.getStatus()===402?a=mR(n.bucket):t.getStatus()===403?a=bR(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function aL(n){const e=mA(n);function t(r,a){let o=e(r,a);return r.getStatus()===404&&(o=gR(n.path)),o.serverResponse=a.serverResponse,o}return t}function oL(n,e,t){const r=e.fullServerUrl(),a=K2(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new pA(a,o,sL(n,t),u);return h.errorHandler=aL(e),h}function lL(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function uL(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=lL(null,e)),r}function cL(n,e,t,r,a){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let ae="";for(let se=0;se<2;se++)ae=ae+Math.random().toString().slice(2);return ae}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const d=uL(e,r,a),v=rL(d,t),A="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,S=`\r
--`+f+"--",_=Iu.getBlob(A,r,S);if(_===null)throw SR();const M={name:d.fullPath},j=K2(o,n.host,n._protocol),q="POST",F=n.maxUploadRetryTime,ie=new pA(j,q,iL(n,t),F);return ie.urlParams=M,ie.headers=u,ie.body=_.uploadData(),ie.errorHandler=mA(e),ie}class hL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,o){if(this.sent_)throw Of("cannot .send() more than once");if(zu(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Of("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Of("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Of("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Of("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fL extends hL{initXhr(){this.xhr_.responseType="text"}}function yA(){return new fL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t){this._service=e,t instanceof Aa?this._location=t:this._location=Aa.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Tc(e,t)}get root(){const e=new Aa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hA(this._location.path)}get storage(){return this._service}get parent(){const e=QR(this._location.path);if(e===null)return null;const t=new Aa(this._location.bucket,e);return new Tc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw IR(e)}}function dL(n,e,t){n._throwIfRoot("uploadBytes");const r=cL(n.storage,n._location,fA(),new Iu(e,!0),t);return n.storage.makeRequestWithTokens(r,yA).then(a=>({metadata:a,ref:n}))}function pL(n){n._throwIfRoot("getDownloadURL");const e=oL(n.storage,n._location,fA());return n.storage.makeRequestWithTokens(e,yA).then(t=>{if(t===null)throw TR();return t})}function gL(n,e){const t=XR(n._location.path,e),r=new Aa(n._location.bucket,t);return new Tc(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n){return/^[A-Za-z]+:\/\//.test(n)}function yL(n,e){return new Tc(n,e)}function vA(n,e){if(n instanceof W2){const t=n;if(t._bucket==null)throw ER();const r=new Tc(t,t._bucket);return e!=null?vA(r,e):r}else return e!==void 0?gL(n,e):n}function vL(n,e){if(e&&mL(e)){if(n instanceof W2)return yL(n,e);throw L1("To use ref(service, url), the first argument must be a Storage instance.")}else return vA(n,e)}function c_(n,e){const t=e?.[iA];return t==null?null:Aa.makeFromBucketSpec(t,n)}function bL(n,e,t,r={}){n.host=`${e}:${t}`;const a=zu(e);a&&(H1(`https://${n.host}/b`),G1("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:qw(o,n.app.options.projectId))}class W2{constructor(e,t,r,a,o,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=rA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dR,this._maxUploadRetryTime=pR,this._requests=new Set,a!=null?this._bucket=Aa.makeFromBucketSpec(a,this._host):this._bucket=c_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Aa.makeFromBucketSpec(this._url,e):this._bucket=c_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){u_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){u_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ks(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tc(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new CR(sA());{const u=FR(e,this._appId,r,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const h_="@firebase/storage",f_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="storage";function _L(n,e,t){return n=hr(n),dL(n,e,t)}function wL(n){return n=hr(n),pL(n)}function AL(n,e){return n=hr(n),vL(n,e)}function xL(n=K1(),e){n=hr(n);const r=Tg(n,bA).getImmediate({identifier:e}),a=Vw("storage");return a&&EL(r,...a),r}function EL(n,e,t,r={}){bL(n,e,t,r)}function SL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new W2(t,r,a,e,Cc)}function TL(){_c(new Pu(bA,SL,"PUBLIC").setMultipleInstances(!0)),Ko(h_,f_,""),Ko(h_,f_,"esm2020")}TL();const _A={apiKey:"AIzaSyB2rtytlB_03Rhxbo90cps8fhuKvKw7Au0",authDomain:"florale-53f36.firebaseapp.com",projectId:"florale-53f36",storageBucket:"florale-53f36.firebasestorage.app",messagingSenderId:"1076135996607",appId:"1:1076135996607:web:4f6ab12ec99816c6f8aa0a"},NL=()=>{const e=["apiKey","authDomain","projectId","appId"].filter(t=>!_A[t]);e.length>0&&console.warn(` Missing Firebase keys: ${e.join(", ")}. Check your .env file!`)};NL();let Tp,ta,kl,wA;try{Tp=Gw(_A),ta=GN(Tp),kl=GC(Tp),wA=xL(Tp),console.log(" Firebase connected: Auth + Firestore + Storage")}catch(n){throw console.error(" Firebase connection failed:",n),n}class IL{async signUp(e,t,r){try{const a=await N6(ta,e,t);return r&&a.user&&await Qv(a.user,{displayName:r}),await this.sendVerificationEmail(),a.user}catch(a){throw this.handleAuthError(a)}}async signIn(e,t){try{return(await I6(ta,e,t)).user}catch(r){throw this.handleAuthError(r)}}async signInWithGoogle(){try{const e=new Ml;return(await Zv(ta,e)).user}catch(e){throw this.handleAuthError(e)}}async signInWithGithub(){try{const e=new jl;return(await Zv(ta,e)).user}catch(e){throw this.handleAuthError(e)}}async signOut(){try{await P6(ta)}catch(e){throw this.handleAuthError(e)}}async resetPassword(e){try{await T6(ta,e)}catch(t){throw this.handleAuthError(t)}}async sendVerificationEmail(){try{const e=ta.currentUser;e&&!e.emailVerified&&await C6(e)}catch(e){throw this.handleAuthError(e)}}async updateUserProfile(e){try{const t=ta.currentUser;if(!t)throw new Error("No user is currently signed in");await Qv(t,e)}catch(t){throw this.handleAuthError(t)}}async updateUserEmail(e){try{const t=ta.currentUser;if(!t)throw new Error("No user is currently signed in");await L6(t,e)}catch(t){throw this.handleAuthError(t)}}async updateUserPassword(e){try{const t=ta.currentUser;if(!t)throw new Error("No user is currently signed in");await D6(t,e)}catch(t){throw this.handleAuthError(t)}}getCurrentUser(){return ta.currentUser}async getIdToken(e=!1){try{const t=ta.currentUser;return t?await t.getIdToken(e):null}catch(t){throw this.handleAuthError(t)}}onAuthStateChanged(e){return ta.onAuthStateChanged(e)}handleAuthError(e){return{code:e.code||"unknown",message:this.getErrorMessage(e.code)}}getErrorMessage(e){return{"auth/email-already-in-use":"This email is already registered","auth/invalid-email":"Invalid email address","auth/operation-not-allowed":"Operation not allowed","auth/weak-password":"Password is too weak","auth/user-disabled":"This account has been disabled","auth/user-not-found":"No account found with this email","auth/wrong-password":"Incorrect password","auth/invalid-credential":"Invalid credentials","auth/too-many-requests":"Too many attempts. Please try again later","auth/network-request-failed":"Network error. Please check your connection","auth/popup-closed-by-user":"Sign-in popup was closed","auth/cancelled-popup-request":"Only one popup request is allowed at a time"}[e]||"An unexpected error occurred. Please try again."}}const Ol=new IL;class CL{async getDocument(e,t){try{const r=xh(kl,e,t),a=await oR(r);return a.exists()?{id:a.id,...a.data()}:null}catch(r){throw console.error("Error getting document:",r),r}}async getDocuments(e,t){try{const r=this.buildQueryConstraints(t),a=L0(kl,e),o=i_(a,...r);return(await lR(o)).docs.map(h=>({id:h.id,...h.data()}))}catch(r){throw console.error("Error getting documents:",r),r}}async addDocument(e,t){try{const r=L0(kl,e),a={...t,createdAt:kf(),updatedAt:kf()};return(await fR(r,a)).id}catch(r){throw console.error("Error adding document:",r),r}}async setDocument(e,t,r,a=!1){try{const o=xh(kl,e,t),u={...r,createdAt:kf(),updatedAt:kf()};await uR(o,u,{merge:a})}catch(o){throw console.error("Error setting document:",o),o}}async updateDocument(e,t,r){try{const a=xh(kl,e,t),o={...r,updatedAt:kf()};await cR(a,o)}catch(a){throw console.error("Error updating document:",a),a}}async deleteDocument(e,t){try{const r=xh(kl,e,t);await hR(r)}catch(r){throw console.error("Error deleting document:",r),r}}subscribeToDocument(e,t,r){const a=xh(kl,e,t);return o_(a,o=>{o.exists()?r({id:o.id,...o.data()}):r(null)},o=>{console.error("Error in document subscription:",o),r(null)})}subscribeToCollection(e,t,r){const a=this.buildQueryConstraints(r),o=L0(kl,e),u=i_(o,...a);return o_(u,h=>{const f=h.docs.map(d=>({id:d.id,...d.data()}));t(f)},h=>{console.error("Error in collection subscription:",h),t([])})}buildQueryConstraints(e){const t=[];return e&&(e.where&&e.where.forEach(r=>{t.push(eR(r.field,r.operator,r.value))}),e.orderBy&&e.orderBy.forEach(r=>{t.push(tR(r.field,r.direction||"asc"))}),e.limit&&t.push(nR(e.limit)),e.startAfter&&t.push(rR(e.startAfter))),t}async batchWrite(e){try{const t=e.map(r=>{switch(r.type){case"add":return this.addDocument(r.collection,r.data);case"set":if(!r.docId)throw new Error("docId required for set operation");return this.setDocument(r.collection,r.docId,r.data);case"update":if(!r.docId)throw new Error("docId required for update operation");return this.updateDocument(r.collection,r.docId,r.data);case"delete":if(!r.docId)throw new Error("docId required for delete operation");return this.deleteDocument(r.collection,r.docId);default:throw new Error(`Unknown operation type: ${r.type}`)}});await Promise.all(t)}catch(t){throw console.error("Error in batch write:",t),t}}}const Yp=new CL,gh=n=>n?{id:n.uid,name:n.displayName||"Rafnas",email:n.email||"",avatar:n.photoURL||void 0,emailVerified:n.emailVerified}:null,RL=kw()(Ow(n=>({user:null,firebaseUser:null,isAuthenticated:!1,isLoading:!0,error:null,setUser:e=>{const t=gh(e);n({firebaseUser:e,user:t,isAuthenticated:!!e,isLoading:!1},!1,"setUser")},signUp:async(e,t,r)=>{n({isLoading:!0,error:null},!1,"signUp:start");try{const a=await Ol.signUp(e,t,r),o=gh(a);n({firebaseUser:a,user:o,isAuthenticated:!0,isLoading:!1,error:null},!1,"signUp:success")}catch(a){throw n({error:a.message||"Failed to sign up",isLoading:!1},!1,"signUp:error"),a}},signIn:async(e,t)=>{n({isLoading:!0,error:null},!1,"signIn:start");try{const r=await Ol.signIn(e,t),a=gh(r);n({firebaseUser:r,user:a,isAuthenticated:!0,isLoading:!1,error:null},!1,"signIn:success")}catch(r){throw n({error:r.message||"Failed to sign in",isLoading:!1},!1,"signIn:error"),r}},signInWithGoogle:async()=>{n({isLoading:!0,error:null},!1,"signInWithGoogle:start");try{const e=await Ol.signInWithGoogle(),t=gh(e);n({firebaseUser:e,user:t,isAuthenticated:!0,isLoading:!1,error:null},!1,"signInWithGoogle:success")}catch(e){throw n({error:e.message||"Failed to sign in with Google",isLoading:!1},!1,"signInWithGoogle:error"),e}},signInWithGithub:async()=>{n({isLoading:!0,error:null},!1,"signInWithGithub:start");try{const e=await Ol.signInWithGithub(),t=gh(e);n({firebaseUser:e,user:t,isAuthenticated:!0,isLoading:!1,error:null},!1,"signInWithGithub:success")}catch(e){throw n({error:e.message||"Failed to sign in with GitHub",isLoading:!1},!1,"signInWithGithub:error"),e}},signOut:async()=>{n({isLoading:!0,error:null},!1,"signOut:start");try{await Ol.signOut(),n({user:null,firebaseUser:null,isAuthenticated:!1,isLoading:!1,error:null},!1,"signOut:success")}catch(e){throw n({error:e.message||"Failed to sign out",isLoading:!1},!1,"signOut:error"),e}},resetPassword:async e=>{n({isLoading:!0,error:null},!1,"resetPassword:start");try{await Ol.resetPassword(e),n({isLoading:!1,error:null},!1,"resetPassword:success")}catch(t){throw n({error:t.message||"Failed to reset password",isLoading:!1},!1,"resetPassword:error"),t}},updateProfile:async e=>{n({isLoading:!0,error:null},!1,"updateProfile:start");try{await Ol.updateUserProfile(e);const t=Ol.getCurrentUser(),r=gh(t);n({firebaseUser:t,user:r,isLoading:!1,error:null},!1,"updateProfile:success")}catch(t){throw n({error:t.message||"Failed to update profile",isLoading:!1},!1,"updateProfile:error"),t}},clearError:()=>{n({error:null},!1,"clearError")}}),{name:"AuthStore"}));function AA(){const{user:n,isAuthenticated:e,isLoading:t,error:r,signUp:a,signIn:o,signInWithGoogle:u,signInWithGithub:h,signOut:f,resetPassword:d,updateProfile:v,clearError:A,setUser:S}=RL();return Kt.useEffect(()=>{const _=Ol.onAuthStateChanged(M=>{S(M)});return()=>_()},[S]),{user:n,isAuthenticated:e,isLoading:t,error:r,signUp:a,signIn:o,signInWithGoogle:u,signInWithGithub:h,signOut:f,resetPassword:d,updateProfile:v,clearError:A}}function _g(n,e){const[t,r]=Kt.useState([]),[a,o]=Kt.useState(!0),[u,h]=Kt.useState(null),f=JSON.stringify(e);return Kt.useEffect(()=>{let d;return(async()=>{try{o(!0),h(null),d=Yp.subscribeToCollection(n,A=>{r(A),o(!1)},e)}catch(A){h(A instanceof Error?A:new Error("Failed to fetch collection")),o(!1)}})(),()=>{d&&d()}},[n,f]),{data:t,loading:a,error:u}}function Q2(n){const[e,t]=Kt.useState(!1),[r,a]=Kt.useState(null),o=Kt.useCallback(async f=>{try{t(!0),a(null);const d=await Yp.addDocument(n,f);return t(!1),d}catch(d){const v=d instanceof Error?d:new Error("Failed to add document");throw a(v),t(!1),v}},[n]),u=Kt.useCallback(async(f,d)=>{try{t(!0),a(null),await Yp.updateDocument(n,f,d),t(!1)}catch(v){const A=v instanceof Error?v:new Error("Failed to update document");throw a(A),t(!1),A}},[n]),h=Kt.useCallback(async f=>{try{t(!0),a(null),await Yp.deleteDocument(n,f),t(!1)}catch(d){const v=d instanceof Error?d:new Error("Failed to delete document");throw a(v),t(!1),v}},[n]);return{add:o,update:u,remove:h,loading:e,error:r}}function LL(){const{signIn:n,isLoading:e,error:t,clearError:r}=AA(),[a,o]=Kt.useState(""),[u,h]=Kt.useState(""),f=async d=>{d.preventDefault(),r();try{await n(a,u)}catch(v){console.error("Login error:",v)}};return I.jsxs("div",{className:"min-h-screen flex",children:[I.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-white items-center justify-center p-12",children:I.jsx("img",{src:"/Florale Logo-09.png",alt:"Florale Logo",className:"max-w-full max-h-full object-contain"})}),I.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50",children:I.jsxs("div",{className:"w-full max-w-md",children:[I.jsxs("div",{className:"lg:hidden text-center mb-8",children:[I.jsx("img",{src:"/Florale Logo-09.png",alt:"Florale Logo",className:"h-24 w-auto object-contain mx-auto mb-4"}),I.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Florale"}),I.jsx("p",{className:"text-gray-600",children:"Management Portal"})]}),I.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-200",children:[I.jsxs("div",{className:"mb-6",children:[I.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome Back"}),I.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Sign in to your account"})]}),t&&I.jsx("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:I.jsx("p",{className:"text-red-700 text-sm font-medium",children:t})}),I.jsxs("form",{onSubmit:f,className:"space-y-5",children:[I.jsxs("div",{children:[I.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),I.jsx("input",{id:"email",type:"email",value:a,onChange:d=>o(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",placeholder:"your@email.com",required:!0,disabled:e})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),I.jsx("input",{id:"password",type:"password",value:u,onChange:d=>h(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",placeholder:"Enter your password",required:!0,disabled:e})]}),I.jsx("button",{type:"submit",disabled:e,className:"w-full py-3 px-6 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-gray-700 active:scale-95",children:e?I.jsxs("span",{className:"flex items-center justify-center gap-2",children:[I.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[I.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),I.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})]}),I.jsx("div",{className:"mt-6 text-center",children:I.jsx("p",{className:"text-xs text-gray-500",children:"Secure Login  Florale Management Portal"})})]})]})})]})}const yc={PRODUCTS:"products",CATEGORIES:"categories"},DL=async(n,e)=>{try{const t=Date.now(),r=`${e}_${t}_${n.name}`,a=AL(wA,`products/${r}`);return await _L(a,n),await wL(a)}catch(t){throw console.error("Error uploading image:",t),new Error("Failed to upload image")}};function kL({onSuccess:n}){const{add:e,loading:t}=Q2(yc.PRODUCTS),{data:r}=_g(yc.CATEGORIES,{orderBy:[{field:"name",direction:"asc"}]}),[a,o]=Kt.useState({name:"",category:"",retailPrice:"",wholesalePrice:"",stock:"",description:"",discountType:"none",discountValue:""}),[u,h]=Kt.useState(null),[f,d]=Kt.useState(""),v=S=>{const _=S.target.files?.[0];if(_){h(_);const M=new FileReader;M.onloadend=()=>{d(M.result)},M.readAsDataURL(_)}},A=async S=>{S.preventDefault();try{const _=`temp_${Date.now()}`;let M="";u&&(M=await DL(u,_));const j=parseFloat(a.retailPrice),q=parseFloat(a.wholesalePrice);await e({name:a.name,category:a.category,price:j,retailPrice:j,wholesalePrice:q,stock:a.stock?parseInt(a.stock):0,description:a.description,imageUrl:M,discountType:a.discountType,discountValue:parseFloat(a.discountValue)||0,isActive:!0}),o({name:"",category:"",retailPrice:"",wholesalePrice:"",stock:"",description:"",discountType:"none",discountValue:""}),h(null),d(""),alert(" Product added successfully! Redirecting to products list..."),n?.()}catch(_){console.error("Error adding product:",_),alert(" Failed to add product")}};return I.jsxs("form",{onSubmit:A,className:"space-y-6",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4 pb-2 border-b",children:" Basic Information"}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),I.jsx("input",{type:"text",value:a.name,onChange:S=>o({...a,name:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"e.g., Red Roses",required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),I.jsxs("select",{value:a.category,onChange:S=>o({...a,category:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",required:!0,children:[I.jsx("option",{value:"",children:"Select a category"}),r?.map(S=>I.jsxs("option",{value:S.name,children:[S.icon," ",S.name.charAt(0).toUpperCase()+S.name.slice(1)]},S.id))]}),(!r||r.length===0)&&I.jsxs("p",{className:"text-xs text-amber-600 mt-2 flex items-center gap-1",children:[I.jsx("span",{children:""}),I.jsx("span",{children:"No categories available. Please add categories first."})]})]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4 pb-2 border-b",children:" Pricing & Stock"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Retail Price () *"}),I.jsx("input",{type:"number",step:"0.01",value:a.retailPrice,onChange:S=>o({...a,retailPrice:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"100.00",required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wholesale Price () *"}),I.jsx("input",{type:"number",step:"0.01",value:a.wholesalePrice,onChange:S=>o({...a,wholesalePrice:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"80.00",required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity"}),I.jsx("input",{type:"number",value:a.stock,onChange:S=>o({...a,stock:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"50 (Optional)"})]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4 pb-2 border-b",children:" Discount (Optional)"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Type"}),I.jsxs("select",{value:a.discountType,onChange:S=>o({...a,discountType:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",children:[I.jsx("option",{value:"none",children:"No Discount"}),I.jsx("option",{value:"amount",children:"Fixed Amount ()"}),I.jsx("option",{value:"percentage",children:"Percentage (%)"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Value"}),I.jsx("input",{type:"number",step:"0.01",value:a.discountValue,onChange:S=>o({...a,discountValue:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:a.discountType==="percentage"?"10":"50.00",disabled:a.discountType==="none"})]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-base font-bold text-gray-800 mb-4 pb-2 border-b",children:" Additional Details"}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),I.jsx("textarea",{value:a.description,onChange:S=>o({...a,description:S.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"Brief description of the product...",rows:3})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Image (Optional)"}),I.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-indigo-600 file:text-white file:font-medium hover:file:bg-indigo-700 file:cursor-pointer"}),f&&I.jsxs("div",{className:"mt-4",children:[I.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Preview:"}),I.jsx("img",{src:f,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-200 shadow"})]})]})]})]}),I.jsx("div",{className:"pt-4 border-t",children:I.jsx("button",{type:"submit",disabled:t,className:"w-full py-3 px-6 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed border border-gray-700 active:scale-95",children:t?I.jsxs("span",{className:"flex items-center justify-center gap-2",children:[I.jsx("span",{className:"animate-spin",children:""})," Adding Product..."]}):I.jsxs("span",{className:"flex items-center justify-center gap-2",children:[I.jsx("span",{children:""})," Add Product to Inventory"]})})})]})}var OL=Dw();const O0=24,PL="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRssaEpDZ2QDfCM4FHEBDx6C9lJ2VolMcKtvm3QdvSxTcDrWnMjzAUAja636gNn0LBYlbY&usqp=CAU";function ML({onAddToCart:n}){const[e,t]=Kt.useState(1),[r,a]=Kt.useState(""),[o,u]=Kt.useState("all"),[h,f]=Kt.useState("all"),[d,v]=Kt.useState("all"),[A,S]=Kt.useState("all"),[_,M]=Kt.useState(!1),[j,q]=Kt.useState("retail"),{data:F,loading:ie,error:ae}=_g(yc.PRODUCTS,{orderBy:[{field:"createdAt",direction:"desc"}]}),{data:se}=_g(yc.CATEGORIES),we={};se?.forEach($=>{we[$.name]=$.icon});const{remove:ke,loading:Y}=Q2(yc.PRODUCTS),E=Kt.useMemo(()=>F?F.filter($=>{if(r){const be=r.toLowerCase(),Fe=$.name.toLowerCase().includes(be),J=$.category.toLowerCase().includes(be),D=$.description?.toLowerCase().includes(be);if(!Fe&&!J&&!D)return!1}if(o!=="all"&&$.category!==o||h!=="all"&&(h==="low"&&$.price>=500||h==="medium"&&($.price<500||$.price>=2e3)||h==="high"&&$.price<2e3))return!1;if(d!=="all"){const be=$.discountType!=="none"&&$.discountValue>0;if(d==="yes"&&!be||d==="no"&&be)return!1}return!(A!=="all"&&(A==="low"&&$.stock>=10||A==="available"&&$.stock<10))}):[],[F,r,o,h,d,A]),L=()=>{a(""),u("all"),f("all"),v("all"),S("all"),t(1)};Kt.useMemo(()=>{t(1)},[r,o,h,d,A]);const B=r!==""||o!=="all"||h!=="all"||d!=="all"||A!=="all",N=async($,be)=>{if(confirm(`Are you sure you want to delete "${be}"?`))try{await ke($),alert(" Product deleted successfully!")}catch(Fe){console.error("Error deleting product:",Fe),alert(" Failed to delete product")}},O=$=>{if(n){const be=j==="retail"?$.retailPrice||$.price:$.wholesalePrice||$.price;n({...$,priceType:j,selectedPrice:be,quantity:1})}};if(ie)return I.jsxs("div",{className:"text-center py-12",children:[I.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto"}),I.jsx("p",{className:"mt-4 text-gray-600",children:"Loading products..."})]});if(ae)return I.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-lg",children:I.jsxs("p",{className:"text-red-700",children:["Error loading products: ",ae.message]})});if(!F||F.length===0)return I.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300",children:[I.jsx("span",{className:"text-6xl mb-4 block",children:""}),I.jsx("p",{className:"text-gray-600 text-lg",children:"No products yet"}),I.jsx("p",{className:"text-gray-500 text-sm",children:"Add your first product using the form above"})]});const P=Math.ceil(E.length/O0),oe=(e-1)*O0,xe=oe+O0,ee=E.slice(oe,xe),de=I.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mt-4 md:mt-0",children:[I.jsxs("div",{className:"relative flex-1",children:[I.jsx("input",{type:"text",placeholder:"Search products by name, category, or description...",value:r,onChange:$=>a($.target.value),className:"w-full px-4 py-2.5 pl-10 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none"}),I.jsx("span",{className:"absolute left-3 top-2.5 text-gray-400 text-lg",children:""}),r&&I.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:""})]}),I.jsxs("div",{className:"flex items-center rounded-lg bg-gray-200 p-1",children:[I.jsx("button",{onClick:()=>q("retail"),className:`px-4 py-1.5 text-sm font-semibold rounded-md transition-all ${j==="retail"?"bg-white text-blue-600 shadow":"text-gray-600"}`,children:"Retail"}),I.jsx("button",{onClick:()=>q("wholesale"),className:`px-4 py-1.5 text-sm font-semibold rounded-md transition-all ${j==="wholesale"?"bg-white text-green-600 shadow":"text-gray-600"}`,children:"Wholesale"})]}),I.jsxs("button",{onClick:()=>M(!0),className:"px-6 py-2.5 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all flex items-center gap-2 whitespace-nowrap border border-gray-700 active:scale-95",children:[I.jsx("span",{children:""}),I.jsx("span",{children:"Filters"}),B&&I.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:[o!=="all",h!=="all",d!=="all",A!=="all"].filter(Boolean).length})]})]});return I.jsxs("div",{className:"p-6",children:[typeof document<"u"&&document.getElementById("products-search-filter-container")&&OL.createPortal(de,document.getElementById("products-search-filter-container")),B&&I.jsxs("div",{className:"mb-4 flex items-center gap-2 flex-wrap",children:[I.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Active Filters:"}),r&&I.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:['"',r,'"',I.jsx("button",{onClick:()=>a(""),className:"hover:text-blue-900",children:""})]}),o!=="all"&&I.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm flex items-center gap-1",children:[o,I.jsx("button",{onClick:()=>u("all"),className:"hover:text-purple-900",children:""})]}),h!=="all"&&I.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm flex items-center gap-1",children:[h," price",I.jsx("button",{onClick:()=>f("all"),className:"hover:text-indigo-900",children:""})]}),d!=="all"&&I.jsxs("span",{className:"px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-sm flex items-center gap-1",children:[d==="yes"?"with discount":"no discount",I.jsx("button",{onClick:()=>v("all"),className:"hover:text-amber-900",children:""})]}),A!=="all"&&I.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm flex items-center gap-1",children:[A," stock",I.jsx("button",{onClick:()=>S("all"),className:"hover:text-green-900",children:""})]}),I.jsx("button",{onClick:L,className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full text-sm font-medium",children:"Clear All"})]}),_&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>M(!1)}),I.jsxs("div",{className:"fixed lg:right-0 lg:top-0 lg:bottom-0 lg:w-96 bottom-0 left-0 right-0 lg:max-h-screen max-h-[80vh] bg-white z-50 shadow-2xl lg:rounded-l-2xl rounded-t-2xl overflow-hidden flex flex-col transition-transform duration-300 ease-out",style:{animation:window.innerWidth>=1024?"slideInFromRight 0.3s ease-out":"slideInFromBottom 0.3s ease-out"},children:[I.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 flex items-center justify-between",children:[I.jsx("h3",{className:"text-xl font-bold",children:" Filters"}),I.jsx("button",{onClick:()=>M(!1),className:"text-white hover:bg-white/20 rounded-full p-2 transition-all",children:""})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category"}),I.jsxs("select",{value:o,onChange:$=>u($.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",children:[I.jsx("option",{value:"all",children:"All Categories"}),se?.map($=>I.jsxs("option",{value:$.name,children:[$.icon," ",$.name.charAt(0).toUpperCase()+$.name.slice(1)]},$.id))]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price Range"}),I.jsxs("select",{value:h,onChange:$=>f($.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",children:[I.jsx("option",{value:"all",children:"All Prices"}),I.jsx("option",{value:"low",children:"Under 500"}),I.jsx("option",{value:"medium",children:"500 - 2000"}),I.jsx("option",{value:"high",children:"Above 2000"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Discount"}),I.jsxs("select",{value:d,onChange:$=>v($.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",children:[I.jsx("option",{value:"all",children:"All Products"}),I.jsx("option",{value:"yes",children:"With Discount"}),I.jsx("option",{value:"no",children:"No Discount"})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Stock Status"}),I.jsxs("select",{value:A,onChange:$=>S($.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",children:[I.jsx("option",{value:"all",children:"All Stock Levels"}),I.jsx("option",{value:"low",children:"Low Stock (<10)"}),I.jsx("option",{value:"available",children:"Available (10)"})]})]})]}),I.jsxs("div",{className:"border-t p-4 space-y-2 bg-gray-50",children:[I.jsx("button",{onClick:L,className:"w-full py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-medium transition-all",children:"Reset All Filters"}),I.jsx("button",{onClick:()=>M(!1),className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold shadow-md transition-all",children:"Apply Filters"})]})]})]}),I.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[I.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",E.length>0?oe+1:0,"-",Math.min(xe,E.length)," of ",E.length," products",E.length!==F.length&&I.jsxs("span",{className:"text-gray-500",children:[" (filtered from ",F.length," total)"]})]}),P>1&&I.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",e," of ",P]})]}),E.length===0&&I.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300 mb-6",children:[I.jsx("span",{className:"text-6xl mb-4 block",children:""}),I.jsx("p",{className:"text-gray-600 text-lg",children:"No products match your filters"}),I.jsx("button",{onClick:L,className:"mt-4 px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium",children:"Clear Filters"})]}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ee.map($=>I.jsxs("div",{className:`bg-white rounded-xl shadow-sm border hover:shadow-lg transition-all flex flex-col ${$.isActive?"border-gray-200":"border-gray-200 opacity-60"}`,children:[I.jsxs("div",{className:"relative",children:[I.jsx("img",{src:$.imageUrl||PL,alt:$.name,className:"w-full h-40 object-contain bg-gray-50 rounded-t-xl"}),I.jsx("div",{className:"absolute top-2 right-2",children:I.jsx("button",{onClick:()=>N($.id,$.name),disabled:Y,className:"text-red-500 hover:text-red-700 p-1",title:"Delete product",children:""})})]}),I.jsxs("div",{className:"p-3 flex flex-col flex-1",children:[I.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[I.jsx("span",{className:"text-2xl",children:we[$.category]||""}),I.jsxs("div",{className:"flex-1",children:[I.jsx("h3",{className:"font-bold text-sm text-gray-900 line-clamp-1",children:$.name}),I.jsx("p",{className:"text-xs text-gray-500 capitalize",children:$.category})]})]}),I.jsxs("div",{className:"mb-2",children:[I.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[I.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-200",children:[I.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Retail"}),I.jsxs("p",{className:"text-sm font-bold text-blue-700",children:["",$.retailPrice||$.price]})]}),I.jsxs("div",{className:"bg-green-50 p-2 rounded border border-green-200",children:[I.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Wholesale"}),I.jsxs("p",{className:"text-sm font-bold text-green-700",children:["",$.wholesalePrice||$.price]})]})]}),I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("p",{className:"text-xs text-gray-500",children:"Stock"}),I.jsxs("p",{className:`text-sm font-bold ${$.stock<10?"text-red-600":"text-green-600"}`,children:[$.stock," units"]})]})]}),I.jsx("div",{className:"mb-2 min-h-[2.5rem] flex items-start",children:$.discountType!=="none"&&$.discountValue>0&&I.jsx("div",{className:"p-1.5 bg-amber-50 border border-amber-200 rounded text-xs w-full",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("span",{className:"text-amber-700 font-medium",children:$.discountType==="percentage"?`${$.discountValue}% OFF`:`${$.discountValue} OFF`}),I.jsxs("span",{className:"text-amber-700 font-bold",children:["",$.discountType==="percentage"?($.price-$.price*$.discountValue/100).toFixed(2):($.price-$.discountValue).toFixed(2)]})]})})}),n&&I.jsxs("button",{onClick:()=>O($),className:"w-full py-2.5 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white rounded-lg font-semibold transition-all text-sm flex items-center justify-center gap-1.5 mt-auto shadow-lg hover:shadow-xl active:scale-95 border border-gray-700",children:[I.jsx("span",{className:"text-base",children:""})," Add to Cart"]})]})]},$.id))}),P>1&&I.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2",children:[I.jsx("button",{onClick:()=>t($=>Math.max(1,$-1)),disabled:e===1,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:" Previous"}),I.jsx("div",{className:"flex gap-1",children:Array.from({length:P},($,be)=>be+1).map($=>{const be=$===1||$===P||$>=e-1&&$<=e+1;return!be&&$===e-2?I.jsx("span",{className:"px-2 py-2 text-gray-400",children:"..."},$):!be&&$===e+2?I.jsx("span",{className:"px-2 py-2 text-gray-400",children:"..."},$):be?I.jsx("button",{onClick:()=>t($),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e===$?"bg-indigo-600 text-white shadow-md":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:$},$):null})}),I.jsx("button",{onClick:()=>t($=>Math.min(P,$+1)),disabled:e===P,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next "})]})]})}function jL(){const{data:n,loading:e,error:t}=_g(yc.CATEGORIES,{orderBy:[{field:"createdAt",direction:"asc"}]}),{add:r,remove:a,loading:o}=Q2(yc.CATEGORIES),[u,h]=Kt.useState({name:"",icon:""}),[f,d]=Kt.useState(!1),v=async S=>{if(S.preventDefault(),!u.name.trim()||!u.icon.trim()){alert(" Please provide both name and icon");return}try{await r({name:u.name.toLowerCase(),icon:u.icon}),h({name:"",icon:""}),d(!1),alert(" Category added successfully!")}catch(_){console.error("Error adding category:",_),alert(" Failed to add category")}},A=async(S,_)=>{if(confirm(`Are you sure you want to delete "${_}" category?`))try{await a(S),alert(" Category deleted successfully!")}catch(M){console.error("Error deleting category:",M),alert(" Failed to delete category")}};return e?I.jsxs("div",{className:"text-center py-8",children:[I.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto"}),I.jsx("p",{className:"mt-2 text-gray-600 text-sm",children:"Loading categories..."})]}):t?I.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 rounded-lg",children:I.jsxs("p",{className:"text-red-700 text-sm",children:["Error loading categories: ",t.message]})}):I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("div",{children:I.jsx("p",{className:"text-sm text-gray-600",children:"Organize your products with custom categories"})}),I.jsx("button",{onClick:()=>d(!f),className:`px-5 py-2.5 rounded-xl font-semibold text-sm shadow-lg transition-all border active:scale-95 ${f?"bg-gray-500 hover:bg-gray-600 text-white border-gray-600":"bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white border-gray-700"}`,children:f?" Cancel":"+ Add New Category"})]}),f&&I.jsxs("form",{onSubmit:v,className:"bg-gradient-to-r from-purple-50 to-indigo-50 p-6 rounded-xl border-2 border-purple-200 shadow-lg",children:[I.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-4 flex items-center gap-2",children:[I.jsx("span",{children:""})," Create New Category"]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category Name *"}),I.jsx("input",{type:"text",value:u.name,onChange:S=>h({...u,name:S.target.value}),className:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none bg-white",placeholder:"e.g., dried flowers",required:!0})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Icon (Emoji) *"}),I.jsx("input",{type:"text",value:u.icon,onChange:S=>h({...u,icon:S.target.value}),className:"w-full px-4 py-3 border-2 border-purple-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none text-2xl text-center bg-white",placeholder:"",required:!0})]})]}),I.jsx("button",{type:"submit",disabled:o,className:"mt-4 w-full px-4 py-3 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50 border border-gray-700 active:scale-95",children:o?I.jsxs("span",{className:"flex items-center justify-center gap-2",children:[I.jsx("span",{className:"animate-spin",children:""})," Adding..."]}):I.jsxs("span",{className:"flex items-center justify-center gap-2",children:[I.jsx("span",{children:""})," Create Category"]})})]}),I.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:n?.map(S=>I.jsx("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-xl shadow-md p-4 border-2 border-purple-200 hover:shadow-xl hover:scale-105 transition-all group",children:I.jsxs("div",{className:"flex flex-col items-center text-center gap-2",children:[I.jsx("span",{className:"text-4xl",children:S.icon}),I.jsx("span",{className:"text-sm font-bold text-gray-800 capitalize",children:S.name}),I.jsx("button",{onClick:()=>A(S.id,S.name),disabled:o,className:"mt-2 w-full px-2 py-1 bg-red-50 hover:bg-red-100 text-red-600 text-xs font-semibold rounded-lg transition-all disabled:opacity-50 opacity-0 group-hover:opacity-100",children:" Delete"})]})},S.id))}),(!n||n.length===0)&&!f&&I.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[I.jsx("span",{className:"text-4xl block mb-2",children:""}),I.jsx("p",{className:"text-gray-600 text-sm",children:"No categories yet"}),I.jsx("p",{className:"text-gray-500 text-xs",children:'Click "Add Category" to create one'})]})]})}const UL="modulepreload",VL=function(n){return"/"+n},d_={},P0=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(v=>Promise.resolve(v).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=f(t.map(d=>{if(d=VL(d),d in d_)return;d_[d]=!0;const v=d.endsWith(".css"),A=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${A}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":UL,v||(S.as="script"),S.crossOrigin="",S.href=d,h&&S.setAttribute("nonce",h),document.head.appendChild(S),v)return new Promise((_,M)=>{S.addEventListener("load",_),S.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Qn(n){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(n)}var mo=Uint8Array,xa=Uint16Array,X2=Int32Array,J2=new mo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Z2=new mo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),p_=new mo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xA=function(n,e){for(var t=new xa(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new X2(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},EA=xA(J2,2),FL=EA.b,D1=EA.r;FL[28]=258,D1[258]=28;var BL=xA(Z2,0),g_=BL.r,k1=new xa(32768);for(var vr=0;vr<32768;++vr){var Eu=(vr&43690)>>1|(vr&21845)<<1;Eu=(Eu&52428)>>2|(Eu&13107)<<2,Eu=(Eu&61680)>>4|(Eu&3855)<<4,k1[vr]=((Eu&65280)>>8|(Eu&255)<<8)>>1}var Wf=(function(n,e,t){for(var r=n.length,a=0,o=new xa(e);a<r;++a)n[a]&&++o[n[a]-1];var u=new xa(e);for(a=1;a<e;++a)u[a]=u[a-1]+o[a-1]<<1;var h;if(t){h=new xa(1<<e);var f=15-e;for(a=0;a<r;++a)if(n[a])for(var d=a<<4|n[a],v=e-n[a],A=u[n[a]-1]++<<v,S=A|(1<<v)-1;A<=S;++A)h[k1[A]>>f]=d}else for(h=new xa(r),a=0;a<r;++a)n[a]&&(h[a]=k1[u[n[a]-1]++]>>15-n[a]);return h}),Nc=new mo(288);for(var vr=0;vr<144;++vr)Nc[vr]=8;for(var vr=144;vr<256;++vr)Nc[vr]=9;for(var vr=256;vr<280;++vr)Nc[vr]=7;for(var vr=280;vr<288;++vr)Nc[vr]=8;var wg=new mo(32);for(var vr=0;vr<32;++vr)wg[vr]=5;var qL=Wf(Nc,9,0),zL=Wf(wg,5,0),SA=function(n){return(n+7)/8|0},HL=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new mo(n.subarray(e,t))},Ll=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Pf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},M0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,o=t.slice();if(!a)return{t:NA,l:0};if(a==1){var u=new mo(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(we,ke){return we.f-ke.f}),t.push({s:-1,f:25001});var h=t[0],f=t[1],d=0,v=1,A=2;for(t[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=a-1;)h=t[t[d].f<t[A].f?d++:A++],f=t[d!=v&&t[d].f<t[A].f?d++:A++],t[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var S=o[0].s,r=1;r<a;++r)o[r].s>S&&(S=o[r].s);var _=new xa(S+1),M=O1(t[v-1],_,0);if(M>e){var r=0,j=0,q=M-e,F=1<<q;for(o.sort(function(ke,Y){return _[Y.s]-_[ke.s]||ke.f-Y.f});r<a;++r){var ie=o[r].s;if(_[ie]>e)j+=F-(1<<M-_[ie]),_[ie]=e;else break}for(j>>=q;j>0;){var ae=o[r].s;_[ae]<e?j-=1<<e-_[ae]++-1:++r}for(;r>=0&&j;--r){var se=o[r].s;_[se]==e&&(--_[se],++j)}M=e}return{t:new mo(_),l:M}},O1=function(n,e,t){return n.s==-1?Math.max(O1(n.l,e,t+1),O1(n.r,e,t+1)):e[n.s]=t},m_=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new xa(++e),r=0,a=n[0],o=1,u=function(f){t[r++]=f},h=1;h<=e;++h)if(n[h]==a&&h!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=n[h]}return{c:t.subarray(0,r),n:e}},Mf=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},TA=function(n,e,t){var r=t.length,a=SA(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=t[o];return(a+4+r)*8},y_=function(n,e,t,r,a,o,u,h,f,d,v){Ll(e,v++,t),++a[256];for(var A=M0(a,15),S=A.t,_=A.l,M=M0(o,15),j=M.t,q=M.l,F=m_(S),ie=F.c,ae=F.n,se=m_(j),we=se.c,ke=se.n,Y=new xa(19),E=0;E<ie.length;++E)++Y[ie[E]&31];for(var E=0;E<we.length;++E)++Y[we[E]&31];for(var L=M0(Y,7),B=L.t,N=L.l,O=19;O>4&&!B[p_[O-1]];--O);var P=d+5<<3,oe=Mf(a,Nc)+Mf(o,wg)+u,xe=Mf(a,S)+Mf(o,j)+u+14+3*O+Mf(Y,B)+2*Y[16]+3*Y[17]+7*Y[18];if(f>=0&&P<=oe&&P<=xe)return TA(e,v,n.subarray(f,f+d));var ee,de,$,be;if(Ll(e,v,1+(xe<oe)),v+=2,xe<oe){ee=Wf(S,_,0),de=S,$=Wf(j,q,0),be=j;var Fe=Wf(B,N,0);Ll(e,v,ae-257),Ll(e,v+5,ke-1),Ll(e,v+10,O-4),v+=14;for(var E=0;E<O;++E)Ll(e,v+3*E,B[p_[E]]);v+=3*O;for(var J=[ie,we],D=0;D<2;++D)for(var K=J[D],E=0;E<K.length;++E){var Z=K[E]&31;Ll(e,v,Fe[Z]),v+=B[Z],Z>15&&(Ll(e,v,K[E]>>5&127),v+=K[E]>>12)}}else ee=qL,de=Nc,$=zL,be=wg;for(var E=0;E<h;++E){var ue=r[E];if(ue>255){var Z=ue>>18&31;Pf(e,v,ee[Z+257]),v+=de[Z+257],Z>7&&(Ll(e,v,ue>>23&31),v+=J2[Z]);var he=ue&31;Pf(e,v,$[he]),v+=be[he],he>3&&(Pf(e,v,ue>>5&8191),v+=Z2[he])}else Pf(e,v,ee[ue]),v+=de[ue]}return Pf(e,v,ee[256]),v+de[256]},GL=new X2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),NA=new mo(0),YL=function(n,e,t,r,a,o){var u=o.z||n.length,h=new mo(r+u+5*(1+Math.ceil(u/7e3))+a),f=h.subarray(r,h.length-a),d=o.l,v=(o.r||0)&7;if(e){v&&(f[0]=o.r>>3);for(var A=GL[e-1],S=A>>13,_=A&8191,M=(1<<t)-1,j=o.p||new xa(32768),q=o.h||new xa(M+1),F=Math.ceil(t/3),ie=2*F,ae=function(Oe){return(n[Oe]^n[Oe+1]<<F^n[Oe+2]<<ie)&M},se=new X2(25e3),we=new xa(288),ke=new xa(32),Y=0,E=0,L=o.i||0,B=0,N=o.w||0,O=0;L+2<u;++L){var P=ae(L),oe=L&32767,xe=q[P];if(j[oe]=xe,q[P]=oe,N<=L){var ee=u-L;if((Y>7e3||B>24576)&&(ee>423||!d)){v=y_(n,f,0,se,we,ke,E,B,O,L-O,v),B=Y=E=0,O=L;for(var de=0;de<286;++de)we[de]=0;for(var de=0;de<30;++de)ke[de]=0}var $=2,be=0,Fe=_,J=oe-xe&32767;if(ee>2&&P==ae(L-J))for(var D=Math.min(S,ee)-1,K=Math.min(32767,L),Z=Math.min(258,ee);J<=K&&--Fe&&oe!=xe;){if(n[L+$]==n[L+$-J]){for(var ue=0;ue<Z&&n[L+ue]==n[L+ue-J];++ue);if(ue>$){if($=ue,be=J,ue>D)break;for(var he=Math.min(J,ue-2),ye=0,de=0;de<he;++de){var Se=L-J+de&32767,Ne=j[Se],Ue=Se-Ne&32767;Ue>ye&&(ye=Ue,xe=Se)}}}oe=xe,xe=j[oe],J+=oe-xe&32767}if(be){se[B++]=268435456|D1[$]<<18|g_[be];var Qe=D1[$]&31,Ze=g_[be]&31;E+=J2[Qe]+Z2[Ze],++we[257+Qe],++ke[Ze],N=L+$,++Y}else se[B++]=n[L],++we[n[L]]}}for(L=Math.max(L,N);L<u;++L)se[B++]=n[L],++we[n[L]];v=y_(n,f,d,se,we,ke,E,B,O,L-O,v),d||(o.r=v&7|f[v/8|0]<<3,v-=7,o.h=q,o.p=j,o.i=L,o.w=N)}else{for(var L=o.w||0;L<u+d;L+=65535){var tt=L+65535;tt>=u&&(f[v/8|0]=d,tt=u),v=TA(f,v+1,n.subarray(L,tt))}o.i=u}return HL(h,0,r+SA(v)+a)},IA=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,o=t.length|0,u=0;u!=o;){for(var h=Math.min(u+2655,o);u<h;++u)a+=r+=t[u];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},$L=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new mo(o.length+n.length);u.set(o),u.set(n,o.length),n=u,a.w=o.length}return YL(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},CA=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},KL=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=IA();a.p(e.dictionary),CA(n,2,a.d())}};function P1(n,e){e||(e={});var t=IA();t.p(n);var r=$L(n,e,e.dictionary?6:2,4);return KL(r,e),CA(r,r.length-4,t.d()),r}var WL=typeof TextDecoder<"u"&&new TextDecoder,QL=0;try{WL.decode(NA,{stream:!0}),QL=1}catch{}function XL(n){if(Array.isArray(n))return n}function JL(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,o,u,h=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(h.push(r.value),h.length!==e);f=!0);}catch(v){d=!0,a=v}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw a}}return h}}function v_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function ZL(n,e){if(n){if(typeof n=="string")return v_(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v_(n,e):void 0}}function e7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b_(n,e){return XL(n)||JL(n,e)||ZL(n,e)||e7()}function __(n,e="utf8"){return new TextDecoder(e).decode(n)}const t7=new TextEncoder;function n7(n){return t7.encode(n)}const r7=1024*8,i7=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),j0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ey{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=r7,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let u=a;(ArrayBuffer.isView(e)||e instanceof ey)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=j0[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===i7&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+r));h.reverse();const f=new j0[t](h.buffer);return this.offset+=r,f.reverse(),f}const u=new j0[t](o);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return __(this.readBytes(e))}decodeText(e=1,t="utf8"){return __(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(n7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Kh(n){let e=n.length;for(;--e>=0;)n[e]=0}const s7=3,a7=258,RA=29,o7=256,l7=o7+1+RA,LA=30,u7=512,c7=new Array((l7+2)*2);Kh(c7);const h7=new Array(LA*2);Kh(h7);const f7=new Array(u7);Kh(f7);const d7=new Array(a7-s7+1);Kh(d7);const p7=new Array(RA);Kh(p7);const g7=new Array(LA);Kh(g7);const m7=(n,e,t,r)=>{let a=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do a=a+e[r++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};var M1=m7;const y7=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},v7=new Uint32Array(y7()),b7=(n,e,t,r)=>{const a=v7,o=r+t;n^=-1;for(let u=r;u<o;u++)n=n>>>8^a[(n^e[u])&255];return n^-1};var zo=b7,j1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},DA={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const _7=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var w7=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)_7(t,r)&&(n[r]=t[r])}}return n},A7=n=>{let e=0;for(let r=0,a=n.length;r<a;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=n.length;r<o;r++){let u=n[r];t.set(u,a),a+=u.length}return t},kA={assign:w7,flattenChunks:A7};let OA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{OA=!1}const ld=new Uint8Array(256);for(let n=0;n<256;n++)ld[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;ld[254]=ld[254]=1;var x7=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,a,o,u=n.length,h=0;for(a=0;a<u;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),o=0,a=0;o<h;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const E7=(n,e)=>{if(e<65534&&n.subarray&&OA)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var S7=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let u=n[r++];if(u<128){o[a++]=u;continue}let h=ld[u];if(h>4){o[a++]=65533,r+=h-1;continue}for(u&=h===2?31:h===3?15:7;h>1&&r<t;)u=u<<6|n[r++]&63,h--;if(h>1){o[a++]=65533;continue}u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|u&1023)}return E7(o,a)},T7=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+ld[n[t]]>e?t:e},U1={string2buf:x7,buf2string:S7,utf8border:T7};function N7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var I7=N7;const Np=16209,C7=16191;var R7=function(e,t){let r,a,o,u,h,f,d,v,A,S,_,M,j,q,F,ie,ae,se,we,ke,Y,E,L,B;const N=e.state;r=e.next_in,L=e.input,a=r+(e.avail_in-5),o=e.next_out,B=e.output,u=o-(t-e.avail_out),h=o+(e.avail_out-257),f=N.dmax,d=N.wsize,v=N.whave,A=N.wnext,S=N.window,_=N.hold,M=N.bits,j=N.lencode,q=N.distcode,F=(1<<N.lenbits)-1,ie=(1<<N.distbits)-1;e:do{M<15&&(_+=L[r++]<<M,M+=8,_+=L[r++]<<M,M+=8),ae=j[_&F];t:for(;;){if(se=ae>>>24,_>>>=se,M-=se,se=ae>>>16&255,se===0)B[o++]=ae&65535;else if(se&16){we=ae&65535,se&=15,se&&(M<se&&(_+=L[r++]<<M,M+=8),we+=_&(1<<se)-1,_>>>=se,M-=se),M<15&&(_+=L[r++]<<M,M+=8,_+=L[r++]<<M,M+=8),ae=q[_&ie];n:for(;;){if(se=ae>>>24,_>>>=se,M-=se,se=ae>>>16&255,se&16){if(ke=ae&65535,se&=15,M<se&&(_+=L[r++]<<M,M+=8,M<se&&(_+=L[r++]<<M,M+=8)),ke+=_&(1<<se)-1,ke>f){e.msg="invalid distance too far back",N.mode=Np;break e}if(_>>>=se,M-=se,se=o-u,ke>se){if(se=ke-se,se>v&&N.sane){e.msg="invalid distance too far back",N.mode=Np;break e}if(Y=0,E=S,A===0){if(Y+=d-se,se<we){we-=se;do B[o++]=S[Y++];while(--se);Y=o-ke,E=B}}else if(A<se){if(Y+=d+A-se,se-=A,se<we){we-=se;do B[o++]=S[Y++];while(--se);if(Y=0,A<we){se=A,we-=se;do B[o++]=S[Y++];while(--se);Y=o-ke,E=B}}}else if(Y+=A-se,se<we){we-=se;do B[o++]=S[Y++];while(--se);Y=o-ke,E=B}for(;we>2;)B[o++]=E[Y++],B[o++]=E[Y++],B[o++]=E[Y++],we-=3;we&&(B[o++]=E[Y++],we>1&&(B[o++]=E[Y++]))}else{Y=o-ke;do B[o++]=B[Y++],B[o++]=B[Y++],B[o++]=B[Y++],we-=3;while(we>2);we&&(B[o++]=B[Y++],we>1&&(B[o++]=B[Y++]))}}else if((se&64)===0){ae=q[(ae&65535)+(_&(1<<se)-1)];continue n}else{e.msg="invalid distance code",N.mode=Np;break e}break}}else if((se&64)===0){ae=j[(ae&65535)+(_&(1<<se)-1)];continue t}else if(se&32){N.mode=C7;break e}else{e.msg="invalid literal/length code",N.mode=Np;break e}break}}while(r<a&&o<h);we=M>>3,r-=we,M-=we<<3,_&=(1<<M)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<h?257+(h-o):257-(o-h),N.hold=_,N.bits=M};const mh=15,w_=852,A_=592,x_=0,U0=1,E_=2,L7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),D7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),k7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),O7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),P7=(n,e,t,r,a,o,u,h)=>{const f=h.bits;let d=0,v=0,A=0,S=0,_=0,M=0,j=0,q=0,F=0,ie=0,ae,se,we,ke,Y,E=null,L;const B=new Uint16Array(mh+1),N=new Uint16Array(mh+1);let O=null,P,oe,xe;for(d=0;d<=mh;d++)B[d]=0;for(v=0;v<r;v++)B[e[t+v]]++;for(_=f,S=mh;S>=1&&B[S]===0;S--);if(_>S&&(_=S),S===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,h.bits=1,0;for(A=1;A<S&&B[A]===0;A++);for(_<A&&(_=A),q=1,d=1;d<=mh;d++)if(q<<=1,q-=B[d],q<0)return-1;if(q>0&&(n===x_||S!==1))return-1;for(N[1]=0,d=1;d<mh;d++)N[d+1]=N[d]+B[d];for(v=0;v<r;v++)e[t+v]!==0&&(u[N[e[t+v]]++]=v);if(n===x_?(E=O=u,L=20):n===U0?(E=L7,O=D7,L=257):(E=k7,O=O7,L=0),ie=0,v=0,d=A,Y=o,M=_,j=0,we=-1,F=1<<_,ke=F-1,n===U0&&F>w_||n===E_&&F>A_)return 1;for(;;){P=d-j,u[v]+1<L?(oe=0,xe=u[v]):u[v]>=L?(oe=O[u[v]-L],xe=E[u[v]-L]):(oe=96,xe=0),ae=1<<d-j,se=1<<M,A=se;do se-=ae,a[Y+(ie>>j)+se]=P<<24|oe<<16|xe|0;while(se!==0);for(ae=1<<d-1;ie&ae;)ae>>=1;if(ae!==0?(ie&=ae-1,ie+=ae):ie=0,v++,--B[d]===0){if(d===S)break;d=e[t+u[v]]}if(d>_&&(ie&ke)!==we){for(j===0&&(j=_),Y+=A,M=d-j,q=1<<M;M+j<S&&(q-=B[M+j],!(q<=0));)M++,q<<=1;if(F+=1<<M,n===U0&&F>w_||n===E_&&F>A_)return 1;we=ie&ke,a[we]=_<<24|M<<16|Y-o|0}}return ie!==0&&(a[Y+ie]=d-j<<24|64<<16|0),h.bits=_,0};var Qf=P7;const M7=0,PA=1,MA=2,{Z_FINISH:S_,Z_BLOCK:j7,Z_TREES:Ip,Z_OK:Ic,Z_STREAM_END:U7,Z_NEED_DICT:V7,Z_STREAM_ERROR:Ha,Z_DATA_ERROR:jA,Z_MEM_ERROR:UA,Z_BUF_ERROR:F7,Z_DEFLATED:T_}=DA,Zg=16180,N_=16181,I_=16182,C_=16183,R_=16184,L_=16185,D_=16186,k_=16187,O_=16188,P_=16189,Ag=16190,Dl=16191,V0=16192,M_=16193,F0=16194,j_=16195,U_=16196,V_=16197,F_=16198,Cp=16199,Rp=16200,B_=16201,q_=16202,z_=16203,H_=16204,G_=16205,B0=16206,Y_=16207,$_=16208,Er=16209,VA=16210,FA=16211,B7=852,q7=592,z7=15,H7=z7,K_=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function G7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const kc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Zg||e.mode>FA?1:0},BA=n=>{if(kc(n))return Ha;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Zg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(B7),e.distcode=e.distdyn=new Int32Array(q7),e.sane=1,e.back=-1,Ic},qA=n=>{if(kc(n))return Ha;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,BA(n)},zA=(n,e)=>{let t;if(kc(n))return Ha;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ha:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,qA(n))},HA=(n,e)=>{if(!n)return Ha;const t=new G7;n.state=t,t.strm=n,t.window=null,t.mode=Zg;const r=zA(n,e);return r!==Ic&&(n.state=null),r},Y7=n=>HA(n,H7);let W_=!0,q0,z0;const $7=n=>{if(W_){q0=new Int32Array(512),z0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Qf(PA,n.lens,0,288,q0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Qf(MA,n.lens,0,32,z0,0,n.work,{bits:5}),W_=!1}n.lencode=q0,n.lenbits=9,n.distcode=z0,n.distbits=5},GA=(n,e,t,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},K7=(n,e)=>{let t,r,a,o,u,h,f,d,v,A,S,_,M,j,q=0,F,ie,ae,se,we,ke,Y,E;const L=new Uint8Array(4);let B,N;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(kc(n)||!n.output||!n.input&&n.avail_in!==0)return Ha;t=n.state,t.mode===Dl&&(t.mode=V0),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=t.hold,v=t.bits,A=h,S=f,E=Ic;e:for(;;)switch(t.mode){case Zg:if(t.wrap===0){t.mode=V0;break}for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,L[0]=d&255,L[1]=d>>>8&255,t.check=zo(t.check,L,2,0),d=0,v=0,t.mode=N_;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Er;break}if((d&15)!==T_){n.msg="unknown compression method",t.mode=Er;break}if(d>>>=4,v-=4,Y=(d&15)+8,t.wbits===0&&(t.wbits=Y),Y>15||Y>t.wbits){n.msg="invalid window size",t.mode=Er;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?P_:Dl,d=0,v=0;break;case N_:for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.flags=d,(t.flags&255)!==T_){n.msg="unknown compression method",t.mode=Er;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Er;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(L[0]=d&255,L[1]=d>>>8&255,t.check=zo(t.check,L,2,0)),d=0,v=0,t.mode=I_;case I_:for(;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(L[0]=d&255,L[1]=d>>>8&255,L[2]=d>>>16&255,L[3]=d>>>24&255,t.check=zo(t.check,L,4,0)),d=0,v=0,t.mode=C_;case C_:for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(L[0]=d&255,L[1]=d>>>8&255,t.check=zo(t.check,L,2,0)),d=0,v=0,t.mode=R_;case R_:if(t.flags&1024){for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(L[0]=d&255,L[1]=d>>>8&255,t.check=zo(t.check,L,2,0)),d=0,v=0}else t.head&&(t.head.extra=null);t.mode=L_;case L_:if(t.flags&1024&&(_=t.length,_>h&&(_=h),_&&(t.head&&(Y=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+_),Y)),t.flags&512&&t.wrap&4&&(t.check=zo(t.check,r,_,o)),h-=_,o+=_,t.length-=_),t.length))break e;t.length=0,t.mode=D_;case D_:if(t.flags&2048){if(h===0)break e;_=0;do Y=r[o+_++],t.head&&Y&&t.length<65536&&(t.head.name+=String.fromCharCode(Y));while(Y&&_<h);if(t.flags&512&&t.wrap&4&&(t.check=zo(t.check,r,_,o)),h-=_,o+=_,Y)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=k_;case k_:if(t.flags&4096){if(h===0)break e;_=0;do Y=r[o+_++],t.head&&Y&&t.length<65536&&(t.head.comment+=String.fromCharCode(Y));while(Y&&_<h);if(t.flags&512&&t.wrap&4&&(t.check=zo(t.check,r,_,o)),h-=_,o+=_,Y)break e}else t.head&&(t.head.comment=null);t.mode=O_;case O_:if(t.flags&512){for(;v<16;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Er;break}d=0,v=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Dl;break;case P_:for(;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}n.adler=t.check=K_(d),d=0,v=0,t.mode=Ag;case Ag:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=d,t.bits=v,V7;n.adler=t.check=1,t.mode=Dl;case Dl:if(e===j7||e===Ip)break e;case V0:if(t.last){d>>>=v&7,v-=v&7,t.mode=B0;break}for(;v<3;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}switch(t.last=d&1,d>>>=1,v-=1,d&3){case 0:t.mode=M_;break;case 1:if($7(t),t.mode=Cp,e===Ip){d>>>=2,v-=2;break e}break;case 2:t.mode=U_;break;case 3:n.msg="invalid block type",t.mode=Er}d>>>=2,v-=2;break;case M_:for(d>>>=v&7,v-=v&7;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Er;break}if(t.length=d&65535,d=0,v=0,t.mode=F0,e===Ip)break e;case F0:t.mode=j_;case j_:if(_=t.length,_){if(_>h&&(_=h),_>f&&(_=f),_===0)break e;a.set(r.subarray(o,o+_),u),h-=_,o+=_,f-=_,u+=_,t.length-=_;break}t.mode=Dl;break;case U_:for(;v<14;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.nlen=(d&31)+257,d>>>=5,v-=5,t.ndist=(d&31)+1,d>>>=5,v-=5,t.ncode=(d&15)+4,d>>>=4,v-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Er;break}t.have=0,t.mode=V_;case V_:for(;t.have<t.ncode;){for(;v<3;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.lens[O[t.have++]]=d&7,d>>>=3,v-=3}for(;t.have<19;)t.lens[O[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,B={bits:t.lenbits},E=Qf(M7,t.lens,0,19,t.lencode,0,t.work,B),t.lenbits=B.bits,E){n.msg="invalid code lengths set",t.mode=Er;break}t.have=0,t.mode=F_;case F_:for(;t.have<t.nlen+t.ndist;){for(;q=t.lencode[d&(1<<t.lenbits)-1],F=q>>>24,ie=q>>>16&255,ae=q&65535,!(F<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(ae<16)d>>>=F,v-=F,t.lens[t.have++]=ae;else{if(ae===16){for(N=F+2;v<N;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(d>>>=F,v-=F,t.have===0){n.msg="invalid bit length repeat",t.mode=Er;break}Y=t.lens[t.have-1],_=3+(d&3),d>>>=2,v-=2}else if(ae===17){for(N=F+3;v<N;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=F,v-=F,Y=0,_=3+(d&7),d>>>=3,v-=3}else{for(N=F+7;v<N;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=F,v-=F,Y=0,_=11+(d&127),d>>>=7,v-=7}if(t.have+_>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Er;break}for(;_--;)t.lens[t.have++]=Y}}if(t.mode===Er)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Er;break}if(t.lenbits=9,B={bits:t.lenbits},E=Qf(PA,t.lens,0,t.nlen,t.lencode,0,t.work,B),t.lenbits=B.bits,E){n.msg="invalid literal/lengths set",t.mode=Er;break}if(t.distbits=6,t.distcode=t.distdyn,B={bits:t.distbits},E=Qf(MA,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,B),t.distbits=B.bits,E){n.msg="invalid distances set",t.mode=Er;break}if(t.mode=Cp,e===Ip)break e;case Cp:t.mode=Rp;case Rp:if(h>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=d,t.bits=v,R7(n,S),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=t.hold,v=t.bits,t.mode===Dl&&(t.back=-1);break}for(t.back=0;q=t.lencode[d&(1<<t.lenbits)-1],F=q>>>24,ie=q>>>16&255,ae=q&65535,!(F<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(ie&&(ie&240)===0){for(se=F,we=ie,ke=ae;q=t.lencode[ke+((d&(1<<se+we)-1)>>se)],F=q>>>24,ie=q>>>16&255,ae=q&65535,!(se+F<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=se,v-=se,t.back+=se}if(d>>>=F,v-=F,t.back+=F,t.length=ae,ie===0){t.mode=G_;break}if(ie&32){t.back=-1,t.mode=Dl;break}if(ie&64){n.msg="invalid literal/length code",t.mode=Er;break}t.extra=ie&15,t.mode=B_;case B_:if(t.extra){for(N=t.extra;v<N;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,v-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=q_;case q_:for(;q=t.distcode[d&(1<<t.distbits)-1],F=q>>>24,ie=q>>>16&255,ae=q&65535,!(F<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if((ie&240)===0){for(se=F,we=ie,ke=ae;q=t.distcode[ke+((d&(1<<se+we)-1)>>se)],F=q>>>24,ie=q>>>16&255,ae=q&65535,!(se+F<=v);){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}d>>>=se,v-=se,t.back+=se}if(d>>>=F,v-=F,t.back+=F,ie&64){n.msg="invalid distance code",t.mode=Er;break}t.offset=ae,t.extra=ie&15,t.mode=z_;case z_:if(t.extra){for(N=t.extra;v<N;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,v-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Er;break}t.mode=H_;case H_:if(f===0)break e;if(_=S-f,t.offset>_){if(_=t.offset-_,_>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Er;break}_>t.wnext?(_-=t.wnext,M=t.wsize-_):M=t.wnext-_,_>t.length&&(_=t.length),j=t.window}else j=a,M=u-t.offset,_=t.length;_>f&&(_=f),f-=_,t.length-=_;do a[u++]=j[M++];while(--_);t.length===0&&(t.mode=Rp);break;case G_:if(f===0)break e;a[u++]=t.length,f--,t.mode=Rp;break;case B0:if(t.wrap){for(;v<32;){if(h===0)break e;h--,d|=r[o++]<<v,v+=8}if(S-=f,n.total_out+=S,t.total+=S,t.wrap&4&&S&&(n.adler=t.check=t.flags?zo(t.check,a,S,u-S):M1(t.check,a,S,u-S)),S=f,t.wrap&4&&(t.flags?d:K_(d))!==t.check){n.msg="incorrect data check",t.mode=Er;break}d=0,v=0}t.mode=Y_;case Y_:if(t.wrap&&t.flags){for(;v<32;){if(h===0)break e;h--,d+=r[o++]<<v,v+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Er;break}d=0,v=0}t.mode=$_;case $_:E=U7;break e;case Er:E=jA;break e;case VA:return UA;case FA:default:return Ha}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,t.hold=d,t.bits=v,(t.wsize||S!==n.avail_out&&t.mode<Er&&(t.mode<B0||e!==S_))&&GA(n,n.output,n.next_out,S-n.avail_out),A-=n.avail_in,S-=n.avail_out,n.total_in+=A,n.total_out+=S,t.total+=S,t.wrap&4&&S&&(n.adler=t.check=t.flags?zo(t.check,a,S,n.next_out-S):M1(t.check,a,S,n.next_out-S)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Dl?128:0)+(t.mode===Cp||t.mode===F0?256:0),(A===0&&S===0||e===S_)&&E===Ic&&(E=F7),E},W7=n=>{if(kc(n))return Ha;let e=n.state;return e.window&&(e.window=null),n.state=null,Ic},Q7=(n,e)=>{if(kc(n))return Ha;const t=n.state;return(t.wrap&2)===0?Ha:(t.head=e,e.done=!1,Ic)},X7=(n,e)=>{const t=e.length;let r,a,o;return kc(n)||(r=n.state,r.wrap!==0&&r.mode!==Ag)?Ha:r.mode===Ag&&(a=1,a=M1(a,e,t,0),a!==r.check)?jA:(o=GA(n,e,t,t),o?(r.mode=VA,UA):(r.havedict=1,Ic))};var J7=qA,Z7=zA,eD=BA,tD=Y7,nD=HA,rD=K7,iD=W7,sD=Q7,aD=X7,oD="pako inflate (from Nodeca project)",Pl={inflateReset:J7,inflateReset2:Z7,inflateResetKeep:eD,inflateInit:tD,inflateInit2:nD,inflate:rD,inflateEnd:iD,inflateGetHeader:sD,inflateSetDictionary:aD,inflateInfo:oD};function lD(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uD=lD;const YA=Object.prototype.toString,{Z_NO_FLUSH:cD,Z_FINISH:hD,Z_OK:ud,Z_STREAM_END:H0,Z_NEED_DICT:G0,Z_STREAM_ERROR:fD,Z_DATA_ERROR:Q_,Z_MEM_ERROR:dD}=DA;function xd(n){this.options=kA.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I7,this.strm.avail_out=0;let t=Pl.inflateInit2(this.strm,e.windowBits);if(t!==ud)throw new Error(j1[t]);if(this.header=new uD,Pl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=U1.string2buf(e.dictionary):YA.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Pl.inflateSetDictionary(this.strm,e.dictionary),t!==ud)))throw new Error(j1[t])}xd.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,u,h;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?hD:cD,YA.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Pl.inflate(t,u),o===G0&&a&&(o=Pl.inflateSetDictionary(t,a),o===ud?o=Pl.inflate(t,u):o===Q_&&(o=G0));t.avail_in>0&&o===H0&&t.state.wrap>0&&n[t.next_in]!==0;)Pl.inflateReset(t),o=Pl.inflate(t,u);switch(o){case fD:case Q_:case G0:case dD:return this.onEnd(o),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||o===H0))if(this.options.to==="string"){let f=U1.utf8border(t.output,t.next_out),d=t.next_out-f,v=U1.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(v)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===ud&&h===0)){if(o===H0)return o=Pl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};xd.prototype.onData=function(n){this.chunks.push(n)};xd.prototype.onEnd=function(n){n===ud&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=kA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function pD(n,e){const t=new xd(e);if(t.push(n),t.err)throw t.msg||j1[t.err];return t.result}var gD=xd,mD=pD,yD={Inflate:gD,inflate:mD};const{Inflate:vD,inflate:bD}=yD;var X_=vD,_D=bD;const $A=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;$A[n]=e}const J_=4294967295;function wD(n,e,t){let r=n;for(let a=0;a<t;a++)r=$A[(r^e[a])&255]^r>>>8;return r}function AD(n,e){return(wD(J_,n,e)^J_)>>>0}function Z_(n,e,t){const r=n.readUint32(),a=AD(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function KA(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function WA(n,e,t,r){let a=0;for(;a<r;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-r]&255}function QA(n,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=n[a];else for(;a<r;a++)e[a]=n[a]+t[a]&255}function XA(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function JA(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+xD(e[o-a],t[o],t[o-a])&255}}function xD(n,e,t){const r=n+e-t,a=Math.abs(r-n),o=Math.abs(r-e),u=Math.abs(r-t);return a<=o&&a<=u?n:o<=u?e:t}function ED(n,e,t,r,a,o){switch(n){case 0:KA(e,t,a);break;case 1:WA(e,t,a,o);break;case 2:QA(e,t,r,a);break;case 3:XA(e,t,r,a,o);break;case 4:JA(e,t,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const SD=new Uint16Array([255]),TD=new Uint8Array(SD.buffer),ND=TD[0]===255;function ID(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*a,f=new Uint8Array(r*t*h);let d=0;for(let v=0;v<7;v++){const A=u[v],S=Math.ceil((t-A.x)/A.xStep),_=Math.ceil((r-A.y)/A.yStep);if(S<=0||_<=0)continue;const M=S*h,j=new Uint8Array(M);for(let q=0;q<_;q++){const F=e[d++],ie=e.subarray(d,d+M);d+=M;const ae=new Uint8Array(M);ED(F,ie,ae,j,M,h),j.set(ae);for(let se=0;se<S;se++){const we=A.x+se*A.xStep,ke=A.y+q*A.yStep;if(!(we>=t||ke>=r))for(let Y=0;Y<h;Y++)f[(ke*t+we)*h+Y]=ae[se*h+Y]}}}if(o===16){const v=new Uint16Array(f.buffer);if(ND)for(let A=0;A<v.length;A++)v[A]=CD(v[A]);return v}else return f}function CD(n){return(n&255)<<8|n>>8&255}const RD=new Uint16Array([255]),LD=new Uint8Array(RD.buffer),DD=LD[0]===255,kD=new Uint8Array(0);function ew(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,u=Math.ceil(o/8)*a,h=Math.ceil(o/8*a*t),f=new Uint8Array(r*h);let d=kD,v=0,A,S;for(let _=0;_<r;_++){switch(A=e.subarray(v+1,v+1+h),S=f.subarray(_*h,(_+1)*h),e[v]){case 0:KA(A,S,h);break;case 1:WA(A,S,h,u);break;case 2:QA(A,S,d,h);break;case 3:XA(A,S,d,h,u);break;case 4:JA(A,S,d,h,u);break;default:throw new Error(`Unsupported filter: ${e[v]}`)}d=S,v+=h+1}if(o===16){const _=new Uint16Array(f.buffer);if(DD)for(let M=0;M<_.length;M++)_[M]=OD(_[M]);return _}else return f}function OD(n){return(n&255)<<8|n>>8&255}const $p=Uint8Array.of(137,80,78,71,13,10,26,10);function tw(n){if(!PD(n.readBytes($p.length)))throw new Error("wrong PNG signature")}function PD(n){if(n.length<$p.length)return!1;for(let e=0;e<$p.length;e++)if(n[e]!==$p[e])return!1;return!0}const MD="tEXt",jD=0,ZA=new TextDecoder("latin1");function UD(n){if(FD(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const VD=/^[\u0000-\u00FF]*$/;function FD(n){if(!VD.test(n))throw new Error("invalid latin1 text")}function BD(n,e,t){const r=ex(e);n[r]=qD(e,t-r.length-1)}function ex(n){for(n.mark();n.readByte()!==jD;);const e=n.offset;n.reset();const t=ZA.decode(n.readBytes(e-n.offset-1));return n.skip(1),UD(t),t}function qD(n,e){return ZA.decode(n.readBytes(e))}const _a={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Y0={UNKNOWN:-1,DEFLATE:0},nw={UNKNOWN:-1,ADAPTIVE:0},$0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Lp={NONE:0,BACKGROUND:1,PREVIOUS:2},K0={SOURCE:0,OVER:1};class zD extends ey{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new X_,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Y0.UNKNOWN,this._filterMethod=nw.UNKNOWN,this._interlaceMethod=$0.UNKNOWN,this._colorType=_a.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(tw(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(tw(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case MD:BD(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Z_(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Z_(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=HD(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case _a.GREYSCALE:r=1;break;case _a.TRUECOLOUR:r=3;break;case _a.INDEXED_COLOUR:r=1;break;case _a.GREYSCALE_ALPHA:r=2;break;case _a.TRUECOLOUR_ALPHA:r=4;break;case _a.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Y0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case _a.GREYSCALE:case _a.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case _a.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case _a.UNKNOWN:case _a.GREYSCALE_ALPHA:case _a.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=ex(this),r=this.readUint8();if(r!==Y0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:_D(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=ew({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case Lp.NONE:break;case Lp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*e.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)r.data[u+h]=0}break;case Lp.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(o,u)=>{const h=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,f=(o*t.width+u)*this._png.channels;return{index:h,frameIndex:f}};switch(t.blendOp){case K0.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:h,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++)e.data[h+d]=t.data[f+d]}break;case K0.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:h,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++){const v=t.data[f+this._png.channels-1]/r,A=d%(this._png.channels-1)===0?1:t.data[f+d],S=Math.floor(v*A+(1-v)*e.data[h+d]);e.data[h+d]+=S}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==nw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===$0.NO_INTERLACE)this._png.data=ew({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===$0.ADAM7)this._png.data=ID({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Lp.NONE,blendOp:K0.SOURCE,data:e}),this._inflator=new X_,this._writingDataChunks=!1}}function HD(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var rw;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(rw||(rw={}));function GD(n,e){return new zD(n,e).decode()}var $t=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function W0(){$t.console&&typeof $t.console.log=="function"&&$t.console.log.apply($t.console,arguments)}var ur={log:W0,warn:function(n){$t.console&&(typeof $t.console.warn=="function"?$t.console.warn.apply($t.console,arguments):W0.call(null,arguments))},error:function(n){$t.console&&(typeof $t.console.error=="function"?$t.console.error.apply($t.console,arguments):W0(n))}};function Q0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){cc(r.response,e,t)},r.onerror=function(){ur.error("could not download file")},r.send()}function iw(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Dp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var cc=$t.saveAs||((typeof window>"u"?"undefined":Qn(window))!=="object"||window!==$t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=$t.URL||$t.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?iw(a.href)?Q0(n,e,t):Dp(a,a.target="_blank"):Dp(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Dp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(iw(n))Q0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Dp(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Qn(o)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Q0(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test($t.HTMLElement)||$t.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":Qn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=u?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=v:location=v,r=null},h.readAsDataURL(n)}else{var f=$t.URL||$t.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function tx(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,u=a.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+h+f+d}}var Kp=$t.atob.bind($t),sw=$t.btoa.bind($t);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function X0(n,e){var t=n[0],r=n[1],a=n[2],o=n[3];t=hs(t,r,a,o,e[0],7,-680876936),o=hs(o,t,r,a,e[1],12,-389564586),a=hs(a,o,t,r,e[2],17,606105819),r=hs(r,a,o,t,e[3],22,-1044525330),t=hs(t,r,a,o,e[4],7,-176418897),o=hs(o,t,r,a,e[5],12,1200080426),a=hs(a,o,t,r,e[6],17,-1473231341),r=hs(r,a,o,t,e[7],22,-45705983),t=hs(t,r,a,o,e[8],7,1770035416),o=hs(o,t,r,a,e[9],12,-1958414417),a=hs(a,o,t,r,e[10],17,-42063),r=hs(r,a,o,t,e[11],22,-1990404162),t=hs(t,r,a,o,e[12],7,1804603682),o=hs(o,t,r,a,e[13],12,-40341101),a=hs(a,o,t,r,e[14],17,-1502002290),t=fs(t,r=hs(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=fs(o,t,r,a,e[6],9,-1069501632),a=fs(a,o,t,r,e[11],14,643717713),r=fs(r,a,o,t,e[0],20,-373897302),t=fs(t,r,a,o,e[5],5,-701558691),o=fs(o,t,r,a,e[10],9,38016083),a=fs(a,o,t,r,e[15],14,-660478335),r=fs(r,a,o,t,e[4],20,-405537848),t=fs(t,r,a,o,e[9],5,568446438),o=fs(o,t,r,a,e[14],9,-1019803690),a=fs(a,o,t,r,e[3],14,-187363961),r=fs(r,a,o,t,e[8],20,1163531501),t=fs(t,r,a,o,e[13],5,-1444681467),o=fs(o,t,r,a,e[2],9,-51403784),a=fs(a,o,t,r,e[7],14,1735328473),t=ds(t,r=fs(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=ds(o,t,r,a,e[8],11,-2022574463),a=ds(a,o,t,r,e[11],16,1839030562),r=ds(r,a,o,t,e[14],23,-35309556),t=ds(t,r,a,o,e[1],4,-1530992060),o=ds(o,t,r,a,e[4],11,1272893353),a=ds(a,o,t,r,e[7],16,-155497632),r=ds(r,a,o,t,e[10],23,-1094730640),t=ds(t,r,a,o,e[13],4,681279174),o=ds(o,t,r,a,e[0],11,-358537222),a=ds(a,o,t,r,e[3],16,-722521979),r=ds(r,a,o,t,e[6],23,76029189),t=ds(t,r,a,o,e[9],4,-640364487),o=ds(o,t,r,a,e[12],11,-421815835),a=ds(a,o,t,r,e[15],16,530742520),t=ps(t,r=ds(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=ps(o,t,r,a,e[7],10,1126891415),a=ps(a,o,t,r,e[14],15,-1416354905),r=ps(r,a,o,t,e[5],21,-57434055),t=ps(t,r,a,o,e[12],6,1700485571),o=ps(o,t,r,a,e[3],10,-1894986606),a=ps(a,o,t,r,e[10],15,-1051523),r=ps(r,a,o,t,e[1],21,-2054922799),t=ps(t,r,a,o,e[8],6,1873313359),o=ps(o,t,r,a,e[15],10,-30611744),a=ps(a,o,t,r,e[6],15,-1560198380),r=ps(r,a,o,t,e[13],21,1309151649),t=ps(t,r,a,o,e[4],6,-145523070),o=ps(o,t,r,a,e[11],10,-1120210379),a=ps(a,o,t,r,e[2],15,718787259),r=ps(r,a,o,t,e[9],21,-343485551),n[0]=Ru(t,n[0]),n[1]=Ru(r,n[1]),n[2]=Ru(a,n[2]),n[3]=Ru(o,n[3])}function em(n,e,t,r,a,o){return e=Ru(Ru(e,n),Ru(r,o)),Ru(e<<a|e>>>32-a,t)}function hs(n,e,t,r,a,o,u){return em(e&t|~e&r,n,e,a,o,u)}function fs(n,e,t,r,a,o,u){return em(e&r|t&~r,n,e,a,o,u)}function ds(n,e,t,r,a,o,u){return em(e^t^r,n,e,a,o,u)}function ps(n,e,t,r,a,o,u){return em(t^(e|~r),n,e,a,o,u)}function nx(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)X0(r,YD(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(X0(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,X0(r,a),r}function YD(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var aw="0123456789abcdef".split("");function $D(n){for(var e="",t=0;t<4;t++)e+=aw[n>>8*t+4&15]+aw[n>>8*t&15];return e}function KD(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function V1(n){return nx(n).map(KD).join("")}var WD=(function(n){for(var e=0;e<n.length;e++)n[e]=$D(n[e]);return n.join("")})(nx("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ru(n,e){if(WD){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function F1(n,e){var t,r,a,o;if(n!==t){for(var u=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),h=[],f=0;f<256;f++)h[f]=f;var d=0;for(f=0;f<256;f++){var v=h[f];d=(d+v+u.charCodeAt(f))%256,h[f]=h[d],h[d]=v}t=n,r=h}else h=r;var A=e.length,S=0,_=0,M="";for(f=0;f<A;f++)_=(_+(v=h[S=(S+1)%256]))%256,h[S]=h[_],h[_]=v,u=h[(h[S]+h[_])%256],M+=String.fromCharCode(e.charCodeAt(f)^u);return M}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ow={print:4,modify:8,copy:16,"annot-forms":32};function Eh(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(ow.perm!==void 0)throw new Error("Invalid permission: "+h);a+=ow[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=V1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=F1(this.encryptionKey,this.padding)}function Sh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return e}function lw(n){if(Qn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(h){$t.console&&ur.error("jsPDF PubSub Error",h.message,h)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function xg(n){if(!(this instanceof xg))return new xg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function rx(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function hc(n,e,t,r,a){if(!(this instanceof hc))return new hc(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,rx.call(this,r,a)}function Th(n,e,t,r,a){if(!(this instanceof Th))return new Th(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,rx.call(this,r,a)}function At(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],u=[],h=1,f=16,d="S",v=null;Qn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,S={},_={internal:{},__private__:{}};_.__private__.PubSub=lw;var M="1.3",j=_.__private__.getPdfVersion=function(){return M};_.__private__.setPdfVersion=function(w){M=w};var q={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return q};var F=_.__private__.getPageFormat=function(w){return q[w]};a=a||"a4";var ie="compat",ae="advanced",se=ie;function we(){this.saveGraphicsState(),le(new wt(Dt,0,0,-Dt,0,Ts()*Dt).toString()+" cm"),this.setFontSize(this.getFontSize()/Dt),d="n",se=ae}function ke(){this.restoreGraphicsState(),d="S",se=ie}var Y=_.__private__.combineFontStyleAndFontWeight=function(w,U){if(w=="bold"&&U=="normal"||w=="bold"&&U==400||w=="normal"&&U=="italic"||w=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(w=U==400||U==="normal"?w==="italic"?"italic":"normal":U!=700&&U!=="bold"||w!=="normal"?(U==700?"bold":U)+""+w:"bold"),w};_.advancedAPI=function(w){var U=se===ie;return U&&we.call(this),typeof w!="function"||(w(this),U&&ke.call(this)),this},_.compatAPI=function(w){var U=se===ae;return U&&ke.call(this),typeof w!="function"||(w(this),U&&we.call(this)),this},_.isAdvancedAPI=function(){return se===ae};var E,L=function(w){if(se!==ae)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=_.roundToPrecision=_.__private__.roundToPrecision=function(w,U){var ne=e||U;if(isNaN(w)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(ne).replace(/0+$/,"")};E=_.hpf=_.__private__.hpf=typeof f=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return B(w,f)}:f==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return B(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return B(w,16)};var N=_.f2=_.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return B(w,2)},O=_.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return B(w,3)},P=_.scale=_.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return se===ie?w*Dt:se===ae?w:void 0},oe=function(w){return P((function(U){return se===ie?Ts()-U:se===ae?U:void 0})(w))};_.__private__.setPrecision=_.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var xe,ee="00000000000000000000000000000000",de=_.__private__.getFileId=function(){return ee},$=_.__private__.setFileId=function(w){return ee=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(Gn=new Eh(v.userPermissions,v.userPassword,v.ownerPassword,ee)),ee};_.setFileId=function(w){return $(w),this},_.getFileId=function(){return de()};var be=_.__private__.convertDateToPDFDate=function(w){var U=w.getTimezoneOffset(),ne=U<0?"+":"-",fe=Math.floor(Math.abs(U/60)),ve=Math.abs(U%60),Ve=[ne,Z(fe),"'",Z(ve),"'"].join("");return["D:",w.getFullYear(),Z(w.getMonth()+1),Z(w.getDate()),Z(w.getHours()),Z(w.getMinutes()),Z(w.getSeconds()),Ve].join("")},Fe=_.__private__.convertPDFDateToDate=function(w){var U=parseInt(w.substr(2,4),10),ne=parseInt(w.substr(6,2),10)-1,fe=parseInt(w.substr(8,2),10),ve=parseInt(w.substr(10,2),10),Ve=parseInt(w.substr(12,2),10),We=parseInt(w.substr(14,2),10);return new Date(U,ne,fe,ve,Ve,We,0)},J=_.__private__.setCreationDate=function(w){var U;if(w===void 0&&(w=new Date),w instanceof Date)U=be(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=w}return xe=U},D=_.__private__.getCreationDate=function(w){var U=xe;return w==="jsDate"&&(U=Fe(xe)),U};_.setCreationDate=function(w){return J(w),this},_.getCreationDate=function(w){return D(w)};var K,Z=_.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ue=_.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},he=0,ye=[],Se=[],Ne=0,Ue=[],Qe=[],Ze=!1,tt=Se;_.__private__.setCustomOutputDestination=function(w){Ze=!0,tt=w};var Oe=function(w){Ze||(tt=w)};_.__private__.resetCustomOutputDestination=function(){Ze=!1,tt=Se};var le=_.__private__.out=function(w){return w=w.toString(),Ne+=w.length+1,tt.push(w),tt},Xt=_.__private__.write=function(w){return le(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},qt=_.__private__.getArrayBuffer=function(w){for(var U=w.length,ne=new ArrayBuffer(U),fe=new Uint8Array(ne);U--;)fe[U]=w.charCodeAt(U);return ne},_t=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return _t};var Ye=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(w){return Ye=se===ae?w/Dt:w,this};var it,nt=_.__private__.getFontSize=_.getFontSize=function(){return se===ie?Ye:Ye*Dt},Wt=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(w){return Wt=w,this},_.__private__.getR2L=_.getR2L=function(){return Wt};var vt,Gt=_.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))it=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');it=w}else it=parseInt(w,10)};_.__private__.getZoomMode=function(){return it};var Ot,jt=_.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');vt=w};_.__private__.getPageMode=function(){return vt};var En=_.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Ot=w};_.__private__.getLayoutMode=function(){return Ot},_.__private__.setDisplayMode=_.setDisplayMode=function(w,U,ne){return Gt(w),En(U),jt(ne),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(w){if(Object.keys(Pt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[w]},_.__private__.getDocumentProperties=function(){return Pt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(w){for(var U in Pt)Pt.hasOwnProperty(U)&&w[U]&&(Pt[U]=w[U]);return this},_.__private__.setDocumentProperty=function(w,U){if(Object.keys(Pt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[w]=U};var bt,Dt,mt,jn,nn,st={},Et={},Ut=[],Nt={},sn={},zt={},Ln={},sr=null,Ht=0,St=[],an=new lw(_),ci=n.hotfixes||[],ei={},Os={},Yr=[],wt=function w(U,ne,fe,ve,Ve,We){if(!(this instanceof w))return new w(U,ne,fe,ve,Ve,We);isNaN(U)&&(U=1),isNaN(ne)&&(ne=0),isNaN(fe)&&(fe=0),isNaN(ve)&&(ve=1),isNaN(Ve)&&(Ve=0),isNaN(We)&&(We=0),this._matrix=[U,ne,fe,ve,Ve,We]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(w)},wt.prototype.multiply=function(w){var U=w.sx*this.sx+w.shy*this.shx,ne=w.sx*this.shy+w.shy*this.sy,fe=w.shx*this.sx+w.sy*this.shx,ve=w.shx*this.shy+w.sy*this.sy,Ve=w.tx*this.sx+w.ty*this.shx+this.tx,We=w.tx*this.shy+w.ty*this.sy+this.ty;return new wt(U,ne,fe,ve,Ve,We)},wt.prototype.decompose=function(){var w=this.sx,U=this.shy,ne=this.shx,fe=this.sy,ve=this.tx,Ve=this.ty,We=Math.sqrt(w*w+U*U),lt=(w/=We)*ne+(U/=We)*fe;ne-=w*lt,fe-=U*lt;var ft=Math.sqrt(ne*ne+fe*fe);return lt/=ft,w*(fe/=ft)<U*(ne/=ft)&&(w=-w,U=-U,lt=-lt,We=-We),{scale:new wt(We,0,0,ft,0,0),translate:new wt(1,0,0,1,ve,Ve),rotate:new wt(w,U,-U,w,0,0),skew:new wt(1,0,lt,1,0,0)}},wt.prototype.toString=function(w){return this.join(" ")},wt.prototype.inversed=function(){var w=this.sx,U=this.shy,ne=this.shx,fe=this.sy,ve=this.tx,Ve=this.ty,We=1/(w*fe-U*ne),lt=fe*We,ft=-U*We,It=-ne*We,yt=w*We;return new wt(lt,ft,It,yt,-lt*ve-It*Ve,-ft*ve-yt*Ve)},wt.prototype.applyToPoint=function(w){var U=w.x*this.sx+w.y*this.shx+this.tx,ne=w.x*this.shy+w.y*this.sy+this.ty;return new Li(U,ne)},wt.prototype.applyToRectangle=function(w){var U=this.applyToPoint(w),ne=this.applyToPoint(new Li(w.x+w.w,w.y+w.h));return new js(U.x,U.y,ne.x-U.x,ne.y-U.y)},wt.prototype.clone=function(){var w=this.sx,U=this.shy,ne=this.shx,fe=this.sy,ve=this.tx,Ve=this.ty;return new wt(w,U,ne,fe,ve,Ve)},_.Matrix=wt;var aa=_.matrixMult=function(w,U){return U.multiply(w)},Bi=new wt(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Bi;var Ei=function(w,U){if(!sn[w]){var ne=(U instanceof hc?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);U.id=ne,sn[w]=ne,Nt[ne]=U,an.publish("addPattern",U)}};_.ShadingPattern=hc,_.TilingPattern=Th,_.addShadingPattern=function(w,U){return L("addShadingPattern()"),Ei(w,U),this},_.beginTilingPattern=function(w){L("beginTilingPattern()"),Us(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},_.endTilingPattern=function(w,U){L("endTilingPattern()"),U.stream=Qe[K].join(`
`),Ei(w,U),an.publish("endTilingPattern",U),Yr.pop().restore()};var Si,Bn=_.__private__.newObject=function(){var w=Xn();return kr(w,!0),w},Xn=_.__private__.newObjectDeferred=function(){return he++,ye[he]=function(){return Ne},he},kr=function(w,U){return U=typeof U=="boolean"&&U,ye[w]=Ne,U&&le(w+" 0 obj"),w},hi=_.__private__.newAdditionalObject=function(){var w={objId:Xn(),content:""};return Ue.push(w),w},ti=Xn(),Dn=Xn(),Hn=_.__private__.decodeColorString=function(w){var U=w.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var ne=parseFloat(U[0]);U=[ne,ne,ne,"r"]}for(var fe="#",ve=0;ve<3;ve++)fe+=("0"+Math.floor(255*parseFloat(U[ve])).toString(16)).slice(-2);return fe},Or=_.__private__.encodeColorString=function(w){var U;typeof w=="string"&&(w={ch1:w});var ne=w.ch1,fe=w.ch2,ve=w.ch3,Ve=w.ch4,We=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var lt=new tx(ne);if(lt.ok)ne=lt.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var ft=parseInt(ne.substr(1),16);ne=ft>>16&255,fe=ft>>8&255,ve=255&ft}if(fe===void 0||Ve===void 0&&ne===fe&&fe===ve)U=typeof ne=="string"?ne+" "+We[0]:w.precision===2?N(ne/255)+" "+We[0]:O(ne/255)+" "+We[0];else if(Ve===void 0||Qn(Ve)==="object"){if(Ve&&!isNaN(Ve.a)&&Ve.a===0)return["1.","1.","1.",We[1]].join(" ");U=typeof ne=="string"?[ne,fe,ve,We[1]].join(" "):w.precision===2?[N(ne/255),N(fe/255),N(ve/255),We[1]].join(" "):[O(ne/255),O(fe/255),O(ve/255),We[1]].join(" ")}else U=typeof ne=="string"?[ne,fe,ve,Ve,We[2]].join(" "):w.precision===2?[N(ne),N(fe),N(ve),N(Ve),We[2]].join(" "):[O(ne),O(fe),O(ve),O(Ve),We[2]].join(" ");return U},Ti=_.__private__.getFilters=function(){return u},rs=_.__private__.putStream=function(w){var U=(w=w||{}).data||"",ne=w.filters||Ti(),fe=w.alreadyAppliedFilters||[],ve=w.addLength1||!1,Ve=U.length,We=w.objectId,lt=function(T){return T};if(v!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(lt=Gn.encryptor(We,0));var ft={};ne===!0&&(ne=["FlateEncode"]);var It=w.additionalKeyValues||[],yt=(ft=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(U,ne):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(ft.data.length!==0&&(It.push({key:"Length",value:ft.data.length}),ve===!0&&It.push({key:"Length1",value:Ve})),yt.length!=0)if(yt.split("/").length-1==1)It.push({key:"Filter",value:yt});else{It.push({key:"Filter",value:"["+yt+"]"});for(var mn=0;mn<It.length;mn+=1)if(It[mn].key==="DecodeParms"){for(var Jn=[],qn=0;qn<ft.reverseChain.split("/").length-1;qn+=1)Jn.push("null");Jn.push(It[mn].value),It[mn].value="["+Jn.join(" ")+"]"}}le("<<");for(var g=0;g<It.length;g++)le("/"+It[g].key+" "+It[g].value);le(">>"),ft.data.length!==0&&(le("stream"),le(lt(ft.data)),le("endstream"))},Ea=_.__private__.putPage=function(w){var U=w.number,ne=w.data,fe=w.objId,ve=w.contentsObjId;kr(fe,!0),le("<</Type /Page"),le("/Parent "+w.rootDictionaryObjId+" 0 R"),le("/Resources "+w.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(E(w.mediaBox.bottomLeftX))+" "+parseFloat(E(w.mediaBox.bottomLeftY))+" "+E(w.mediaBox.topRightX)+" "+E(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&le("/CropBox ["+E(w.cropBox.bottomLeftX)+" "+E(w.cropBox.bottomLeftY)+" "+E(w.cropBox.topRightX)+" "+E(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&le("/BleedBox ["+E(w.bleedBox.bottomLeftX)+" "+E(w.bleedBox.bottomLeftY)+" "+E(w.bleedBox.topRightX)+" "+E(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&le("/TrimBox ["+E(w.trimBox.bottomLeftX)+" "+E(w.trimBox.bottomLeftY)+" "+E(w.trimBox.topRightX)+" "+E(w.trimBox.topRightY)+"]"),w.artBox!==null&&le("/ArtBox ["+E(w.artBox.bottomLeftX)+" "+E(w.artBox.bottomLeftY)+" "+E(w.artBox.topRightX)+" "+E(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&le("/UserUnit "+w.userUnit),an.publish("putPage",{objId:fe,pageContext:St[U],pageNumber:U,page:ne}),le("/Contents "+ve+" 0 R"),le(">>"),le("endobj");var Ve=ne.join(`
`);return se===ae&&(Ve+=`
Q`),kr(ve,!0),rs({data:Ve,filters:Ti(),objectId:ve}),le("endobj"),fe},vs=_.__private__.putPages=function(){var w,U,ne=[];for(w=1;w<=Ht;w++)St[w].objId=Xn(),St[w].contentsObjId=Xn();for(w=1;w<=Ht;w++)ne.push(Ea({number:w,data:Qe[w],objId:St[w].objId,contentsObjId:St[w].contentsObjId,mediaBox:St[w].mediaBox,cropBox:St[w].cropBox,bleedBox:St[w].bleedBox,trimBox:St[w].trimBox,artBox:St[w].artBox,userUnit:St[w].userUnit,rootDictionaryObjId:ti,resourceDictionaryObjId:Dn}));kr(ti,!0),le("<</Type /Pages");var fe="/Kids [";for(U=0;U<Ht;U++)fe+=ne[U]+" 0 R ";le(fe+"]"),le("/Count "+Ht),le(">>"),le("endobj"),an.publish("postPutPages")},Ni=function(w){an.publish("putFont",{font:w,out:le,newObject:Bn,putStream:rs}),w.isAlreadyPutted!==!0&&(w.objectNumber=Bn(),le("<<"),le("/Type /Font"),le("/BaseFont /"+Sh(w.postScriptName)),le("/Subtype /Type1"),typeof w.encoding=="string"&&le("/Encoding /"+w.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},oa=function(w){w.objectNumber=Bn();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[E(w.x),E(w.y),E(w.x+w.width),E(w.y+w.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var ne=w.pages[1].join(`
`);rs({data:ne,additionalKeyValues:U,objectId:w.objectNumber}),le("endobj")},qi=function(w,U){U||(U=21);var ne=Bn(),fe=(function(We,lt){var ft,It=[],yt=1/(lt-1);for(ft=0;ft<1;ft+=yt)It.push(ft);if(It.push(1),We[0].offset!=0){var mn={offset:0,color:We[0].color};We.unshift(mn)}if(We[We.length-1].offset!=1){var Jn={offset:1,color:We[We.length-1].color};We.push(Jn)}for(var qn="",g=0,T=0;T<It.length;T++){for(ft=It[T];ft>We[g+1].offset;)g++;var k=We[g].offset,Q=(ft-k)/(We[g+1].offset-k),Ae=We[g].color,Re=We[g+1].color;qn+=ue(Math.round((1-Q)*Ae[0]+Q*Re[0]).toString(16))+ue(Math.round((1-Q)*Ae[1]+Q*Re[1]).toString(16))+ue(Math.round((1-Q)*Ae[2]+Q*Re[2]).toString(16))}return qn.trim()})(w.colors,U),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+U+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rs({data:fe,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),le("endobj"),w.objectNumber=Bn(),le("<< /ShadingType "+w.type),le("/ColorSpace /DeviceRGB");var Ve="/Coords ["+E(parseFloat(w.coords[0]))+" "+E(parseFloat(w.coords[1]))+" ";w.type===2?Ve+=E(parseFloat(w.coords[2]))+" "+E(parseFloat(w.coords[3])):Ve+=E(parseFloat(w.coords[2]))+" "+E(parseFloat(w.coords[3]))+" "+E(parseFloat(w.coords[4]))+" "+E(parseFloat(w.coords[5])),le(Ve+="]"),w.matrix&&le("/Matrix ["+w.matrix.toString()+"]"),le("/Function "+ne+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},fi=function(w,U){var ne=Xn(),fe=Bn();U.push({resourcesOid:ne,objectOid:fe}),w.objectNumber=fe;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+w.boundingBox.map(E).join(" ")+"]"}),ve.push({key:"XStep",value:E(w.xStep)}),ve.push({key:"YStep",value:E(w.yStep)}),ve.push({key:"Resources",value:ne+" 0 R"}),w.matrix&&ve.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),rs({data:w.stream,additionalKeyValues:ve,objectId:w.objectNumber}),le("endobj")},zi=function(w){for(var U in w.objectNumber=Bn(),le("<<"),w)switch(U){case"opacity":le("/ca "+N(w[U]));break;case"stroke-opacity":le("/CA "+N(w[U]))}le(">>"),le("endobj")},is=function(w){kr(w.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var U in le("/Font <<"),st)st.hasOwnProperty(U)&&(A===!1||A===!0&&S.hasOwnProperty(U))&&le("/"+U+" "+st[U].objectNumber+" 0 R");le(">>")})(),(function(){if(Object.keys(Nt).length>0){for(var U in le("/Shading <<"),Nt)Nt.hasOwnProperty(U)&&Nt[U]instanceof hc&&Nt[U].objectNumber>=0&&le("/"+U+" "+Nt[U].objectNumber+" 0 R");an.publish("putShadingPatternDict"),le(">>")}})(),(function(U){if(Object.keys(Nt).length>0){for(var ne in le("/Pattern <<"),Nt)Nt.hasOwnProperty(ne)&&Nt[ne]instanceof _.TilingPattern&&Nt[ne].objectNumber>=0&&Nt[ne].objectNumber<U&&le("/"+ne+" "+Nt[ne].objectNumber+" 0 R");an.publish("putTilingPatternDict"),le(">>")}})(w.objectOid),(function(){if(Object.keys(zt).length>0){var U;for(U in le("/ExtGState <<"),zt)zt.hasOwnProperty(U)&&zt[U].objectNumber>=0&&le("/"+U+" "+zt[U].objectNumber+" 0 R");an.publish("putGStateDict"),le(">>")}})(),(function(){for(var U in le("/XObject <<"),ei)ei.hasOwnProperty(U)&&ei[U].objectNumber>=0&&le("/"+U+" "+ei[U].objectNumber+" 0 R");an.publish("putXobjectDict"),le(">>")})(),le(">>"),le("endobj")},fr=function(w){Et[w.fontName]=Et[w.fontName]||{},Et[w.fontName][w.fontStyle]=w.id},_o=function(w,U,ne,fe,ve){var Ve={id:"F"+(Object.keys(st).length+1).toString(10),postScriptName:w,fontName:U,fontStyle:ne,encoding:fe,isStandardFont:ve||!1,metadata:{}};return an.publish("addFont",{font:Ve,instance:this}),st[Ve.id]=Ve,fr(Ve),Ve.id},Ii=_.__private__.pdfEscape=_.pdfEscape=function(w,U){return(function(ne,fe){var ve,Ve,We,lt,ft,It,yt,mn,Jn;if(We=(fe=fe||{}).sourceEncoding||"Unicode",ft=fe.outputEncoding,(fe.autoencode||ft)&&st[bt].metadata&&st[bt].metadata[We]&&st[bt].metadata[We].encoding&&(lt=st[bt].metadata[We].encoding,!ft&&st[bt].encoding&&(ft=st[bt].encoding),!ft&&lt.codePages&&(ft=lt.codePages[0]),typeof ft=="string"&&(ft=lt[ft]),ft)){for(yt=!1,It=[],ve=0,Ve=ne.length;ve<Ve;ve++)(mn=ft[ne.charCodeAt(ve)])?It.push(String.fromCharCode(mn)):It.push(ne[ve]),It[ve].charCodeAt(0)>>8&&(yt=!0);ne=It.join("")}for(ve=ne.length;yt===void 0&&ve!==0;)ne.charCodeAt(ve-1)>>8&&(yt=!0),ve--;if(!yt)return ne;for(It=fe.noBOM?[]:[254,255],ve=0,Ve=ne.length;ve<Ve;ve++){if((Jn=(mn=ne.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(Jn),It.push(mn-(Jn<<8))}return String.fromCharCode.apply(void 0,It)})(w,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ss=_.__private__.beginPage=function(w){Qe[++Ht]=[],St[Ht]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},wo(Ht),Oe(Qe[K])},bs=function(w,U){var ne,fe,ve;switch(t=U||t,typeof w=="string"&&(ne=F(w.toLowerCase()),Array.isArray(ne)&&(fe=ne[0],ve=ne[1])),Array.isArray(w)&&(fe=w[0]*Dt,ve=w[1]*Dt),isNaN(fe)&&(fe=a[0],ve=a[1]),(fe>14400||ve>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),ve=Math.min(14400,ve)),a=[fe,ve],t.substr(0,1)){case"l":ve>fe&&(a=[ve,fe]);break;case"p":fe>ve&&(a=[ve,fe])}ss(a),Ps(Ri),le(Gi),Yi!==0&&le(Yi+" J"),Nr!==0&&le(Nr+" j"),an.publish("addPage",{pageNumber:Ht})},Ga=function(w){w>0&&w<=Ht&&(Qe.splice(w,1),St.splice(w,1),Ht--,K>Ht&&(K=Ht),this.setPage(K))},wo=function(w){w>0&&w<=Ht&&(K=w)},Ao=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return Qe.length-1},sl=function(w,U,ne){var fe,ve=void 0;return ne=ne||{},w=w!==void 0?w:st[bt].fontName,U=U!==void 0?U:st[bt].fontStyle,fe=w.toLowerCase(),Et[fe]!==void 0&&Et[fe][U]!==void 0?ve=Et[fe][U]:Et[w]!==void 0&&Et[w][U]!==void 0?ve=Et[w][U]:ne.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+w+"', '"+U+"'. Refer to getFontList() for available fonts."),ve||ne.noFallback||(ve=Et.times[U])==null&&(ve=Et.times.normal),ve},la=_.__private__.putInfo=function(){var w=Bn(),U=function(fe){return fe};for(var ne in v!==null&&(U=Gn.encryptor(w,0)),le("<<"),le("/Producer ("+Ii(U("jsPDF "+At.version))+")"),Pt)Pt.hasOwnProperty(ne)&&Pt[ne]&&le("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Ii(U(Pt[ne]))+")");le("/CreationDate ("+Ii(U(xe))+")"),le(">>"),le("endobj")},Hi=_.__private__.putCatalog=function(w){var U=(w=w||{}).rootDictionaryObjId||ti;switch(Bn(),le("<<"),le("/Type /Catalog"),le("/Pages "+U+" 0 R"),it||(it="fullwidth"),it){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+it;ne.substr(ne.length-1)==="%"&&(it=parseInt(it)/100),typeof it=="number"&&le("/OpenAction [3 0 R /XYZ null null "+N(it)+"]")}switch(Ot||(Ot="continuous"),Ot){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}vt&&le("/PageMode /"+vt),an.publish("putCatalog"),le(">>"),le("endobj")},on=_.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(he+1)),le("/Root "+he+" 0 R"),le("/Info "+(he-1)+" 0 R"),v!==null&&le("/Encrypt "+Gn.oid+" 0 R"),le("/ID [ <"+ee+"> <"+ee+"> ]"),le(">>")},Sr=_.__private__.putHeader=function(){le("%PDF-"+M),le("%")},ua=_.__private__.putXRef=function(){var w="0000000000";le("xref"),le("0 "+(he+1)),le("0000000000 65535 f ");for(var U=1;U<=he;U++)typeof ye[U]=="function"?le((w+ye[U]()).slice(-10)+" 00000 n "):ye[U]!==void 0?le((w+ye[U]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},_s=_.__private__.buildDocument=function(){var w;he=0,Ne=0,Se=[],ye=[],Ue=[],ti=Xn(),Dn=Xn(),Oe(Se),an.publish("buildDocument"),Sr(),vs(),(function(){an.publish("putAdditionalObjects");for(var ne=0;ne<Ue.length;ne++){var fe=Ue[ne];kr(fe.objId,!0),le(fe.content),le("endobj")}an.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var ne in st)st.hasOwnProperty(ne)&&(A===!1||A===!0&&S.hasOwnProperty(ne))&&Ni(st[ne])})(),(function(){var ne;for(ne in zt)zt.hasOwnProperty(ne)&&zi(zt[ne])})(),(function(){for(var ne in ei)ei.hasOwnProperty(ne)&&oa(ei[ne])})(),(function(ne){var fe;for(fe in Nt)Nt.hasOwnProperty(fe)&&(Nt[fe]instanceof hc?qi(Nt[fe]):Nt[fe]instanceof Th&&fi(Nt[fe],ne))})(w),an.publish("putResources"),w.forEach(is),is({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),an.publish("postPutResources"),v!==null&&(Gn.oid=Bn(),le("<<"),le("/Filter /Standard"),le("/V "+Gn.v),le("/R "+Gn.r),le("/U <"+Gn.toHexString(Gn.U)+">"),le("/O <"+Gn.toHexString(Gn.O)+">"),le("/P "+Gn.P),le(">>"),le("endobj")),la(),Hi();var U=Ne;return ua(),on(),le("startxref"),le(""+U),le("%%EOF"),Oe(Qe[K]),Se.join(`
`)},fn=_.__private__.getBlob=function(w){return new Blob([qt(w)],{type:"application/pdf"})},di=_.output=_.__private__.output=(Si=function(w,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",w){case void 0:return _s();case"save":_.save(U.filename);break;case"arraybuffer":return qt(_s());case"blob":return fn(_s());case"bloburi":case"bloburl":if($t.URL!==void 0&&typeof $t.URL.createObjectURL=="function")return $t.URL&&$t.URL.createObjectURL(fn(_s()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",fe=_s();try{ne=sw(fe)}catch{ne=sw(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+U.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ve=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(ve=U.pdfObjectUrl,Ve="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ve+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",lt=$t.open();return lt!==null&&lt.document.write(We),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',It=$t.open();if(It!==null){It.document.write(ft);var yt=this;It.document.documentElement.querySelector("#pdfViewer").onload=function(){It.document.title=U.filename,It.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(yt.output("bloburl"))}}return It}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call($t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',Jn=$t.open();if(Jn!==null&&(Jn.document.write(mn),Jn.document.title=U.filename),Jn||typeof safari>"u")return Jn;break;case"datauri":case"dataurl":return $t.document.location.href=this.output("datauristring",U);default:return null}},Si.foo=function(){try{return Si.apply(this,arguments)}catch(ne){var w=ne.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var U="Error in function "+w.split(`
`)[0].split("<")[0]+": "+ne.message;if(!$t.console)throw new Error(U);$t.console.error(U,ne),$t.alert&&alert(U)}},Si.foo.bar=Si,Si.foo),Ci=function(w){return Array.isArray(ci)===!0&&ci.indexOf(w)>-1};switch(r){case"pt":Dt=1;break;case"mm":Dt=72/25.4;break;case"cm":Dt=72/2.54;break;case"in":Dt=72;break;case"px":Dt=Ci("px_scaling")==1?.75:96/72;break;case"pc":case"em":Dt=12;break;case"ex":Dt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Dt=r}var Gn=null;J(),$();var ni=_.__private__.getPageInfo=_.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[w].objId,pageNumber:w,pageContext:St[w]}},xo=_.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in St)if(St[U].objId===w)break;return ni(U)},Kl=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:St[K].objId,pageNumber:K,pageContext:St[K]}};_.addPage=function(){return bs.apply(this,arguments),this},_.setPage=function(){return wo.apply(this,arguments),Oe.call(this,Qe[K]),this},_.insertPage=function(w){return this.addPage(),this.movePage(K,w),this},_.movePage=function(w,U){var ne,fe;if(w>U){ne=Qe[w],fe=St[w];for(var ve=w;ve>U;ve--)Qe[ve]=Qe[ve-1],St[ve]=St[ve-1];Qe[U]=ne,St[U]=fe,this.setPage(U)}else if(w<U){ne=Qe[w],fe=St[w];for(var Ve=w;Ve<U;Ve++)Qe[Ve]=Qe[Ve+1],St[Ve]=St[Ve+1];Qe[U]=ne,St[U]=fe,this.setPage(U)}return this},_.deletePage=function(){return Ga.apply(this,arguments),this},_.__private__.text=_.text=function(w,U,ne,fe,ve){var Ve,We,lt,ft,It,yt,mn,Jn,qn,g=(fe=fe||{}).scope||this;if(typeof w=="number"&&typeof U=="number"&&(typeof ne=="string"||Array.isArray(ne))){var T=ne;ne=U,U=w,w=T}if(arguments[3]instanceof wt==0?(lt=arguments[4],ft=arguments[5],Qn(mn=arguments[3])==="object"&&mn!==null||(typeof lt=="string"&&(ft=lt,lt=null),typeof mn=="string"&&(ft=mn,mn=null),typeof mn=="number"&&(lt=mn,mn=null),fe={flags:mn,angle:lt,align:ft})):(L("The transform parameter of text() with a Matrix value"),qn=ve),isNaN(U)||isNaN(ne)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return g;var k,Q="",Ae=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:ha,Re=g.internal.scaleFactor;function Je(Cn){return Cn=Cn.split("	").join(Array(fe.TabLen||9).join(" ")),Ii(Cn,mn)}function Vt(Cn){for(var An,er=Cn.concat(),Cr=[],Pa=er.length;Pa--;)typeof(An=er.shift())=="string"?Cr.push(An):Array.isArray(Cn)&&(An.length===1||An[1]===void 0&&An[2]===void 0)?Cr.push(An[0]):Cr.push([An[0],An[1],An[2]]);return Cr}function Yn(Cn,An){var er;if(typeof Cn=="string")er=An(Cn)[0];else if(Array.isArray(Cn)){for(var Cr,Pa,ga=Cn.concat(),dl=[],Ku=ga.length;Ku--;)typeof(Cr=ga.shift())=="string"?dl.push(An(Cr)[0]):Array.isArray(Cr)&&typeof Cr[0]=="string"&&(Pa=An(Cr[0],Cr[1],Cr[2]),dl.push([Pa[0],Pa[1],Pa[2]]));er=dl}return er}var un=!1,On=!0;if(typeof w=="string")un=!0;else if(Array.isArray(w)){var ri=w.concat();We=[];for(var Di,Zn=ri.length;Zn--;)(typeof(Di=ri.shift())!="string"||Array.isArray(Di)&&typeof Di[0]!="string")&&(On=!1);un=On}if(un===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var gi=Ye/g.internal.scaleFactor,Ns=gi*(Ae-1);switch(fe.baseline){case"bottom":ne-=Ns;break;case"top":ne+=gi-Ns;break;case"hanging":ne+=gi-2*Ns;break;case"middle":ne+=gi/2-Ns}if((yt=fe.maxWidth||0)>0&&(typeof w=="string"?w=g.splitTextToSize(w,yt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Cn,An){return Cn.concat(g.splitTextToSize(An,yt))},[]))),Ve={text:w,x:U,y:ne,options:fe,mutex:{pdfEscape:Ii,activeFontKey:bt,fonts:st,activeFontSize:Ye}},an.publish("preProcessText",Ve),w=Ve.text,lt=(fe=Ve.options).angle,qn instanceof wt==0&&lt&&typeof lt=="number"){lt*=Math.PI/180,fe.rotationDirection===0&&(lt=-lt),se===ae&&(lt=-lt);var Ia=Math.cos(lt),Ca=Math.sin(lt);qn=new wt(Ia,Ca,-Ca,Ia,0,0)}else lt&&lt instanceof wt&&(qn=lt);se!==ae||qn||(qn=Bi),(It=fe.charSpace||Ms)!==void 0&&(Q+=E(P(It))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jn=fe.horizontalScale)!==void 0&&(Q+=E(100*Jn)+` Tz
`),fe.lang;var br=-1,Qa=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Wl=g.internal.getCurrentPageInfo().pageContext;switch(Qa){case 0:case!1:case"fill":br=0;break;case 1:case!0:case"stroke":br=1;break;case 2:case"fillThenStroke":br=2;break;case 3:case"invisible":br=3;break;case 4:case"fillAndAddForClipping":br=4;break;case 5:case"strokeAndAddPathForClipping":br=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":br=6;break;case 7:case"addToPathForClipping":br=7}var Yu=Wl.usedRenderingMode!==void 0?Wl.usedRenderingMode:-1;br!==-1?Q+=br+` Tr
`:Yu!==-1&&(Q+=`0 Tr
`),br!==-1&&(Wl.usedRenderingMode=br),ft=fe.align||"left";var Is,da=Ye*Ae,Xa=g.internal.pageSize.getWidth(),$u=st[bt];It=fe.charSpace||Ms,yt=fe.maxWidth||0,mn=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var pa=[],Co=function(Cn){return g.getStringUnitWidth(Cn,{font:$u,charSpace:It,fontSize:Ye,doKerning:!1})*Ye/Re};if(Object.prototype.toString.call(w)==="[object Array]"){var os;We=Vt(w),ft!=="left"&&(Is=We.map(Co));var Wi,Ra=0;if(ft==="right"){U-=Is[0],w=[],Zn=We.length;for(var La=0;La<Zn;La++)La===0?(Wi=$r(U),os=Pr(ne)):(Wi=P(Ra-Is[La]),os=-da),w.push([We[La],Wi,os]),Ra=Is[La]}else if(ft==="center"){U-=Is[0]/2,w=[],Zn=We.length;for(var Ja=0;Ja<Zn;Ja++)Ja===0?(Wi=$r(U),os=Pr(ne)):(Wi=P((Ra-Is[Ja])/2),os=-da),w.push([We[Ja],Wi,os]),Ra=Is[Ja]}else if(ft==="left"){w=[],Zn=We.length;for(var Ql=0;Ql<Zn;Ql++)w.push(We[Ql])}else if(ft==="justify"&&$u.encoding==="Identity-H"){w=[],Zn=We.length,yt=yt!==0?yt:Xa;for(var Xl=0,Ir=0;Ir<Zn;Ir++)if(os=Ir===0?Pr(ne):-da,Wi=Ir===0?$r(U):Xl,Ir<Zn-1){var Pc=P((yt-Is[Ir])/(We[Ir].split(" ").length-1)),Da=We[Ir].split(" ");w.push([Da[0]+" ",Wi,os]),Xl=0;for(var ka=1;ka<Da.length;ka++){var mi=(Co(Da[ka-1]+" "+Da[ka])-Co(Da[ka]))*Re+Pc;ka==Da.length-1?w.push([Da[ka],mi,0]):w.push([Da[ka]+" ",mi,0]),Xl-=mi}}else w.push([We[Ir],Wi,os]);w.push(["",Xl,0])}else{if(ft!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],Zn=We.length,yt=yt!==0?yt:Xa,Ir=0;Ir<Zn;Ir++){os=Ir===0?Pr(ne):-da,Wi=Ir===0?$r(U):0;var Za=We[Ir].split(" ").length-1,Jl=Za>0?(yt-Is[Ir])/Za:0;Ir<Zn-1?pa.push(E(P(Jl))):pa.push(0),w.push([We[Ir],Wi,os])}}}(typeof fe.R2L=="boolean"?fe.R2L:Wt)===!0&&(w=Yn(w,function(Cn,An,er){return[Cn.split("").reverse().join(""),An,er]})),Ve={text:w,x:U,y:ne,options:fe,mutex:{pdfEscape:Ii,activeFontKey:bt,fonts:st,activeFontSize:Ye}},an.publish("postProcessText",Ve),w=Ve.text,k=Ve.mutex.isHex||!1;var Zl=st[bt].encoding;Zl!=="WinAnsiEncoding"&&Zl!=="StandardEncoding"||(w=Yn(w,function(Cn,An,er){return[Je(Cn),An,er]})),We=Vt(w),w=[];for(var eo,to,Oa,fl=Array.isArray(We[0])?1:0,Cs="",no=function(Cn,An,er){var Cr="";return er instanceof wt?(er=typeof fe.angle=="number"?aa(er,new wt(1,0,0,1,Cn,An)):aa(new wt(1,0,0,1,Cn,An),er),se===ae&&(er=aa(new wt(1,0,0,-1,0,0),er)),Cr=er.join(" ")+` Tm
`):Cr=E(Cn)+" "+E(An)+` Td
`,Cr},ki=0;ki<We.length;ki++){switch(Cs="",fl){case 1:Oa=(k?"<":"(")+We[ki][0]+(k?">":")"),eo=parseFloat(We[ki][1]),to=parseFloat(We[ki][2]);break;case 0:Oa=(k?"<":"(")+We[ki]+(k?">":")"),eo=$r(U),to=Pr(ne)}pa!==void 0&&pa[ki]!==void 0&&(Cs=pa[ki]+` Tw
`),ki===0?w.push(Cs+no(eo,to,qn)+Oa):fl===0?w.push(Cs+Oa):fl===1&&w.push(Cs+no(eo,to,qn)+Oa)}w=fl===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var Fs=`BT
/`;return Fs+=bt+" "+Ye+` Tf
`,Fs+=E(Ye*Ae)+` TL
`,Fs+=xs+`
`,Fs+=Q,Fs+=w,le(Fs+="ET"),S[bt]=!0,g};var al=_.__private__.clip=_.clip=function(w){return le(w==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return al("evenodd")},_.__private__.discardPath=_.discardPath=function(){return le("n"),this};var pi=_.__private__.isValidStyle=function(w){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(U=!0),U};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(w){return pi(w)&&(d=w),this};var ol=_.__private__.getStyle=_.getStyle=function(w){var U=d;switch(w){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=w}return U},ca=_.close=function(){return le("h"),this};_.stroke=function(){return le("S"),this},_.fill=function(w){return Tr("f",w),this},_.fillEvenOdd=function(w){return Tr("f*",w),this},_.fillStroke=function(w){return Tr("B",w),this},_.fillStrokeEvenOdd=function(w){return Tr("B*",w),this};var Tr=function(w,U){Qn(U)==="object"?ul(U,w):le(w)},Eo=function(w){w===null||se===ae&&w===void 0||(w=ol(w),le(w))};function ll(w,U,ne,fe,ve){var Ve=new Th(U||this.boundingBox,ne||this.xStep,fe||this.yStep,this.gState,ve||this.matrix);Ve.stream=this.stream;var We=w+"$$"+this.cloneIndex+++"$$";return Ei(We,Ve),Ve}var ul=function(w,U){var ne=sn[w.key],fe=Nt[ne];if(fe instanceof hc)le("q"),le(So(U)),fe.gState&&_.setGState(fe.gState),le(w.matrix.toString()+" cm"),le("/"+ne+" sh"),le("Q");else if(fe instanceof Th){var ve=new wt(1,0,0,-1,0,Ts());w.matrix&&(ve=ve.multiply(w.matrix||Bi),ne=ll.call(fe,w.key,w.boundingBox,w.xStep,w.yStep,ve).id),le("q"),le("/Pattern cs"),le("/"+ne+" scn"),fe.gState&&_.setGState(fe.gState),le(U),le("Q")}},So=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},To=_.moveTo=function(w,U){return le(E(P(w))+" "+E(oe(U))+" m"),this},as=_.lineTo=function(w,U){return le(E(P(w))+" "+E(oe(U))+" l"),this},ws=_.curveTo=function(w,U,ne,fe,ve,Ve){return le([E(P(w)),E(oe(U)),E(P(ne)),E(oe(fe)),E(P(ve)),E(oe(Ve)),"c"].join(" ")),this};_.__private__.line=_.line=function(w,U,ne,fe,ve){if(isNaN(w)||isNaN(U)||isNaN(ne)||isNaN(fe)||!pi(ve))throw new Error("Invalid arguments passed to jsPDF.line");return se===ie?this.lines([[ne-w,fe-U]],w,U,[1,1],ve||"S"):this.lines([[ne-w,fe-U]],w,U,[1,1]).stroke()},_.__private__.lines=_.lines=function(w,U,ne,fe,ve,Ve){var We,lt,ft,It,yt,mn,Jn,qn,g,T,k,Q;if(typeof w=="number"&&(Q=ne,ne=U,U=w,w=Q),fe=fe||[1,1],Ve=Ve||!1,isNaN(U)||isNaN(ne)||!Array.isArray(w)||!Array.isArray(fe)||!pi(ve)||typeof Ve!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(To(U,ne),We=fe[0],lt=fe[1],It=w.length,T=U,k=ne,ft=0;ft<It;ft++)(yt=w[ft]).length===2?(T=yt[0]*We+T,k=yt[1]*lt+k,as(T,k)):(mn=yt[0]*We+T,Jn=yt[1]*lt+k,qn=yt[2]*We+T,g=yt[3]*lt+k,T=yt[4]*We+T,k=yt[5]*lt+k,ws(mn,Jn,qn,g,T,k));return Ve&&ca(),Eo(ve),this},_.path=function(w){for(var U=0;U<w.length;U++){var ne=w[U],fe=ne.c;switch(ne.op){case"m":To(fe[0],fe[1]);break;case"l":as(fe[0],fe[1]);break;case"c":ws.apply(this,fe);break;case"h":ca()}}return this},_.__private__.rect=_.rect=function(w,U,ne,fe,ve){if(isNaN(w)||isNaN(U)||isNaN(ne)||isNaN(fe)||!pi(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return se===ie&&(fe=-fe),le([E(P(w)),E(oe(U)),E(P(ne)),E(P(fe)),"re"].join(" ")),Eo(ve),this},_.__private__.triangle=_.triangle=function(w,U,ne,fe,ve,Ve,We){if(isNaN(w)||isNaN(U)||isNaN(ne)||isNaN(fe)||isNaN(ve)||isNaN(Ve)||!pi(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-w,fe-U],[ve-ne,Ve-fe],[w-ve,U-Ve]],w,U,[1,1],We,!0),this},_.__private__.roundedRect=_.roundedRect=function(w,U,ne,fe,ve,Ve,We){if(isNaN(w)||isNaN(U)||isNaN(ne)||isNaN(fe)||isNaN(ve)||isNaN(Ve)||!pi(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ne),Ve=Math.min(Ve,.5*fe),this.lines([[ne-2*ve,0],[ve*lt,0,ve,Ve-Ve*lt,ve,Ve],[0,fe-2*Ve],[0,Ve*lt,-ve*lt,Ve,-ve,Ve],[2*ve-ne,0],[-ve*lt,0,-ve,-Ve*lt,-ve,-Ve],[0,2*Ve-fe],[0,-Ve*lt,ve*lt,-Ve,ve,-Ve]],w+ve,U,[1,1],We,!0),this},_.__private__.ellipse=_.ellipse=function(w,U,ne,fe,ve){if(isNaN(w)||isNaN(U)||isNaN(ne)||isNaN(fe)||!pi(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ve=4/3*(Math.SQRT2-1)*ne,We=4/3*(Math.SQRT2-1)*fe;return To(w+ne,U),ws(w+ne,U-We,w+Ve,U-fe,w,U-fe),ws(w-Ve,U-fe,w-ne,U-We,w-ne,U),ws(w-ne,U+We,w-Ve,U+fe,w,U+fe),ws(w+Ve,U+fe,w+ne,U+We,w+ne,U),Eo(ve),this},_.__private__.circle=_.circle=function(w,U,ne,fe){if(isNaN(w)||isNaN(U)||isNaN(ne)||!pi(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,U,ne,ne,fe)},_.setFont=function(w,U,ne){return ne&&(U=Y(U,ne)),bt=sl(w,U,{disableWarning:!1}),this};var As=_.__private__.getFont=_.getFont=function(){return st[sl.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var w,U,ne={};for(w in Et)if(Et.hasOwnProperty(w))for(U in ne[w]=[],Et[w])Et[w].hasOwnProperty(U)&&ne[w].push(U);return ne},_.addFont=function(w,U,ne,fe,ve){var Ve=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ve.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ve.indexOf(arguments[3])==-1&&(ne=Y(ne,fe)),_o.call(this,w,U,ne,ve=ve||"Identity-H")};var ha,Ri=n.lineWidth||.200025,Lt=_.__private__.getLineWidth=_.getLineWidth=function(){return Ri},Ps=_.__private__.setLineWidth=_.setLineWidth=function(w){return Ri=w,le(E(P(w))+" w"),this};_.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(w,U){if(w=w||[],U=U||0,isNaN(U)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(ne){return E(P(ne))}).join(" "),U=E(P(U)),le("["+w+"] "+U+" d"),this};var Ya=_.__private__.getLineHeight=_.getLineHeight=function(){return Ye*ha};_.__private__.getLineHeight=_.getLineHeight=function(){return Ye*ha};var No=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(ha=w),this},Sa=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return ha};No(n.lineHeight);var $r=_.__private__.getHorizontalCoordinate=function(w){return P(w)},Pr=_.__private__.getVerticalCoordinate=function(w){return se===ae?w:St[K].mediaBox.topRightY-St[K].mediaBox.bottomLeftY-P(w)},$a=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(w){return E($r(w))},kn=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(w){return E(Pr(w))},Gi=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Hn(Gi)},_.__private__.setStrokeColor=_.setDrawColor=function(w,U,ne,fe){return Gi=Or({ch1:w,ch2:U,ch3:ne,ch4:fe,pdfColorType:"draw",precision:2}),le(Gi),this};var Ka=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Hn(Ka)},_.__private__.setFillColor=_.setFillColor=function(w,U,ne,fe){return Ka=Or({ch1:w,ch2:U,ch3:ne,ch4:fe,pdfColorType:"fill",precision:2}),le(Ka),this};var xs=n.textColor||"0 g",Ta=_.__private__.getTextColor=_.getTextColor=function(){return Hn(xs)};_.__private__.setTextColor=_.setTextColor=function(w,U,ne,fe){return xs=Or({ch1:w,ch2:U,ch3:ne,ch4:fe,pdfColorType:"text",precision:3}),this};var Ms=n.charSpace,fa=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Ms||0)};_.__private__.setCharSpace=_.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ms=w,this};var Yi=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(w){var U=_.CapJoinStyles[w];if(U===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yi=U,le(U+" J"),this};var Nr=0;_.__private__.setLineJoin=_.setLineJoin=function(w){var U=_.CapJoinStyles[w];if(U===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nr=U,le(U+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(E(P(w))+" M"),this},_.GState=xg,_.setGState=function(w){(w=typeof w=="string"?zt[Ln[w]]:$i(null,w)).equals(sr)||(le("/"+w.id+" gs"),sr=w)};var $i=function(w,U){if(!w||!Ln[w]){var ne=!1;for(var fe in zt)if(zt.hasOwnProperty(fe)&&zt[fe].equals(U)){ne=!0;break}if(ne)U=zt[fe];else{var ve="GS"+(Object.keys(zt).length+1).toString(10);zt[ve]=U,U.id=ve}return w&&(Ln[w]=U.id),an.publish("addGState",U),U}};_.addGState=function(w,U){return $i(w,U),this},_.saveGraphicsState=function(){return le("q"),Ut.push({key:bt,size:Ye,color:xs}),this},_.restoreGraphicsState=function(){le("Q");var w=Ut.pop();return bt=w.key,Ye=w.size,xs=w.color,sr=null,this},_.setCurrentTransformationMatrix=function(w){return le(w.toString()+" cm"),this},_.comment=function(w){return le("#"+w),this};var Li=function(w,U){var ne=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Ve){isNaN(Ve)||(ne=parseFloat(Ve))}});var fe=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Ve){isNaN(Ve)||(fe=parseFloat(Ve))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ve){ve=Ve.toString()}}),this},js=function(w,U,ne,fe){Li.call(this,w,U),this.type="rect";var ve=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(We){isNaN(We)||(ve=parseFloat(We))}});var Ve=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ve},set:function(We){isNaN(We)||(Ve=parseFloat(We))}}),this},Na=function(){this.page=Ht,this.currentPage=K,this.pages=Qe.slice(0),this.pagesContext=St.slice(0),this.x=mt,this.y=jn,this.matrix=nn,this.width=Es(K),this.height=Ss(K),this.outputDestination=tt,this.id="",this.objectNumber=-1};Na.prototype.restore=function(){Ht=this.page,K=this.currentPage,St=this.pagesContext,Qe=this.pages,mt=this.x,jn=this.y,nn=this.matrix,Wa(K,this.width),Ki(K,this.height),tt=this.outputDestination};var Us=function(w,U,ne,fe,ve){Yr.push(new Na),Ht=K=0,Qe=[],mt=w,jn=U,nn=ve,ss([ne,fe])};for(var Vs in _.beginFormObject=function(w,U,ne,fe,ve){return Us(w,U,ne,fe,ve),this},_.endFormObject=function(w){return(function(U){if(Os[U])Yr.pop().restore();else{var ne=new Na,fe="Xo"+(Object.keys(ei).length+1).toString(10);ne.id=fe,Os[U]=fe,ei[fe]=ne,an.publish("addFormObject",ne),Yr.pop().restore()}})(w),this},_.doFormObject=function(w,U){var ne=ei[Os[w]];return le("q"),le(U.toString()+" cm"),le("/"+ne.id+" Do"),le("Q"),this},_.getFormObject=function(w){var U=ei[Os[w]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},_.save=function(w,U){return w=w||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(cc(fn(_s()),w),typeof cc.unload=="function"&&$t.setTimeout&&setTimeout(cc.unload,911),this):new Promise(function(ne,fe){try{var ve=cc(fn(_s()),w);typeof cc.unload=="function"&&$t.setTimeout&&setTimeout(cc.unload,911),ne(ve)}catch(Ve){fe(Ve.message)}})},At.API)At.API.hasOwnProperty(Vs)&&(Vs==="events"&&At.API.events.length?(function(w,U){var ne,fe,ve;for(ve=U.length-1;ve!==-1;ve--)ne=U[ve][0],fe=U[ve][1],w.subscribe.apply(w,[ne].concat(typeof fe=="function"?[fe]:fe))})(an,At.API.events):_[Vs]=At.API[Vs]);function Es(w){return St[w].mediaBox.topRightX-St[w].mediaBox.bottomLeftX}function Wa(w,U){St[w].mediaBox.topRightX=U+St[w].mediaBox.bottomLeftX}function Ss(w){return St[w].mediaBox.topRightY-St[w].mediaBox.bottomLeftY}function Ki(w,U){St[w].mediaBox.topRightY=U+St[w].mediaBox.bottomLeftY}var cl=_.getPageWidth=function(w){return Es(w=w||K)/Dt},hl=_.setPageWidth=function(w,U){Wa(w,U*Dt)},Ts=_.getPageHeight=function(w){return Ss(w=w||K)/Dt},Io=_.setPageHeight=function(w,U){Ki(w,U*Dt)};return _.internal={pdfEscape:Ii,getStyle:ol,getFont:As,getFontSize:nt,getCharSpace:fa,getTextColor:Ta,getLineHeight:Ya,getLineHeightFactor:Sa,getLineWidth:Lt,write:Xt,getHorizontalCoordinate:$r,getVerticalCoordinate:Pr,getCoordinateString:$a,getVerticalCoordinateString:kn,collections:{},newObject:Bn,newAdditionalObject:hi,newObjectDeferred:Xn,newObjectDeferredBegin:kr,getFilters:Ti,putStream:rs,events:an,scaleFactor:Dt,pageSize:{getWidth:function(){return cl(K)},setWidth:function(w){hl(K,w)},getHeight:function(){return Ts(K)},setHeight:function(w){Io(K,w)}},encryptionOptions:v,encryption:Gn,getEncryptor:function(w){return v!==null?Gn.encryptor(w,0):function(U){return U}},output:di,getNumberOfPages:Ao,pages:Qe,out:le,f2:N,f3:O,getPageInfo:ni,getPageInfoByObjId:xo,getCurrentPageInfo:Kl,getPDFVersion:j,Point:Li,Rectangle:js,Matrix:wt,hasHotfix:Ci},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return cl(K)},set:function(w){hl(K,w)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Ts(K)},set:function(w){Io(K,w)},enumerable:!0,configurable:!0}),(function(w){for(var U=0,ne=_t.length;U<ne;U++){var fe=_o.call(this,w[U][0],w[U][1],w[U][2],_t[U][3],!0);A===!1&&(S[fe]=!0);var ve=w[U][0].split("-");fr({id:fe,fontName:ve[0],fontStyle:ve[1]||""})}an.publish("addFonts",{fonts:st,dictionary:Et})}).call(_,_t),bt="F1",bs(a,t),an.publish("initialized"),_}Eh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Eh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Eh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Eh.prototype.processOwnerPassword=function(n,e){return F1(V1(e).substr(0,5),n)},Eh.prototype.encryptor=function(n,e){var t=V1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return F1(t,r)}},xg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Qn(n)!==Qn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},At.API={events:[]},At.version="3.0.3";var qr=At.API,ty=1,Oc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},en=function(n){return n.toFixed(2)},Su=function(n){return n.toFixed(5)};qr.__acroform__={};var sa=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},uw=function(n){return n*ty},Ho=function(n){var e=new sx,t=pt.internal.getHeight(n)||0,r=pt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(en(r)),Number(en(t))],e},QD=qr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},XD=qr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},JD=qr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Xr=qr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return JD(n,e-1)},Jr=qr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return QD(n,e-1)},Zr=qr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XD(n,e-1)},ZD=qr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],o=n[1],u=n[2],h=n[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=r(o+h)||0,f.upperRight_X=t(a+u)||0,f.upperRight_Y=r(o)||0,[Number(en(f.lowerLeft_X)),Number(en(f.lowerLeft_Y)),Number(en(f.upperRight_X)),Number(en(f.upperRight_Y))]},ek=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=B1(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+en(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Ho(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},B1=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(N){return N.split(`
`)}):a.map(function(N){return[N]});var o=t,u=pt.internal.getHeight(n)||0;u=u<0?-u:u;var h=pt.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(N,O,P){if(N+1<a.length){var oe=O+" "+a[N+1][0];return kp(oe,n,P).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var d,v,A=kp("3",n,o).height,S=n.multiline?u-o:(u-A)/2,_=S+=2,M=0,j=0,q=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+kp(e,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var F="",ie=0,ae=0;ae<a.length;ae++)if(a.hasOwnProperty(ae)){var se=!1;if(a[ae].length!==1&&q!==a[ae].length-1){if((A+2)*(ie+2)+2>u)continue e;F+=a[ae][q],se=!0,j=ae,ae--}else{F=(F+=a[ae][q]+" ").substr(F.length-1)==" "?F.substr(0,F.length-1):F;var we=parseInt(ae),ke=f(we,F,o),Y=ae>=a.length-1;if(ke&&!Y){F+=" ",q=0;continue}if(ke||Y){if(Y)j=we;else if(n.multiline&&(A+2)*(ie+2)+2>u)continue e}else{if(!n.multiline||(A+2)*(ie+2)+2>u)continue e;j=we}}for(var E="",L=M;L<=j;L++){var B=a[L];if(n.multiline){if(L===j){E+=B[q]+" ",q=(q+1)%B.length;continue}if(L===M){E+=B[B.length-1]+" ";continue}}E+=B[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,v=kp(E,n,o).width,n.textAlign){case"right":d=h-v-2;break;case"center":d=(h-v)/2;break;default:d=2}e+=en(d)+" "+en(_)+` Td
`,e+="("+Oc(E)+`) Tj
`,e+=-en(d)+` 0 Td
`,_=-(o+2),v=0,M=se?j:j+1,ie++,F=""}break}return r.text=e,r.fontSize=o,r},kp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},tk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nk=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},rk=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(vo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(tk)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ty=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new ax,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&nk(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var u in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var h=r[u],f=[],d=h.Rect;if(h.Rect&&(h.Rect=ZD(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=pt.createDefaultAppearanceStream(h),Qn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=ek(h);f.push({key:"AP",value:"<</N "+v+">>"}),a.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var A="";for(var S in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(S)){var _=h.appearanceStreamContent[S];if(A+="/"+S+" ",A+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var u in _)if(_.hasOwnProperty(u)){var M=_[u];typeof M=="function"&&(M=M.call(a,h)),A+="/"+u+" "+M+" ",a.internal.acroformPlugin.xForms.indexOf(M)>=0||a.internal.acroformPlugin.xForms.push(M)}}else typeof(M=_)=="function"&&(M=M.call(a,h)),A+="/"+u+" "+M,a.internal.acroformPlugin.xForms.indexOf(M)>=0||a.internal.acroformPlugin.xForms.push(M);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:h.objId}),a.internal.out("endobj")}o&&(function(j,q){for(var F in j)if(j.hasOwnProperty(F)){var ie=F,ae=j[F];q.internal.newObjectDeferredBegin(ae.objId,!0),Qn(ae)==="object"&&typeof ae.putStream=="function"&&ae.putStream(),delete j[ie]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},ix=qr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Qn(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+Oc(r(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},J0=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Oc(r(n))+")"},$o=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$o.prototype.toString=function(){return this.objId+" 0 R"},$o.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},$o.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:ix(a,this.objId,this.scope)}):a instanceof $o?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var sx=function(){$o.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};sa(sx,$o);var ax=function(){$o.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Oc(t(n))+")"}},set:function(t){n=t}})};sa(ax,$o);var vo=function n(){$o.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute F supplied.');e=F}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xr(e,3)},set:function(F){F?this.F=Jr(e,3):this.F=Zr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute Ff supplied.');t=F}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(F){r=F!==void 0?F:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(F){r[0]=F}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(F){r[1]=F}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(F){r[2]=F}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(F){r[3]=F}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(F){switch(F){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=F;break;default:throw new Error('Invalid value "'+F+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Eg)return;o="FieldObject"+n.FieldNum++}var F=function(ie){return ie};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+Oc(F(o))+")"},set:function(F){o=F.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(F){o=F}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(F){u=F}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(F){h=F}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(F){f=F}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/ty:d},set:function(F){d=F}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(F){v=F}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Eg||this instanceof vc))return J0(A,this.objId,this.scope)},set:function(F){F=F.toString(),A=F}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof Fi==0?J0(S,this.objId,this.scope):S},set:function(F){F=F.toString(),S=this instanceof Fi==0?F.substr(0,1)==="("?yh(F.substr(1,F.length-2)):yh(F):F}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi==1?yh(S.substr(1,S.length-1)):S},set:function(F){F=F.toString(),S=this instanceof Fi==1?"/"+F:F}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(F){this.V=F}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Fi==0?J0(_,this.objId,this.scope):_},set:function(F){F=F.toString(),_=this instanceof Fi==0?F.substr(0,1)==="("?yh(F.substr(1,F.length-2)):yh(F):F}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fi==1?yh(_.substr(1,_.length-1)):_},set:function(F){F=F.toString(),_=this instanceof Fi==1?"/"+F:F}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(F){F=!!F,j=F}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(F){M=F}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,1)},set:function(F){F?this.Ff=Jr(this.Ff,1):this.Ff=Zr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,2)},set:function(F){F?this.Ff=Jr(this.Ff,2):this.Ff=Zr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,3)},set:function(F){F?this.Ff=Jr(this.Ff,3):this.Ff=Zr(this.Ff,3)}});var q=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(q!==null)return q},set:function(F){if([0,1,2].indexOf(F)===-1)throw new Error('Invalid value "'+F+'" for attribute Q supplied.');q=F}}),Object.defineProperty(this,"textAlign",{get:function(){var F;switch(q){case 0:default:F="left";break;case 1:F="center";break;case 2:F="right"}return F},configurable:!0,enumerable:!0,set:function(F){switch(F){case"right":case 2:q=2;break;case"center":case 1:q=1;break;default:q=0}}})};sa(vo,$o);var Dh=function(){vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ix(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(o,u,h){h||(h=1);for(var f,d=[];f=u.exec(o);)d.push(f[h]);return d})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,18)},set:function(t){t?this.Ff=Jr(this.Ff,18):this.Ff=Zr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Jr(this.Ff,19):this.Ff=Zr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,20)},set:function(t){t?(this.Ff=Jr(this.Ff,20),e.sort()):this.Ff=Zr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,22)},set:function(t){t?this.Ff=Jr(this.Ff,22):this.Ff=Zr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,23)},set:function(t){t?this.Ff=Jr(this.Ff,23):this.Ff=Zr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,27)},set:function(t){t?this.Ff=Jr(this.Ff,27):this.Ff=Zr(this.Ff,27)}}),this.hasAppearanceStream=!1};sa(Dh,vo);var kh=function(){Dh.call(this),this.fontName="helvetica",this.combo=!1};sa(kh,Dh);var Oh=function(){kh.call(this),this.combo=!0};sa(Oh,kh);var Wp=function(){Oh.call(this),this.edit=!0};sa(Wp,Oh);var Fi=function(){vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,15)},set:function(t){t?this.Ff=Jr(this.Ff,15):this.Ff=Zr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,16)},set:function(t){t?this.Ff=Jr(this.Ff,16):this.Ff=Zr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,17)},set:function(t){t?this.Ff=Jr(this.Ff,17):this.Ff=Zr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,26)},set:function(t){t?this.Ff=Jr(this.Ff,26):this.Ff=Zr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+Oc(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Qn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};sa(Fi,vo);var Qp=function(){Fi.call(this),this.pushButton=!0};sa(Qp,Fi);var Ph=function(){Fi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};sa(Ph,Fi);var Eg=function(){var n,e;vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+Oc(a(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){Qn(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};sa(Eg,vo),Ph.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Ph.prototype.createOption=function(n){var e=new Eg;return e.Parent=this,e.optionName=n,this.Kids.push(e),ik.call(this.scope,e),e};var Xp=function(){Fi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pt.CheckBox.createAppearanceStream()};sa(Xp,Fi);var vc=function(){vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,13)},set:function(e){e?this.Ff=Jr(this.Ff,13):this.Ff=Zr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,21)},set:function(e){e?this.Ff=Jr(this.Ff,21):this.Ff=Zr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,23)},set:function(e){e?this.Ff=Jr(this.Ff,23):this.Ff=Zr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,24)},set:function(e){e?this.Ff=Jr(this.Ff,24):this.Ff=Zr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,25)},set:function(e){e?this.Ff=Jr(this.Ff,25):this.Ff=Zr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,26)},set:function(e){e?this.Ff=Jr(this.Ff,26):this.Ff=Zr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};sa(vc,vo);var Jp=function(){vc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,14)},set:function(n){n?this.Ff=Jr(this.Ff,14):this.Ff=Zr(this.Ff,14)}}),this.password=!0};sa(Jp,vc);var pt={CheckBox:{createAppearanceStream:function(){return{N:{On:pt.CheckBox.YesNormal},D:{On:pt.CheckBox.YesPushDown,Off:pt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ho(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=B1(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+en(pt.internal.getWidth(n))+" "+en(pt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+en(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ho(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=pt.internal.getHeight(n),u=pt.internal.getWidth(n),h=B1(n,n.caption);return a.push("1 g"),a.push("0 0 "+en(u)+" "+en(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+en(u-1)+" "+en(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+en(h.fontSize)+" Tf "+r),a.push(h.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Ho(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+en(pt.internal.getWidth(n))+" "+en(pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:pt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=pt.RadioButton.Circle.YesNormal,e.D[n]=pt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ho(n);e.scope=n.scope;var t=[],r=pt.internal.getWidth(n)<=pt.internal.getHeight(n)?pt.internal.getWidth(n)/4:pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=pt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Su(pt.internal.getWidth(n)/2)+" "+Su(pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ho(n);e.scope=n.scope;var t=[],r=pt.internal.getWidth(n)<=pt.internal.getHeight(n)?pt.internal.getWidth(n)/4:pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*pt.internal.Bezier_C).toFixed(5)),u=Number((r*pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Su(pt.internal.getWidth(n)/2)+" "+Su(pt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Su(pt.internal.getWidth(n)/2)+" "+Su(pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ho(n);e.scope=n.scope;var t=[],r=pt.internal.getWidth(n)<=pt.internal.getHeight(n)?pt.internal.getWidth(n)/4:pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Su(pt.internal.getWidth(n)/2)+" "+Su(pt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:pt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=pt.RadioButton.Cross.YesNormal,e.D[n]=pt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ho(n);e.scope=n.scope;var t=[],r=pt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+en(pt.internal.getWidth(n)-2)+" "+en(pt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(en(r.x1.x)+" "+en(r.x1.y)+" m"),t.push(en(r.x2.x)+" "+en(r.x2.y)+" l"),t.push(en(r.x4.x)+" "+en(r.x4.y)+" m"),t.push(en(r.x3.x)+" "+en(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ho(n);e.scope=n.scope;var t=pt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+en(pt.internal.getWidth(n))+" "+en(pt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+en(pt.internal.getWidth(n)-2)+" "+en(pt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(en(t.x1.x)+" "+en(t.x1.y)+" m"),r.push(en(t.x2.x)+" "+en(t.x2.y)+" l"),r.push(en(t.x4.x)+" "+en(t.x4.y)+" m"),r.push(en(t.x3.x)+" "+en(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ho(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+en(pt.internal.getWidth(n))+" "+en(pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};pt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=pt.internal.getWidth(n),t=pt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},pt.internal.getWidth=function(n){var e=0;return Qn(n)==="object"&&(e=uw(n.Rect[2])),e},pt.internal.getHeight=function(n){var e=0;return Qn(n)==="object"&&(e=uw(n.Rect[3])),e};var ik=qr.addField=function(n){if(rk(this,n),!(n instanceof vo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};qr.AcroFormChoiceField=Dh,qr.AcroFormListBox=kh,qr.AcroFormComboBox=Oh,qr.AcroFormEditBox=Wp,qr.AcroFormButton=Fi,qr.AcroFormPushButton=Qp,qr.AcroFormRadioButton=Ph,qr.AcroFormCheckBox=Xp,qr.AcroFormTextField=vc,qr.AcroFormPasswordField=Jp,qr.AcroFormAppearance=pt,qr.AcroForm={ChoiceField:Dh,ListBox:kh,ComboBox:Oh,EditBox:Wp,Button:Fi,PushButton:Qp,RadioButton:Ph,CheckBox:Xp,TextField:vc,PasswordField:Jp,Appearance:pt},At.AcroForm={ChoiceField:Dh,ListBox:kh,ComboBox:Oh,EditBox:Wp,Button:Fi,PushButton:Qp,RadioButton:Ph,CheckBox:Xp,TextField:vc,PasswordField:Jp,Appearance:pt};At.AcroForm;function ox(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(N,O){var P,oe,xe,ee,de,$=t;if((O=O||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(ke(N))for(de in r)for(xe=r[de],P=0;P<xe.length;P+=1){for(ee=!0,oe=0;oe<xe[P].length;oe+=1)if(xe[P][oe]!==void 0&&xe[P][oe]!==N[oe]){ee=!1;break}if(ee===!0){$=de;break}}else for(de in r)for(xe=r[de],P=0;P<xe.length;P+=1){for(ee=!0,oe=0;oe<xe[P].length;oe+=1)if(xe[P][oe]!==void 0&&xe[P][oe]!==N.charCodeAt(oe)){ee=!1;break}if(ee===!0){$=de;break}}return $===t&&O!==t&&($=O),$},o=function N(O){for(var P=this.internal.write,oe=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:O.width}),ee.push({key:"Height",value:O.height}),O.colorSpace===F.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===F.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var de="",$=0,be=O.transparency.length;$<be;$++)de+=O.transparency[$]+" "+O.transparency[$]+" ";ee.push({key:"Mask",value:"["+de+"]"})}O.sMask!==void 0&&ee.push({key:"SMask",value:O.objectId+1+" 0 R"});var Fe=O.filter!==void 0?["/"+O.filter]:void 0;if(oe({data:O.data,additionalKeyValues:ee,alreadyAppliedFilters:Fe,objectId:O.objectId}),P("endobj"),"sMask"in O&&O.sMask!==void 0){var J,D=(J=O.sMaskBitsPerComponent)!==null&&J!==void 0?J:O.bitsPerComponent,K={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:O.sMask};"filter"in O&&(K.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(O.width),K.filter=O.filter),N.call(this,K)}if(O.colorSpace===F.INDEXED){var Z=this.internal.newObject();oe({data:E(new Uint8Array(O.palette)),objectId:Z}),P("endobj")}},u=function(){var N=this.internal.collections[e+"images"];for(var O in N)o.call(this,N[O])},h=function(){var N,O=this.internal.collections[e+"images"],P=this.internal.write;for(var oe in O)P("/I"+(N=O[oe]).index,N.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",h))},d=function(){var N=this.internal.collections[e+"images"];return f.call(this),N},v=function(){return Object.keys(this.internal.collections[e+"images"]).length},A=function(N){return typeof n["process"+N.toUpperCase()]=="function"},S=function(N){return Qn(N)==="object"&&N.nodeType===1},_=function(N,O){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var P=""+N.getAttribute("src");if(P.indexOf("data:image/")===0)return Kp(unescape(P).split("base64,").pop());var oe=n.loadFile(P,!0);if(oe!==void 0)return oe}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var xe;switch(O){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return Kp(N.toDataURL(xe,1).split("base64,").pop())}},M=function(N){var O=this.internal.collections[e+"images"];if(O){for(var P in O)if(N===O[P].alias)return O[P]}},j=function(N,O,P){return N||O||(N=-96,O=-96),N<0&&(N=-1*P.width*72/N/this.internal.scaleFactor),O<0&&(O=-1*P.height*72/O/this.internal.scaleFactor),N===0&&(N=O*P.width/P.height),O===0&&(O=N*P.height/P.width),[N,O]},q=function(N,O,P,oe,xe,ee){var de=j.call(this,P,oe,xe),$=this.internal.getCoordinateString,be=this.internal.getVerticalCoordinateString,Fe=d.call(this);if(P=de[0],oe=de[1],Fe[xe.index]=xe,ee){ee*=Math.PI/180;var J=Math.cos(ee),D=Math.sin(ee),K=function(ue){return ue.toFixed(4)},Z=[K(J),K(D),K(-1*D),K(J),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,$(N),be(O+oe),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([$(P),"0","0",$(oe),"0","0","cm"].join(" "))):this.internal.write([$(P),"0","0",$(oe),$(N),be(O+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},F=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ie=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ae=n.__addimage__.sHashCode=function(N){var O,P,oe=0;if(typeof N=="string")for(P=N.length,O=0;O<P;O++)oe=(oe<<5)-oe+N.charCodeAt(O),oe|=0;else if(ke(N))for(P=N.byteLength/2,O=0;O<P;O++)oe=(oe<<5)-oe+N[O],oe|=0;return oe},se=n.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var O=!0;return N.length===0&&(O=!1),N.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(O=!1),O},we=n.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var O=N.indexOf(",");return O<0?null:N.substring(0,O).trim().endsWith("base64")?N.substring(O+1):null};n.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var ke=n.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},Y=n.__addimage__.binaryStringToUint8Array=function(N){for(var O=N.length,P=new Uint8Array(O),oe=0;oe<O;oe++)P[oe]=N.charCodeAt(oe);return P},E=n.__addimage__.arrayBufferToBinaryString=function(N){for(var O="",P=ke(N)?N:new Uint8Array(N),oe=0;oe<P.length;oe+=8192)O+=String.fromCharCode.apply(null,P.subarray(oe,oe+8192));return O};n.addImage=function(){var N,O,P,oe,xe,ee,de,$,be;if(typeof arguments[1]=="number"?(O=t,P=arguments[1],oe=arguments[2],xe=arguments[3],ee=arguments[4],de=arguments[5],$=arguments[6],be=arguments[7]):(O=arguments[1],P=arguments[2],oe=arguments[3],xe=arguments[4],ee=arguments[5],de=arguments[6],$=arguments[7],be=arguments[8]),Qn(N=arguments[0])==="object"&&!S(N)&&"imageData"in N){var Fe=N;N=Fe.imageData,O=Fe.format||O||t,P=Fe.x||P||0,oe=Fe.y||oe||0,xe=Fe.w||Fe.width||xe,ee=Fe.h||Fe.height||ee,de=Fe.alias||de,$=Fe.compression||$,be=Fe.rotation||Fe.angle||be}var J=this.internal.getFilters();if($===void 0&&J.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(P)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var D=L.call(this,N,O,de,$);return q.call(this,P,oe,xe,ee,D,be),this};var L=function(N,O,P,oe){var xe,ee,de;if(typeof N=="string"&&a(N)===t){N=unescape(N);var $=B(N,!1);($!==""||($=n.loadFile(N,!0))!==void 0)&&(N=$)}if(S(N)&&(N=_(N,O)),O=a(N,O),!A(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((de=P)==null||de.length===0)&&(P=(function(be){return typeof be=="string"||ke(be)?ae(be):ke(be.data)?ae(be.data):null})(N)),(xe=M.call(this,P))||(N instanceof Uint8Array||O==="RGBA"||(ee=N,N=Y(N)),xe=this["process"+O.toUpperCase()](N,v.call(this),P,(function(be){return be&&typeof be=="string"&&(be=be.toUpperCase()),be in n.image_compression?be:ie.NONE})(oe),ee)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},B=n.__addimage__.convertBase64ToBinaryString=function(N,O){O=typeof O!="boolean"||O;var P,oe="";if(typeof N=="string"){var xe;P=(xe=we(N))!==null&&xe!==void 0?xe:N;try{oe=Kp(P)}catch(ee){if(O)throw se(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};n.getImageProperties=function(N){var O,P,oe="";if(S(N)&&(N=_(N)),typeof N=="string"&&a(N)===t&&((oe=B(N,!1))===""&&(oe=n.loadFile(N)||""),N=oe),P=a(N),!A(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(N instanceof Uint8Array||(N=Y(N)),!(O=this["process"+P.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=P,O}})(At.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};At.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,o,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,v=!1,A=0;A<d.length&&!v;A++)switch((r=d[A]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var S=0;S<d.length;S++){r=d[S];var _=this.internal.pdfEscape,M=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),q=this.internal.newAdditionalObject(),F=this.internal.getEncryptor(j.objId),ie=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+_(F(r.contents))+")",o+=" /Popup "+q.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+_(F(ie))+") >>",j.content=o;var ae=j.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+ae,r.open&&(o+=" /Open true"),o+=" >>",q.content=o,this.internal.write(j.objId,"0 R",q.objId,"0 R");break;case"freetext":a="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var se=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+_(M(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+se+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var we=this.annotations._nameMap[r.options.name];r.options.pageNumber=we.page,r.options.top=we.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+_(M(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var ke=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+ke+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,o,u){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+a),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,a,o){var u,h,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var v=this.splitTextToSize(t,h).length;u=Math.ceil(d*v)}else h=f,u=d;return this.text(t,r,a,o),a+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-d,h,u,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(At.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(j){return e[j.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},h=n.__arabicParser__.isArabicEndLetter=function(j){return u(j)&&o(j)&&e[j.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(j){return u(j)&&a.indexOf(j.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return u(j)&&o(j)&&e[j.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(j){return u(j)&&o(j)&&e[j.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(j){return u(j)&&o(j)&&e[j.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(j){return u(j)&&o(j)&&e[j.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(j){var q=0,F=t,ie="",ae=0;for(q=0;q<j.length;q+=1)F[j.charCodeAt(q)]!==void 0?(ae++,typeof(F=F[j.charCodeAt(q)])=="number"&&(ie+=String.fromCharCode(F),F=t,ae=0),q===j.length-1&&(F=t,ie+=j.charAt(q-(ae-1)),q-=ae-1,ae=0)):(F=t,ie+=j.charAt(q-ae),q-=ae,ae=0);return ie};n.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&r[j.charCodeAt(0)]!==void 0};var S=n.__arabicParser__.getCorrectForm=function(j,q,F){return u(j)?o(j)===!1?-1:!d(j)||!u(q)&&!u(F)||!u(F)&&h(q)||h(j)&&!u(q)||h(j)&&f(q)||h(j)&&h(q)?0:v(j)&&u(q)&&!h(q)&&u(F)&&d(F)?3:h(j)||!u(F)?1:2:-1},_=function(j){var q=0,F=0,ie=0,ae="",se="",we="",ke=(j=j||"").split("\\s+"),Y=[];for(q=0;q<ke.length;q+=1){for(Y.push(""),F=0;F<ke[q].length;F+=1)ae=ke[q][F],se=ke[q][F-1],we=ke[q][F+1],u(ae)?(ie=S(ae,se,we),Y[q]+=ie!==-1?String.fromCharCode(e[ae.charCodeAt(0)][ie]):ae):Y[q]+=ae;Y[q]=A(Y[q])}return Y.join(" ")},M=n.__arabicParser__.processArabic=n.processArabic=function(){var j,q=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,F=[];if(Array.isArray(q)){var ie=0;for(F=[],ie=0;ie<q.length;ie+=1)Array.isArray(q[ie])?F.push([_(q[ie][0]),q[ie][1],q[ie][2]]):F.push([_(q[ie])]);j=F}else j=_(q);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};n.events.push(["preProcessText",M])})(At.API),At.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(At.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(j){f=j}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(j){d=j}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(j){v=j}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(j){A=j}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(j){S=j}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(j){_=j}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(j){M=j}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var v=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),S=d.scaleFactor||this.internal.scaleFactor,_=0,M=0,j=0,q=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var F=d.maxWidth;F>0?typeof f=="string"?f=this.splitTextToSize(f,F):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(ae,se){return ae.concat(q.splitTextToSize(se,F))},[])):f=Array.isArray(f)?f:[f];for(var ie=0;ie<f.length;ie++)_<(j=this.getStringUnitWidth(f[ie],{font:A})*v)&&(_=j);return _!==0&&(M=f.length),{w:_/=S,h:Math.max((M*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/S,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,_&&S&&(this.printHeaderRow(f.lineNumber,!0),f.y+=S[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,v,A,S){if(r.call(this),!v)throw new Error("No data for PDF table.");var _,M,j,q,F=[],ie=[],ae=[],se={},we={},ke=[],Y=[],E=(S=S||{}).autoSize||!1,L=S.printHeaders!==!1,B=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,N=S.margins||Object.assign({width:this.getPageWidth()},e),O=typeof S.padding=="number"?S.padding:3,P=S.headerBackgroundColor||"#c8c8c8",oe=S.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=oe,this.setFontSize(B),A==null)ie=F=Object.keys(v[0]),ae=F.map(function(){return"left"});else if(Array.isArray(A)&&Qn(A[0])==="object")for(F=A.map(function(Fe){return Fe.name}),ie=A.map(function(Fe){return Fe.prompt||Fe.name||""}),ae=A.map(function(Fe){return Fe.align||"left"}),_=0;_<A.length;_+=1)we[A[_].name]=.7499990551181103*A[_].width;else Array.isArray(A)&&typeof A[0]=="string"&&(ie=F=A,ae=F.map(function(){return"left"}));if(E||Array.isArray(A)&&typeof A[0]=="string")for(_=0;_<F.length;_+=1){for(se[q=F[_]]=v.map(function(Fe){return Fe[q]}),this.setFont(void 0,"bold"),ke.push(this.getTextDimensions(ie[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=se[q],this.setFont(void 0,"normal"),j=0;j<M.length;j+=1)ke.push(this.getTextDimensions(M[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);we[q]=Math.max.apply(null,ke)+O+O,ke=[]}if(L){var xe={};for(_=0;_<F.length;_+=1)xe[F[_]]={},xe[F[_]].text=ie[_],xe[F[_]].align=ae[_];var ee=h.call(this,xe,we);Y=F.map(function(Fe){return new o(f,d,we[Fe],ee,xe[Fe].text,void 0,xe[Fe].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var de=A.reduce(function(Fe,J){return Fe[J.name]=J.align,Fe},{});for(_=0;_<v.length;_+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:_,data:v[_]},this);var $=h.call(this,v[_],we);for(j=0;j<F.length;j+=1){var be=v[_][F[j]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:_,col:j,data:be},this),u.call(this,new o(f,d,we[F[j]],$,be,_+2,de[F[j]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var h=function(f,d){var v=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(f).map(function(_){var M=f[_];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,d[_]-v-v)},this).map(function(_){return this.getLineHeightFactor()*_.length*A/S+v+v},this).reduce(function(_,M){return Math.max(_,M)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){v=this.internal.__cell__.tableHeaderRow[_].clone(),d&&(v.y=this.internal.__cell__.margins.top||0,S.push(v)),v.lineNumber=f;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,v),this.setTextColor(M)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),t=!1}})(At.API);var lx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ux=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],q1=ox(ux),cx=[100,200,300,400,500,600,700,800,900],sk=ox(cx);function Z0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return lx[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof q1[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function cw(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var ak={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function fw(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function dw(n){return n.trimLeft()}function ok(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function lk(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Op,pw,gw,vh,Pp,mw,yw,vw,e1=["times"];function bw(n,e,t,r,a){var o=4,u=ww;switch(a){case At.API.image_compression.FAST:o=1,u=_w;break;case At.API.image_compression.MEDIUM:o=6,u=Aw;break;case At.API.image_compression.SLOW:o=9,u=xw}n=(function(f,d,v,A){for(var S,_=f.length/d,M=new Uint8Array(f.length+_),j=[uk,_w,ww,Aw,xw],q=0;q<_;q+=1){var F=q*d,ie=f.subarray(F,F+d);if(A)M.set(A(ie,v,S),F+q);else{for(var ae=j.length,se=[],we=0;we<ae;we+=1)se[we]=j[we](ie,v,S);var ke=hk(se.concat());M.set(se[ke],F+q)}S=ie}return M})(n,e,Math.ceil(t*r/8),u);var h=P1(n,{level:o});return At.API.__addimage__.arrayBufferToBinaryString(h)}function uk(n){var e=Array.apply([],n);return e.unshift(0),e}function _w(n,e){var t=n.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;r[a+1]=n[a]-o+256&255}return r}function ww(n,e,t){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var u=t&&t[o]||0;a[o+1]=n[o]-u+256&255}return a}function Aw(n,e,t){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var u=n[o-e]||0,h=t&&t[o]||0;a[o+1]=n[o]+256-(u+h>>>1)&255}return a}function xw(n,e,t){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var u=ck(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-u+256&255}return a}function ck(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=a&&r<=o?n:a<=o?e:t}function hk(n){var e=n.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function t1(n,e,t){var r=e*t,a=Math.floor(r/8),o=16-(r-8*a+t),u=(1<<t)-1;return hx(n,a)>>o&u}function Ew(n,e,t,r){var a=t*r,o=Math.floor(a/8),u=16-(a-8*o+r),h=(1<<r)-1,f=(e&h)<<u;(function(d,v,A){if(v+1<d.byteLength)d.setUint16(v,A,!1);else{var S=A>>8&255;d.setUint8(v,S)}})(n,o,hx(n,o)&~(h<<u)&65535|f)}function hx(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function fk(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,u=1<<1+(7&a);n[e++],n[e++];var h=null,f=null;o&&(h=e,f=u,e+=3*u);var d=!0,v=[],A=0,S=null,_=0,M=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,M=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var j=n[e++];A=n[e++]|n[e++]<<8,S=n[e++],1&j||(S=null),_=j>>2&7,e++;break;case 254:for(;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var q=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,ie=n[e++]|n[e++]<<8,ae=n[e++]|n[e++]<<8,se=n[e++],we=se>>6&1,ke=1<<1+(7&se),Y=h,E=f,L=!1;se>>7&&(L=!0,Y=e,E=ke,e+=3*ke);var B=e;for(e++;;){var N;if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}v.push({x:q,y:F,width:ie,height:ae,has_local_palette:L,palette_offset:Y,palette_size:E,data_offset:B,data_length:e-B,transparent_index:S,interlaced:!!we,delay:A,disposal:_});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return M},this.frameInfo=function(O){if(O<0||O>=v.length)throw new Error("Frame index out of range.");return v[O]},this.decodeAndBlitFrameBGRA=function(O,P){var oe=this.frameInfo(O),xe=oe.width*oe.height,ee=new Uint8Array(xe);Sw(n,oe.data_offset,ee,xe);var de=oe.palette_offset,$=oe.transparent_index;$===null&&($=256);var be=oe.width,Fe=t-be,J=be,D=4*(oe.y*t+oe.x),K=4*((oe.y+oe.height)*t+oe.x),Z=D,ue=4*Fe;oe.interlaced===!0&&(ue+=4*t*7);for(var he=8,ye=0,Se=ee.length;ye<Se;++ye){var Ne=ee[ye];if(J===0&&(J=be,(Z+=ue)>=K&&(ue=4*Fe+4*t*(he-1),Z=D+(be+Fe)*(he<<1),he>>=1)),Ne===$)Z+=4;else{var Ue=n[de+3*Ne],Qe=n[de+3*Ne+1],Ze=n[de+3*Ne+2];P[Z++]=Ze,P[Z++]=Qe,P[Z++]=Ue,P[Z++]=255}--J}},this.decodeAndBlitFrameRGBA=function(O,P){var oe=this.frameInfo(O),xe=oe.width*oe.height,ee=new Uint8Array(xe);Sw(n,oe.data_offset,ee,xe);var de=oe.palette_offset,$=oe.transparent_index;$===null&&($=256);var be=oe.width,Fe=t-be,J=be,D=4*(oe.y*t+oe.x),K=4*((oe.y+oe.height)*t+oe.x),Z=D,ue=4*Fe;oe.interlaced===!0&&(ue+=4*t*7);for(var he=8,ye=0,Se=ee.length;ye<Se;++ye){var Ne=ee[ye];if(J===0&&(J=be,(Z+=ue)>=K&&(ue=4*Fe+4*t*(he-1),Z=D+(be+Fe)*(he<<1),he>>=1)),Ne===$)Z+=4;else{var Ue=n[de+3*Ne],Qe=n[de+3*Ne+1],Ze=n[de+3*Ne+2];P[Z++]=Ue,P[Z++]=Qe,P[Z++]=Ze,P[Z++]=255}--J}}}function Sw(n,e,t,r){for(var a=n[e++],o=1<<a,u=o+1,h=u+1,f=a+1,d=(1<<f)-1,v=0,A=0,S=0,_=n[e++],M=new Int32Array(4096),j=null;;){for(;v<16&&_!==0;)A|=n[e++]<<v,v+=8,_===1?_=n[e++]:--_;if(v<f)break;var q=A&d;if(A>>=f,v-=f,q!==o){if(q===u)break;for(var F=q<h?q:j,ie=0,ae=F;ae>o;)ae=M[ae]>>8,++ie;var se=ae;if(S+ie+(F!==q?1:0)>r)return void ur.log("Warning, gif stream longer than expected.");t[S++]=se;var we=S+=ie;for(F!==q&&(t[S++]=se),ae=F;ie--;)ae=M[ae],t[--we]=255&ae,ae>>=8;j!==null&&h<4096&&(M[h++]=j<<8|se,h>=d+1&&f<12&&(++f,d=d<<1|1)),j=q}else h=u+1,d=(1<<(f=a+1))-1,j=null}return S!==r&&ur.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function n1(n){var e,t,r,a,o,u=Math.floor,h=new Array(64),f=new Array(64),d=new Array(64),v=new Array(64),A=new Array(65535),S=new Array(65535),_=new Array(64),M=new Array(64),j=[],q=0,F=7,ie=new Array(64),ae=new Array(64),se=new Array(64),we=new Array(256),ke=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(D,K){for(var Z=0,ue=0,he=new Array,ye=1;ye<=16;ye++){for(var Se=1;Se<=D[ye];Se++)he[K[ue]]=[],he[K[ue]][0]=Z,he[K[ue]][1]=ye,ue++,Z++;Z*=2}return he}function de(D){for(var K=D[0],Z=D[1]-1;Z>=0;)K&1<<Z&&(q|=1<<F),Z--,--F<0&&(q==255?($(255),$(0)):$(q),F=7,q=0)}function $(D){j.push(D)}function be(D){$(D>>8&255),$(255&D)}function Fe(D,K,Z,ue,he){for(var ye,Se=he[0],Ne=he[240],Ue=(function(Ye,it){var nt,Wt,vt,Gt,Ot,jt,En,Pt,bt,Dt,mt=0;for(bt=0;bt<8;++bt){nt=Ye[mt],Wt=Ye[mt+1],vt=Ye[mt+2],Gt=Ye[mt+3],Ot=Ye[mt+4],jt=Ye[mt+5],En=Ye[mt+6];var jn=nt+(Pt=Ye[mt+7]),nn=nt-Pt,st=Wt+En,Et=Wt-En,Ut=vt+jt,Nt=vt-jt,sn=Gt+Ot,zt=Gt-Ot,Ln=jn+sn,sr=jn-sn,Ht=st+Ut,St=st-Ut;Ye[mt]=Ln+Ht,Ye[mt+4]=Ln-Ht;var an=.707106781*(St+sr);Ye[mt+2]=sr+an,Ye[mt+6]=sr-an;var ci=.382683433*((Ln=zt+Nt)-(St=Et+nn)),ei=.5411961*Ln+ci,Os=1.306562965*St+ci,Yr=.707106781*(Ht=Nt+Et),wt=nn+Yr,aa=nn-Yr;Ye[mt+5]=aa+ei,Ye[mt+3]=aa-ei,Ye[mt+1]=wt+Os,Ye[mt+7]=wt-Os,mt+=8}for(mt=0,bt=0;bt<8;++bt){nt=Ye[mt],Wt=Ye[mt+8],vt=Ye[mt+16],Gt=Ye[mt+24],Ot=Ye[mt+32],jt=Ye[mt+40],En=Ye[mt+48];var Bi=nt+(Pt=Ye[mt+56]),Ei=nt-Pt,Si=Wt+En,Bn=Wt-En,Xn=vt+jt,kr=vt-jt,hi=Gt+Ot,ti=Gt-Ot,Dn=Bi+hi,Hn=Bi-hi,Or=Si+Xn,Ti=Si-Xn;Ye[mt]=Dn+Or,Ye[mt+32]=Dn-Or;var rs=.707106781*(Ti+Hn);Ye[mt+16]=Hn+rs,Ye[mt+48]=Hn-rs;var Ea=.382683433*((Dn=ti+kr)-(Ti=Bn+Ei)),vs=.5411961*Dn+Ea,Ni=1.306562965*Ti+Ea,oa=.707106781*(Or=kr+Bn),qi=Ei+oa,fi=Ei-oa;Ye[mt+40]=fi+vs,Ye[mt+24]=fi-vs,Ye[mt+8]=qi+Ni,Ye[mt+56]=qi-Ni,mt++}for(bt=0;bt<64;++bt)Dt=Ye[bt]*it[bt],_[bt]=Dt>0?Dt+.5|0:Dt-.5|0;return _})(D,K),Qe=0;Qe<64;++Qe)M[Y[Qe]]=Ue[Qe];var Ze=M[0]-Z;Z=M[0],Ze==0?de(ue[0]):(de(ue[S[ye=32767+Ze]]),de(A[ye]));for(var tt=63;tt>0&&M[tt]==0;)tt--;if(tt==0)return de(Se),Z;for(var Oe,le=1;le<=tt;){for(var Xt=le;M[le]==0&&le<=tt;)++le;var qt=le-Xt;if(qt>=16){Oe=qt>>4;for(var _t=1;_t<=Oe;++_t)de(Ne);qt&=15}ye=32767+M[le],de(he[(qt<<4)+S[ye]]),de(A[ye]),le++}return tt!=63&&de(Se),Z}function J(D){D=Math.min(Math.max(D,1),100),o!=D&&((function(K){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var he=u((Z[ue]*K+50)/100);he=Math.min(Math.max(he,1),255),h[Y[ue]]=he}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var Ne=u((ye[Se]*K+50)/100);Ne=Math.min(Math.max(Ne,1),255),f[Y[Se]]=Ne}for(var Ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,Ze=0;Ze<8;Ze++)for(var tt=0;tt<8;tt++)d[Qe]=1/(h[Y[Qe]]*Ue[Ze]*Ue[tt]*8),v[Qe]=1/(f[Y[Qe]]*Ue[Ze]*Ue[tt]*8),Qe++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),o=D)}this.encode=function(D,K){K&&J(K),j=new Array,q=0,F=7,be(65496),be(65504),be(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),be(1),be(1),$(0),$(0),(function(){be(65499),be(132),$(0);for(var Wt=0;Wt<64;Wt++)$(h[Wt]);$(1);for(var vt=0;vt<64;vt++)$(f[vt])})(),(function(Wt,vt){be(65472),be(17),$(8),be(vt),be(Wt),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)})(D.width,D.height),(function(){be(65476),be(418),$(0);for(var Wt=0;Wt<16;Wt++)$(E[Wt+1]);for(var vt=0;vt<=11;vt++)$(L[vt]);$(16);for(var Gt=0;Gt<16;Gt++)$(B[Gt+1]);for(var Ot=0;Ot<=161;Ot++)$(N[Ot]);$(1);for(var jt=0;jt<16;jt++)$(O[jt+1]);for(var En=0;En<=11;En++)$(P[En]);$(17);for(var Pt=0;Pt<16;Pt++)$(oe[Pt+1]);for(var bt=0;bt<=161;bt++)$(xe[bt])})(),be(65498),be(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var Z=0,ue=0,he=0;q=0,F=7,this.encode.displayName="_encode_";for(var ye,Se,Ne,Ue,Qe,Ze,tt,Oe,le,Xt=D.data,qt=D.width,_t=D.height,Ye=4*qt,it=0;it<_t;){for(ye=0;ye<Ye;){for(Qe=Ye*it+ye,tt=-1,Oe=0,le=0;le<64;le++)Ze=Qe+(Oe=le>>3)*Ye+(tt=4*(7&le)),it+Oe>=_t&&(Ze-=Ye*(it+1+Oe-_t)),ye+tt>=Ye&&(Ze-=ye+tt-Ye+4),Se=Xt[Ze++],Ne=Xt[Ze++],Ue=Xt[Ze++],ie[le]=(ke[Se]+ke[Ne+256|0]+ke[Ue+512|0]>>16)-128,ae[le]=(ke[Se+768|0]+ke[Ne+1024|0]+ke[Ue+1280|0]>>16)-128,se[le]=(ke[Se+1280|0]+ke[Ne+1536|0]+ke[Ue+1792|0]>>16)-128;Z=Fe(ie,d,Z,e,r),ue=Fe(ae,v,ue,t,a),he=Fe(se,v,he,t,a),ye+=32}it+=8}if(F>=0){var nt=[];nt[1]=F+1,nt[0]=(1<<F+1)-1,de(nt)}return be(65497),new Uint8Array(j)},n=n||50,(function(){for(var D=String.fromCharCode,K=0;K<256;K++)we[K]=D(K)})(),e=ee(E,L),t=ee(O,P),r=ee(B,N),a=ee(oe,xe),(function(){for(var D=1,K=2,Z=1;Z<=15;Z++){for(var ue=D;ue<K;ue++)S[32767+ue]=Z,A[32767+ue]=[],A[32767+ue][1]=Z,A[32767+ue][0]=ue;for(var he=-(K-1);he<=-D;he++)S[32767+he]=Z,A[32767+he]=[],A[32767+he][1]=Z,A[32767+he][0]=K-1+he;D<<=1,K<<=1}})(),(function(){for(var D=0;D<256;D++)ke[D]=19595*D,ke[D+256|0]=38470*D,ke[D+512|0]=7471*D+32768,ke[D+768|0]=-11059*D,ke[D+1024|0]=-21709*D,ke[D+1280|0]=32768*D+8421375,ke[D+1536|0]=-27439*D,ke[D+1792|0]=-5329*D})(),J(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ho(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Tw(n){function e(L){if(!L)throw Error("assert :P")}function t(L,B,N){for(var O=0;4>O;O++)if(L[B+O]!=N.charCodeAt(O))return!0;return!1}function r(L,B,N,O,P){for(var oe=0;oe<P;oe++)L[B+oe]=N[O+oe]}function a(L,B,N,O){for(var P=0;P<O;P++)L[B+P]=N}function o(L){return new Int32Array(L)}function u(L,B){for(var N=[],O=0;O<L;O++)N.push(new B);return N}function h(L,B){var N=[];return(function O(P,oe,xe){for(var ee=xe[oe],de=0;de<ee&&(P.push(xe.length>oe+1?[]:new B),!(xe.length<oe+1));de++)O(P[de],oe+1,xe)})(N,0,L),N}var f=function(){var L=this;function B(p,y){for(var x=1<<y-1>>>0;p&x;)x>>>=1;return x?(p&x-1)+x:p}function N(p,y,x,C,V){e(!(C%x));do p[y+(C-=x)]=V;while(0<C)}function O(p,y,x,C,V){if(e(2328>=V),512>=V)var z=o(512);else if((z=o(V))==null)return 0;return(function(H,W,X,re,pe,Ie){var te,me,Ee=W,je=1<<X,Te=o(16),Me=o(16);for(e(pe!=0),e(re!=null),e(H!=null),e(0<X),me=0;me<pe;++me){if(15<re[me])return 0;++Te[re[me]]}if(Te[0]==pe)return 0;for(Me[1]=0,te=1;15>te;++te){if(Te[te]>1<<te)return 0;Me[te+1]=Me[te]+Te[te]}for(me=0;me<pe;++me)te=re[me],0<re[me]&&(Ie[Me[te]++]=me);if(Me[15]==1)return(re=new P).g=0,re.value=Ie[0],N(H,Ee,1,je,re),je;var ze,Xe=-1,$e=je-1,dt=0,at=1,Yt=1,ct=1<<X;for(me=0,te=1,pe=2;te<=X;++te,pe<<=1){if(at+=Yt<<=1,0>(Yt-=Te[te]))return 0;for(;0<Te[te];--Te[te])(re=new P).g=te,re.value=Ie[me++],N(H,Ee+dt,pe,ct,re),dt=B(dt,te)}for(te=X+1,pe=2;15>=te;++te,pe<<=1){if(at+=Yt<<=1,0>(Yt-=Te[te]))return 0;for(;0<Te[te];--Te[te]){if(re=new P,(dt&$e)!=Xe){for(Ee+=ct,ze=1<<(Xe=te)-X;15>Xe&&!(0>=(ze-=Te[Xe]));)++Xe,ze<<=1;je+=ct=1<<(ze=Xe-X),H[W+(Xe=dt&$e)].g=ze+X,H[W+Xe].value=Ee-W-Xe}re.g=te-X,re.value=Ie[me++],N(H,Ee+(dt>>X),pe,ct,re),dt=B(dt,te)}}return at!=2*Me[15]-1?0:je})(p,y,x,C,V,z)}function P(){this.value=this.g=0}function oe(){this.value=this.g=0}function xe(){this.G=u(5,P),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Co,oe)}function ee(p,y,x,C){e(p!=null),e(y!=null),e(2147483648>C),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=y,p.pa=x,p.Jd=y,p.Yc=x+C,p.Zc=4<=C?x+C-4+1:x,Se(p)}function de(p,y){for(var x=0;0<y--;)x|=Ue(p,128)<<y;return x}function $(p,y){var x=de(p,y);return Ne(p)?-x:x}function be(p,y,x,C){var V,z=0;for(e(p!=null),e(y!=null),e(4294967288>C),p.Sb=C,p.Ra=0,p.u=0,p.h=0,4<C&&(C=4),V=0;V<C;++V)z+=y[x+V]<<8*V;p.Ra=z,p.bb=C,p.oa=y,p.pa=x}function Fe(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ra-8>>>0,++p.bb,p.u-=8;ue(p)&&(p.h=1,p.u=0)}function J(p,y){if(e(0<=y),!p.h&&y<=Wi){var x=Z(p)&os[y];return p.u+=y,Fe(p),x}return p.h=1,p.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(p){return p.Ra>>>(p.u&Ra-1)>>>0}function ue(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ra}function he(p,y){p.u=y,p.h=ue(p)}function ye(p){p.u>=La&&(e(p.u>=La),Fe(p))}function Se(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Ne(p){return de(p,1)}function Ue(p,y){var x=p.Ca;0>p.b&&Se(p);var C=p.b,V=x*y>>>8,z=(p.I>>>C>V)+0;for(z?(x-=V,p.I-=V+1<<C>>>0):x=V+1,C=x,V=0;256<=C;)V+=8,C>>=8;return C=7^V+Ja[C],p.b-=C,p.Ca=(x<<C)-1,z}function Qe(p,y,x){p[y+0]=x>>24&255,p[y+1]=x>>16&255,p[y+2]=x>>8&255,p[y+3]=255&x}function Ze(p,y){return p[y+0]|p[y+1]<<8}function tt(p,y){return Ze(p,y)|p[y+2]<<16}function Oe(p,y){return Ze(p,y)|Ze(p,y+2)<<16}function le(p,y){var x=1<<y;return e(p!=null),e(0<y),p.X=o(x),p.X==null?0:(p.Mb=32-y,p.Xa=y,1)}function Xt(p,y){e(p!=null),e(y!=null),e(p.Xa==y.Xa),r(y.X,0,p.X,0,1<<y.Xa)}function qt(){this.X=[],this.Xa=this.Mb=0}function _t(p,y,x,C){e(x!=null),e(C!=null);var V=x[0],z=C[0];return V==0&&(V=(p*z+y/2)/y),z==0&&(z=(y*V+p/2)/p),0>=V||0>=z?0:(x[0]=V,C[0]=z,1)}function Ye(p,y){return p+(1<<y)-1>>>y}function it(p,y){return((4278255360&p)+(4278255360&y)>>>0&4278255360)+((16711935&p)+(16711935&y)>>>0&16711935)>>>0}function nt(p,y){L[y]=function(x,C,V,z,H,W,X){var re;for(re=0;re<H;++re){var pe=L[p](W[X+re-1],V,z+re);W[X+re]=it(x[C+re],pe)}}}function Wt(){this.ud=this.hd=this.jd=0}function vt(p,y){return((4278124286&(p^y))>>>1)+(p&y)>>>0}function Gt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ot(p,y){return Gt(p+(p-y+.5>>1))}function jt(p,y,x){return Math.abs(y-x)-Math.abs(p-x)}function En(p,y,x,C,V,z,H){for(C=z[H-1],x=0;x<V;++x)z[H+x]=C=it(p[y+x],C)}function Pt(p,y,x,C,V){var z;for(z=0;z<x;++z){var H=p[y+z],W=H>>8&255,X=16711935&(X=(X=16711935&H)+((W<<16)+W));C[V+z]=(4278255360&H)+X>>>0}}function bt(p,y){y.jd=255&p,y.hd=p>>8&255,y.ud=p>>16&255}function Dt(p,y,x,C,V,z){var H;for(H=0;H<C;++H){var W=y[x+H],X=W>>>8,re=W,pe=255&(pe=(pe=W>>>16)+((p.jd<<24>>24)*(X<<24>>24)>>>5));re=255&(re=(re+=(p.hd<<24>>24)*(X<<24>>24)>>>5)+((p.ud<<24>>24)*(pe<<24>>24)>>>5)),V[z+H]=(4278255360&W)+(pe<<16)+re}}function mt(p,y,x,C,V){L[y]=function(z,H,W,X,re,pe,Ie,te,me){for(X=Ie;X<te;++X)for(Ie=0;Ie<me;++Ie)re[pe++]=V(W[C(z[H++])])},L[p]=function(z,H,W,X,re,pe,Ie){var te=8>>z.b,me=z.Ea,Ee=z.K[0],je=z.w;if(8>te)for(z=(1<<z.b)-1,je=(1<<te)-1;H<W;++H){var Te,Me=0;for(Te=0;Te<me;++Te)Te&z||(Me=C(X[re++])),pe[Ie++]=V(Ee[Me&je]),Me>>=te}else L["VP8LMapColor"+x](X,re,Ee,je,pe,Ie,H,W,me)}}function jn(p,y,x,C,V){for(x=y+x;y<x;){var z=p[y++];C[V++]=z>>16&255,C[V++]=z>>8&255,C[V++]=255&z}}function nn(p,y,x,C,V){for(x=y+x;y<x;){var z=p[y++];C[V++]=z>>16&255,C[V++]=z>>8&255,C[V++]=255&z,C[V++]=z>>24&255}}function st(p,y,x,C,V){for(x=y+x;y<x;){var z=(H=p[y++])>>16&240|H>>12&15,H=240&H|H>>28&15;C[V++]=z,C[V++]=H}}function Et(p,y,x,C,V){for(x=y+x;y<x;){var z=(H=p[y++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;C[V++]=z,C[V++]=H}}function Ut(p,y,x,C,V){for(x=y+x;y<x;){var z=p[y++];C[V++]=255&z,C[V++]=z>>8&255,C[V++]=z>>16&255}}function Nt(p,y,x,C,V,z){if(z==0)for(x=y+x;y<x;)Qe(C,((z=p[y++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),V+=32;else r(C,V,p,y,x)}function sn(p,y){L[y][0]=L[p+"0"],L[y][1]=L[p+"1"],L[y][2]=L[p+"2"],L[y][3]=L[p+"3"],L[y][4]=L[p+"4"],L[y][5]=L[p+"5"],L[y][6]=L[p+"6"],L[y][7]=L[p+"7"],L[y][8]=L[p+"8"],L[y][9]=L[p+"9"],L[y][10]=L[p+"10"],L[y][11]=L[p+"11"],L[y][12]=L[p+"12"],L[y][13]=L[p+"13"],L[y][14]=L[p+"0"],L[y][15]=L[p+"0"]}function zt(p){return p==ec||p==Fc||p==tu||p==Bc}function Ln(){this.eb=[],this.size=this.A=this.fb=0}function sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ht(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ln,this.f.kb=new sr,this.sd=null}function St(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function an(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ci(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function ei(p,y){var x=p.T,C=y.ba.f.RGBA,V=C.eb,z=C.fb+p.ka*C.A,H=bi[y.ba.S],W=p.y,X=p.O,re=p.f,pe=p.N,Ie=p.ea,te=p.W,me=y.cc,Ee=y.dc,je=y.Mc,Te=y.Nc,Me=p.ka,ze=p.ka+p.T,Xe=p.U,$e=Xe+1>>1;for(Me==0?H(W,X,null,null,re,pe,Ie,te,re,pe,Ie,te,V,z,null,null,Xe):(H(y.ec,y.fc,W,X,me,Ee,je,Te,re,pe,Ie,te,V,z-C.A,V,z,Xe),++x);Me+2<ze;Me+=2)me=re,Ee=pe,je=Ie,Te=te,pe+=p.Rc,te+=p.Rc,z+=2*C.A,H(W,(X+=2*p.fa)-p.fa,W,X,me,Ee,je,Te,re,pe,Ie,te,V,z-C.A,V,z,Xe);return X+=p.fa,p.j+ze<p.o?(r(y.ec,y.fc,W,X,Xe),r(y.cc,y.dc,re,pe,$e),r(y.Mc,y.Nc,Ie,te,$e),x--):1&ze||H(W,X,null,null,re,pe,Ie,te,re,pe,Ie,te,V,z+C.A,null,null,Xe),x}function Os(p,y,x){var C=p.F,V=[p.J];if(C!=null){var z=p.U,H=y.ba.S,W=H==Zu||H==tu;y=y.ba.f.RGBA;var X=[0],re=p.ka;X[0]=p.T,p.Kb&&(re==0?--X[0]:(--re,V[0]-=p.width),p.j+p.ka+p.T==p.o&&(X[0]=p.o-p.j-re));var pe=y.eb;re=y.fb+re*y.A,p=Wu(C,V[0],p.width,z,X,pe,re+(W?0:3),y.A),e(x==X),p&&zt(H)&&pl(pe,re,W,z,X,y.A)}return 0}function Yr(p){var y=p.ma,x=y.ba.S,C=11>x,V=x==Pi||x==qs||x==Zu||x==eu||x==12||zt(x);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Xa(y.Oa,p,V?11:12))return 0;if(V&&zt(x)&&Je(),p.da)alert("todo:use_scaling");else{if(C){if(y.Ib=ci,p.Kb){if(x=p.U+1>>1,y.memory=o(p.U+2*x),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+p.U,y.Mc=y.cc,y.Nc=y.dc+x,y.Ib=ei,Je()}}else alert("todo:EmitYUV");V&&(y.Jb=Os,C&&Ae())}if(C&&!Mo){for(p=0;256>p;++p)_i[p]=89858*(p-128)+iu>>Ks,tm[p]=-22014*(p-128)+iu,Cd[p]=-45773*(p-128),Yc[p]=113618*(p-128)+iu>>Ks;for(p=vl;p<Po;++p)y=76283*(p-16)+iu>>Ks,nm[p-vl]=br(y,255),rm[p-vl]=br(y+8>>4,15);Mo=1}return 1}function wt(p){var y=p.ma,x=p.U,C=p.T;return e(!(1&p.ka)),0>=x||0>=C?0:(x=y.Ib(p,y),y.Jb!=null&&y.Jb(p,y,x),y.Dc+=x,1)}function aa(p){p.ma.memory=null}function Bi(p,y,x,C){return J(p,8)!=47?0:(y[0]=J(p,14)+1,x[0]=J(p,14)+1,C[0]=J(p,1),J(p,3)!=0?0:!p.h)}function Ei(p,y){if(4>p)return p+1;var x=p-2>>1;return(2+(1&p)<<x)+J(y,x)+1}function Si(p,y){return 120<y?y-120:1<=(x=((x=Hs[y-1])>>4)*p+(8-(15&x)))?x:1;var x}function Bn(p,y,x){var C=Z(x),V=p[y+=255&C].g-8;return 0<V&&(he(x,x.u+8),C=Z(x),y+=p[y].value,y+=C&(1<<V)-1),he(x,x.u+p[y].g),p[y].value}function Xn(p,y,x){return x.g+=p.g,x.value+=p.value<<y>>>0,e(8>=x.g),p.g}function kr(p,y,x){var C=p.xc;return e((y=C==0?0:p.vc[p.md*(x>>C)+(y>>C)])<p.Wb),p.Ya[y]}function hi(p,y,x,C){var V=p.ab,z=p.c*y,H=p.C;y=H+y;var W=x,X=C;for(C=p.Ta,x=p.Ua;0<V--;){var re=p.gc[V],pe=H,Ie=y,te=W,me=X,Ee=(X=C,W=x,re.Ea);switch(e(pe<Ie),e(Ie<=re.nc),re.hc){case 2:Ir(te,me,(Ie-pe)*Ee,X,W);break;case 0:var je=pe,Te=Ie,Me=X,ze=W,Xe=(ct=re).Ea;je==0&&(Ql(te,me,null,null,1,Me,ze),En(te,me+1,0,0,Xe-1,Me,ze+1),me+=Xe,ze+=Xe,++je);for(var $e=1<<ct.b,dt=$e-1,at=Ye(Xe,ct.b),Yt=ct.K,ct=ct.w+(je>>ct.b)*at;je<Te;){var hn=Yt,or=ct,Jt=1;for(Xl(te,me,Me,ze-Xe,1,Me,ze);Jt<Xe;){var ot=(Jt&~dt)+$e;ot>Xe&&(ot=Xe),(0,Za[hn[or++]>>8&15])(te,me+ +Jt,Me,ze+Jt-Xe,ot-Jt,Me,ze+Jt),Jt=ot}me+=Xe,ze+=Xe,++je&dt||(ct+=at)}Ie!=re.nc&&r(X,W-Ee,X,W+(Ie-pe-1)*Ee,Ee);break;case 1:for(Ee=te,Te=me,Xe=(te=re.Ea)-(ze=te&~(Me=(me=1<<re.b)-1)),je=Ye(te,re.b),$e=re.K,re=re.w+(pe>>re.b)*je;pe<Ie;){for(dt=$e,at=re,Yt=new Wt,ct=Te+ze,hn=Te+te;Te<ct;)bt(dt[at++],Yt),Jl(Yt,Ee,Te,me,X,W),Te+=me,W+=me;Te<hn&&(bt(dt[at++],Yt),Jl(Yt,Ee,Te,Xe,X,W),Te+=Xe,W+=Xe),++pe&Me||(re+=je)}break;case 3:if(te==X&&me==W&&0<re.b){for(Te=X,te=Ee=W+(Ie-pe)*Ee-(ze=(Ie-pe)*Ye(re.Ea,re.b)),me=X,Me=W,je=[],ze=(Xe=ze)-1;0<=ze;--ze)je[ze]=me[Me+ze];for(ze=Xe-1;0<=ze;--ze)Te[te+ze]=je[ze];Pc(re,pe,Ie,X,Ee,X,W)}else Pc(re,pe,Ie,te,me,X,W)}W=C,X=x}X!=x&&r(C,x,W,X,z)}function ti(p,y){var x=p.V,C=p.Ba+p.c*p.C,V=y-p.C;if(e(y<=p.l.o),e(16>=V),0<V){var z=p.l,H=p.Ta,W=p.Ua,X=z.width;if(hi(p,V,x,C),V=W=[W],e((x=p.C)<(C=y)),e(z.v<z.va),C>z.o&&(C=z.o),x<z.j){var re=z.j-x;x=z.j,V[0]+=re*X}if(x>=C?x=0:(V[0]+=4*z.v,z.ka=x-z.j,z.U=z.va-z.v,z.T=C-x,x=1),x){if(W=W[0],11>(x=p.ca).S){var pe=x.f.RGBA,Ie=(C=x.S,V=z.U,z=z.T,re=pe.eb,pe.A),te=z;for(pe=pe.fb+p.Ma*pe.A;0<te--;){var me=H,Ee=W,je=V,Te=re,Me=pe;switch(C){case Uc:Zl(me,Ee,je,Te,Me);break;case Pi:eo(me,Ee,je,Te,Me);break;case ec:eo(me,Ee,je,Te,Me),pl(Te,Me,0,je,1,0);break;case Vc:fl(me,Ee,je,Te,Me);break;case qs:Nt(me,Ee,je,Te,Me,1);break;case Fc:Nt(me,Ee,je,Te,Me,1),pl(Te,Me,0,je,1,0);break;case Zu:Nt(me,Ee,je,Te,Me,0);break;case tu:Nt(me,Ee,je,Te,Me,0),pl(Te,Me,1,je,1,0);break;case eu:to(me,Ee,je,Te,Me);break;case Bc:to(me,Ee,je,Te,Me),Bs(Te,Me,je,1,0);break;case Ro:Oa(me,Ee,je,Te,Me);break;default:e(0)}W+=X,pe+=Ie}p.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=x.height)}}p.C=y,e(p.C<=p.i)}function Dn(p){var y;if(0<p.ua)return 0;for(y=0;y<p.Wb;++y){var x=p.Ya[y].G,C=p.Ya[y].H;if(0<x[1][C[1]+0].g||0<x[2][C[2]+0].g||0<x[3][C[3]+0].g)return 0}return 1}function Hn(p,y,x,C,V,z){if(p.Z!=0){var H=p.qd,W=p.rd;for(e(io[p.Z]!=null);y<x;++y)io[p.Z](H,W,C,V,C,V,z),H=C,W=V,V+=z;p.qd=H,p.rd=W}}function Or(p,y){var x=p.l.ma,C=x.Z==0||x.Z==1?p.l.j:p.C;if(C=p.C<C?C:p.C,e(y<=p.l.o),y>C){var V=p.l.width,z=x.ca,H=x.tb+V*C,W=p.V,X=p.Ba+p.c*C,re=p.gc;e(p.ab==1),e(re[0].hc==3),ka(re[0],C,y,W,X,z,H),Hn(x,C,y,z,H,V)}p.C=p.Ma=y}function Ti(p,y,x,C,V,z,H){var W=p.$/C,X=p.$%C,re=p.m,pe=p.s,Ie=x+p.$,te=Ie;V=x+C*V;var me=x+C*z,Ee=280+pe.ua,je=p.Pb?W:16777216,Te=0<pe.ua?pe.Wa:null,Me=pe.wc,ze=Ie<me?kr(pe,X,W):null;e(p.C<z),e(me<=V);var Xe=!1;e:for(;;){for(;Xe||Ie<me;){var $e=0;if(W>=je){var dt=Ie-x;e((je=p).Pb),je.wd=je.m,je.xd=dt,0<je.s.ua&&Xt(je.s.Wa,je.s.vb),je=W+Lo}if(X&Me||(ze=kr(pe,X,W)),e(ze!=null),ze.Qb&&(y[Ie]=ze.qb,Xe=!0),!Xe)if(ye(re),ze.jc){$e=re,dt=y;var at=Ie,Yt=ze.pd[Z($e)&Co-1];e(ze.jc),256>Yt.g?(he($e,$e.u+Yt.g),dt[at]=Yt.value,$e=0):(he($e,$e.u+Yt.g-256),e(256<=Yt.value),$e=Yt.value),$e==0&&(Xe=!0)}else $e=Bn(ze.G[0],ze.H[0],re);if(re.h)break;if(Xe||256>$e){if(!Xe)if(ze.nd)y[Ie]=(ze.qb|$e<<8)>>>0;else{if(ye(re),Xe=Bn(ze.G[1],ze.H[1],re),ye(re),dt=Bn(ze.G[2],ze.H[2],re),at=Bn(ze.G[3],ze.H[3],re),re.h)break;y[Ie]=(at<<24|Xe<<16|$e<<8|dt)>>>0}if(Xe=!1,++Ie,++X>=C&&(X=0,++W,H!=null&&W<=z&&!(W%16)&&H(p,W),Te!=null))for(;te<Ie;)$e=y[te++],Te.X[(506832829*$e&4294967295)>>>Te.Mb]=$e}else if(280>$e){if($e=Ei($e-256,re),dt=Bn(ze.G[4],ze.H[4],re),ye(re),dt=Si(C,dt=Ei(dt,re)),re.h)break;if(Ie-x<dt||V-Ie<$e)break e;for(at=0;at<$e;++at)y[Ie+at]=y[Ie+at-dt];for(Ie+=$e,X+=$e;X>=C;)X-=C,++W,H!=null&&W<=z&&!(W%16)&&H(p,W);if(e(Ie<=V),X&Me&&(ze=kr(pe,X,W)),Te!=null)for(;te<Ie;)$e=y[te++],Te.X[(506832829*$e&4294967295)>>>Te.Mb]=$e}else{if(!($e<Ee))break e;for(Xe=$e-280,e(Te!=null);te<Ie;)$e=y[te++],Te.X[(506832829*$e&4294967295)>>>Te.Mb]=$e;$e=Ie,e(!(Xe>>>(dt=Te).Xa)),y[$e]=dt.X[Xe],Xe=!0}Xe||e(re.h==ue(re))}if(p.Pb&&re.h&&Ie<V)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Xt(p.s.vb,p.s.Wa);else{if(re.h)break e;H?.(p,W>z?z:W),p.a=0,p.$=Ie-x}return 1}return p.a=3,0}function rs(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var y=p.Wa;y!=null&&(y.X=null),p.vb=null,e(p!=null)}function Ea(){var p=new ft;return p==null?null:(p.a=0,p.xb=Zh,sn("Predictor","VP8LPredictors"),sn("Predictor","VP8LPredictors_C"),sn("PredictorAdd","VP8LPredictorsAdd"),sn("PredictorAdd","VP8LPredictorsAdd_C"),Ir=Pt,Jl=Dt,Zl=jn,eo=nn,to=st,Oa=Et,fl=Ut,L.VP8LMapColor32b=Da,L.VP8LMapColor8b=mi,p)}function vs(p,y,x,C,V){var z=1,H=[p],W=[y],X=C.m,re=C.s,pe=null,Ie=0;e:for(;;){if(x)for(;z&&J(X,1);){var te=H,me=W,Ee=C,je=1,Te=Ee.m,Me=Ee.gc[Ee.ab],ze=J(Te,2);if(Ee.Oc&1<<ze)z=0;else{switch(Ee.Oc|=1<<ze,Me.hc=ze,Me.Ea=te[0],Me.nc=me[0],Me.K=[null],++Ee.ab,e(4>=Ee.ab),ze){case 0:case 1:Me.b=J(Te,3)+2,je=vs(Ye(Me.Ea,Me.b),Ye(Me.nc,Me.b),0,Ee,Me.K),Me.K=Me.K[0];break;case 3:var Xe,$e=J(Te,8)+1,dt=16<$e?0:4<$e?1:2<$e?2:3;if(te[0]=Ye(Me.Ea,dt),Me.b=dt,Xe=je=vs($e,1,0,Ee,Me.K)){var at,Yt=$e,ct=Me,hn=1<<(8>>ct.b),or=o(hn);if(or==null)Xe=0;else{var Jt=ct.K[0],ot=ct.w;for(or[0]=ct.K[0][0],at=1;at<1*Yt;++at)or[at]=it(Jt[ot+at],or[at-1]);for(;at<4*hn;++at)or[at]=0;ct.K[0]=null,ct.K[0]=or,Xe=1}}je=Xe;break;case 2:break;default:e(0)}z=je}}if(H=H[0],W=W[0],z&&J(X,1)&&!(z=1<=(Ie=J(X,4))&&11>=Ie)){C.a=3;break e}var et;if(et=z)t:{var dr,kt,rn,Un=C,Kr=H,wi=W,tr=Ie,Mr=x,Mi=Un.m,jr=Un.s,cn=[null],Sn=1,pr=0,Rn=Gs[tr];n:for(;;){if(Mr&&J(Mi,1)){var Wr=J(Mi,3)+2,gr=Ye(Kr,Wr),Tn=Ye(wi,Wr),Lr=gr*Tn;if(!vs(gr,Tn,0,Un,cn))break n;for(cn=cn[0],jr.xc=Wr,dr=0;dr<Lr;++dr){var Vn=cn[dr]>>8&65535;cn[dr]=Vn,Vn>=Sn&&(Sn=Vn+1)}}if(Mi.h)break n;for(kt=0;5>kt;++kt){var Ur=ml[kt];!kt&&0<tr&&(Ur+=1<<tr),pr<Ur&&(pr=Ur)}var Vr=u(Sn*Rn,P),$n=Sn,xn=u($n,xe);if(xn==null)var ji=null;else e(65536>=$n),ji=xn;var wr=o(pr);if(ji==null||wr==null||Vr==null){Un.a=1;break n}var Tt=Vr;for(dr=rn=0;dr<Sn;++dr){var Ct=ji[dr],Nn=Ct.G,ls=Ct.H,Ws=0,Xi=1,Fr=0;for(kt=0;5>kt;++kt){Ur=ml[kt],Nn[kt]=Tt,ls[kt]=rn,!kt&&0<tr&&(Ur+=1<<tr);i:{var jo,Uo=Ur,Kc=Un,nr=wr,tf=Tt,nf=rn,Wc=0,so=Kc.m,im=J(so,1);if(a(nr,0,0,Uo),im){var rf=J(so,1)+1,sf=J(so,1),Qc=J(so,sf==0?1:8);nr[Qc]=1,rf==2&&(nr[Qc=J(so,8)]=1);var ii=1}else{var Ar=o(19),ic=J(so,4)+4;if(19<ic){Kc.a=3;var Vo=0;break i}for(jo=0;jo<ic;++jo)Ar[tc[jo]]=J(so,3);var au=void 0,bl=void 0,ja=Kc,Xc=Ar,ou=Uo,Jc=nr,Zc=0,ao=ja.m,af=8,of=u(128,P);r:for(;O(of,0,7,Xc,19);){if(J(ao,1)){var Rd=2+2*J(ao,3);if((au=2+J(ao,Rd))>ou)break r}else au=ou;for(bl=0;bl<ou&&au--;){ye(ao);var lf=of[0+(127&Z(ao))];he(ao,ao.u+lf.g);var Fo=lf.value;if(16>Fo)Jc[bl++]=Fo,Fo!=0&&(af=Fo);else{var Ld=Fo==16,Dd=Fo-16,kd=nu[Dd],uf=J(ao,zs[Dd])+kd;if(bl+uf>ou)break r;for(var Od=Ld?af:0;0<uf--;)Jc[bl++]=Od}}Zc=1;break r}Zc||(ja.a=3),ii=Zc}(ii=ii&&!so.h)&&(Wc=O(tf,nf,8,nr,Uo)),ii&&Wc!=0?Vo=Wc:(Kc.a=3,Vo=0)}if(Vo==0)break n;if(Xi&&qc[kt]==1&&(Xi=Tt[rn].g==0),Ws+=Tt[rn].g,rn+=Vo,3>=kt){var _l,eh=wr[0];for(_l=1;_l<Ur;++_l)wr[_l]>eh&&(eh=wr[_l]);Fr+=eh}}if(Ct.nd=Xi,Ct.Qb=0,Xi&&(Ct.qb=(Nn[3][ls[3]+0].value<<24|Nn[1][ls[1]+0].value<<16|Nn[2][ls[2]+0].value)>>>0,Ws==0&&256>Nn[0][ls[0]+0].value&&(Ct.Qb=1,Ct.qb+=Nn[0][ls[0]+0].value<<8)),Ct.jc=!Ct.Qb&&6>Fr,Ct.jc){var sc,Ua=Ct;for(sc=0;sc<Co;++sc){var oo=sc,lo=Ua.pd[oo],th=Ua.G[0][Ua.H[0]+oo];256<=th.value?(lo.g=th.g+256,lo.value=th.value):(lo.g=0,lo.value=0,oo>>=Xn(th,8,lo),oo>>=Xn(Ua.G[1][Ua.H[1]+oo],16,lo),oo>>=Xn(Ua.G[2][Ua.H[2]+oo],0,lo),Xn(Ua.G[3][Ua.H[3]+oo],24,lo))}}}jr.vc=cn,jr.Wb=Sn,jr.Ya=ji,jr.yc=Vr,et=1;break t}et=0}if(!(z=et)){C.a=3;break e}if(0<Ie){if(re.ua=1<<Ie,!le(re.Wa,Ie)){C.a=1,z=0;break e}}else re.ua=0;var nh=C,wl=H,Pd=W,lu=nh.s,uu=lu.xc;if(nh.c=wl,nh.i=Pd,lu.md=Ye(wl,uu),lu.wc=uu==0?-1:(1<<uu)-1,x){C.xb=Do;break e}if((pe=o(H*W))==null){C.a=1,z=0;break e}z=(z=Ti(C,pe,0,H,W,W,null))&&!X.h;break e}return z?(V!=null?V[0]=pe:(e(pe==null),e(x)),C.$=0,x||rs(re)):rs(re),z}function Ni(p,y){var x=p.c*p.i,C=x+y+16*y;return e(p.c<=y),p.V=o(C),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+x+y,1)}function oa(p,y){var x=p.C,C=y-x,V=p.V,z=p.Ba+p.c*x;for(e(y<=p.l.o);0<C;){var H=16<C?16:C,W=p.l.ma,X=p.l.width,re=X*H,pe=W.ca,Ie=W.tb+X*x,te=p.Ta,me=p.Ua;hi(p,H,V,z),Rs(te,me,pe,Ie,re),Hn(W,x,x+H,pe,Ie,X),C-=H,V+=H*p.c,x+=H}e(x==y),p.C=p.Ma=y}function qi(){this.ub=this.yd=this.td=this.Rb=0}function fi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zi(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function is(){this.Yb=(function(){var p=[];return(function y(x,C,V){for(var z=V[C],H=0;H<z&&(x.push(V.length>C+1?[]:0),!(V.length<C+1));H++)y(x[H],C+1,V)})(p,0,[3,11]),p})()}function fr(){this.jb=o(3),this.Wc=h([4,8],is),this.Xc=h([4,17],is)}function _o(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ii(){this.ld=this.La=this.dd=this.tc=0}function ss(){this.Na=this.la=0}function bs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ga(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ii),this.Y=0,this.ya=Array(new Ga),this.aa=0,this.l=new la}function Ao(){this.y=o(16),this.f=o(8),this.ea=o(8)}function sl(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new qi,this.Kc=new fi,this.ed=new _o,this.Qa=new zi,this.Ic=this.$c=this.Aa=0,this.D=new wo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,D),this.ia=0,this.pb=u(4,bs),this.Pa=new fr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ao),this.Hd=0,this.rb=Array(new ss),this.sb=0,this.wa=Array(new Ii),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ga),this.L=this.aa=0,this.gd=h([4,2],Ii),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function la(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hi(){var p=new sl;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ls||(Ls=_s)),p}function on(p,y,x){return p.a==0&&(p.a=y,p.sc=x,p.cb=0),0}function Sr(p,y,x){return 3<=x&&p[y+0]==157&&p[y+1]==1&&p[y+2]==42}function ua(p,y){if(p==null)return 0;if(p.a=0,p.sc="OK",y==null)return on(p,2,"null VP8Io passed to VP8GetHeaders()");var x=y.data,C=y.w,V=y.ha;if(4>V)return on(p,7,"Truncated header.");var z=x[C+0]|x[C+1]<<8|x[C+2]<<16,H=p.Od;if(H.Rb=!(1&z),H.td=z>>1&7,H.yd=z>>4&1,H.ub=z>>5,3<H.td)return on(p,3,"Incorrect keyframe parameters.");if(!H.yd)return on(p,4,"Frame not displayable.");C+=3,V-=3;var W=p.Kc;if(H.Rb){if(7>V)return on(p,7,"cannot parse picture header");if(!Sr(x,C,V))return on(p,3,"Bad code word");W.c=16383&(x[C+4]<<8|x[C+3]),W.Td=x[C+4]>>6,W.i=16383&(x[C+6]<<8|x[C+5]),W.Ud=x[C+6]>>6,C+=7,V-=7,p.za=W.c+15>>4,p.Ub=W.i+15>>4,y.width=W.c,y.height=W.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((z=p.Pa).jb,0,255,z.jb.length),e((z=p.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,a(z.Zb,0,0,z.Zb.length),a(z.Lb,0,0,z.Lb)}if(H.ub>V)return on(p,7,"bad partition length");ee(z=p.m,x,C,H.ub),C+=H.ub,V-=H.ub,H.Rb&&(W.Ld=Ne(z),W.Kd=Ne(z)),W=p.Qa;var X,re=p.Pa;if(e(z!=null),e(W!=null),W.Cb=Ne(z),W.Cb){if(W.Bb=Ne(z),Ne(z)){for(W.Fb=Ne(z),X=0;4>X;++X)W.Zb[X]=Ne(z)?$(z,7):0;for(X=0;4>X;++X)W.Lb[X]=Ne(z)?$(z,6):0}if(W.Bb)for(X=0;3>X;++X)re.jb[X]=Ne(z)?de(z,8):255}else W.Bb=0;if(z.Ka)return on(p,3,"cannot parse segment header");if((W=p.ed).zd=Ne(z),W.Tb=de(z,6),W.wb=de(z,3),W.Pc=Ne(z),W.Pc&&Ne(z)){for(re=0;4>re;++re)Ne(z)&&(W.vd[re]=$(z,6));for(re=0;4>re;++re)Ne(z)&&(W.od[re]=$(z,6))}if(p.L=W.Tb==0?0:W.zd?1:2,z.Ka)return on(p,3,"cannot parse filter header");var pe=V;if(V=X=C,C=X+pe,W=pe,p.Xb=(1<<de(p.m,2))-1,pe<3*(re=p.Xb))x=7;else{for(X+=3*re,W-=3*re,pe=0;pe<re;++pe){var Ie=x[V+0]|x[V+1]<<8|x[V+2]<<16;Ie>W&&(Ie=W),ee(p.Jc[+pe],x,X,Ie),X+=Ie,W-=Ie,V+=3}ee(p.Jc[+re],x,X,W),x=X<C?0:5}if(x!=0)return on(p,x,"cannot parse partitions");for(x=de(X=p.m,7),V=Ne(X)?$(X,4):0,C=Ne(X)?$(X,4):0,W=Ne(X)?$(X,4):0,re=Ne(X)?$(X,4):0,X=Ne(X)?$(X,4):0,pe=p.Qa,Ie=0;4>Ie;++Ie){if(pe.Cb){var te=pe.Zb[Ie];pe.Fb||(te+=x)}else{if(0<Ie){p.pb[Ie]=p.pb[0];continue}te=x}var me=p.pb[Ie];me.Sc[0]=Ys[br(te+V,127)],me.Sc[1]=$s[br(te+0,127)],me.Eb[0]=2*Ys[br(te+C,127)],me.Eb[1]=101581*$s[br(te+W,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=Ys[br(te+re,117)],me.Qc[1]=$s[br(te+X,127)],me.lc=te+X}if(!H.Rb)return on(p,4,"Not a key frame.");for(Ne(z),H=p.Pa,x=0;4>x;++x){for(V=0;8>V;++V)for(C=0;3>C;++C)for(W=0;11>W;++W)re=Ue(z,ar[x][V][C][W])?de(z,8):Id[x][V][C][W],H.Wc[x][V].Yb[C][W]=re;for(V=0;17>V;++V)H.Xc[x][V]=H.Wc[x][dn[V]]}return p.kc=Ne(z),p.kc&&(p.Bd=de(z,8)),p.cb=1}function _s(p,y,x,C,V,z,H){var W=y[V].Yb[x];for(x=0;16>V;++V){if(!Ue(p,W[x+0]))return V;for(;!Ue(p,W[x+1]);)if(W=y[++V].Yb[0],x=0,V==16)return 16;var X=y[V+1].Yb;if(Ue(p,W[x+2])){var re=p,pe=0;if(Ue(re,(te=W)[(Ie=x)+3]))if(Ue(re,te[Ie+6])){for(W=0,Ie=2*(pe=Ue(re,te[Ie+8]))+(te=Ue(re,te[Ie+9+pe])),pe=0,te=Nd[Ie];te[W];++W)pe+=pe+Ue(re,te[W]);pe+=3+(8<<Ie)}else Ue(re,te[Ie+7])?(pe=7+2*Ue(re,165),pe+=Ue(re,145)):pe=5+Ue(re,159);else pe=Ue(re,te[Ie+4])?3+Ue(re,te[Ie+5]):2;W=X[2]}else pe=1,W=X[1];X=H+Jh[V],0>(re=p).b&&Se(re);var Ie,te=re.b,me=(Ie=re.Ca>>1)-(re.I>>te)>>31;--re.b,re.Ca+=me,re.Ca|=1,re.I-=(Ie+1&me)<<te,z[X]=((pe^me)-me)*C[(0<V)+0]}return 16}function fn(p){var y=p.rb[p.sb-1];y.la=0,y.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function di(p,y,x,C,V){V=p[y+x+32*C]+(V>>3),p[y+x+32*C]=-256&V?0>V?0:255:V}function Ci(p,y,x,C,V,z){di(p,y,0,x,C+V),di(p,y,1,x,C+z),di(p,y,2,x,C-z),di(p,y,3,x,C-V)}function Gn(p){return(20091*p>>16)+p}function ni(p,y,x,C){var V,z=0,H=o(16);for(V=0;4>V;++V){var W=p[y+0]+p[y+8],X=p[y+0]-p[y+8],re=(35468*p[y+4]>>16)-Gn(p[y+12]),pe=Gn(p[y+4])+(35468*p[y+12]>>16);H[z+0]=W+pe,H[z+1]=X+re,H[z+2]=X-re,H[z+3]=W-pe,z+=4,y++}for(V=z=0;4>V;++V)W=(p=H[z+0]+4)+H[z+8],X=p-H[z+8],re=(35468*H[z+4]>>16)-Gn(H[z+12]),di(x,C,0,0,W+(pe=Gn(H[z+4])+(35468*H[z+12]>>16))),di(x,C,1,0,X+re),di(x,C,2,0,X-re),di(x,C,3,0,W-pe),z++,C+=32}function xo(p,y,x,C){var V=p[y+0]+4,z=35468*p[y+4]>>16,H=Gn(p[y+4]),W=35468*p[y+1]>>16;Ci(x,C,0,V+H,p=Gn(p[y+1]),W),Ci(x,C,1,V+z,p,W),Ci(x,C,2,V-z,p,W),Ci(x,C,3,V-H,p,W)}function Kl(p,y,x,C,V){ni(p,y,x,C),V&&ni(p,y+16,x,C+4)}function al(p,y,x,C){no(p,y+0,x,C,1),no(p,y+32,x,C+128,1)}function pi(p,y,x,C){var V;for(p=p[y+0]+4,V=0;4>V;++V)for(y=0;4>y;++y)di(x,C,y,V,p)}function ol(p,y,x,C){p[y+0]&&Cn(p,y+0,x,C),p[y+16]&&Cn(p,y+16,x,C+4),p[y+32]&&Cn(p,y+32,x,C+128),p[y+48]&&Cn(p,y+48,x,C+128+4)}function ca(p,y,x,C){var V,z=o(16);for(V=0;4>V;++V){var H=p[y+0+V]+p[y+12+V],W=p[y+4+V]+p[y+8+V],X=p[y+4+V]-p[y+8+V],re=p[y+0+V]-p[y+12+V];z[0+V]=H+W,z[8+V]=H-W,z[4+V]=re+X,z[12+V]=re-X}for(V=0;4>V;++V)H=(p=z[0+4*V]+3)+z[3+4*V],W=z[1+4*V]+z[2+4*V],X=z[1+4*V]-z[2+4*V],re=p-z[3+4*V],x[C+0]=H+W>>3,x[C+16]=re+X>>3,x[C+32]=H-W>>3,x[C+48]=re-X>>3,C+=64}function Tr(p,y,x){var C,V=y-32,z=Oi,H=255-p[V-1];for(C=0;C<x;++C){var W,X=z,re=H+p[y-1];for(W=0;W<x;++W)p[y+W]=X[re+p[V+W]];y+=32}}function Eo(p,y){Tr(p,y,4)}function ll(p,y){Tr(p,y,8)}function ul(p,y){Tr(p,y,16)}function So(p,y){var x;for(x=0;16>x;++x)r(p,y+32*x,p,y-32,16)}function To(p,y){var x;for(x=16;0<x;--x)a(p,y,p[y-1],16),y+=32}function as(p,y,x){var C;for(C=0;16>C;++C)a(y,x+32*C,p,16)}function ws(p,y){var x,C=16;for(x=0;16>x;++x)C+=p[y-1+32*x]+p[y+x-32];as(C>>5,p,y)}function As(p,y){var x,C=8;for(x=0;16>x;++x)C+=p[y-1+32*x];as(C>>4,p,y)}function ha(p,y){var x,C=8;for(x=0;16>x;++x)C+=p[y+x-32];as(C>>4,p,y)}function Ri(p,y){as(128,p,y)}function Lt(p,y,x){return p+2*y+x+2>>2}function Ps(p,y){var x,C=y-32;for(C=new Uint8Array([Lt(p[C-1],p[C+0],p[C+1]),Lt(p[C+0],p[C+1],p[C+2]),Lt(p[C+1],p[C+2],p[C+3]),Lt(p[C+2],p[C+3],p[C+4])]),x=0;4>x;++x)r(p,y+32*x,C,0,C.length)}function Ya(p,y){var x=p[y-1],C=p[y-1+32],V=p[y-1+64],z=p[y-1+96];Qe(p,y+0,16843009*Lt(p[y-1-32],x,C)),Qe(p,y+32,16843009*Lt(x,C,V)),Qe(p,y+64,16843009*Lt(C,V,z)),Qe(p,y+96,16843009*Lt(V,z,z))}function No(p,y){var x,C=4;for(x=0;4>x;++x)C+=p[y+x-32]+p[y-1+32*x];for(C>>=3,x=0;4>x;++x)a(p,y+32*x,C,4)}function Sa(p,y){var x=p[y-1+0],C=p[y-1+32],V=p[y-1+64],z=p[y-1-32],H=p[y+0-32],W=p[y+1-32],X=p[y+2-32],re=p[y+3-32];p[y+0+96]=Lt(C,V,p[y-1+96]),p[y+1+96]=p[y+0+64]=Lt(x,C,V),p[y+2+96]=p[y+1+64]=p[y+0+32]=Lt(z,x,C),p[y+3+96]=p[y+2+64]=p[y+1+32]=p[y+0+0]=Lt(H,z,x),p[y+3+64]=p[y+2+32]=p[y+1+0]=Lt(W,H,z),p[y+3+32]=p[y+2+0]=Lt(X,W,H),p[y+3+0]=Lt(re,X,W)}function $r(p,y){var x=p[y+1-32],C=p[y+2-32],V=p[y+3-32],z=p[y+4-32],H=p[y+5-32],W=p[y+6-32],X=p[y+7-32];p[y+0+0]=Lt(p[y+0-32],x,C),p[y+1+0]=p[y+0+32]=Lt(x,C,V),p[y+2+0]=p[y+1+32]=p[y+0+64]=Lt(C,V,z),p[y+3+0]=p[y+2+32]=p[y+1+64]=p[y+0+96]=Lt(V,z,H),p[y+3+32]=p[y+2+64]=p[y+1+96]=Lt(z,H,W),p[y+3+64]=p[y+2+96]=Lt(H,W,X),p[y+3+96]=Lt(W,X,X)}function Pr(p,y){var x=p[y-1+0],C=p[y-1+32],V=p[y-1+64],z=p[y-1-32],H=p[y+0-32],W=p[y+1-32],X=p[y+2-32],re=p[y+3-32];p[y+0+0]=p[y+1+64]=z+H+1>>1,p[y+1+0]=p[y+2+64]=H+W+1>>1,p[y+2+0]=p[y+3+64]=W+X+1>>1,p[y+3+0]=X+re+1>>1,p[y+0+96]=Lt(V,C,x),p[y+0+64]=Lt(C,x,z),p[y+0+32]=p[y+1+96]=Lt(x,z,H),p[y+1+32]=p[y+2+96]=Lt(z,H,W),p[y+2+32]=p[y+3+96]=Lt(H,W,X),p[y+3+32]=Lt(W,X,re)}function $a(p,y){var x=p[y+0-32],C=p[y+1-32],V=p[y+2-32],z=p[y+3-32],H=p[y+4-32],W=p[y+5-32],X=p[y+6-32],re=p[y+7-32];p[y+0+0]=x+C+1>>1,p[y+1+0]=p[y+0+64]=C+V+1>>1,p[y+2+0]=p[y+1+64]=V+z+1>>1,p[y+3+0]=p[y+2+64]=z+H+1>>1,p[y+0+32]=Lt(x,C,V),p[y+1+32]=p[y+0+96]=Lt(C,V,z),p[y+2+32]=p[y+1+96]=Lt(V,z,H),p[y+3+32]=p[y+2+96]=Lt(z,H,W),p[y+3+64]=Lt(H,W,X),p[y+3+96]=Lt(W,X,re)}function kn(p,y){var x=p[y-1+0],C=p[y-1+32],V=p[y-1+64],z=p[y-1+96];p[y+0+0]=x+C+1>>1,p[y+2+0]=p[y+0+32]=C+V+1>>1,p[y+2+32]=p[y+0+64]=V+z+1>>1,p[y+1+0]=Lt(x,C,V),p[y+3+0]=p[y+1+32]=Lt(C,V,z),p[y+3+32]=p[y+1+64]=Lt(V,z,z),p[y+3+64]=p[y+2+64]=p[y+0+96]=p[y+1+96]=p[y+2+96]=p[y+3+96]=z}function Gi(p,y){var x=p[y-1+0],C=p[y-1+32],V=p[y-1+64],z=p[y-1+96],H=p[y-1-32],W=p[y+0-32],X=p[y+1-32],re=p[y+2-32];p[y+0+0]=p[y+2+32]=x+H+1>>1,p[y+0+32]=p[y+2+64]=C+x+1>>1,p[y+0+64]=p[y+2+96]=V+C+1>>1,p[y+0+96]=z+V+1>>1,p[y+3+0]=Lt(W,X,re),p[y+2+0]=Lt(H,W,X),p[y+1+0]=p[y+3+32]=Lt(x,H,W),p[y+1+32]=p[y+3+64]=Lt(C,x,H),p[y+1+64]=p[y+3+96]=Lt(V,C,x),p[y+1+96]=Lt(z,V,C)}function Ka(p,y){var x;for(x=0;8>x;++x)r(p,y+32*x,p,y-32,8)}function xs(p,y){var x;for(x=0;8>x;++x)a(p,y,p[y-1],8),y+=32}function Ta(p,y,x){var C;for(C=0;8>C;++C)a(y,x+32*C,p,8)}function Ms(p,y){var x,C=8;for(x=0;8>x;++x)C+=p[y+x-32]+p[y-1+32*x];Ta(C>>4,p,y)}function fa(p,y){var x,C=4;for(x=0;8>x;++x)C+=p[y+x-32];Ta(C>>3,p,y)}function Yi(p,y){var x,C=4;for(x=0;8>x;++x)C+=p[y-1+32*x];Ta(C>>3,p,y)}function Nr(p,y){Ta(128,p,y)}function $i(p,y,x){var C=p[y-x],V=p[y+0],z=3*(V-C)+ro[1020+p[y-2*x]-p[y+x]],H=Ju[112+(z+4>>3)];p[y-x]=Oi[255+C+Ju[112+(z+3>>3)]],p[y+0]=Oi[255+V-H]}function Li(p,y,x,C){var V=p[y+0],z=p[y+x];return yi[255+p[y-2*x]-p[y-x]]>C||yi[255+z-V]>C}function js(p,y,x,C){return 4*yi[255+p[y-x]-p[y+0]]+yi[255+p[y-2*x]-p[y+x]]<=C}function Na(p,y,x,C,V){var z=p[y-3*x],H=p[y-2*x],W=p[y-x],X=p[y+0],re=p[y+x],pe=p[y+2*x],Ie=p[y+3*x];return 4*yi[255+W-X]+yi[255+H-re]>C?0:yi[255+p[y-4*x]-z]<=V&&yi[255+z-H]<=V&&yi[255+H-W]<=V&&yi[255+Ie-pe]<=V&&yi[255+pe-re]<=V&&yi[255+re-X]<=V}function Us(p,y,x,C){var V=2*C+1;for(C=0;16>C;++C)js(p,y+C,x,V)&&$i(p,y+C,x)}function Vs(p,y,x,C){var V=2*C+1;for(C=0;16>C;++C)js(p,y+C*x,1,V)&&$i(p,y+C*x,1)}function Es(p,y,x,C){var V;for(V=3;0<V;--V)Us(p,y+=4*x,x,C)}function Wa(p,y,x,C){var V;for(V=3;0<V;--V)Vs(p,y+=4,x,C)}function Ss(p,y,x,C,V,z,H,W){for(z=2*z+1;0<V--;){if(Na(p,y,x,z,H))if(Li(p,y,x,W))$i(p,y,x);else{var X=p,re=y,pe=x,Ie=X[re-2*pe],te=X[re-pe],me=X[re+0],Ee=X[re+pe],je=X[re+2*pe],Te=27*(ze=ro[1020+3*(me-te)+ro[1020+Ie-Ee]])+63>>7,Me=18*ze+63>>7,ze=9*ze+63>>7;X[re-3*pe]=Oi[255+X[re-3*pe]+ze],X[re-2*pe]=Oi[255+Ie+Me],X[re-pe]=Oi[255+te+Te],X[re+0]=Oi[255+me-Te],X[re+pe]=Oi[255+Ee-Me],X[re+2*pe]=Oi[255+je-ze]}y+=C}}function Ki(p,y,x,C,V,z,H,W){for(z=2*z+1;0<V--;){if(Na(p,y,x,z,H))if(Li(p,y,x,W))$i(p,y,x);else{var X=p,re=y,pe=x,Ie=X[re-pe],te=X[re+0],me=X[re+pe],Ee=Ju[112+(4+(je=3*(te-Ie))>>3)],je=Ju[112+(je+3>>3)],Te=Ee+1>>1;X[re-2*pe]=Oi[255+X[re-2*pe]+Te],X[re-pe]=Oi[255+Ie+je],X[re+0]=Oi[255+te-Ee],X[re+pe]=Oi[255+me-Te]}y+=C}}function cl(p,y,x,C,V,z){Ss(p,y,x,1,16,C,V,z)}function hl(p,y,x,C,V,z){Ss(p,y,1,x,16,C,V,z)}function Ts(p,y,x,C,V,z){var H;for(H=3;0<H;--H)Ki(p,y+=4*x,x,1,16,C,V,z)}function Io(p,y,x,C,V,z){var H;for(H=3;0<H;--H)Ki(p,y+=4,1,x,16,C,V,z)}function w(p,y,x,C,V,z,H,W){Ss(p,y,V,1,8,z,H,W),Ss(x,C,V,1,8,z,H,W)}function U(p,y,x,C,V,z,H,W){Ss(p,y,1,V,8,z,H,W),Ss(x,C,1,V,8,z,H,W)}function ne(p,y,x,C,V,z,H,W){Ki(p,y+4*V,V,1,8,z,H,W),Ki(x,C+4*V,V,1,8,z,H,W)}function fe(p,y,x,C,V,z,H,W){Ki(p,y+4,1,V,8,z,H,W),Ki(x,C+4,1,V,8,z,H,W)}function ve(){this.ba=new Ht,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new an,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ve(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function We(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lt(){this.ua=0,this.Wa=new qt,this.vb=new qt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new P}function ft(){this.xb=this.a=0,this.l=new la,this.ca=new Ht,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lt,this.ab=0,this.gc=u(4,We),this.Oc=0}function It(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new la,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function yt(p,y,x,C,V,z,H){for(p=p==null?0:p[y+0],y=0;y<H;++y)V[z+y]=p+x[C+y]&255,p=V[z+y]}function mn(p,y,x,C,V,z,H){var W;if(p==null)yt(null,null,x,C,V,z,H);else for(W=0;W<H;++W)V[z+W]=p[y+W]+x[C+W]&255}function Jn(p,y,x,C,V,z,H){if(p==null)yt(null,null,x,C,V,z,H);else{var W,X=p[y+0],re=X,pe=X;for(W=0;W<H;++W)re=pe+(X=p[y+W])-re,pe=x[C+W]+(-256&re?0>re?0:255:re)&255,re=X,V[z+W]=pe}}function qn(p,y,x,C){var V=y.width,z=y.o;if(e(p!=null&&y!=null),0>x||0>=C||x+C>z)return null;if(!p.Cc){if(p.ga==null){var H;if(p.ga=new It,(H=p.ga==null)||(H=y.width*y.o,e(p.Gb.length==0),p.Gb=o(H),p.Uc=0,p.Gb==null?H=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,H=1),H=!H),!H){H=p.ga;var W=p.Fa,X=p.P,re=p.qc,pe=p.mb,Ie=p.nb,te=X+1,me=re-1,Ee=H.l;if(e(W!=null&&pe!=null&&y!=null),io[0]=null,io[1]=yt,io[2]=mn,io[3]=Jn,H.ca=pe,H.tb=Ie,H.c=y.width,H.i=y.height,e(0<H.c&&0<H.i),1>=re)y=0;else if(H.$a=3&W[X+0],H.Z=W[X+0]>>2&3,H.Lc=W[X+0]>>4&3,X=W[X+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||X)y=0;else if(Ee.put=wt,Ee.ac=Yr,Ee.bc=aa,Ee.ma=H,Ee.width=y.width,Ee.height=y.height,Ee.Da=y.Da,Ee.v=y.v,Ee.va=y.va,Ee.j=y.j,Ee.o=y.o,H.$a)e:{e(H.$a==1),y=Ea();t:for(;;){if(y==null){y=0;break e}if(e(H!=null),H.mc=y,y.c=H.c,y.i=H.i,y.l=H.l,y.l.ma=H,y.l.width=H.c,y.l.height=H.i,y.a=0,be(y.m,W,te,me),!vs(H.c,H.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Dn(y.s)?(H.ic=1,W=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(W),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(H.ic=0,y=Ni(y,H.c)),!y))break t;y=1;break e}H.mc=null,y=0}else y=me>=H.c*H.i;H=!y}if(H)return null;p.ga.Lc!=1?p.Ga=0:C=z-x}e(p.ga!=null),e(x+C<=z);e:{if(y=(W=p.ga).c,z=W.l.o,W.$a==0){if(te=p.rc,me=p.Vc,Ee=p.Fa,X=p.P+1+x*y,re=p.mb,pe=p.nb+x*y,e(X<=p.P+p.qc),W.Z!=0)for(e(io[W.Z]!=null),H=0;H<C;++H)io[W.Z](te,me,Ee,X,re,pe,y),te=re,me=pe,pe+=y,X+=y;else for(H=0;H<C;++H)r(re,pe,Ee,X,y),te=re,me=pe,pe+=y,X+=y;p.rc=te,p.Vc=me}else{if(e(W.mc!=null),y=x+C,e((H=W.mc)!=null),e(y<=H.i),H.C>=y)y=1;else if(W.ic||Ae(),W.ic){W=H.V,te=H.Ba,me=H.c;var je=H.i,Te=(Ee=1,X=H.$/me,re=H.$%me,pe=H.m,Ie=H.s,H.$),Me=me*je,ze=me*y,Xe=Ie.wc,$e=Te<ze?kr(Ie,re,X):null;e(Te<=Me),e(y<=je),e(Dn(Ie));t:for(;;){for(;!pe.h&&Te<ze;){if(re&Xe||($e=kr(Ie,re,X)),e($e!=null),ye(pe),256>(je=Bn($e.G[0],$e.H[0],pe)))W[te+Te]=je,++Te,++re>=me&&(re=0,++X<=y&&!(X%16)&&Or(H,X));else{if(!(280>je)){Ee=0;break t}je=Ei(je-256,pe);var dt,at=Bn($e.G[4],$e.H[4],pe);if(ye(pe),!(Te>=(at=Si(me,at=Ei(at,pe)))&&Me-Te>=je)){Ee=0;break t}for(dt=0;dt<je;++dt)W[te+Te+dt]=W[te+Te+dt-at];for(Te+=je,re+=je;re>=me;)re-=me,++X<=y&&!(X%16)&&Or(H,X);Te<ze&&re&Xe&&($e=kr(Ie,re,X))}e(pe.h==ue(pe))}Or(H,X>y?y:X);break t}!Ee||pe.h&&Te<Me?(Ee=0,H.a=pe.h?5:3):H.$=Te,y=Ee}else y=Ti(H,H.V,H.Ba,H.c,H.i,y,oa);if(!y){C=0;break e}}x+C>=z&&(p.Cc=1),C=1}if(!C)return null;if(p.Cc&&((C=p.ga)!=null&&(C.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+x*V}function g(p,y,x,C,V,z){for(;0<V--;){var H,W=p,X=y+(x?1:0),re=p,pe=y+(x?0:3);for(H=0;H<C;++H){var Ie=re[pe+4*H];Ie!=255&&(Ie*=32897,W[X+4*H+0]=W[X+4*H+0]*Ie>>23,W[X+4*H+1]=W[X+4*H+1]*Ie>>23,W[X+4*H+2]=W[X+4*H+2]*Ie>>23)}y+=z}}function T(p,y,x,C,V){for(;0<C--;){var z;for(z=0;z<x;++z){var H=p[y+2*z+0],W=15&(re=p[y+2*z+1]),X=4369*W,re=(240&re|re>>4)*X>>16;p[y+2*z+0]=(240&H|H>>4)*X>>16&240|(15&H|H<<4)*X>>16>>4&15,p[y+2*z+1]=240&re|W}y+=V}}function k(p,y,x,C,V,z,H,W){var X,re,pe=255;for(re=0;re<V;++re){for(X=0;X<C;++X){var Ie=p[y+X];z[H+4*X]=Ie,pe&=Ie}y+=x,H+=W}return pe!=255}function Q(p,y,x,C,V){var z;for(z=0;z<V;++z)x[C+z]=p[y+z]>>8}function Ae(){pl=g,Bs=T,Wu=k,Rs=Q}function Re(p,y,x){L[p]=function(C,V,z,H,W,X,re,pe,Ie,te,me,Ee,je,Te,Me,ze,Xe){var $e,dt=Xe-1>>1,at=W[X+0]|re[pe+0]<<16,Yt=Ie[te+0]|me[Ee+0]<<16;e(C!=null);var ct=3*at+Yt+131074>>2;for(y(C[V+0],255&ct,ct>>16,je,Te),z!=null&&(ct=3*Yt+at+131074>>2,y(z[H+0],255&ct,ct>>16,Me,ze)),$e=1;$e<=dt;++$e){var hn=W[X+$e]|re[pe+$e]<<16,or=Ie[te+$e]|me[Ee+$e]<<16,Jt=at+hn+Yt+or+524296,ot=Jt+2*(hn+Yt)>>3;ct=ot+at>>1,at=(Jt=Jt+2*(at+or)>>3)+hn>>1,y(C[V+2*$e-1],255&ct,ct>>16,je,Te+(2*$e-1)*x),y(C[V+2*$e-0],255&at,at>>16,je,Te+(2*$e-0)*x),z!=null&&(ct=Jt+Yt>>1,at=ot+or>>1,y(z[H+2*$e-1],255&ct,ct>>16,Me,ze+(2*$e-1)*x),y(z[H+2*$e+0],255&at,at>>16,Me,ze+(2*$e+0)*x)),at=hn,Yt=or}1&Xe||(ct=3*at+Yt+131074>>2,y(C[V+Xe-1],255&ct,ct>>16,je,Te+(Xe-1)*x),z!=null&&(ct=3*Yt+at+131074>>2,y(z[H+Xe-1],255&ct,ct>>16,Me,ze+(Xe-1)*x)))}}function Je(){bi[Uc]=yl,bi[Pi]=ru,bi[Vc]=ef,bi[qs]=Hc,bi[Zu]=ko,bi[eu]=Ma,bi[Ro]=Oo,bi[ec]=ru,bi[Fc]=Hc,bi[tu]=ko,bi[Bc]=Ma}function Vt(p){return p&-16384?0>p?0:255:p>>Gc}function Yn(p,y){return Vt((19077*p>>8)+(26149*y>>8)-14234)}function un(p,y,x){return Vt((19077*p>>8)-(6419*y>>8)-(13320*x>>8)+8708)}function On(p,y){return Vt((19077*p>>8)+(33050*y>>8)-17685)}function ri(p,y,x,C,V){C[V+0]=Yn(p,x),C[V+1]=un(p,y,x),C[V+2]=On(p,y)}function Di(p,y,x,C,V){C[V+0]=On(p,y),C[V+1]=un(p,y,x),C[V+2]=Yn(p,x)}function Zn(p,y,x,C,V){var z=un(p,y,x);y=z<<3&224|On(p,y)>>3,C[V+0]=248&Yn(p,x)|z>>5,C[V+1]=y}function gi(p,y,x,C,V){var z=240&On(p,y)|15;C[V+0]=240&Yn(p,x)|un(p,y,x)>>4,C[V+1]=z}function Ns(p,y,x,C,V){C[V+0]=255,ri(p,y,x,C,V+1)}function Ia(p,y,x,C,V){Di(p,y,x,C,V),C[V+3]=255}function Ca(p,y,x,C,V){ri(p,y,x,C,V),C[V+3]=255}function br(p,y){return 0>p?0:p>y?y:p}function Qa(p,y,x){L[p]=function(C,V,z,H,W,X,re,pe,Ie){for(var te=pe+(-2&Ie)*x;pe!=te;)y(C[V+0],z[H+0],W[X+0],re,pe),y(C[V+1],z[H+0],W[X+0],re,pe+x),V+=2,++H,++X,pe+=2*x;1&Ie&&y(C[V+0],z[H+0],W[X+0],re,pe)}}function Wl(p,y,x){return x==0?p==0?y==0?6:5:y==0?4:0:x}function Yu(p,y,x,C,V){switch(p>>>30){case 3:no(y,x,C,V,0);break;case 2:ki(y,x,C,V);break;case 1:Cn(y,x,C,V)}}function Is(p,y){var x,C,V=y.M,z=y.Nb,H=p.oc,W=p.pc+40,X=p.oc,re=p.pc+584,pe=p.oc,Ie=p.pc+600;for(x=0;16>x;++x)H[W+32*x-1]=129;for(x=0;8>x;++x)X[re+32*x-1]=129,pe[Ie+32*x-1]=129;for(0<V?H[W-1-32]=X[re-1-32]=pe[Ie-1-32]=129:(a(H,W-32-1,127,21),a(X,re-32-1,127,9),a(pe,Ie-32-1,127,9)),C=0;C<p.za;++C){var te=y.ya[y.aa+C];if(0<C){for(x=-1;16>x;++x)r(H,W+32*x-4,H,W+32*x+12,4);for(x=-1;8>x;++x)r(X,re+32*x-4,X,re+32*x+4,4),r(pe,Ie+32*x-4,pe,Ie+32*x+4,4)}var me=p.Gd,Ee=p.Hd+C,je=te.ad,Te=te.Hc;if(0<V&&(r(H,W-32,me[Ee].y,0,16),r(X,re-32,me[Ee].f,0,8),r(pe,Ie-32,me[Ee].ea,0,8)),te.Za){var Me=H,ze=W-32+16;for(0<V&&(C>=p.za-1?a(Me,ze,me[Ee].y[15],4):r(Me,ze,me[Ee+1].y,0,4)),x=0;4>x;x++)Me[ze+128+x]=Me[ze+256+x]=Me[ze+384+x]=Me[ze+0+x];for(x=0;16>x;++x,Te<<=2)Me=H,ze=W+Rr[x],_r[te.Ob[x]](Me,ze),Yu(Te,je,16*+x,Me,ze)}else if(Me=Wl(C,V,te.Ob[0]),Qi[Me](H,W),Te!=0)for(x=0;16>x;++x,Te<<=2)Yu(Te,je,16*+x,H,W+Rr[x]);for(x=te.Gc,Me=Wl(C,V,te.Dd),ma[Me](X,re),ma[Me](pe,Ie),Te=je,Me=X,ze=re,255&(te=0|x)&&(170&te?Fs(Te,256,Me,ze):An(Te,256,Me,ze)),te=pe,Te=Ie,255&(x>>=8)&&(170&x?Fs(je,320,te,Te):An(je,320,te,Te)),V<p.Ub-1&&(r(me[Ee].y,0,H,W+480,16),r(me[Ee].f,0,X,re+224,8),r(me[Ee].ea,0,pe,Ie+224,8)),x=8*z*p.B,me=p.sa,Ee=p.ta+16*C+16*z*p.R,je=p.qa,te=p.ra+8*C+x,Te=p.Ha,Me=p.Ia+8*C+x,x=0;16>x;++x)r(me,Ee+x*p.R,H,W+32*x,16);for(x=0;8>x;++x)r(je,te+x*p.B,X,re+32*x,8),r(Te,Me+x*p.B,pe,Ie+32*x,8)}}function da(p,y,x,C,V,z,H,W,X){var re=[0],pe=[0],Ie=0,te=X!=null?X.kd:0,me=X??new Ve;if(p==null||12>x)return 7;me.data=p,me.w=y,me.ha=x,y=[y],x=[x],me.gb=[me.gb];e:{var Ee=y,je=x,Te=me.gb;if(e(p!=null),e(je!=null),e(Te!=null),Te[0]=0,12<=je[0]&&!t(p,Ee[0],"RIFF")){if(t(p,Ee[0]+8,"WEBP")){Te=3;break e}var Me=Oe(p,Ee[0]+4);if(12>Me||4294967286<Me){Te=3;break e}if(te&&Me>je[0]-8){Te=7;break e}Te[0]=Me,Ee[0]+=12,je[0]-=12}Te=0}if(Te!=0)return Te;for(Me=0<me.gb[0],x=x[0];;){e:{var ze=p;je=y,Te=x;var Xe=re,$e=pe,dt=Ee=[0];if((ct=Ie=[Ie])[0]=0,8>Te[0])Te=7;else{if(!t(ze,je[0],"VP8X")){if(Oe(ze,je[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var at=Oe(ze,je[0]+8),Yt=1+tt(ze,je[0]+12);if(2147483648<=Yt*(ze=1+tt(ze,je[0]+15))){Te=3;break e}dt!=null&&(dt[0]=at),Xe!=null&&(Xe[0]=Yt),$e!=null&&($e[0]=ze),je[0]+=18,Te[0]-=18,ct[0]=1}Te=0}}if(Ie=Ie[0],Ee=Ee[0],Te!=0)return Te;if(je=!!(2&Ee),!Me&&Ie)return 3;if(z!=null&&(z[0]=!!(16&Ee)),H!=null&&(H[0]=je),W!=null&&(W[0]=0),H=re[0],Ee=pe[0],Ie&&je&&X==null){Te=0;break}if(4>x){Te=7;break}if(Me&&Ie||!Me&&!Ie&&!t(p,y[0],"ALPH")){x=[x],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{at=p,Te=y,Me=x;var ct=me.gb;Xe=me.na,$e=me.P,dt=me.Sa,Yt=22,e(at!=null),e(Me!=null),ze=Te[0];var hn=Me[0];for(e(Xe!=null),e(dt!=null),Xe[0]=null,$e[0]=null,dt[0]=0;;){if(Te[0]=ze,Me[0]=hn,8>hn){Te=7;break e}var or=Oe(at,ze+4);if(4294967286<or){Te=3;break e}var Jt=8+or+1&-2;if(Yt+=Jt,0<ct&&Yt>ct){Te=3;break e}if(!t(at,ze,"VP8 ")||!t(at,ze,"VP8L")){Te=0;break e}if(hn[0]<Jt){Te=7;break e}t(at,ze,"ALPH")||(Xe[0]=at,$e[0]=ze+8,dt[0]=or),ze+=Jt,hn-=Jt}}if(x=x[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],Te!=0)break}x=[x],me.Ja=[me.Ja],me.xa=[me.xa];e:if(ct=p,Te=y,Me=x,Xe=me.gb[0],$e=me.Ja,dt=me.xa,at=Te[0],ze=!t(ct,at,"VP8 "),Yt=!t(ct,at,"VP8L"),e(ct!=null),e(Me!=null),e($e!=null),e(dt!=null),8>Me[0])Te=7;else{if(ze||Yt){if(ct=Oe(ct,at+4),12<=Xe&&ct>Xe-12){Te=3;break e}if(te&&ct>Me[0]-8){Te=7;break e}$e[0]=ct,Te[0]+=8,Me[0]-=8,dt[0]=Yt}else dt[0]=5<=Me[0]&&ct[at+0]==47&&!(ct[at+4]>>5),$e[0]=Me[0];Te=0}if(x=x[0],me.Ja=me.Ja[0],me.xa=me.xa[0],y=y[0],Te!=0)break;if(4294967286<me.Ja)return 3;if(W==null||je||(W[0]=me.xa?2:1),H=[H],Ee=[Ee],me.xa){if(5>x){Te=7;break}W=H,te=Ee,je=z,p==null||5>x?p=0:5<=x&&p[y+0]==47&&!(p[y+4]>>5)?(Me=[0],ct=[0],Xe=[0],be($e=new K,p,y,x),Bi($e,Me,ct,Xe)?(W!=null&&(W[0]=Me[0]),te!=null&&(te[0]=ct[0]),je!=null&&(je[0]=Xe[0]),p=1):p=0):p=0}else{if(10>x){Te=7;break}W=Ee,p==null||10>x||!Sr(p,y+3,x-3)?p=0:(te=p[y+0]|p[y+1]<<8|p[y+2]<<16,je=16383&(p[y+7]<<8|p[y+6]),p=16383&(p[y+9]<<8|p[y+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=me.Ja||!je||!p?p=0:(H&&(H[0]=je),W&&(W[0]=p),p=1))}if(!p||(H=H[0],Ee=Ee[0],Ie&&(re[0]!=H||pe[0]!=Ee)))return 3;X!=null&&(X[0]=me,X.offset=y-X.w,e(4294967286>y-X.w),e(X.offset==X.ha-x));break}return Te==0||Te==7&&Ie&&X==null?(z!=null&&(z[0]|=me.na!=null&&0<me.na.length),C!=null&&(C[0]=H),V!=null&&(V[0]=Ee),0):Te}function Xa(p,y,x){var C=y.width,V=y.height,z=0,H=0,W=C,X=V;if(y.Da=p!=null&&0<p.Da,y.Da&&(W=p.cd,X=p.bd,z=p.v,H=p.j,11>x||(z&=-2,H&=-2),0>z||0>H||0>=W||0>=X||z+W>C||H+X>V))return 0;if(y.v=z,y.j=H,y.va=z+W,y.o=H+X,y.U=W,y.T=X,y.da=p!=null&&0<p.da,y.da){if(!_t(W,X,x=[p.ib],z=[p.hb]))return 0;y.ib=x[0],y.hb=z[0]}return y.ob=p!=null&&p.ob,y.Kb=p==null||!p.Sd,y.da&&(y.ob=y.ib<3*C/4&&y.hb<3*V/4,y.Kb=0),1}function $u(p){if(p==null)return 2;if(11>p.S){var y=p.f.RGBA;y.fb+=(p.height-1)*y.A,y.A=-y.A}else y=p.f.kb,p=p.height,y.O+=(p-1)*y.fa,y.fa=-y.fa,y.N+=(p-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(p-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(p-1)*y.lb,y.lb=-y.lb);return 0}function pa(p,y,x,C){if(C==null||0>=p||0>=y)return 2;if(x!=null){if(x.Da){var V=x.cd,z=x.bd,H=-2&x.v,W=-2&x.j;if(0>H||0>W||0>=V||0>=z||H+V>p||W+z>y)return 2;p=V,y=z}if(x.da){if(!_t(p,y,V=[x.ib],z=[x.hb]))return 2;p=V[0],y=z[0]}}C.width=p,C.height=y;e:{var X=C.width,re=C.height;if(p=C.S,0>=X||0>=re||!(p>=Uc&&13>p))p=2;else{if(0>=C.Rd&&C.sd==null){H=z=V=y=0;var pe=(W=X*$c[p])*re;if(11>p||(z=(re+1)/2*(y=(X+1)/2),p==12&&(H=(V=X)*re)),(re=o(pe+2*z+H))==null){p=1;break e}C.sd=re,11>p?((X=C.f.RGBA).eb=re,X.fb=0,X.A=W,X.size=pe):((X=C.f.kb).y=re,X.O=0,X.fa=W,X.Fd=pe,X.f=re,X.N=0+pe,X.Ab=y,X.Cd=z,X.ea=re,X.W=0+pe+z,X.Db=y,X.Ed=z,p==12&&(X.F=re,X.J=0+pe+2*z),X.Tc=H,X.lb=V)}if(y=1,V=C.S,z=C.width,H=C.height,V>=Uc&&13>V)if(11>V)p=C.f.RGBA,y&=(W=Math.abs(p.A))*(H-1)+z<=p.size,y&=W>=z*$c[V],y&=p.eb!=null;else{p=C.f.kb,W=(z+1)/2,pe=(H+1)/2,X=Math.abs(p.fa),re=Math.abs(p.Ab);var Ie=Math.abs(p.Db),te=Math.abs(p.lb),me=te*(H-1)+z;y&=X*(H-1)+z<=p.Fd,y&=re*(pe-1)+W<=p.Cd,y=(y&=Ie*(pe-1)+W<=p.Ed)&X>=z&re>=W&Ie>=W,y&=p.y!=null,y&=p.f!=null,y&=p.ea!=null,V==12&&(y&=te>=z,y&=me<=p.Tc,y&=p.F!=null)}else y=0;p=y?0:2}}return p!=0||x!=null&&x.fd&&(p=$u(C)),p}var Co=64,os=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wi=24,Ra=32,La=8,Ja=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(p){return p},L.Predictor2=function(p,y,x){return y[x+0]},L.Predictor3=function(p,y,x){return y[x+1]},L.Predictor4=function(p,y,x){return y[x-1]},L.Predictor5=function(p,y,x){return vt(vt(p,y[x+1]),y[x+0])},L.Predictor6=function(p,y,x){return vt(p,y[x-1])},L.Predictor7=function(p,y,x){return vt(p,y[x+0])},L.Predictor8=function(p,y,x){return vt(y[x-1],y[x+0])},L.Predictor9=function(p,y,x){return vt(y[x+0],y[x+1])},L.Predictor10=function(p,y,x){return vt(vt(p,y[x-1]),vt(y[x+0],y[x+1]))},L.Predictor11=function(p,y,x){var C=y[x+0];return 0>=jt(C>>24&255,p>>24&255,(y=y[x-1])>>24&255)+jt(C>>16&255,p>>16&255,y>>16&255)+jt(C>>8&255,p>>8&255,y>>8&255)+jt(255&C,255&p,255&y)?C:p},L.Predictor12=function(p,y,x){var C=y[x+0];return(Gt((p>>24&255)+(C>>24&255)-((y=y[x-1])>>24&255))<<24|Gt((p>>16&255)+(C>>16&255)-(y>>16&255))<<16|Gt((p>>8&255)+(C>>8&255)-(y>>8&255))<<8|Gt((255&p)+(255&C)-(255&y)))>>>0},L.Predictor13=function(p,y,x){var C=y[x-1];return(Ot((p=vt(p,y[x+0]))>>24&255,C>>24&255)<<24|Ot(p>>16&255,C>>16&255)<<16|Ot(p>>8&255,C>>8&255)<<8|Ot(255&p,255&C))>>>0};var Ql=L.PredictorAdd0;L.PredictorAdd1=En,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var Xl=L.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Ir,Pc=L.ColorIndexInverseTransform,Da=L.MapARGB,ka=L.VP8LColorIndexInverseTransformAlpha,mi=L.MapAlpha,Za=L.VP8LPredictorsAdd=[];Za.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Jl,Zl,eo,to,Oa,fl,Cs,no,ki,Fs,Cn,An,er,Cr,Pa,ga,dl,Ku,Wh,Ed,Sd,Td,Qh,Xh,pl,Bs,Wu,Rs,gl=o(511),Mc=o(2041),Qu=o(225),Xu=o(767),jc=0,ro=Mc,Ju=Qu,Oi=Xu,yi=gl,Uc=0,Pi=1,Vc=2,qs=3,Zu=4,eu=5,Ro=6,ec=7,Fc=8,tu=9,Bc=10,zs=[2,3,7],nu=[3,3,11],ml=[280,256,256,256,40],qc=[0,1,1,1,0],tc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Hs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Gs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Lo=8,Ys=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$s=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ls=null,Nd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Jh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Id=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ar=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qi=[],_r=[],ma=[],Do=1,Zh=2,io=[],bi=[];Re("UpsampleRgbLinePair",ri,3),Re("UpsampleBgrLinePair",Di,3),Re("UpsampleRgbaLinePair",Ca,4),Re("UpsampleBgraLinePair",Ia,4),Re("UpsampleArgbLinePair",Ns,4),Re("UpsampleRgba4444LinePair",gi,2),Re("UpsampleRgb565LinePair",Zn,2);var yl=L.UpsampleRgbLinePair,ef=L.UpsampleBgrLinePair,ru=L.UpsampleRgbaLinePair,Hc=L.UpsampleBgraLinePair,ko=L.UpsampleArgbLinePair,Ma=L.UpsampleRgba4444LinePair,Oo=L.UpsampleRgb565LinePair,Ks=16,iu=1<<Ks-1,vl=-227,Po=482,Gc=6,Mo=0,_i=o(256),Yc=o(256),Cd=o(256),tm=o(256),nm=o(Po-vl),rm=o(Po-vl);Qa("YuvToRgbRow",ri,3),Qa("YuvToBgrRow",Di,3),Qa("YuvToRgbaRow",Ca,4),Qa("YuvToBgraRow",Ia,4),Qa("YuvToArgbRow",Ns,4),Qa("YuvToRgba4444Row",gi,2),Qa("YuvToRgb565Row",Zn,2);var Rr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],su=[0,2,8],nc=[8,7,6,4,4,2,2,2,1,1,1,1],rc=1;this.WebPDecodeRGBA=function(p,y,x,C,V){var z=Pi,H=new ve,W=new Ht;H.ba=W,W.S=z,W.width=[W.width],W.height=[W.height];var X=W.width,re=W.height,pe=new St;if(pe==null||p==null)var Ie=2;else e(pe!=null),Ie=da(p,y,x,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(Ie!=0?X=0:(X!=null&&(X[0]=pe.width[0]),re!=null&&(re[0]=pe.height[0]),X=1),X){W.width=W.width[0],W.height=W.height[0],C!=null&&(C[0]=W.width),V!=null&&(V[0]=W.height);e:{if(C=new la,(V=new Ve).data=p,V.w=y,V.ha=x,V.kd=1,y=[0],e(V!=null),((p=da(V.data,V.w,V.ha,null,null,null,y,null,V))==0||p==7)&&y[0]&&(p=4),(y=p)==0){if(e(H!=null),C.data=V.data,C.w=V.w+V.offset,C.ha=V.ha-V.offset,C.put=wt,C.ac=Yr,C.bc=aa,C.ma=H,V.xa){if((p=Ea())==null){H=1;break e}if((function(te,me){var Ee=[0],je=[0],Te=[0];t:for(;;){if(te==null)return 0;if(me==null)return te.a=2,0;if(te.l=me,te.a=0,be(te.m,me.data,me.w,me.ha),!Bi(te.m,Ee,je,Te)){te.a=3;break t}if(te.xb=Zh,me.width=Ee[0],me.height=je[0],!vs(Ee[0],je[0],1,te,null))break t;return 1}return e(te.a!=0),0})(p,C)){if(C=(y=pa(C.width,C.height,H.Oa,H.ba))==0){t:{C=p;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((x=C.l)!=null),e((V=x.ma)!=null),C.xb!=0){if(C.ca=V.ba,C.tb=V.tb,e(C.ca!=null),!Xa(V.Oa,x,qs)){C.a=2;break n}if(!Ni(C,x.width)||x.da)break n;if((x.da||zt(C.ca.S))&&Ae(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Ae()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!le(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Ti(C,C.V,C.Ba,C.c,C.i,x.o,ti))break n;V.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(y=p.a)}else y=p.a}else{if((p=new Hi)==null){H=1;break e}if(p.Fa=V.na,p.P=V.P,p.qc=V.Sa,ua(p,C)){if((y=pa(C.width,C.height,H.Oa,H.ba))==0){if(p.Aa=0,x=H.Oa,e((V=p)!=null),x!=null){if(0<(X=0>(X=x.Md)?0:100<X?255:255*X/100)){for(re=pe=0;4>re;++re)12>(Ie=V.pb[re]).lc&&(Ie.ia=X*nc[0>Ie.lc?0:Ie.lc]>>3),pe|=Ie.ia;pe&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=x.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(te,me){if(te==null)return 0;if(me==null)return on(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!ua(te,me))return 0;if(e(te.cb),me.ac==null||me.ac(me)){me.ob&&(te.L=0);var Ee=su[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=me.v-Ee>>4,te.zb=me.j-Ee>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=me.o+15+Ee>>4,te.Hb=me.va+15+Ee>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var je=te.ed;for(Ee=0;4>Ee;++Ee){var Te;if(te.Qa.Cb){var Me=te.Qa.Lb[Ee];te.Qa.Fb||(Me+=je.Tb)}else Me=je.Tb;for(Te=0;1>=Te;++Te){var ze=te.gd[Ee][Te],Xe=Me;if(je.Pc&&(Xe+=je.vd[0],Te&&(Xe+=je.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var $e=Xe;0<je.wb&&($e=4<je.wb?$e>>2:$e>>1)>9-je.wb&&($e=9-je.wb),1>$e&&($e=1),ze.dd=$e,ze.tc=2*Xe+$e,ze.ld=40<=Xe?2:15<=Xe?1:0}else ze.tc=0;ze.La=Te}}}Ee=0}else on(te,6,"Frame setup failed"),Ee=te.a;if(Ee=Ee==0){if(Ee){te.$c=0,0<te.Aa||(te.Ic=rc);t:{Ee=te.Ic,je=4*($e=te.za);var dt=32*$e,at=$e+1,Yt=0<te.L?$e*(0<te.Aa?2:1):0,ct=(te.Aa==2?2:1)*$e;if((ze=je+832+(Te=3*(16*Ee+su[te.L])/2*dt)+(Me=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=ze)Ee=0;else{if(ze>te.Vb){if(te.Vb=0,te.Ec=o(ze),te.Fc=0,te.Ec==null){Ee=on(te,1,"no memory during frame initialization.");break t}te.Vb=ze}ze=te.Ec,Xe=te.Fc,te.Ac=ze,te.Bc=Xe,Xe+=je,te.Gd=u(dt,Ao),te.Hd=0,te.rb=u(at+1,ss),te.sb=1,te.wa=Yt?u(Yt,Ii):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=$e),e(!0),te.oc=ze,te.pc=Xe,Xe+=832,te.ya=u(ct,Ga),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=$e),te.R=16*$e,te.B=8*$e,$e=(dt=su[te.L])*te.R,dt=dt/2*te.B,te.sa=ze,te.ta=Xe+$e,te.qa=te.sa,te.ra=te.ta+16*Ee*te.R+dt,te.Ha=te.qa,te.Ia=te.ra+8*Ee*te.B+dt,te.$c=0,Xe+=Te,te.mb=Me?ze:null,te.nb=Me?Xe:null,e(Xe+Me<=te.Fc+te.Vb),fn(te),a(te.Ac,te.Bc,0,je),Ee=1}}if(Ee){if(me.ka=0,me.y=te.sa,me.O=te.ta,me.f=te.qa,me.N=te.ra,me.ea=te.Ha,me.Vd=te.Ia,me.fa=te.R,me.Rc=te.B,me.F=null,me.J=0,!jc){for(Ee=-255;255>=Ee;++Ee)gl[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)Mc[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)Qu[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)Xu[255+Ee]=0>Ee?0:255<Ee?255:Ee;jc=1}Cs=ca,no=Kl,Fs=al,Cn=pi,An=ol,ki=xo,er=cl,Cr=hl,Pa=w,ga=U,dl=Ts,Ku=Io,Wh=ne,Ed=fe,Sd=Us,Td=Vs,Qh=Es,Xh=Wa,_r[0]=No,_r[1]=Eo,_r[2]=Ps,_r[3]=Ya,_r[4]=Sa,_r[5]=Pr,_r[6]=$r,_r[7]=$a,_r[8]=Gi,_r[9]=kn,Qi[0]=ws,Qi[1]=ul,Qi[2]=So,Qi[3]=To,Qi[4]=As,Qi[5]=ha,Qi[6]=Ri,ma[0]=Ms,ma[1]=ll,ma[2]=Ka,ma[3]=xs,ma[4]=Yi,ma[5]=fa,ma[6]=Nr,Ee=1}else Ee=0}Ee&&(Ee=(function(hn,or){for(hn.M=0;hn.M<hn.Va;++hn.M){var Jt,ot=hn.Jc[hn.M&hn.Xb],et=hn.m,dr=hn;for(Jt=0;Jt<dr.za;++Jt){var kt=et,rn=dr,Un=rn.Ac,Kr=rn.Bc+4*Jt,wi=rn.zc,tr=rn.ya[rn.aa+Jt];if(rn.Qa.Bb?tr.$b=Ue(kt,rn.Pa.jb[0])?2+Ue(kt,rn.Pa.jb[2]):Ue(kt,rn.Pa.jb[1]):tr.$b=0,rn.kc&&(tr.Ad=Ue(kt,rn.Bd)),tr.Za=!Ue(kt,145)+0,tr.Za){var Mr=tr.Ob,Mi=0;for(rn=0;4>rn;++rn){var jr,cn=wi[0+rn];for(jr=0;4>jr;++jr){cn=vi[Un[Kr+jr]][cn];for(var Sn=zc[Ue(kt,cn[0])];0<Sn;)Sn=zc[2*Sn+Ue(kt,cn[Sn])];cn=-Sn,Un[Kr+jr]=cn}r(Mr,Mi,Un,Kr,4),Mi+=4,wi[0+rn]=cn}}else cn=Ue(kt,156)?Ue(kt,128)?1:3:Ue(kt,163)?2:0,tr.Ob[0]=cn,a(Un,Kr,cn,4),a(wi,0,cn,4);tr.Dd=Ue(kt,142)?Ue(kt,114)?Ue(kt,183)?1:3:2:0}if(dr.m.Ka)return on(hn,7,"Premature end-of-partition0 encountered.");for(;hn.ja<hn.za;++hn.ja){if(dr=ot,kt=(et=hn).rb[et.sb-1],Un=et.rb[et.sb+et.ja],Jt=et.ya[et.aa+et.ja],Kr=et.kc?Jt.Ad:0)kt.la=Un.la=0,Jt.Za||(kt.Na=Un.Na=0),Jt.Hc=0,Jt.Gc=0,Jt.ia=0;else{var pr,Rn;if(kt=Un,Un=dr,Kr=et.Pa.Xc,wi=et.ya[et.aa+et.ja],tr=et.pb[wi.$b],rn=wi.ad,Mr=0,Mi=et.rb[et.sb-1],cn=jr=0,a(rn,Mr,0,384),wi.Za)var Wr=0,gr=Kr[3];else{Sn=o(16);var Tn=kt.Na+Mi.Na;if(Tn=Ls(Un,Kr[1],Tn,tr.Eb,0,Sn,0),kt.Na=Mi.Na=(0<Tn)+0,1<Tn)Cs(Sn,0,rn,Mr);else{var Lr=Sn[0]+3>>3;for(Sn=0;256>Sn;Sn+=16)rn[Mr+Sn]=Lr}Wr=1,gr=Kr[0]}var Vn=15&kt.la,Ur=15&Mi.la;for(Sn=0;4>Sn;++Sn){var Vr=1&Ur;for(Lr=Rn=0;4>Lr;++Lr)Vn=Vn>>1|(Vr=(Tn=Ls(Un,gr,Tn=Vr+(1&Vn),tr.Sc,Wr,rn,Mr))>Wr)<<7,Rn=Rn<<2|(3<Tn?3:1<Tn?2:rn[Mr+0]!=0),Mr+=16;Vn>>=4,Ur=Ur>>1|Vr<<7,jr=(jr<<8|Rn)>>>0}for(gr=Vn,Wr=Ur>>4,pr=0;4>pr;pr+=2){for(Rn=0,Vn=kt.la>>4+pr,Ur=Mi.la>>4+pr,Sn=0;2>Sn;++Sn){for(Vr=1&Ur,Lr=0;2>Lr;++Lr)Tn=Vr+(1&Vn),Vn=Vn>>1|(Vr=0<(Tn=Ls(Un,Kr[2],Tn,tr.Qc,0,rn,Mr)))<<3,Rn=Rn<<2|(3<Tn?3:1<Tn?2:rn[Mr+0]!=0),Mr+=16;Vn>>=2,Ur=Ur>>1|Vr<<5}cn|=Rn<<4*pr,gr|=Vn<<4<<pr,Wr|=(240&Ur)<<pr}kt.la=gr,Mi.la=Wr,wi.Hc=jr,wi.Gc=cn,wi.ia=43690&cn?0:tr.ia,Kr=!(jr|cn)}if(0<et.L&&(et.wa[et.Y+et.ja]=et.gd[Jt.$b][Jt.Za],et.wa[et.Y+et.ja].La|=!Kr),dr.Ka)return on(hn,7,"Premature end-of-file encountered.")}if(fn(hn),et=or,dr=1,Jt=(ot=hn).D,kt=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(Jt.M=ot.M,Jt.uc=kt,Is(ot,Jt),dr=1,Jt=(Rn=ot.D).Nb,kt=(cn=su[ot.L])*ot.R,Un=cn/2*ot.B,Sn=16*Jt*ot.R,Lr=8*Jt*ot.B,Kr=ot.sa,wi=ot.ta-kt+Sn,tr=ot.qa,rn=ot.ra-Un+Lr,Mr=ot.Ha,Mi=ot.Ia-Un+Lr,Ur=(Vn=Rn.M)==0,jr=Vn>=ot.Va-1,ot.Aa==2&&Is(ot,Rn),Rn.uc)for(Vr=(Tn=ot).D.M,e(Tn.D.uc),Rn=Tn.yb;Rn<Tn.Hb;++Rn){Wr=Rn,gr=Vr;var $n=(xn=(Fr=Tn).D).Nb;pr=Fr.R;var xn=xn.wa[xn.Y+Wr],ji=Fr.sa,wr=Fr.ta+16*$n*pr+16*Wr,Tt=xn.dd,Ct=xn.tc;if(Ct!=0)if(e(3<=Ct),Fr.L==1)0<Wr&&Td(ji,wr,pr,Ct+4),xn.La&&Xh(ji,wr,pr,Ct),0<gr&&Sd(ji,wr,pr,Ct+4),xn.La&&Qh(ji,wr,pr,Ct);else{var Nn=Fr.B,ls=Fr.qa,Ws=Fr.ra+8*$n*Nn+8*Wr,Xi=Fr.Ha,Fr=Fr.Ia+8*$n*Nn+8*Wr;$n=xn.ld,0<Wr&&(Cr(ji,wr,pr,Ct+4,Tt,$n),ga(ls,Ws,Xi,Fr,Nn,Ct+4,Tt,$n)),xn.La&&(Ku(ji,wr,pr,Ct,Tt,$n),Ed(ls,Ws,Xi,Fr,Nn,Ct,Tt,$n)),0<gr&&(er(ji,wr,pr,Ct+4,Tt,$n),Pa(ls,Ws,Xi,Fr,Nn,Ct+4,Tt,$n)),xn.La&&(dl(ji,wr,pr,Ct,Tt,$n),Wh(ls,Ws,Xi,Fr,Nn,Ct,Tt,$n))}}if(ot.ia&&alert("todo:DitherRow"),et.put!=null){if(Rn=16*Vn,Vn=16*(Vn+1),Ur?(et.y=ot.sa,et.O=ot.ta+Sn,et.f=ot.qa,et.N=ot.ra+Lr,et.ea=ot.Ha,et.W=ot.Ia+Lr):(Rn-=cn,et.y=Kr,et.O=wi,et.f=tr,et.N=rn,et.ea=Mr,et.W=Mi),jr||(Vn-=cn),Vn>et.o&&(Vn=et.o),et.F=null,et.J=null,ot.Fa!=null&&0<ot.Fa.length&&Rn<Vn&&(et.J=qn(ot,et,Rn,Vn-Rn),et.F=ot.mb,et.F==null&&et.F.length==0)){dr=on(ot,3,"Could not decode alpha data.");break t}Rn<et.j&&(cn=et.j-Rn,Rn=et.j,e(!(1&cn)),et.O+=ot.R*cn,et.N+=ot.B*(cn>>1),et.W+=ot.B*(cn>>1),et.F!=null&&(et.J+=et.width*cn)),Rn<Vn&&(et.O+=et.v,et.N+=et.v>>1,et.W+=et.v>>1,et.F!=null&&(et.J+=et.v),et.ka=Rn-et.j,et.U=et.va-et.v,et.T=Vn-Rn,dr=et.put(et))}Jt+1!=ot.Ic||jr||(r(ot.sa,ot.ta-kt,Kr,wi+16*ot.R,kt),r(ot.qa,ot.ra-Un,tr,rn+8*ot.B,Un),r(ot.Ha,ot.Ia-Un,Mr,Mi+8*ot.B,Un))}if(!dr)return on(hn,6,"Output aborted.")}return 1})(te,me)),me.bc!=null&&me.bc(me),Ee&=1}return Ee?(te.cb=0,Ee):0})(p,C)||(y=p.a)}}else y=p.a}y==0&&H.Oa!=null&&H.Oa.fd&&(y=$u(H.ba))}H=y}z=H!=0?null:11>z?W.f.RGBA.eb:W.f.kb.y}else z=null;return z};var $c=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,B){for(var N="",O=0;O<4;O++)N+=String.fromCharCode(L[B++]);return N}function v(L,B){return L[B+0]|L[B+1]<<8}function A(L,B){return(L[B+0]|L[B+1]<<8|L[B+2]<<16)>>>0}function S(L,B){return(L[B+0]|L[B+1]<<8|L[B+2]<<16|L[B+3]<<24)>>>0}new f;var _=[0],M=[0],j=[],q=new f,F=n,ie=(function(L,B){var N={},O=0,P=!1,oe=0,xe=0;if(N.frames=[],!(function(D,K){for(var Z=0;Z<4;Z++)if(D[K+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(L,B)){for(S(L,B+=4),B+=8;B<L.length;){var ee=d(L,B),de=S(L,B+=4);B+=4;var $=de+(1&de);switch(ee){case"VP8 ":case"VP8L":N.frames[O]===void 0&&(N.frames[O]={}),(J=N.frames[O]).src_off=P?xe:B-8,J.src_size=oe+de+8,O++,P&&(P=!1,oe=0,xe=0);break;case"VP8X":(J=N.header={}).feature_flags=L[B];var be=B+4;J.canvas_width=1+A(L,be),be+=3,J.canvas_height=1+A(L,be),be+=3;break;case"ALPH":P=!0,oe=$+8,xe=B-8;break;case"ANIM":(J=N.header).bgcolor=S(L,B),be=B+4,J.loop_count=v(L,be),be+=2;break;case"ANMF":var Fe,J;(J=N.frames[O]={}).offset_x=2*A(L,B),B+=3,J.offset_y=2*A(L,B),B+=3,J.width=1+A(L,B),B+=3,J.height=1+A(L,B),B+=3,J.duration=A(L,B),B+=3,Fe=L[B++],J.dispose=1&Fe,J.blend=Fe>>1&1}ee!="ANMF"&&(B+=$)}return N}})(F,0);ie.response=F,ie.rgbaoutput=!0,ie.dataurl=!1;var ae=ie.header?ie.header:null,se=ie.frames?ie.frames:null;if(ae){ae.loop_counter=ae.loop_count,_=[ae.canvas_height],M=[ae.canvas_width];for(var we=0;we<se.length&&se[we].blend!=0;we++);}var ke=se[0],Y=q.WebPDecodeRGBA(F,ke.src_off,ke.src_size,M,_);ke.rgba=Y,ke.imgwidth=M[0],ke.imgheight=_[0];for(var E=0;E<M[0]*_[0]*4;E++)j[E]=Y[E];return this.width=M,this.height=_,this.data=j,this}(function(n){var e,t,r,a,o,u,h,f,d,v=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new f,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new u,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new u,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,d=new v}]);var A=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=D;Object.defineProperty(this,"pdf",{get:function(){return K}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Oe){Z=!!Oe}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Oe){ue=!!Oe}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Oe){isNaN(Oe)||(he=Oe)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(Oe){isNaN(Oe)||(ye=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Oe){var le;typeof Oe=="number"?le=[Oe,Oe,Oe,Oe]:((le=new Array(4))[0]=Oe[0],le[1]=Oe.length>=2?Oe[1]:le[0],le[2]=Oe.length>=3?Oe[2]:le[0],le[3]=Oe.length>=4?Oe[3]:le[1]),d.margin=le}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(Oe){Se=Oe}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(Oe){Ne=Oe}});var Ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ue},set:function(Oe){Ue=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Oe){Oe instanceof v&&(d=Oe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Oe){d.path=Oe}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(Oe){Qe=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var le;le=S(Oe),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var le=S(Oe);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var Ze=null,tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return tt},set:function(Oe){Ze=null,tt=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var le;if(this.ctx.font=Oe,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var Xt=le[1];le[2];var qt=le[3],_t=le[4];le[5];var Ye=le[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_t)[2];_t=Math.floor(it==="px"?parseFloat(_t)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(_t)*this.pdf.getFontSize():parseFloat(_t)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_t);var nt=(function(Dt){var mt,jn,nn=[],st=Dt.trim();if(st==="")return e1;if(st in hw)return[hw[st]];for(;st!=="";){switch(jn=null,mt=(st=dw(st)).charAt(0)){case'"':case"'":jn=ok(st.substring(1),mt);break;default:jn=lk(st)}if(jn===null||(nn.push(jn[0]),(st=dw(jn[1]))!==""&&st.charAt(0)!==","))return e1;st=st.replace(/^,/,"")}return nn})(Ye);if(this.fontFaces){var Wt=(function(Dt,mt){if(Ze===null){var jn=(function(nn){var st=[];return Object.keys(nn).forEach(function(Et){nn[Et].forEach(function(Ut){var Nt=null;switch(Ut){case"bold":Nt={family:Et,weight:"bold"};break;case"italic":Nt={family:Et,style:"italic"};break;case"bolditalic":Nt={family:Et,weight:"bold",style:"italic"};break;case"":case"normal":Nt={family:Et}}Nt!==null&&(Nt.ref={name:Et,style:Ut},st.push(Nt))})}),st})(Dt.getFontList());Ze=(function(nn){for(var st={},Et=0;Et<nn.length;++Et){var Ut=Z0(nn[Et]),Nt=Ut.family,sn=Ut.stretch,zt=Ut.style,Ln=Ut.weight;st[Nt]=st[Nt]||{},st[Nt][sn]=st[Nt][sn]||{},st[Nt][sn][zt]=st[Nt][sn][zt]||{},st[Nt][sn][zt][Ln]=Ut}return st})(jn.concat(mt))}return Ze})(this.pdf,this.fontFaces),vt=nt.map(function(Dt){return{family:Dt,stretch:"normal",weight:qt,style:Xt}}),Gt=(function(Dt,mt,jn){for(var nn=(jn=jn||{}).defaultFontFamily||"times",st=Object.assign({},ak,jn.genericFontFamilies||{}),Et=null,Ut=null,Nt=0;Nt<mt.length;++Nt)if(st[(Et=Z0(mt[Nt])).family]&&(Et.family=st[Et.family]),Dt.hasOwnProperty(Et.family)){Ut=Dt[Et.family];break}if(!(Ut=Ut||Dt[nn]))throw new Error("Could not find a font-family for the rule '"+fw(Et)+"' and default family '"+nn+"'.");if(Ut=(function(sn,zt){if(zt[sn])return zt[sn];var Ln=q1[sn],sr=Ln<=q1.normal?-1:1,Ht=cw(zt,ux,Ln,sr);if(!Ht)throw new Error("Could not find a matching font-stretch value for "+sn);return Ht})(Et.stretch,Ut),Ut=(function(sn,zt){if(zt[sn])return zt[sn];for(var Ln=lx[sn],sr=0;sr<Ln.length;++sr)if(zt[Ln[sr]])return zt[Ln[sr]];throw new Error("Could not find a matching font-style for "+sn)})(Et.style,Ut),!(Ut=(function(sn,zt){if(zt[sn])return zt[sn];if(sn===400&&zt[500])return zt[500];if(sn===500&&zt[400])return zt[400];var Ln=sk[sn],sr=cw(zt,cx,Ln,sn<400?-1:1);if(!sr)throw new Error("Could not find a matching font-weight for value "+sn);return sr})(Et.weight,Ut)))throw new Error("Failed to resolve a font for the rule '"+fw(Et)+"'.");return Ut})(Wt,vt);this.pdf.setFont(Gt.ref.name,Gt.ref.style)}else{var Ot="";(qt==="bold"||parseInt(qt,10)>=700||Xt==="bold")&&(Ot="bold"),Xt==="italic"&&(Ot+="italic"),Ot.length===0&&(Ot="normal");for(var jt="",En={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<nt.length;Pt++){if(this.pdf.internal.getFont(nt[Pt],Ot,{noFallback:!0,disableWarning:!0})!==void 0){jt=nt[Pt];break}if(Ot==="bolditalic"&&this.pdf.internal.getFont(nt[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)jt=nt[Pt],Ot="bold";else if(this.pdf.internal.getFont(nt[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){jt=nt[Pt],Ot="normal";break}}if(jt===""){for(var bt=0;bt<nt.length;bt++)if(En[nt[bt]]){jt=En[nt[bt]];break}}jt=jt===""?"Times":jt,this.pdf.setFont(jt,Ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};A.prototype.setLineDash=function(D){this.lineDash=D},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){se.call(this,"fill",!1)},A.prototype.stroke=function(){se.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(D,K){if(isNaN(D)||isNaN(K))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new u(D,K));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new u(D,K)},A.prototype.closePath=function(){var D=new u(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Qn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){D=new u(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(D.x,D.y)},A.prototype.lineTo=function(D,K){if(isNaN(D)||isNaN(K))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new u(D,K));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new u(Z.x,Z.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),se.call(this,null,!0)},A.prototype.quadraticCurveTo=function(D,K,Z,ue){if(isNaN(Z)||isNaN(ue)||isNaN(D)||isNaN(K))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new u(Z,ue)),ye=this.ctx.transform.applyToPoint(new u(D,K));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:he.x,y:he.y}),this.ctx.lastPoint=new u(he.x,he.y)},A.prototype.bezierCurveTo=function(D,K,Z,ue,he,ye){if(isNaN(he)||isNaN(ye)||isNaN(D)||isNaN(K)||isNaN(Z)||isNaN(ue))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new u(he,ye)),Ne=this.ctx.transform.applyToPoint(new u(D,K)),Ue=this.ctx.transform.applyToPoint(new u(Z,ue));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:Ue.x,y2:Ue.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new u(Se.x,Se.y)},A.prototype.arc=function(D,K,Z,ue,he,ye){if(isNaN(D)||isNaN(K)||isNaN(Z)||isNaN(ue)||isNaN(he))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new u(D,K));D=Se.x,K=Se.y;var Ne=this.ctx.transform.applyToPoint(new u(0,Z)),Ue=this.ctx.transform.applyToPoint(new u(0,0));Z=Math.sqrt(Math.pow(Ne.x-Ue.x,2)+Math.pow(Ne.y-Ue.y,2))}Math.abs(he-ue)>=2*Math.PI&&(ue=0,he=2*Math.PI),this.path.push({type:"arc",x:D,y:K,radius:Z,startAngle:ue,endAngle:he,counterclockwise:ye})},A.prototype.arcTo=function(D,K,Z,ue,he){throw new Error("arcTo not implemented.")},A.prototype.rect=function(D,K,Z,ue){if(isNaN(D)||isNaN(K)||isNaN(Z)||isNaN(ue))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,K),this.lineTo(D+Z,K),this.lineTo(D+Z,K+ue),this.lineTo(D,K+ue),this.lineTo(D,K),this.lineTo(D+Z,K),this.lineTo(D,K)},A.prototype.fillRect=function(D,K,Z,ue){if(isNaN(D)||isNaN(K)||isNaN(Z)||isNaN(ue))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,K,Z,ue),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},A.prototype.strokeRect=function(D,K,Z,ue){if(isNaN(D)||isNaN(K)||isNaN(Z)||isNaN(ue))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(D,K,Z,ue),this.stroke())},A.prototype.clearRect=function(D,K,Z,ue){if(isNaN(D)||isNaN(K)||isNaN(Z)||isNaN(ue))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,K,Z,ue))},A.prototype.save=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},A.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(K),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(D){var K,Z,ue,he;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))K=0,Z=0,ue=0,he=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ye!==null)K=parseInt(ye[1]),Z=parseInt(ye[2]),ue=parseInt(ye[3]),he=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)K=parseInt(ye[1]),Z=parseInt(ye[2]),ue=parseInt(ye[3]),he=parseFloat(ye[4]);else{if(he=1,typeof D=="string"&&D.charAt(0)!=="#"){var Se=new tx(D);D=Se.ok?Se.toHex():"#000000"}D.length===4?(K=D.substring(1,2),K+=K,Z=D.substring(2,3),Z+=Z,ue=D.substring(3,4),ue+=ue):(K=D.substring(1,3),Z=D.substring(3,5),ue=D.substring(5,7)),K=parseInt(K,16),Z=parseInt(Z,16),ue=parseInt(ue,16)}}return{r:K,g:Z,b:ue,a:he,style:D}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},M=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(D,K,Z,ue){if(isNaN(K)||isNaN(Z)||typeof D!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!_.call(this)){var he=$(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;O.call(this,{text:D,x:K,y:Z,scale:ye,angle:he,align:this.textAlign,maxWidth:ue})}},A.prototype.strokeText=function(D,K,Z,ue){if(isNaN(K)||isNaN(Z)||typeof D!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){ue=isNaN(ue)?void 0:ue;var he=$(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;O.call(this,{text:D,x:K,y:Z,scale:ye,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:ue})}},A.prototype.measureText=function(D){if(typeof D!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Z=this.pdf.internal.scaleFactor,ue=K.internal.getFontSize(),he=K.getStringUnitWidth(D)*ue/K.internal.scaleFactor;return new function(ye){var Se=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:he*=Math.round(96*Z/72*1e4)/1e4})},A.prototype.scale=function(D,K){if(isNaN(D)||isNaN(K))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new f(D,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},A.prototype.rotate=function(D){if(isNaN(D))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new f(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},A.prototype.translate=function(D,K){if(isNaN(D)||isNaN(K))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new f(1,0,0,1,D,K);this.ctx.transform=this.ctx.transform.multiply(Z)},A.prototype.transform=function(D,K,Z,ue,he,ye){if(isNaN(D)||isNaN(K)||isNaN(Z)||isNaN(ue)||isNaN(he)||isNaN(ye))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new f(D,K,Z,ue,he,ye);this.ctx.transform=this.ctx.transform.multiply(Se)},A.prototype.setTransform=function(D,K,Z,ue,he,ye){D=isNaN(D)?1:D,K=isNaN(K)?0:K,Z=isNaN(Z)?0:Z,ue=isNaN(ue)?1:ue,he=isNaN(he)?0:he,ye=isNaN(ye)?0:ye,this.ctx.transform=new f(D,K,Z,ue,he,ye)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(D,K,Z,ue,he,ye,Se,Ne,Ue){var Qe=this.pdf.getImageProperties(D),Ze=1,tt=1,Oe=1,le=1;ue!==void 0&&Ne!==void 0&&(Oe=Ne/ue,le=Ue/he,Ze=Qe.width/ue*Ne/ue,tt=Qe.height/he*Ue/he),ye===void 0&&(ye=K,Se=Z,K=0,Z=0),ue!==void 0&&Ne===void 0&&(Ne=ue,Ue=he),ue===void 0&&Ne===void 0&&(Ne=Qe.width,Ue=Qe.height);for(var Xt,qt=this.ctx.transform.decompose(),_t=$(qt.rotate.shx),Ye=new f,it=(Ye=(Ye=(Ye=Ye.multiply(qt.translate)).multiply(qt.skew)).multiply(qt.scale)).applyToRectangle(new h(ye-K*Oe,Se-Z*le,ue*Ze,he*tt)),nt=q.call(this,it),Wt=[],vt=0;vt<nt.length;vt+=1)Wt.indexOf(nt[vt])===-1&&Wt.push(nt[vt]);if(ae(Wt),this.autoPaging)for(var Gt=Wt[0],Ot=Wt[Wt.length-1],jt=Gt;jt<Ot+1;jt++){this.pdf.setPage(jt);var En=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=jt===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=jt===1?0:bt+(jt-2)*Dt;if(this.ctx.clip_path.length!==0){var jn=this.path;Xt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ie(Xt,this.posX+this.margin[3],-mt+Pt+this.ctx.prevPageLastElemOffset),we.call(this,"fill",!0),this.path=jn}var nn=JSON.parse(JSON.stringify(it));nn=ie([nn],this.posX+this.margin[3],-mt+Pt+this.ctx.prevPageLastElemOffset)[0];var st=(jt>Gt||jt<Ot)&&j.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],En,Dt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,_t),st&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",it.x,it.y,it.w,it.h,null,null,_t)};var q=function(D,K,Z){var ue=[];K=K||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":ue.push(Math.floor((D.y+he)/Z)+1);break;case"arc":ue.push(Math.floor((D.y+he-D.radius)/Z)+1),ue.push(Math.floor((D.y+he+D.radius)/Z)+1);break;case"qct":var ye=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);ue.push(Math.floor((ye.y+he)/Z)+1),ue.push(Math.floor((ye.y+ye.h+he)/Z)+1);break;case"bct":var Se=Fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);ue.push(Math.floor((Se.y+he)/Z)+1),ue.push(Math.floor((Se.y+Se.h+he)/Z)+1);break;case"rect":ue.push(Math.floor((D.y+he)/Z)+1),ue.push(Math.floor((D.y+D.h+he)/Z)+1)}for(var Ne=0;Ne<ue.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Ne];)F.call(this);return ue},F=function(){var D=this.fillStyle,K=this.strokeStyle,Z=this.font,ue=this.lineCap,he=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=K,this.font=Z,this.lineCap=ue,this.lineWidth=he,this.lineJoin=ye},ie=function(D,K,Z){for(var ue=0;ue<D.length;ue++)switch(D[ue].type){case"bct":D[ue].x2+=K,D[ue].y2+=Z;case"qct":D[ue].x1+=K,D[ue].y1+=Z;default:D[ue].x+=K,D[ue].y+=Z}return D},ae=function(D){return D.sort(function(K,Z){return K-Z})},se=function(D,K){for(var Z,ue,he=this.fillStyle,ye=this.strokeStyle,Se=this.lineCap,Ne=this.lineWidth,Ue=Math.abs(Ne*this.ctx.transform.scaleX),Qe=this.lineJoin,Ze=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),Oe=[],le=0;le<tt.length;le++)if(tt[le].x!==void 0)for(var Xt=q.call(this,tt[le]),qt=0;qt<Xt.length;qt+=1)Oe.indexOf(Xt[qt])===-1&&Oe.push(Xt[qt]);for(var _t=0;_t<Oe.length;_t++)for(;this.pdf.internal.getNumberOfPages()<Oe[_t];)F.call(this);if(ae(Oe),this.autoPaging)for(var Ye=Oe[0],it=Oe[Oe.length-1],nt=Ye;nt<it+1;nt++){this.pdf.setPage(nt),this.fillStyle=he,this.strokeStyle=ye,this.lineCap=Se,this.lineWidth=Ue,this.lineJoin=Qe;var Wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=nt===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=nt===1?0:Gt+(nt-2)*Ot;if(this.ctx.clip_path.length!==0){var En=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ie(Z,this.posX+this.margin[3],-jt+vt+this.ctx.prevPageLastElemOffset),we.call(this,D,!0),this.path=En}if(ue=JSON.parse(JSON.stringify(Ze)),this.path=ie(ue,this.posX+this.margin[3],-jt+vt+this.ctx.prevPageLastElemOffset),K===!1||nt===0){var Pt=(nt>Ye||nt<it)&&j.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,Ot,null).clip().discardPath()),we.call(this,D,K),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ne}else this.lineWidth=Ue,we.call(this,D,K),this.lineWidth=Ne;this.path=Ze},we=function(D,K){if((D!=="stroke"||K||!M.call(this))&&(D==="stroke"||K||!_.call(this))){for(var Z,ue,he=[],ye=this.path,Se=0;Se<ye.length;Se++){var Ne=ye[Se];switch(Ne.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Ne,deltas:[],abs:[]});break;case"lt":var Ue=he.length;if(ye[Se-1]&&!isNaN(ye[Se-1].x)&&(Z=[Ne.x-ye[Se-1].x,Ne.y-ye[Se-1].y],Ue>0)){for(;Ue>=0;Ue--)if(he[Ue-1].close!==!0&&he[Ue-1].begin!==!0){he[Ue-1].deltas.push(Z),he[Ue-1].abs.push(Ne);break}}break;case"bct":Z=[Ne.x1-ye[Se-1].x,Ne.y1-ye[Se-1].y,Ne.x2-ye[Se-1].x,Ne.y2-ye[Se-1].y,Ne.x-ye[Se-1].x,Ne.y-ye[Se-1].y],he[he.length-1].deltas.push(Z);break;case"qct":var Qe=ye[Se-1].x+2/3*(Ne.x1-ye[Se-1].x),Ze=ye[Se-1].y+2/3*(Ne.y1-ye[Se-1].y),tt=Ne.x+2/3*(Ne.x1-Ne.x),Oe=Ne.y+2/3*(Ne.y1-Ne.y),le=Ne.x,Xt=Ne.y;Z=[Qe-ye[Se-1].x,Ze-ye[Se-1].y,tt-ye[Se-1].x,Oe-ye[Se-1].y,le-ye[Se-1].x,Xt-ye[Se-1].y],he[he.length-1].deltas.push(Z);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Ne)}}ue=K?null:D==="stroke"?"stroke":"fill";for(var qt=!1,_t=0;_t<he.length;_t++)if(he[_t].arc)for(var Ye=he[_t].abs,it=0;it<Ye.length;it++){var nt=Ye[it];nt.type==="arc"?E.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,K,!qt):P.call(this,nt.x,nt.y),qt=!0}else if(he[_t].close===!0)this.pdf.internal.out("h"),qt=!1;else if(he[_t].begin!==!0){var Wt=he[_t].start.x,vt=he[_t].start.y;oe.call(this,he[_t].deltas,Wt,vt),qt=!0}ue&&L.call(this,ue),K&&B.call(this)}},ke=function(D){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Z;case"top":return D+K-Z;case"hanging":return D+K-2*Z;case"middle":return D+K/2-Z;default:return D}},Y=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(K,Z){this.colorStops.push([K,Z])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(D,K,Z,ue,he,ye,Se,Ne,Ue){for(var Qe=ee.call(this,Z,ue,he,ye),Ze=0;Ze<Qe.length;Ze++){var tt=Qe[Ze];Ze===0&&(Ue?N.call(this,tt.x1+D,tt.y1+K):P.call(this,tt.x1+D,tt.y1+K)),xe.call(this,D,K,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}Ne?B.call(this):L.call(this,Se)},L=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(D,K){this.pdf.internal.out(t(D)+" "+r(K)+" m")},O=function(D){var K;switch(D.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Z=this.pdf.getTextDimensions(D.text),ue=ke.call(this,D.y),he=Y.call(this,ue)-Z.h,ye=this.ctx.transform.applyToPoint(new u(D.x,ue)),Se=this.ctx.transform.decompose(),Ne=new f;Ne=(Ne=(Ne=Ne.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var Ue,Qe,Ze,tt=this.ctx.transform.applyToRectangle(new h(D.x,ue,Z.w,Z.h)),Oe=Ne.applyToRectangle(new h(D.x,he,Z.w,Z.h)),le=q.call(this,Oe),Xt=[],qt=0;qt<le.length;qt+=1)Xt.indexOf(le[qt])===-1&&Xt.push(le[qt]);if(ae(Xt),this.autoPaging)for(var _t=Xt[0],Ye=Xt[Xt.length-1],it=_t;it<Ye+1;it++){this.pdf.setPage(it);var nt=it===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],Gt=vt-this.margin[0],Ot=this.pdf.internal.pageSize.width-this.margin[1],jt=Ot-this.margin[3],En=it===1?0:Wt+(it-2)*Gt;if(this.ctx.clip_path.length!==0){var Pt=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ie(Ue,this.posX+this.margin[3],-1*En+nt),we.call(this,"fill",!0),this.path=Pt}var bt=ie([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-En+nt+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*D.scale),Ze=this.lineWidth,this.lineWidth=Ze*D.scale);var Dt=this.autoPaging!=="text";if(Dt||bt.y+bt.h<=vt){if(Dt||bt.y>=nt&&bt.x<=Ot){var mt=Dt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Ot-bt.x)[0],jn=ie([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-En+nt+this.ctx.prevPageLastElemOffset)[0],nn=Dt&&(it>_t||it<Ye)&&j.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,Gt,null).clip().discardPath()),this.pdf.text(mt,jn.x,jn.y,{angle:D.angle,align:K,renderingMode:D.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else bt.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-bt.y);D.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=Ze)}else D.scale>=.01&&(Qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Qe*D.scale),Ze=this.lineWidth,this.lineWidth=Ze*D.scale),this.pdf.text(D.text,ye.x+this.posX,ye.y+this.posY,{angle:D.angle,align:K,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Qe),this.lineWidth=Ze)},P=function(D,K,Z,ue){Z=Z||0,ue=ue||0,this.pdf.internal.out(t(D+Z)+" "+r(K+ue)+" l")},oe=function(D,K,Z){return this.pdf.lines(D,K,Z,null,null)},xe=function(D,K,Z,ue,he,ye,Se,Ne){this.pdf.internal.out([e(a(Z+D)),e(o(ue+K)),e(a(he+D)),e(o(ye+K)),e(a(Se+D)),e(o(Ne+K)),"c"].join(" "))},ee=function(D,K,Z,ue){for(var he=2*Math.PI,ye=Math.PI/2;K>Z;)K-=he;var Se=Math.abs(Z-K);Se<he&&ue&&(Se=he-Se);for(var Ne=[],Ue=ue?-1:1,Qe=K;Se>1e-5;){var Ze=Qe+Ue*Math.min(Se,ye);Ne.push(de.call(this,D,Qe,Ze)),Se-=Math.abs(Ze-Qe),Qe=Ze}return Ne},de=function(D,K,Z){var ue=(Z-K)/2,he=D*Math.cos(ue),ye=D*Math.sin(ue),Se=he,Ne=-ye,Ue=Se*Se+Ne*Ne,Qe=Ue+Se*he+Ne*ye,Ze=4/3*(Math.sqrt(2*Ue*Qe)-Qe)/(Se*ye-Ne*he),tt=Se-Ze*Ne,Oe=Ne+Ze*Se,le=tt,Xt=-Oe,qt=ue+K,_t=Math.cos(qt),Ye=Math.sin(qt);return{x1:D*Math.cos(K),y1:D*Math.sin(K),x2:tt*_t-Oe*Ye,y2:tt*Ye+Oe*_t,x3:le*_t-Xt*Ye,y3:le*Ye+Xt*_t,x4:D*Math.cos(Z),y4:D*Math.sin(Z)}},$=function(D){return 180*D/Math.PI},be=function(D,K,Z,ue,he,ye){var Se=D+.5*(Z-D),Ne=K+.5*(ue-K),Ue=he+.5*(Z-he),Qe=ye+.5*(ue-ye),Ze=Math.min(D,he,Se,Ue),tt=Math.max(D,he,Se,Ue),Oe=Math.min(K,ye,Ne,Qe),le=Math.max(K,ye,Ne,Qe);return new h(Ze,Oe,tt-Ze,le-Oe)},Fe=function(D,K,Z,ue,he,ye,Se,Ne){var Ue,Qe,Ze,tt,Oe,le,Xt,qt,_t,Ye,it,nt,Wt,vt,Gt=Z-D,Ot=ue-K,jt=he-Z,En=ye-ue,Pt=Se-he,bt=Ne-ye;for(Qe=0;Qe<41;Qe++)_t=(Xt=(Ze=D+(Ue=Qe/40)*Gt)+Ue*((Oe=Z+Ue*jt)-Ze))+Ue*(Oe+Ue*(he+Ue*Pt-Oe)-Xt),Ye=(qt=(tt=K+Ue*Ot)+Ue*((le=ue+Ue*En)-tt))+Ue*(le+Ue*(ye+Ue*bt-le)-qt),Qe==0?(it=_t,nt=Ye,Wt=_t,vt=Ye):(it=Math.min(it,_t),nt=Math.min(nt,Ye),Wt=Math.max(Wt,_t),vt=Math.max(vt,Ye));return new h(Math.round(it),Math.round(nt),Math.round(Wt-it),Math.round(vt-nt))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,K,Z=(D=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:K}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(At.API),(function(n){var e=function(u){var h,f,d,v,A,S,_,M,j,q;for(f=[],d=0,v=(u+=h="\0\0\0\0".slice(u.length%4||4)).length;v>d;d+=4)(A=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(S=(A=((A=((A=((A=(A-(q=A%85))/85)-(j=A%85))/85)-(M=A%85))/85)-(_=A%85))/85)%85,f.push(S+33,_+33,M+33,j+33,q+33)):f.push(122);return(function(F,ie){for(var ae=ie;ae>0;ae--)F.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var h,f,d,v,A,S=String,_="length",M=255,j="charCodeAt",q="slice",F="replace";for(u[q](-2),u=u[q](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),d=[],v=0,A=(u+=h="uuuuu"[q](u[_]%5||5))[_];A>v;v+=5)f=52200625*(u[j](v)-33)+614125*(u[j](v+1)-33)+7225*(u[j](v+2)-33)+85*(u[j](v+3)-33)+(u[j](v+4)-33),d.push(M&f>>24,M&f>>16,M&f>>8,M&f);return(function(ie,ae){for(var se=ae;se>0;se--)ie.pop()})(d,h[_]),S.fromCharCode.apply(S,d)},r=function(u){return u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),h.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var h=new Uint8Array(u.length),f=u.length;f--;)h[f]=u.charCodeAt(f);return(h=P1(h)).reduce(function(d,v){return d+String.fromCharCode(v)},"")};n.processDataByFilters=function(u,h){var f=0,d=u||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:d,reverseChain:v.reverse().join(" ")}}})(At.API),(function(n){n.loadFile=function(e,t,r){return(function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=(function(f,d,v){var A=new XMLHttpRequest,S=0,_=function(M){var j=M.length,q=[],F=String.fromCharCode;for(S=0;S<j;S+=1)q.push(F(255&M.charCodeAt(S)));return q.join("")};if(A.open("GET",f,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?v(_(this.responseText)):v(void 0)}),A.send(null),d&&A.status===200)return _(A.responseText)})(a,o,u)}catch{}return h})(e,t,r)},n.loadImageFile=n.loadFile})(At.API),(function(n){function e(){return($t.html2canvas?Promise.resolve($t.html2canvas):P0(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return($t.DOMPurify?Promise.resolve($t.DOMPurify):P0(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var f=Qn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(h,f){var d=document.createElement(h);for(var v in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[v]=f.style[v];return d},o=function h(f,d){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||v.appendChild(h(A,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},u=function h(f){var d=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),d);return(v=v.setProgress(1,h,1,[h])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(h,f){return h.__proto__=f||u.prototype,h},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:h,dompurify:d})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},u.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var d=this.opt.jsPDF,v=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=v,v)for(var _=0;_<v.length;++_){var M=v[_],j=M.src.find(function(q){return q.format==="truetype"});j&&d.addFont(j.url,M.ref.name,M.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,d.context2d.save(!0),f(this.prop.container,S)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(h,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},u.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},u.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},u.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(h){if(r(h)!=="object")return this;var f=Object.keys(h||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=h[d]};switch(d){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[d]=h[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(h,f){return this.then(function(){var d=h in u.template.prop?this.prop[h]:this.opt[h];return f?f(d):d})},u.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},u.prototype.setPageSize=function(h){function f(d,v){return Math.floor(d*v/72*96)}return this.then(function(){(h=h||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},u.prototype.setProgress=function(h,f,d,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(h,f,d,v){return this.setProgress(h?this.progress.val+h:null,f||null,d?this.progress.n+d:null,v?this.progress.stack.concat(v):null)},u.prototype.then=function(h,f){var d=this;return this.thenCore(h,f,function(v,A){return d.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(S){return d.updateProgress(null,v),S}).then(v,A).then(function(S){return d.updateProgress(1),S})})},u.prototype.thenCore=function(h,f,d){d=d||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:u.convert(Object.assign({},v),Promise.prototype),S=d.call(A,h,f);return u.convert(S,v.__proto__)},u.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},u.prototype.thenList=function(h){var f=this;return h.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return u.convert(f,this)},u.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},u.prototype.error=function(h){return this.then(function(){throw new Error(h)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,At.getPageSize=function(h,f,d){if(Qn(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,d=v.format||d}f=f||"mm",d=d||"a4",h=(""+(h||"P")).toLowerCase();var A,S=(""+d).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+f}var M,j=0,q=0;if(_.hasOwnProperty(S))j=_[S][1]/A,q=_[S][0]/A;else try{j=d[1],q=d[0]}catch{throw new Error("Invalid format: "+d)}if(h==="p"||h==="portrait")h="p",q>j&&(M=q,q=j,j=M);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",j>q&&(M=q,q=j,j=M)}return{width:q,height:j,unit:f,k:A,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Z0):null;var d=new u(f);return f.worker?d:d.from(h).doCallback()}})(At.API),At.API.addJS=function(n){return gw=n,this.internal.events.subscribe("postPutResources",function(){Op=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Op+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),pw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+gw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Op!==void 0&&pw!==void 0&&this.internal.out("/Names <</JavaScript "+Op+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],h=r.exec(u);if(h!=null){var f=h[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,v=[];for(o=0;o<d;o++){var A=t.internal.newObject();v.push(A);var S=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<v.length;o++)t.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var u={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(At.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,o,u,h){var f,d=this.decode.DCT_DECODE,v=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(A){for(var S,_=256*A.charCodeAt(4)+A.charCodeAt(5),M=A.length,j={width:0,height:0,numcomponents:1},q=4;q<M;q+=2){if(q+=_,e.indexOf(A.charCodeAt(q+1))!==-1){S=256*A.charCodeAt(q+5)+A.charCodeAt(q+6),j={width:256*A.charCodeAt(q+7)+A.charCodeAt(q+8),height:S,numcomponents:A.charCodeAt(q+9)};break}_=256*A.charCodeAt(q+2)+A.charCodeAt(q+3)}return j})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:t,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:d,index:r,alias:a}}return v}})(At.API),At.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=GD(n,{checkCrc:!0}),u=o.width,h=o.height,f=o.channels,d=o.palette,v=o.depth;a=d&&f===1?(function(E){for(var L=E.width,B=E.height,N=E.data,O=E.palette,P=E.depth,oe=!1,xe=[],ee=[],de=void 0,$=!1,be=0,Fe=0;Fe<O.length;Fe++){var J=b_(O[Fe],4),D=J[0],K=J[1],Z=J[2],ue=J[3];xe.push(D,K,Z),ue!=null&&(ue===0?(be++,ee.length<1&&ee.push(Fe)):ue<255&&($=!0))}if($||be>1){oe=!0,ee=void 0;var he=L*B;de=new Uint8Array(he);for(var ye=new DataView(N.buffer),Se=0;Se<he;Se++){var Ne=t1(ye,Se,P),Ue=b_(O[Ne],4)[3];de[Se]=Ue}}else be===0&&(ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:oe?8:void 0,colorBytes:N,alphaBytes:de,needSMask:oe,palette:xe,mask:ee}})(o):f===2||f===4?(function(E){for(var L=E.data,B=E.width,N=E.height,O=E.channels,P=E.depth,oe=O===2?"DeviceGray":"DeviceRGB",xe=O-1,ee=B*N,de=xe,$=ee*de,be=1*ee,Fe=Math.ceil($*P/8),J=Math.ceil(be*P/8),D=new Uint8Array(Fe),K=new Uint8Array(J),Z=new DataView(L.buffer),ue=new DataView(D.buffer),he=new DataView(K.buffer),ye=!1,Se=0;Se<ee;Se++){for(var Ne=Se*O,Ue=0;Ue<de;Ue++)Ew(ue,t1(Z,Ne+Ue,P),Se*de+Ue,P);var Qe=t1(Z,Ne+de,P);Qe<(1<<P)-1&&(ye=!0),Ew(he,Qe,1*Se,P)}return{colorSpace:oe,colorsPerPixel:xe,sMaskBitsPerComponent:ye?P:void 0,colorBytes:D,alphaBytes:K,needSMask:ye}})(o):(function(E){var L=E.data,B=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:B,colorsPerPixel:B==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?(function(N){for(var O=N.length,P=new Uint8Array(2*O),oe=new DataView(P.buffer,P.byteOffset,P.byteLength),xe=0;xe<O;xe++)oe.setUint16(2*xe,N[xe],!1);return P})(L):L,needSMask:!1}})(o);var A,S,_,M=a,j=M.colorSpace,q=M.colorsPerPixel,F=M.sMaskBitsPerComponent,ie=M.colorBytes,ae=M.alphaBytes,se=M.needSMask,we=M.palette,ke=M.mask,Y=null;return r!==At.API.image_compression.NONE&&typeof P1=="function"?(Y=(function(E){var L;switch(E){case At.API.image_compression.FAST:L=11;break;case At.API.image_compression.MEDIUM:L=13;break;case At.API.image_compression.SLOW:L=14;break;default:L=12}return L})(r),A=this.decode.FLATE_DECODE,S="/Predictor ".concat(Y," /Colors ").concat(q," /BitsPerComponent ").concat(v," /Columns ").concat(u),n=bw(ie,Math.ceil(u*q*v/8),q,v,r),se&&(_=bw(ae,Math.ceil(u*F/8),1,F,r))):(A=void 0,S=void 0,n=ie,se&&(_=ae)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(_&&this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),{alias:t,data:n,index:e,filter:A,decodeParameters:S,transparency:ke,palette:we,sMask:_,predictor:Y,width:u,height:h,bitsPerComponent:v,sMaskBitsPerComponent:F,colorSpace:j}}},(function(n){n.processGIF89A=function(e,t,r,a){var o=new fk(e),u=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:h},v=new n1(100).encode(d,100);return n.processJPEG.call(this,v,t,r,a)},n.processGIF87A=n.processGIF89A})(At.API),ho.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ho.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){ur.log("bit decode error:"+t)}},ho.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[u+4*h]=f.blue,this.data[u+4*h+1]=f.green,this.data[u+4*h+2]=f.red,this.data[u+4*h+3]=255}t!==0&&(this.pos+=4-t)}},ho.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*a*4,h=o>>4,f=15&o,d=this.palette[h];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},ho.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},ho.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,v=r*this.width*4+4*a;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=u,this.data[v+3]=d}this.pos+=n}},ho.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,v=a*this.width*4+4*o;this.data[v]=d,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=n}},ho.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},ho.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=u}},ho.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,a){var o=new ho(e,!1),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},d=new n1(100).encode(f,100);return n.processJPEG.call(this,d,t,r,a)}})(At.API),Tw.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,a){var o=new Tw(e),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},d=new n1(100).encode(f,100);return n.processJPEG.call(this,d,t,r,a)}})(At.API),At.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),h=0,f=0,d=0;d<a;d+=4){var v=r[d],A=r[d+1],S=r[d+2],_=r[d+3];o[h++]=v,o[h++]=A,o[h++]=S,u[f++]=_}var M=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:M,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},At.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vh=At.API,Pp=vh.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:a.metadata.Unicode.widths,f=h.fof?h.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,v=d.fof?d.fof:1,A=e.doKerning!==!1,S=0,_=n.length,M=0,j=h[0]||f,q=[];for(t=0;t<_;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?q.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(S=A&&Qn(d[r])==="object"&&!isNaN(parseInt(d[r][M],10))?d[r][M]/v:0,q.push((h[r]||j)/f+S)),M=r;return q},mw=vh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return vh.processArabic&&(n=vh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:Pp.apply(this,arguments).reduce(function(o,u){return o+u},0)},yw=function(n,e,t,r){for(var a=[],o=0,u=n.length,h=0;o!==u&&h+e[o]<t;)h+=e[o],o++;a.push(n.slice(0,o));var f=o;for(h=0;o!==u;)h+e[o]>r&&(a.push(n.slice(f,o)),h=0,f=o),h+=e[o],o++;return f!==o&&a.push(n.slice(f,o)),a},vw=function(n,e,t){t||(t={});var r,a,o,u,h,f,d,v=[],A=[v],S=t.textIndent||0,_=0,M=0,j=n.split(" "),q=Pp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?j[0].length+2:t.lineIndent||0){var F=Array(f).join(" "),ie=[];j.map(function(se){(se=se.split(/\s*\n/)).length>1?ie=ie.concat(se.map(function(we,ke){return(ke&&we.length?`
`:"")+we})):ie.push(se[0])}),j=ie,f=mw.apply(this,[F,t])}for(o=0,u=j.length;o<u;o++){var ae=0;if(r=j[o],f&&r[0]==`
`&&(r=r.substr(1),ae=1),S+_+(M=(a=Pp.apply(this,[r,t])).reduce(function(se,we){return se+we},0))>e||ae){if(M>e){for(h=yw.apply(this,[r,a,e-(S+_),e]),v.push(h.shift()),v=[h.pop()];h.length;)A.push([h.shift()]);M=a.slice(r.length-(v[0]?v[0].length:0)).reduce(function(se,we){return se+we},0)}else v=[r];A.push(v),S=M+f,_=q}else v.push(r),S+=_+M,_=q}return d=f?function(se,we){return(we?F:"")+se.join(" ")}:function(se){return se.join(" ")},A.map(d)},vh.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var A=this.internal.getFont(v.fontName,v.fontStyle),S="Unicode";return A.metadata[S]?{widths:A.metadata[S].widths||{0:1},kerning:A.metadata[S].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var h,f,d=[];for(h=0,f=r.length;h<f;h++)d=d.concat(vw.apply(this,[r[h],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[t[o]]=e[o],a[e[o]]=t[o];var u=function(S){return"0x"+parseInt(S,10).toString(16)},h=n.__fontmetrics__.compress=function(S){var _,M,j,q,F=["{"];for(var ie in S){if(_=S[ie],isNaN(parseInt(ie,10))?M="'"+ie+"'":(ie=parseInt(ie,10),M=(M=u(ie).slice(2)).slice(0,-1)+a[M.slice(-1)]),typeof _=="number")_<0?(j=u(_).slice(3),q="-"):(j=u(_).slice(2),q=""),j=q+j.slice(0,-1)+a[j.slice(-1)];else{if(Qn(_)!=="object")throw new Error("Don't know what to do with value type "+Qn(_)+".");j=h(_)}F.push(M+j)}return F.push("}"),F.join("")},f=n.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,M,j,q,F={},ie=1,ae=F,se=[],we="",ke="",Y=S.length-1,E=1;E<Y;E+=1)(q=S[E])=="'"?_?(j=_.join(""),_=void 0):_=[]:_?_.push(q):q=="{"?(se.push([ae,j]),ae={},j=void 0):q=="}"?((M=se.pop())[0][M[1]]=ae,j=void 0,ae=M[0]):q=="-"?ie=-1:j===void 0?r.hasOwnProperty(q)?(we+=r[q],j=parseInt(we,16)*ie,ie=1,we=""):we+=q:r.hasOwnProperty(q)?(ke+=r[q],ae[j]=parseInt(ke,16)*ie,ie=1,j=void 0,ke=""):ke+=q;return F},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(S){var _=S.font,M=A.Unicode[_.postScriptName];M&&(_.metadata.Unicode={},_.metadata.Unicode.widths=M.widths,_.metadata.Unicode.kerning=M.kerning);var j=v.Unicode[_.postScriptName];j&&(_.metadata.Unicode.encoding=j,_.encoding=j.codePages[0])}])})(At.API),(function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(Kp(h)),u.metadata=n.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,r)}}])})(At),At.API.addSvgAsImage=function(n,e,t,r,a,o,u,h){if(isNaN(e)||isNaN(t))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return($t.canvg?Promise.resolve($t.canvg):P0(()=>import("./index.es-D0z1D1PN.js"),[])).catch(function(S){return Promise.reject(new Error("Could not load canvg: "+S))}).then(function(S){return S.default?S.default:S}).then(function(S){return S.fromString(d,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(v)}).then(function(){A.addImage(f.toDataURL("image/jpeg",1),e,t,r,a,u,h)})},At.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},At.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),f=[],d=0,v=0,A=0;function S(M,j){var q,F=!1;for(q=0;q<M.length;q+=1)M[q]===j&&(F=!0);return F}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var _=h.length;for(A=0;A<_;A+=1)t[h[A]].value=t[h[A]].defaultValue,t[h[A]].explicitSet=!1}if(Qn(n)==="object"){for(a in n)if(o=n[a],S(h,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&S(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(v=0;v<o[d].length;v+=1)typeof o[d][v]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var M,j=[];for(M in t)t[M].explicitSet===!0&&(t[M].type==="name"?j.push("/"+M+" /"+t[M].value):j.push("/"+M+" "+t[M].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+h.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+u+h+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(At.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var h,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],v=[""],A=0,S=o.length;A<S;++A){if(h=u.metadata.characterToGlyph(o.charCodeAt(A)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=o.charCodeAt(A),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(d[4-h.length],h)}return v.join("")},r=function(o){var u,h,f,d,v,A,S;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,S=(h=Object.keys(o).sort(function(_,M){return _-M})).length;A<S;A++)u=h[A],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,d=u.newObject,v=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,S=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),_="",M=0;M<S.length;M++)_+=String.fromCharCode(S[M]);var j=d();v({data:_,addLength1:!0,objectId:j}),f("endobj");var q=d();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:q}),f("endobj");var F=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Sh(h.fontName)),f("/FontFile2 "+j+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var ie=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Sh(h.fontName)),f("/FontDescriptor "+F+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+q+" 0 R"),f("/BaseFont /"+Sh(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+ie+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,d=u.newObject,v=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,S="",_=0;_<A.length;_++)S+=String.fromCharCode(A[_]);var M=d();v({data:S,addLength1:!0,objectId:M}),f("endobj");var j=d();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:j}),f("endobj");var q=d();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+M+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+Sh(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=d();for(var F=0;F<h.metadata.hmtx.widths.length;F++)h.metadata.hmtx.widths[F]=parseInt(h.metadata.hmtx.widths[F]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+Sh(h.fontName)+"/FontDescriptor "+q+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,h=o.text||"",f=o.x,d=o.y,v=o.options||{},A=o.mutex||{},S=A.pdfEscape,_=A.activeFontKey,M=A.fonts,j=_,q="",F=0,ie="",ae=M[j].encoding;if(M[j].encoding!=="Identity-H")return{text:h,x:f,y:d,options:v,mutex:A};for(ie=h,j=_,Array.isArray(h)&&(ie=h[0]),F=0;F<ie.length;F+=1)M[j].metadata.hasOwnProperty("cmap")&&(u=M[j].metadata.cmap.unicode.codeMap[ie[F].charCodeAt(0)]),u||ie[F].charCodeAt(0)<256&&M[j].metadata.hasOwnProperty("Unicode")?q+=ie[F]:q+="";var se="";return parseInt(j.slice(1))<14||ae==="WinAnsiEncoding"?se=S(q,j).split("").map(function(we){return we.charCodeAt(0).toString(16)}).join(""):ae==="Identity-H"&&(se=t(q,M[j])),A.isHex=!0,{text:se,x:f,y:d,options:v,mutex:A}};e.events.push(["postProcessText",function(o){var u=o.text||"",h=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?h.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):h.push(a(Object.assign({},f,{text:u[d]})).text);o.text=h}else o.text=a(Object.assign({},f,{text:u})).text}])})(At),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(At.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,u,h,f,d,v,A=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},q=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],F=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ie=!1,ae=0;this.__bidiEngine__={};var se=function(N){var O=N.charCodeAt(),P=O>>8,oe=j[P];return oe!==void 0?A[256*oe+(255&O)]:P===252||P===253?"AL":F.test(P)?"L":P===8?"R":"N"},we=function(N){for(var O,P=0;P<N.length;P++){if((O=se(N.charAt(P)))==="L")return!1;if(O==="R")return!0}return!1},ke=function(N,O,P,oe){var xe,ee,de,$,be=O[oe];switch(be){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ie=!1;break;case"N":case"AN":break;case"EN":ie&&(be="AN");break;case"AL":ie=!0,be="R";break;case"WS":case"BN":be="N";break;case"CS":oe<1||oe+1>=O.length||(xe=P[oe-1])!=="EN"&&xe!=="AN"||(ee=O[oe+1])!=="EN"&&ee!=="AN"?be="N":ie&&(ee="AN"),be=ee===xe?ee:"N";break;case"ES":be=(xe=oe>0?P[oe-1]:"B")==="EN"&&oe+1<O.length&&O[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&P[oe-1]==="EN"){be="EN";break}if(ie){be="N";break}for(de=oe+1,$=O.length;de<$&&O[de]==="ET";)de++;be=de<$&&O[de]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for($=O.length,de=oe+1;de<$&&O[de]==="NSM";)de++;if(de<$){var Fe=N[oe],J=Fe>=1425&&Fe<=2303||Fe===64286;if(xe=O[de],J&&(xe==="R"||xe==="AL")){be="R";break}}}be=oe<1||(xe=O[oe-1])==="B"?"N":P[oe-1];break;case"B":ie=!1,a=!0,be=ae;break;case"S":o=!0,be="N"}return be},Y=function(N,O,P){var oe=N.split("");return P&&E(oe,P,{hiLevel:ae}),oe.reverse(),O&&O.reverse(),oe.join("")},E=function(N,O,P){var oe,xe,ee,de,$,be=-1,Fe=N.length,J=0,D=[],K=ae?_:S,Z=[];for(ie=!1,a=!1,o=!1,xe=0;xe<Fe;xe++)Z[xe]=se(N[xe]);for(ee=0;ee<Fe;ee++){if($=J,D[ee]=ke(N,Z,D,ee),oe=240&(J=K[$][M[D[ee]]]),J&=15,O[ee]=de=K[J][5],oe>0)if(oe===16){for(xe=be;xe<ee;xe++)O[xe]=1;be=-1}else be=-1;if(K[J][6])be===-1&&(be=ee);else if(be>-1){for(xe=be;xe<ee;xe++)O[xe]=de;be=-1}Z[ee]==="B"&&(O[ee]=0),P.hiLevel|=de}o&&(function(ue,he,ye){for(var Se=0;Se<ye;Se++)if(ue[Se]==="S"){he[Se]=ae;for(var Ne=Se-1;Ne>=0&&ue[Ne]==="WS";Ne--)he[Ne]=ae}})(Z,O,Fe)},L=function(N,O,P,oe,xe){if(!(xe.hiLevel<N)){if(N===1&&ae===1&&!a)return O.reverse(),void(P&&P.reverse());for(var ee,de,$,be,Fe=O.length,J=0;J<Fe;){if(oe[J]>=N){for($=J+1;$<Fe&&oe[$]>=N;)$++;for(be=J,de=$-1;be<de;be++,de--)ee=O[be],O[be]=O[de],O[de]=ee,P&&(ee=P[be],P[be]=P[de],P[de]=ee);J=$}J++}}},B=function(N,O,P){var oe=N.split(""),xe={hiLevel:ae};return P||(P=[]),E(oe,P,xe),(function(ee,de,$){if($.hiLevel!==0&&v)for(var be,Fe=0;Fe<ee.length;Fe++)de[Fe]===1&&(be=q.indexOf(ee[Fe]))>=0&&(ee[Fe]=q[be+1])})(oe,P,xe),L(2,oe,O,P,xe),L(1,oe,O,P,xe),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(N,O,P){if((function(xe,ee){if(ee)for(var de=0;de<xe.length;de++)ee[de]=de;h===void 0&&(h=we(xe)),d===void 0&&(d=we(xe))})(N,O),u||!f||d)if(u&&f&&h^d)ae=h?1:0,N=Y(N,O,P);else if(!u&&f&&d)ae=h?1:0,N=B(N,O,P),N=Y(N,O);else if(!u||h||f||d){if(u&&!f&&h^d)N=Y(N,O),h?(ae=0,N=B(N,O,P)):(ae=1,N=B(N,O,P),N=Y(N,O));else if(u&&h&&!f&&d)ae=1,N=B(N,O,P),N=Y(N,O);else if(!u&&!f&&h^d){var oe=v;h?(ae=1,N=B(N,O,P),ae=0,v=!1,N=B(N,O,P),v=oe):(ae=0,N=B(N,O,P),N=Y(N,O),ae=1,v=!1,N=B(N,O,P),v=oe,N=Y(N,O))}}else ae=0,N=B(N,O,P);else ae=h?1:0,N=B(N,O,P);return N},this.__bidiEngine__.setOptions=function(N){N&&(u=N.isInputVisual,f=N.isOutputVisual,h=N.isInputRtl,d=N.isOutputRtl,v=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(u=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?u.push([t.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):u.push([t.doBidiReorder(a[h])]);r.text=u}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(At),At.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new qu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Nk(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new dk(this.contents),this.head=new gk(this),this.name=new _k(this),this.cmap=new fx(this),this.toUnicode={},this.hhea=new mk(this),this.maxp=new wk(this),this.hmtx=new Ak(this),this.post=new vk(this),this.os2=new yk(this),this.loca=new Tk(this),this.glyf=new xk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,h,f,d;for(d=[],u=0,h=(f=this.bbox).length;u<h;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,o,u,h;for(u=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var bo,qu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,o,u,h,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^h)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*u+256*h+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),dk=(function(){var n;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,u,h,f,d,v,A,S,_,M,j;for(j in _=Object.keys(t).length,f=Math.log(2),A=16*Math.floor(Math.log(_)/f),u=Math.floor(A/f),v=16*_-A,(a=new qu).writeInt(this.scalarType),a.writeShort(_),a.writeShort(A),a.writeShort(u),a.writeShort(v),o=16*_,d=a.pos+o,h=null,M=[],t)for(S=t[j],a.writeString(j),a.writeInt(n(S)),a.writeInt(d),a.writeInt(S.length),M=M.concat(S),j==="head"&&(h=d),d+=S.length;d%4;)M.push(0),d++;return a.write(M),r=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(r),a.data},n=function(t){var r,a,o,u;for(t=dx.call(t);t.length%4;)t.push(0);for(o=new qu(t),a=0,r=0,u=t.length;r<u;r=r+=4)a+=o.readUInt32();return 4294967295&a},e})(),pk={}.hasOwnProperty,il=function(n,e){for(var t in e)pk.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};bo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var gk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,bo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new qu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),Nw=(function(){function n(e,t){var r,a,o,u,h,f,d,v,A,S,_,M,j,q,F,ie,ae;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(_=e.readUInt16(),S=_/2,e.pos+=6,o=(function(){var se,we;for(we=[],f=se=0;0<=S?se<S:se>S;f=0<=S?++se:--se)we.push(e.readUInt16());return we})(),e.pos+=2,j=(function(){var se,we;for(we=[],f=se=0;0<=S?se<S:se>S;f=0<=S?++se:--se)we.push(e.readUInt16());return we})(),d=(function(){var se,we;for(we=[],f=se=0;0<=S?se<S:se>S;f=0<=S?++se:--se)we.push(e.readUInt16());return we})(),v=(function(){var se,we;for(we=[],f=se=0;0<=S?se<S:se>S;f=0<=S?++se:--se)we.push(e.readUInt16());return we})(),a=(this.length-e.pos+this.offset)/2,h=(function(){var se,we;for(we=[],f=se=0;0<=a?se<a:se>a;f=0<=a?++se:--se)we.push(e.readUInt16());return we})(),f=F=0,ae=o.length;F<ae;f=++F)for(q=o[f],r=ie=M=j[f];M<=q?ie<=q:ie>=q;r=M<=q?++ie:--ie)v[f]===0?u=r+d[f]:(u=h[v[f]/2+(r-M)-(S-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}e.pos=A}return n.encode=function(e,t){var r,a,o,u,h,f,d,v,A,S,_,M,j,q,F,ie,ae,se,we,ke,Y,E,L,B,N,O,P,oe,xe,ee,de,$,be,Fe,J,D,K,Z,ue,he,ye,Se,Ne,Ue,Qe,Ze;switch(oe=new qu,u=Object.keys(e).sort(function(tt,Oe){return tt-Oe}),t){case"macroman":for(j=0,q=(function(){var tt=[];for(M=0;M<256;++M)tt.push(0);return tt})(),ie={0:0},o={},xe=0,be=u.length;xe<be;xe++)ie[Ne=e[a=u[xe]]]==null&&(ie[Ne]=++j),o[a]={old:e[a],new:ie[e[a]]},q[a]=ie[e[a]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(q),{charMap:o,subtable:oe.data,maxGlyphID:j+1};case"unicode":for(O=[],A=[],ae=0,ie={},r={},F=d=null,ee=0,Fe=u.length;ee<Fe;ee++)ie[we=e[a=u[ee]]]==null&&(ie[we]=++ae),r[a]={old:we,new:ie[we]},h=ie[we]-a,F!=null&&h===d||(F&&A.push(F),O.push(a),d=h),F=a;for(F&&A.push(F),A.push(65535),O.push(65535),B=2*(L=O.length),E=2*Math.pow(Math.log(L)/Math.LN2,2),S=Math.log(E/2)/Math.LN2,Y=2*L-E,f=[],ke=[],_=[],M=de=0,J=O.length;de<J;M=++de){if(N=O[M],v=A[M],N===65535){f.push(0),ke.push(0);break}if(N-(P=r[N].new)>=32768)for(f.push(0),ke.push(2*(_.length+L-M)),a=$=N;N<=v?$<=v:$>=v;a=N<=v?++$:--$)_.push(r[a].new);else f.push(P-N),ke.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*L+2*_.length),oe.writeUInt16(0),oe.writeUInt16(B),oe.writeUInt16(E),oe.writeUInt16(S),oe.writeUInt16(Y),ye=0,D=A.length;ye<D;ye++)a=A[ye],oe.writeUInt16(a);for(oe.writeUInt16(0),Se=0,K=O.length;Se<K;Se++)a=O[Se],oe.writeUInt16(a);for(Ue=0,Z=f.length;Ue<Z;Ue++)h=f[Ue],oe.writeUInt16(h);for(Qe=0,ue=ke.length;Qe<ue;Qe++)se=ke[Qe],oe.writeUInt16(se);for(Ze=0,he=_.length;Ze<he;Ze++)j=_[Ze],oe.writeUInt16(j);return{charMap:r,subtable:oe.data,maxGlyphID:ae+1}}},n})(),fx=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,bo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new Nw(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=Nw.encode(e,t),(a=new qu).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),mk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,bo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),yk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,bo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),vk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,bo),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var u,h,f;for(f=[],o=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;o=0<=h?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),bk=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_k=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,bo),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,a,o,u,h,f,d,v,A,S;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},o=v=0,A=r.length;v<A;o=++v)a=r[o],e.pos=a.offset,d=e.readString(a.length),u=new bk(d,a),f[S=a.nameID]==null&&(f[S]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),wk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,bo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),Ak=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,bo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,a,o,u,h,f;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,v;for(v=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)v.push(e.readInt16());return v})(),this.widths=(function(){var d,v,A,S;for(S=[],d=0,v=(A=this.metrics).length;d<v;d++)o=A[d],S.push(o.advance);return S}).call(this),r=this.widths[this.widths.length-1],f=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),dx=[].slice,xk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,bo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,a,o,u,h,f,d,v,A;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,u=(h=new qu(t.read(a))).readShort(),d=h.readShort(),A=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[e]=u===-1?new Sk(h,d,A,f,v):new Ek(h,u,d,A,f,v),this.cache[e]))},n.prototype.encode=function(e,t,r){var a,o,u,h,f;for(u=[],o=[],h=0,f=t.length;h<f;h++)a=e[t[h]],o.push(u.length),a&&(u=u.concat(a.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),Ek=(function(){function n(e,t,r,a,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),Sk=(function(){function n(e,t,r,a,o){var u,h;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new qu(dx.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),Tk=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return il(n,bo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,u=0;u<r.length;++u)if(r[u]=a,o<t.length&&t[o]==u){++o,r[u]=a;var h=this.offsets[u],f=this.offsets[u+1]-h;f>0&&(a+=f)}for(var d=new Array(4*r.length),v=0;v<r.length;++v)d[4*v+3]=255&r[v],d[4*v+2]=(65280&r[v])>>8,d[4*v+1]=(16711680&r[v])>>16,d[4*v]=(4278190080&r[v])>>24;return d},n})(),Nk=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,o,u,h,f;for(a={},u=0,h=e.length;u<h;u++)a[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],a[o]=r;return a},n.prototype.encode=function(e,t){var r,a,o,u,h,f,d,v,A,S,_,M,j,q,F;for(a in r=fx.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),_={0:0},F=r.charMap)_[(f=F[a]).old]=f.new;for(M in S=r.maxGlyphID,u)M in _||(_[M]=S++);return v=(function(ie){var ae,se;for(ae in se={},ie)se[ie[ae]]=ae;return se})(_),A=Object.keys(v).sort(function(ie,ae){return ie-ae}),j=(function(){var ie,ae,se;for(se=[],ie=0,ae=A.length;ie<ae;ie++)h=A[ie],se.push(v[h]);return se})(),o=this.font.glyf.encode(u,j,_),d=this.font.loca.encode(o.offsets,j),q={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(q["OS/2"]=this.font.os2.raw()),this.font.directory.encode(q)},n})();At.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,u;if(Array.isArray(t))return"["+(function(){var h,f,d;for(d=[],h=0,f=t.length;h<f;h++)r=t[h],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)u=t[a],o.push("/"+a+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();const r1="florale_customer_info",Iw="florale_billing_history",Cw="florale_billing_drafts",Ik="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRssaEpDZ2QDfCM4FHEBDx6C9lJ2VolMcKtvm3QdvSxTcDrWnMjzAUAja636gNn0LBYlbY&usqp=CAU";function Ck({selectedProducts:n,setSelectedProducts:e}){const[t,r]=Kt.useState(()=>{try{const E=localStorage.getItem(r1);return E&&JSON.parse(E).name||""}catch{return""}}),[a,o]=Kt.useState(()=>{try{const E=localStorage.getItem(r1);return E&&JSON.parse(E).phone||""}catch{return""}}),[u,h]=Kt.useState("none"),[f,d]=Kt.useState(0),[v,A]=Kt.useState("");Kt.useEffect(()=>{try{localStorage.setItem(r1,JSON.stringify({name:t,phone:a}))}catch(E){console.error("Error saving customer info:",E)}},[t,a]);const S=(E,L,B)=>{if(L<=0){_(E,B);return}e(n.map(N=>N.id===E&&N.priceType===B?{...N,quantity:L}:N))},_=(E,L)=>{e(n.filter(B=>!(B.id===E&&B.priceType===L)))},M=Kt.useMemo(()=>{let E=0,L=0;n.forEach(oe=>{const ee=(oe.selectedPrice||oe.price)*oe.quantity;E+=ee,oe.discountType==="percentage"?L+=ee*oe.discountValue/100:oe.discountType==="amount"&&(L+=oe.discountValue*oe.quantity)});const B=E-L;let N=0;u==="percentage"?N=B*f/100:u==="amount"&&(N=f);const O=L+N,P=E-O;return{subtotal:E,productDiscount:L,cartDiscount:N,totalDiscount:O,total:P}},[n,u,f]);Kt.useEffect(()=>{n.length>0?A(parseFloat(M.total.toFixed(2))):A("")},[M.total,n.length]);const j=()=>{if(n.length===0){alert(" Please add at least one product");return}const E=we();ke(E)},q=async()=>{if(n.length===0){alert(" Please add at least one product");return}const E=we();if(navigator.share)try{await navigator.share({title:"Florale Invoice",text:E})}catch(L){console.error("Error sharing:",L)}else navigator.clipboard.writeText(E),alert("Invoice copied to clipboard!")},F=E=>{if(E===0)return"Zero";const L=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],B=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],N=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],O=$=>{if($===0)return"";if($<10)return L[$];if($<20)return N[$-10];if($<100){const J=Math.floor($/10),D=$%10;return B[J]+(D?" "+L[D]:"")}const be=Math.floor($/100),Fe=$%100;return L[be]+" Hundred"+(Fe?" "+O(Fe):"")},P=Math.floor(E/1e7),oe=Math.floor(E%1e7/1e5),xe=Math.floor(E%1e5/1e3),ee=E%1e3;let de="";return P&&(de+=O(P)+" Crore "),oe&&(de+=O(oe)+" Lakh "),xe&&(de+=O(xe)+" Thousand "),ee&&(de+=O(ee)),de.trim()},ie=()=>{if(n.length===0){alert(" Please add at least one product");return}try{const E=new At,L=Date.now().toString().slice(-6),B=new Date().toLocaleDateString("en-GB"),N="/pdf background.jpeg",O=E.internal.pageSize.height,P=E.internal.pageSize.width,oe=40,xe=()=>{E.addImage(N,"JPEG",0,0,P,O,void 0,"FAST")};xe();const ee={r:70,g:70,b:70};E.setDrawColor(200,200,200),E.setLineWidth(.5),E.line(0,60,210,60),E.addImage("/Florale Logo-09.png","PNG",15,2,50,50,void 0,"FAST"),E.setTextColor(ee.r,ee.g,ee.b),E.setFontSize(9),E.setFont("helvetica","normal"),E.text("Phone: +91 7594011460",80,33),E.text("Email: Florale.ind@gmail.com",80,39),E.setFontSize(16),E.setFont("helvetica","bold"),E.text("TAX INVOICE",195,30,{align:"right"}),E.setTextColor(0,0,0),E.setFontSize(10),E.setFont("helvetica","bold"),E.setTextColor(ee.r,ee.g,ee.b),E.text("BILL TO",18,73),E.setFont("helvetica","normal"),E.setFontSize(9),E.setTextColor(0,0,0),t&&E.text(t,18,79),a&&E.text(`Phone: ${a}`,18,85),E.setFont("helvetica","bold"),E.setFontSize(10),E.setTextColor(ee.r,ee.g,ee.b),E.text("INVOICE DETAILS",192,73,{align:"right"}),E.setFont("helvetica","normal"),E.setFontSize(9),E.setTextColor(0,0,0),E.text(`Invoice #: ${L}`,192,79,{align:"right"}),E.text(`Date: ${B}`,192,85,{align:"right"});let $=100;const be=()=>{E.setTextColor(0,0,0),E.setFont("helvetica","bold"),E.setFontSize(9),E.text("#",18,$+6.5),E.text("ITEM NAME",28,$+6.5),E.text("QTY",90,$+6.5,{align:"center"}),E.text("PRICE/UNIT",122,$+6.5,{align:"right"}),E.text("DISCOUNT",152,$+6.5,{align:"right"}),E.text("AMOUNT",192,$+6.5,{align:"right"}),$+=12};be(),E.setTextColor(0,0,0),E.setFont("helvetica","normal");let Fe=0;n.forEach((Se,Ne)=>{$>O-oe&&(E.addPage(),xe(),$=20,be());const Ue=Se.selectedPrice||Se.price,Qe=Ue*Se.quantity;let Ze=0,tt=0;Se.discountType==="percentage"?(Ze=Qe*Se.discountValue/100,tt=Se.discountValue):Se.discountType==="amount"&&(Ze=Se.discountValue*Se.quantity,tt=Ze/Qe*100);const Oe=Qe-Ze;Fe+=Se.quantity,E.setFontSize(9),E.text(`${Ne+1}`,18,$);let le=Se.name.substring(0,25);Se.priceType&&(le+=` (${Se.priceType==="retail"?"R":"W"})`),E.text(le,28,$),E.text(`${Se.quantity}`,90,$,{align:"center"}),E.text(`Rs ${Ue.toLocaleString("en-IN",{minimumFractionDigits:2})}`,122,$,{align:"right"}),Ze>0?E.text(`Rs ${Ze.toLocaleString("en-IN",{minimumFractionDigits:2})} (${tt.toFixed(1)}%)`,152,$,{align:"right"}):E.text("-",152,$,{align:"right"}),E.text(`Rs ${Oe.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,$,{align:"right"}),$+=7}),$>O-oe-60&&(E.addPage(),xe(),$=20),$+=2,E.setFont("helvetica","bold"),E.setFontSize(9),E.setTextColor(ee.r,ee.g,ee.b),E.text("TOTAL",28,$),E.setTextColor(0,0,0),E.text(`${Fe}`,90,$,{align:"center"}),E.text(`Rs ${M.totalDiscount.toLocaleString("en-IN",{minimumFractionDigits:2})}`,152,$,{align:"right"}),E.text(`Rs ${M.total.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,$,{align:"right"}),$+=15,E.setFont("helvetica","bold"),E.setFontSize(9),E.setTextColor(ee.r,ee.g,ee.b),E.text("AMOUNT IN WORDS",15,$),E.setFont("helvetica","normal"),E.setFontSize(10),E.setTextColor(0,0,0);const J=F(Math.floor(M.total));E.text(`Rupees ${J} Only`,15,$+6,{maxWidth:100});let D=$-18;E.setFont("helvetica","normal"),E.setFontSize(9),E.setTextColor(0,0,0),E.text("Sub Total",130,D),E.text(`Rs ${M.subtotal.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,D,{align:"right"}),D+=6,M.productDiscount>0&&(E.text("Product Discount",130,D),E.text(`- Rs ${M.productDiscount.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,D,{align:"right"}),D+=6),M.cartDiscount>0&&(E.text("Special Discount",130,D),E.text(`- Rs ${M.cartDiscount.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,D,{align:"right"}),D+=6),M.totalDiscount>0&&(D+=4,E.setDrawColor(ee.r,ee.g,ee.b),E.setLineWidth(.5),E.line(130,D,195,D),D+=5,E.setFont("helvetica","bold"),E.text("Total Discount",130,D),E.text(`- Rs ${M.totalDiscount.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,D,{align:"right"}),E.setFont("helvetica","normal"),D+=6),E.setFont("helvetica","bold"),E.setFontSize(10),E.text("TOTAL",130,D),E.text(`Rs ${M.total.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,D,{align:"right"}),D+=9;const K=Number(v)||0;E.setFont("helvetica","normal"),E.text("Received",130,D),E.text(`Rs ${K.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,D,{align:"right"}),D+=6;const Z=Math.max(0,M.total-K);E.setFont("helvetica","bold"),E.text("Balance Due",130,D),E.text(`Rs ${Z.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,D,{align:"right"}),D+=6,M.totalDiscount>0&&(E.setFont("helvetica","bold"),E.text("YOU SAVED",130,D),E.text(`Rs ${M.totalDiscount.toLocaleString("en-IN",{minimumFractionDigits:2})}`,192,D,{align:"right"})),$+=18,E.setFont("helvetica","bold"),E.setFontSize(9),E.setTextColor(ee.r,ee.g,ee.b),E.text("TERMS & CONDITIONS",15,$),E.setFont("helvetica","normal"),E.setFontSize(8),E.setTextColor(0,0,0),E.text("Thank you for doing business with us.",15,$+6),Math.max($,D)+20>O-oe&&(E.addPage(),xe());const he=O-30;E.setFont("helvetica","normal"),E.setFontSize(8),E.setTextColor(100,100,100),E.text("For: Florale",195,he,{align:"right"}),E.addImage("/signature.png","JPEG",160,he+3,30,15,void 0,"FAST"),E.setFont("helvetica","bold"),E.setFontSize(8),E.setTextColor(0,0,0),E.text("Authorized Signatory",195,he+20,{align:"right"}),E.save(`Florale-Invoice-${L}.pdf`),alert(" Invoice downloaded as PDF!")}catch(E){console.error("Error generating PDF:",E),alert(" Failed to generate PDF")}},ae=()=>{if(n.length===0){alert(" Please add at least one product");return}try{const E=localStorage.getItem(Iw),L=E?JSON.parse(E):[],B={id:Date.now().toString(),invoiceNumber:`INV-${Date.now()}`,date:new Date().toISOString(),customerName:t,customerPhone:a,products:[...n],subtotal:M.subtotal,totalDiscount:M.totalDiscount,total:M.total};L.unshift(B),localStorage.setItem(Iw,JSON.stringify(L)),alert(" Billing saved successfully!"),e([]),r(""),o(""),h("none"),d(0),A("")}catch(E){console.error("Error saving billing:",E),alert(" Failed to save billing")}},se=()=>{if(n.length===0){alert(" Please add at least one product to save as draft");return}try{const E={id:Date.now().toString(),savedAt:new Date().toISOString(),customerName:t,customerPhone:a,products:[...n],cartDiscountType:u,cartDiscountValue:f},L=localStorage.getItem(Cw),B=L?JSON.parse(L):[];B.unshift(E),localStorage.setItem(Cw,JSON.stringify(B)),alert(" Billing saved as draft!"),e([]),r(""),o(""),h("none"),d(0),A("")}catch(E){console.error("Error saving draft:",E),alert(" Failed to save draft")}},we=()=>{const E=new Date().toLocaleDateString(),L=`INV-${Date.now()}`;let B=`*FLORALE INVOICE*

`;return B+=`Invoice #: ${L}
`,B+=`Date: ${E}

`,t&&(B+=`Customer: ${t}
`),a&&(B+=`Phone: ${a}
`),B+=`


`,B+=`*ITEMS:*

`,n.forEach(N=>{const O=N.price*N.quantity;if(B+=`${N.name}
`,B+=`  ${N.quantity}  ${N.price} = ${O}
`,N.discountType!=="none"&&N.discountValue>0){const P=N.discountType==="percentage"?`${N.discountValue}%`:`${N.discountValue}`;B+=`  Discount: ${P}
`}B+=`
`}),B+=`

`,B+=`Subtotal: ${M.subtotal.toFixed(2)}
`,B+=`Discount: -${M.totalDiscount.toFixed(2)}
`,B+=`*Total: ${M.total.toFixed(2)}*

`,B+=`

`,B+="Thank you for your business! ",B},ke=E=>{const B=`https://wa.me/?text=${encodeURIComponent(E)}`;window.open(B,"_blank")},Y=()=>{confirm("Clear all items from the bill?")&&(e([]),r(""),o(""),h("none"),d(0),A(""))};return I.jsx(I.Fragment,{children:n.length===0?I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[I.jsx("span",{className:"text-6xl block mb-4",children:""}),I.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Items in Cart"}),I.jsx("p",{className:"text-gray-600",children:"Go to Products page and add items to the cart to create a bill"})]}):I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[I.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[I.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Customer Information"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsx("input",{type:"text",placeholder:"Customer Name (Optional)",value:t,onChange:E=>r(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none"}),I.jsx("input",{type:"tel",placeholder:"Customer Phone (Optional)",value:a,onChange:E=>o(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none"})]})]}),I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[I.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:["Cart Items (",n.length,")"]}),I.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:n.map(E=>{const L=E.selectedPrice||E.price,B=L*E.quantity;let N=0;E.discountType==="percentage"?N=B*E.discountValue/100:E.discountType==="amount"&&(N=E.discountValue*E.quantity);const O=B-N;return I.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:I.jsxs("div",{className:"flex gap-4 mb-3",children:[I.jsx("img",{src:E.imageUrl||Ik,alt:E.name,className:"w-20 h-20 object-contain bg-white rounded-lg border border-gray-200"}),I.jsxs("div",{className:"flex-1",children:[I.jsxs("div",{className:"flex items-start justify-between mb-2",children:[I.jsxs("div",{className:"flex-1",children:[I.jsx("h4",{className:"font-semibold text-gray-800",children:E.name}),I.jsx("p",{className:"text-sm text-gray-500 capitalize",children:E.category}),E.priceType&&I.jsx("span",{className:`inline-block text-xs font-semibold px-2 py-0.5 rounded mt-1 ${E.priceType==="retail"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:E.priceType==="retail"?" Retail":" Wholesale"}),I.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["",L,"  ",E.quantity," = ",B.toFixed(2)]}),N>0&&I.jsxs("p",{className:"text-sm text-amber-600",children:["Discount: -",N.toFixed(2)]})]}),I.jsx("button",{onClick:()=>_(E.id,E.priceType),className:"text-red-500 hover:text-red-700 p-1",title:"Remove item",children:""})]}),I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("button",{onClick:()=>S(E.id,E.quantity-1,E.priceType),className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded flex items-center justify-center font-bold",children:""}),I.jsx("input",{type:"number",value:E.quantity,onChange:P=>S(E.id,parseInt(P.target.value)||1,E.priceType),className:"w-16 text-center border border-gray-300 rounded px-2 py-1",min:"1"}),I.jsx("button",{onClick:()=>S(E.id,E.quantity+1,E.priceType),className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded flex items-center justify-center font-bold",children:"+"})]}),I.jsx("div",{className:"text-right",children:I.jsxs("p",{className:"text-lg font-bold text-indigo-600",children:["",O.toFixed(2)]})})]})]})]})},`${E.id}-${E.priceType}`)})})]})]}),I.jsx("div",{className:"lg:col-span-1",children:I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-6 space-y-4",children:[I.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Bill Summary"}),I.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[I.jsxs("div",{className:"flex justify-between",children:[I.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),I.jsxs("span",{className:"font-semibold",children:["",M.subtotal.toFixed(2)]})]}),M.productDiscount>0&&I.jsxs("div",{className:"flex justify-between text-amber-600",children:[I.jsx("span",{children:"Product Discounts:"}),I.jsxs("span",{className:"font-semibold",children:["-",M.productDiscount.toFixed(2)]})]})]}),I.jsxs("div",{className:"pb-4 border-b",children:[I.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Special Cart Discount"}),I.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[I.jsxs("select",{value:u,onChange:E=>h(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-sm",children:[I.jsx("option",{value:"none",children:"No Discount"}),I.jsx("option",{value:"percentage",children:"Percentage %"}),I.jsx("option",{value:"amount",children:"Amount "})]}),I.jsx("input",{type:"number",value:f,onChange:E=>d(parseFloat(E.target.value)||0),disabled:u==="none",placeholder:"0",min:"0",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-sm disabled:bg-gray-100"})]}),M.cartDiscount>0&&I.jsxs("div",{className:"flex justify-between text-green-600 text-sm font-medium",children:[I.jsx("span",{children:"Cart Discount:"}),I.jsxs("span",{children:["-",M.cartDiscount.toFixed(2)]})]})]}),I.jsxs("div",{className:"space-y-2 pb-4 border-b",children:[M.totalDiscount>0&&I.jsxs("div",{className:"flex justify-between text-amber-600",children:[I.jsx("span",{className:"font-semibold",children:"Total Discount:"}),I.jsxs("span",{className:"font-bold",children:["-",M.totalDiscount.toFixed(2)]})]}),I.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-800 pt-2 border-t-2 border-gray-300",children:[I.jsx("span",{children:"Grand Total:"}),I.jsxs("span",{className:"text-indigo-600",children:["",M.total.toFixed(2)]})]})]}),I.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Received Amount"}),I.jsx("input",{type:"number",step:"0.01",value:v,onChange:E=>{const L=E.target.value;if(L==="")A("");else{const B=parseFloat(L);A(isNaN(B)?"":B)}},placeholder:"0.00",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-sm"})]}),I.jsxs("div",{className:"flex justify-between text-base font-bold",children:[I.jsx("span",{className:"text-gray-700",children:"Balance Due:"}),I.jsxs("span",{className:`${M.total-(Number(v)||0)>0?"text-red-600":"text-green-600"}`,children:["",Math.max(0,M.total-(Number(v)||0)).toFixed(2)]})]}),(Number(v)||0)>M.total&&I.jsxs("div",{className:"flex justify-between text-sm font-semibold text-green-600",children:[I.jsx("span",{children:"Change to Return:"}),I.jsxs("span",{children:["",((Number(v)||0)-M.total).toFixed(2)]})]})]}),I.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[I.jsxs("button",{onClick:se,disabled:n.length===0,className:"w-full py-2.5 bg-amber-600 hover:bg-amber-700 text-white font-medium rounded-lg shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[I.jsx("span",{children:""})," Save as Draft"]}),I.jsxs("button",{onClick:ae,disabled:n.length===0,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[I.jsx("span",{children:""})," Save Billing"]}),I.jsxs("button",{onClick:j,disabled:n.length===0,className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[I.jsx("span",{children:""})," Share on WhatsApp"]}),I.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I.jsxs("button",{onClick:q,disabled:n.length===0,className:"py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-1 text-sm",children:[I.jsx("span",{children:""})," Share"]}),I.jsxs("button",{onClick:ie,disabled:n.length===0,className:"py-2 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white font-medium rounded-lg shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-1 text-sm border border-gray-700",children:[I.jsx("span",{children:""})," Download PDF"]})]}),I.jsx("button",{onClick:Y,disabled:n.length===0,className:"w-full py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear Bill"})]})]})})]})})}const Rw="florale_billing_history";function Rk(){const[n,e]=Kt.useState([]),[t,r]=Kt.useState(null),[a,o]=Kt.useState("");Kt.useEffect(()=>{u()},[]);const u=()=>{try{const A=localStorage.getItem(Rw);e(A?JSON.parse(A):[])}catch(A){console.error("Error loading billing history:",A),e([])}},h=A=>{if(confirm("Are you sure you want to delete this billing record?"))try{const S=n.filter(_=>_.id!==A);localStorage.setItem(Rw,JSON.stringify(S)),e(S),t?.id===A&&r(null),alert(" Billing record deleted")}catch(S){console.error("Error deleting billing:",S),alert(" Failed to delete billing record")}},f=A=>{const S=d(A),M=`https://wa.me/?text=${encodeURIComponent(S)}`;window.open(M,"_blank")},d=A=>{const S=new Date(A.date).toLocaleDateString();let _=`*FLORALE INVOICE*

`;return _+=`Invoice #: ${A.invoiceNumber}
`,_+=`Date: ${S}

`,A.customerName&&(_+=`Customer: ${A.customerName}
`),A.customerPhone&&(_+=`Phone: ${A.customerPhone}
`),_+=`


`,_+=`*ITEMS:*

`,A.products.forEach(M=>{const j=M.price*M.quantity;if(_+=`${M.name}
`,_+=`  ${M.quantity}  ${M.price} = ${j}
`,M.discountType!=="none"&&M.discountValue>0){const q=M.discountType==="percentage"?`${M.discountValue}%`:`${M.discountValue}`;_+=`  Discount: ${q}
`}_+=`
`}),_+=`

`,_+=`Subtotal: ${A.subtotal.toFixed(2)}
`,_+=`Discount: -${A.totalDiscount.toFixed(2)}
`,_+=`*Total: ${A.total.toFixed(2)}*

`,_+=`

`,_+="Thank you for your business! ",_},v=n.filter(A=>{if(!a)return!0;const S=a.toLowerCase();return A.invoiceNumber.toLowerCase().includes(S)||A.customerName.toLowerCase().includes(S)||A.customerPhone.includes(S)});return n.length===0?I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[I.jsx("span",{className:"text-6xl block mb-4",children:""}),I.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Billing History"}),I.jsx("p",{className:"text-gray-600",children:"Saved billings will appear here"})]}):I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[I.jsx("div",{className:"lg:col-span-1",children:I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[I.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Billing History"}),I.jsx("input",{type:"text",placeholder:" Search by invoice, customer...",value:a,onChange:A=>o(A.target.value),className:"w-full px-4 py-2 mb-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-sm"}),I.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:v.length>0?v.map(A=>I.jsxs("div",{onClick:()=>r(A),className:`p-3 border-2 rounded-lg cursor-pointer transition-all ${t?.id===A.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-indigo-300"}`,children:[I.jsxs("div",{className:"flex items-start justify-between mb-1",children:[I.jsxs("div",{className:"flex-1",children:[I.jsx("p",{className:"font-semibold text-sm text-gray-800",children:A.invoiceNumber}),I.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(A.date).toLocaleDateString()," ",new Date(A.date).toLocaleTimeString()]})]}),I.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:["",A.total.toFixed(2)]})]}),A.customerName&&I.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[" ",A.customerName]}),I.jsxs("p",{className:"text-xs text-gray-500",children:[A.products.length," items"]})]},A.id)):I.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No results found"})})]})}),I.jsx("div",{className:"lg:col-span-2",children:t?I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[I.jsxs("div",{className:"flex items-start justify-between mb-6",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"text-xl font-bold text-gray-800",children:t.invoiceNumber}),I.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(t.date).toLocaleDateString()," at"," ",new Date(t.date).toLocaleTimeString()]})]}),I.jsx("button",{onClick:()=>h(t.id),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm",children:" Delete"})]}),(t.customerName||t.customerPhone)&&I.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[I.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Customer Information"}),t.customerName&&I.jsxs("p",{className:"text-sm text-gray-600",children:["Name: ",t.customerName]}),t.customerPhone&&I.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",t.customerPhone]})]}),I.jsxs("div",{className:"mb-6",children:[I.jsx("h4",{className:"font-semibold text-gray-700 mb-3",children:"Items"}),I.jsx("div",{className:"space-y-3",children:t.products.map((A,S)=>{const _=A.price*A.quantity;let M=0;A.discountType==="percentage"?M=_*A.discountValue/100:A.discountType==="amount"&&(M=A.discountValue*A.quantity);const j=_-M;return I.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[I.jsx("div",{className:"flex items-start justify-between mb-2",children:I.jsxs("div",{className:"flex-1",children:[I.jsx("h5",{className:"font-semibold text-sm text-gray-800",children:A.name}),I.jsx("p",{className:"text-xs text-gray-500 capitalize",children:A.category}),I.jsxs("p",{className:"text-xs text-gray-600",children:[A.quantity,"  ",A.price," = ",_.toFixed(2)]})]})}),M>0&&I.jsxs("p",{className:"text-xs text-amber-600",children:["Discount: -",M.toFixed(2)]}),I.jsxs("p",{className:"text-sm font-semibold text-indigo-600 mt-1",children:["Total: ",j.toFixed(2)]})]},S)})})]}),I.jsx("div",{className:"border-t-2 border-gray-200 pt-4 mb-6",children:I.jsxs("div",{className:"space-y-2",children:[I.jsxs("div",{className:"flex justify-between text-sm",children:[I.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),I.jsxs("span",{className:"font-medium",children:["",t.subtotal.toFixed(2)]})]}),I.jsxs("div",{className:"flex justify-between text-sm text-amber-600",children:[I.jsx("span",{children:"Total Discount:"}),I.jsxs("span",{className:"font-medium",children:["-",t.totalDiscount.toFixed(2)]})]}),I.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-800 pt-2 border-t-2 border-gray-300",children:[I.jsx("span",{children:"Final Total:"}),I.jsxs("span",{className:"text-indigo-600",children:["",t.total.toFixed(2)]})]})]})}),I.jsx("div",{className:"space-y-2",children:I.jsxs("button",{onClick:()=>f(t),className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md transition-all flex items-center justify-center gap-2",children:[I.jsx("span",{children:""})," Share on WhatsApp"]})})]}):I.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[I.jsx("span",{className:"text-6xl block mb-4",children:""}),I.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Select a Billing Record"}),I.jsx("p",{className:"text-gray-600",children:"Click on a billing from the list to view details"})]})})]})}const i1="florale_billing_drafts";function Lk({onRestoreDraft:n}){const[e,t]=Kt.useState([]);Kt.useEffect(()=>{r()},[]);const r=()=>{try{const u=localStorage.getItem(i1);t(u?JSON.parse(u):[])}catch(u){console.error("Error loading drafts:",u),t([])}},a=u=>{if(confirm("Delete this draft?"))try{const h=e.filter(f=>f.id!==u);localStorage.setItem(i1,JSON.stringify(h)),t(h),alert(" Draft deleted!")}catch(h){console.error("Error deleting draft:",h),alert(" Failed to delete draft")}},o=u=>{try{const h=e.filter(f=>f.id!==u.id);localStorage.setItem(i1,JSON.stringify(h)),t(h),n&&n(u)}catch(h){console.error("Error restoring draft:",h),alert(" Failed to restore draft")}};return I.jsxs("div",{className:"p-6",children:[I.jsxs("div",{className:"mb-6",children:[I.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Draft Billings"}),I.jsx("p",{className:"text-gray-600",children:"View and restore saved billing drafts"})]}),e.length===0?I.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300",children:[I.jsx("span",{className:"text-6xl mb-4 block",children:""}),I.jsx("p",{className:"text-gray-600 text-lg",children:"No drafts saved yet"}),I.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Save in-progress billings as drafts to come back later"})]}):I.jsx("div",{className:"grid gap-4",children:e.map(u=>{const h=new Date(u.savedAt),f=u.products.reduce((d,v)=>{let A=v.price*v.quantity;return v.discountType==="percentage"?A-=A*v.discountValue/100:v.discountType==="amount"&&(A-=v.discountValue*v.quantity),d+A},0);return I.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 md:p-6 hover:border-amber-400 hover:shadow-lg transition-all",children:I.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[I.jsxs("div",{className:"flex-1",children:[I.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[I.jsx("div",{className:"bg-amber-100 text-amber-700 p-3 rounded-lg",children:I.jsx("span",{className:"text-2xl",children:""})}),I.jsxs("div",{children:[I.jsx("h3",{className:"font-bold text-lg text-gray-900",children:u.customerName||"No customer name"}),u.customerPhone&&I.jsx("p",{className:"text-sm text-gray-500",children:u.customerPhone})]})]}),I.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[I.jsxs("span",{className:"bg-blue-100 text-blue-700 px-3 py-1.5 rounded-lg text-sm font-medium",children:[u.products.length," item",u.products.length!==1?"s":""]}),I.jsxs("span",{className:"bg-green-100 text-green-700 px-3 py-1.5 rounded-lg text-sm font-bold",children:["",f.toFixed(2)]}),I.jsxs("span",{className:"bg-gray-100 text-gray-700 px-3 py-1.5 rounded-lg text-sm",children:[h.toLocaleDateString(),"  ",h.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),I.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[I.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-1",children:"Products:"}),I.jsx("p",{className:"text-sm text-gray-700",children:u.products.map(d=>`${d.name} (${d.quantity})`).join(", ")})]}),u.cartDiscountType!=="none"&&I.jsxs("div",{className:"mt-2 text-sm text-amber-700 bg-amber-50 px-3 py-1 rounded inline-block",children:["Cart Discount: ",u.cartDiscountType==="percentage"?`${u.cartDiscountValue}%`:`${u.cartDiscountValue}`]})]}),I.jsxs("div",{className:"flex lg:flex-col gap-2",children:[I.jsxs("button",{onClick:()=>o(u),className:"flex-1 lg:flex-initial px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-semibold transition-all flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[I.jsx("span",{children:""})," Restore & Continue"]}),I.jsx("button",{onClick:()=>a(u.id),className:"px-4 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-all shadow-md hover:shadow-lg",title:"Delete draft",children:""})]})]})},u.id)})})]})}const Lw="florale_cart";function Dk(){const{user:n,isAuthenticated:e,isLoading:t,signOut:r}=AA(),[a,o]=Kt.useState("products"),[u,h]=Kt.useState(!1),[f,d]=Kt.useState(()=>{try{const S=localStorage.getItem(Lw);return S?JSON.parse(S):[]}catch(S){return console.error("Error loading cart from localStorage:",S),[]}});Kt.useEffect(()=>{try{localStorage.setItem(Lw,JSON.stringify(f))}catch(S){console.error("Error saving cart to localStorage:",S)}},[f]);const v=S=>{const _=f.find(M=>M.id===S.id&&M.priceType===S.priceType);if(_){d(f.map(j=>j.id===S.id&&j.priceType===S.priceType?{...j,quantity:j.quantity+1}:j));const M=S.priceType==="retail"?"Retail":"Wholesale";alert(`Added another ${S.name} (${M}) to cart! (${_.quantity+1} total)`)}else{const M={...S,quantity:S.quantity||1,priceType:S.priceType||"retail",selectedPrice:S.selectedPrice||S.price};d([...f,M]);const j=M.priceType==="retail"?"Retail":"Wholesale";alert(`${S.name} (${j}) added to cart!`)}},A=S=>{f.length>0&&!confirm(" You have items in the current cart. Restoring this draft will replace them. Continue?")||(d(S.products),o("billing"),alert(" Draft restored! Continue billing in the Billing tab."))};return t?I.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 flex items-center justify-center",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-indigo-600 mx-auto mb-4"}),I.jsx("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}):!e||!n?I.jsx(LL,{}):I.jsxs("div",{className:"flex h-screen bg-gray-100 overflow-hidden",children:[I.jsx("button",{onClick:()=>h(!u),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-gradient-to-r from-gray-900 to-black text-white rounded-lg shadow-lg border border-gray-700",children:I.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u?I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),u&&I.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30",onClick:()=>h(!1)}),I.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-40
        w-64 bg-gradient-to-b from-gray-900 via-gray-800 to-black text-white
        flex flex-col shadow-2xl
        transform transition-transform duration-300 ease-in-out
        ${u?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[I.jsxs("div",{className:"p-6 border-b border-white/10",children:[I.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[I.jsx("img",{src:"/Florale Logo-09.png",alt:"Florale Logo",className:"h-10 w-auto object-contain"}),I.jsx("h1",{className:"text-2xl font-bold",children:"Florale"})]}),I.jsx("p",{className:"text-xs text-indigo-200",children:"Management Portal"})]}),I.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[I.jsxs("button",{onClick:()=>{o("dashboard"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${a==="dashboard"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[I.jsx("span",{className:"text-xl",children:""}),I.jsx("span",{children:"Dashboard"})]}),I.jsxs("button",{onClick:()=>{o("products"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${a==="products"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[I.jsx("span",{className:"text-xl",children:""}),I.jsx("span",{children:"All Products"})]}),I.jsxs("button",{onClick:()=>{o("add-product"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${a==="add-product"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[I.jsx("span",{className:"text-xl",style:{color:"#d97706"},children:""}),I.jsx("span",{children:"Add Product"})]}),I.jsxs("button",{onClick:()=>{o("categories"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${a==="categories"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[I.jsx("span",{className:"text-xl",children:""}),I.jsx("span",{children:"Categories"})]}),I.jsxs("button",{onClick:()=>{o("billing"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${a==="billing"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[I.jsx("span",{className:"text-xl",children:""}),I.jsx("span",{children:"Billing"}),f.length>0&&I.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:f.length})]}),I.jsxs("button",{onClick:()=>{o("billing-history"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${a==="billing-history"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[I.jsx("span",{className:"text-xl",children:""}),I.jsx("span",{children:"Billing History"})]}),I.jsxs("button",{onClick:()=>{o("drafts"),h(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-all ${a==="drafts"?"bg-gradient-to-r from-white via-gray-100 to-gray-200 text-gray-900 shadow-lg":"text-white hover:bg-white/10"}`,children:[I.jsx("span",{className:"text-xl",children:""}),I.jsx("span",{children:"Drafts"})]})]}),I.jsxs("div",{className:"p-4 border-t border-white/10",children:[I.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[I.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center font-bold text-white",children:(n.email?.[0]||"A").toUpperCase()}),I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsx("p",{className:"text-sm font-medium truncate",children:n.name||"Admin"}),I.jsx("p",{className:"text-xs text-indigo-200 truncate",children:n.email})]})]}),I.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-white rounded-lg font-medium transition-all text-sm",children:" Sign Out"})]})]}),I.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden lg:ml-0",children:[I.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 lg:px-8 py-4 shadow-sm",children:[I.jsx("div",{className:"flex items-center justify-between mb-3",children:I.jsxs("div",{className:"lg:ml-0 ml-12",children:[I.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:[a==="dashboard"&&" Dashboard",a==="products"&&" All Products",a==="add-product"&&" Add New Product",a==="categories"&&" Category Management",a==="billing"&&" Billing",a==="billing-history"&&" Billing History",a==="drafts"&&" Draft Billings"]}),I.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 hidden sm:block",children:[a==="dashboard"&&"Overview of your business metrics",a==="products"&&"View and manage your product inventory",a==="add-product"&&"Add a new product to your inventory",a==="categories"&&"Organize products with categories",a==="billing"&&"Create and manage invoices",a==="billing-history"&&"View past billing records",a==="drafts"&&"Manage saved billing drafts"]})]})}),a==="products"&&I.jsx("div",{id:"products-search-filter-container",className:"mt-3"})]}),I.jsxs("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 sm:p-6 lg:p-8",children:[a==="products"&&I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("div",{children:I.jsx("p",{className:"text-gray-600",children:"Manage your product inventory"})}),I.jsxs("button",{onClick:()=>o("add-product"),className:"px-6 py-3 bg-gradient-to-r from-gray-900 via-gray-800 to-black hover:from-black hover:via-gray-900 hover:to-gray-800 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all flex items-center gap-2 border border-gray-700 active:scale-95",children:[I.jsx("span",{children:""})," Add New Product"]})]}),I.jsx("div",{className:"bg-white rounded-lg shadow-md",children:I.jsx(ML,{onAddToCart:v})})]}),a==="add-product"&&I.jsx("div",{className:"max-w-4xl mx-auto",children:I.jsx("div",{className:"bg-white rounded-lg shadow-md p-8",children:I.jsx(kL,{onSuccess:()=>o("products")})})}),a==="categories"&&I.jsx("div",{className:"max-w-6xl mx-auto",children:I.jsx("div",{className:"bg-white rounded-lg shadow-md p-8",children:I.jsx(jL,{})})}),a==="billing"&&I.jsx(Ck,{selectedProducts:f,setSelectedProducts:d}),a==="billing-history"&&I.jsx(Rk,{}),a==="drafts"&&I.jsx(Lk,{onRestoreDraft:A}),a==="dashboard"&&I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-gray-800 to-black rounded-lg shadow-xl p-8 text-white border border-gray-700",children:[I.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",n.name||"Admin","! "]}),I.jsx("p",{className:"text-gray-300",children:"Here's what's happening with your store today"})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Quick Actions"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[I.jsxs("button",{onClick:()=>o("products"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-indigo-500 text-left group",children:[I.jsxs("div",{className:"flex items-start justify-between mb-4",children:[I.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),I.jsx("span",{className:"text-gray-400 group-hover:text-indigo-600",children:""})]}),I.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"All Products"}),I.jsx("p",{className:"text-sm text-gray-600",children:"View and manage your inventory"})]}),I.jsxs("button",{onClick:()=>o("add-product"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-yellow-500 text-left group",children:[I.jsxs("div",{className:"flex items-start justify-between mb-4",children:[I.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),I.jsx("span",{className:"text-gray-400 group-hover:text-yellow-600",children:""})]}),I.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Add Product"}),I.jsx("p",{className:"text-sm text-gray-600",children:"Add new items to your store"})]}),I.jsxs("button",{onClick:()=>o("categories"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-purple-500 text-left group",children:[I.jsxs("div",{className:"flex items-start justify-between mb-4",children:[I.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),I.jsx("span",{className:"text-gray-400 group-hover:text-purple-600",children:""})]}),I.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Categories"}),I.jsx("p",{className:"text-sm text-gray-600",children:"Organize your products"})]}),I.jsxs("button",{onClick:()=>o("billing"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-green-500 text-left group",children:[I.jsxs("div",{className:"flex items-start justify-between mb-4",children:[I.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),I.jsx("span",{className:"text-gray-400 group-hover:text-green-600",children:""})]}),I.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Create Bill"}),I.jsx("p",{className:"text-sm text-gray-600",children:"Generate new invoices"}),f.length>0&&I.jsx("div",{className:"mt-2",children:I.jsxs("span",{className:"inline-block bg-red-100 text-red-600 text-xs font-bold px-2 py-1 rounded-full",children:[f.length," items in cart"]})})]}),I.jsxs("button",{onClick:()=>o("billing-history"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-indigo-500 text-left group",children:[I.jsxs("div",{className:"flex items-start justify-between mb-4",children:[I.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),I.jsx("span",{className:"text-gray-400 group-hover:text-indigo-600",children:""})]}),I.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Billing History"}),I.jsx("p",{className:"text-sm text-gray-600",children:"View past invoices"})]}),I.jsxs("button",{onClick:()=>o("drafts"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all border-2 border-transparent hover:border-amber-500 text-left group",children:[I.jsxs("div",{className:"flex items-start justify-between mb-4",children:[I.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),I.jsx("span",{className:"text-gray-400 group-hover:text-amber-600",children:""})]}),I.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"Draft Billings"}),I.jsx("p",{className:"text-sm text-gray-600",children:"Resume saved drafts"})]})]})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Overview"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Cart Items"}),I.jsx("p",{className:"text-2xl font-bold text-gray-800",children:f.length})]}),I.jsx("div",{className:"text-4xl",children:""})]})}),I.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"User"}),I.jsx("p",{className:"text-lg font-bold text-gray-800 truncate",children:n.email})]}),I.jsx("div",{className:"text-4xl",children:""})]})})]})]})]})]})]})]})}RE.createRoot(document.getElementById("root")).render(I.jsx(Kt.StrictMode,{children:I.jsx(Dk,{})}));export{Qn as _,kk as c,wE as g};
